"use strict";(self.webpackChunkassc_crs=self.webpackChunkassc_crs||[]).push([[5740],{1160:function(e,t,i){i.r(t),i.d(t,{DW_IFRAME_FINEREPORT_ROUTES:function(){return d},DwFinereportModule:function(){return h},DwIframeFinereportComponent:function(){return f},DwIframeFinereportRoutingModule:function(){return b}});var r=i(42746),n=i(55245),s=i(87974),o=i(71049),a=i(47372),c=i(30469),u=i(50437),p=i(61699);function m(e,t){if(1&e&&r.\u0275\u0275element(0,"dw-base-iframe",1),2&e){const e=r.\u0275\u0275nextContext();r.\u0275\u0275property("item",e.item)("itemObserve",e.itemRxjsBehavior)}}let f=(()=>{class e{constructor(e,t,i,r){this.router=e,this.activatedRoute=t,this.iframeFinereportInfoService=i,this.usingTab=r,this.item={url:"",type:"fineReport"},this.itemRxjsBehavior=new o.BehaviorSubject(null)}ngOnInit(){if(!this.usingTab){let e=!1;this.initSubscription=this.activatedRoute.paramMap.pipe((0,a.switchMap)(e=>this.activatedRoute.queryParamMap,(e,t)=>({routeParam:e,queryParam:t}))).subscribe(t=>{e||(e=!0,this.setIframe(t.routeParam,t.queryParam.params)),this.initSubscription&&this.initSubscription.unsubscribe()}),this.changeSubscription=this.router.events.pipe((0,a.filter)(e=>e instanceof s.NavigationEnd),(0,a.withLatestFrom)(this.activatedRoute.paramMap,this.activatedRoute.queryParamMap)).subscribe(([e,t,i])=>{this.setIframe(t,i.params)})}}ngOnDestroy(){this.initSubscription&&this.initSubscription.unsubscribe(),this.changeSubscription&&this.changeSubscription.unsubscribe()}setIframe(e,t){const i=e.get("programId");i&&this.iframeFinereportInfoService.finereportInfo(i,t).subscribe(e=>{this.item=e,this.itemRxjsBehavior.next(this.item)},e=>{console.log(e)})}}return e.\u0275fac=function(t){return new(t||e)(r.\u0275\u0275directiveInject(s.Router),r.\u0275\u0275directiveInject(s.ActivatedRoute),r.\u0275\u0275directiveInject(u.DwIframeFinereportInfoService),r.\u0275\u0275directiveInject(c.DW_USING_TAB))},e.\u0275cmp=r.\u0275\u0275defineComponent({type:e,selectors:[["dw-iframe-finereport"]],decls:1,vars:1,consts:[[3,"item","itemObserve",4,"ngIf"],[3,"item","itemObserve"]],template:function(e,t){1&e&&r.\u0275\u0275template(0,m,1,2,"dw-base-iframe",0),2&e&&r.\u0275\u0275property("ngIf",!t.usingTab)},directives:[n.NgIf,p.DwBaseIframeComponent],styles:["[_nghost-%COMP%]{height:100%;width:100%}"]}),e})(),h=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=r.\u0275\u0275defineInjector({imports:[[n.CommonModule,p.DwBaseIframeModule]]}),e})();const d=s.RouterModule.forChild([{path:"",pathMatch:"prefix",component:f}]);let b=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=r.\u0275\u0275defineInjector({imports:[[d],s.RouterModule]}),e})()}}]);