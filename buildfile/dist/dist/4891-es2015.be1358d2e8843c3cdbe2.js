"use strict";(self.webpackChunkassc_crs=self.webpackChunkassc_crs||[]).push([[4891],{8852:function(e,t,r){r.d(t,{u:function(){return o},f:function(){return a}});var n=r(36535),i=r(42746);let o=(()=>{class e{constructor(e,t){this.elementRef=e,this.renderer=t,this.hidden=null,this.renderer.setAttribute(this.elementRef.nativeElement,"hidden","")}setHiddenAttribute(){this.hidden?this.renderer.setAttribute(this.elementRef.nativeElement,"hidden","string"==typeof this.hidden?this.hidden:""):this.renderer.removeAttribute(this.elementRef.nativeElement,"hidden")}ngOnChanges(){this.setHiddenAttribute()}ngAfterViewInit(){this.setHiddenAttribute()}}return e.\u0275fac=function(t){return new(t||e)(i.\u0275\u0275directiveInject(i.ElementRef),i.\u0275\u0275directiveInject(i.Renderer2))},e.\u0275dir=i.\u0275\u0275defineDirective({type:e,selectors:[["","dw-button",""],["dw-button-group"],["","dw-icon",""],["","dw-menu-item",""],["","dw-submenu",""],["dw-select-top-control"],["dw-select-placeholder"],["dw-input-group"]],inputs:{hidden:"hidden"},features:[i.\u0275\u0275NgOnChangesFeature]}),e})(),a=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=i.\u0275\u0275defineInjector({imports:[[n.PlatformModule]]}),e})()},96670:function(e,t,r){r.d(t,{uG:function(){return l},ln:function(){return c}});var n=r(36535),i=r(42746),o=r(88065);class a{constructor(e,t,r,i){this.triggerElement=e,this.ngZone=t,this.insertExtraNode=r,this.platformId=i,this.waveTransitionDuration=400,this.styleForPseudo=null,this.extraNode=null,this.lastTime=0,this.onClick=e=>{!this.triggerElement||!this.triggerElement.getAttribute||this.triggerElement.getAttribute("disabled")||"INPUT"===e.target.tagName||this.triggerElement.className.indexOf("disabled")>=0||this.fadeOutWave()},this.platform=new n.Platform(this.platformId),this.clickHandler=this.onClick.bind(this),this.bindTriggerEvent()}get waveAttributeName(){return this.insertExtraNode?"ant-click-animating":"ant-click-animating-without-extra-node"}bindTriggerEvent(){this.platform.isBrowser&&this.ngZone.runOutsideAngular(()=>{this.removeTriggerEvent(),this.triggerElement&&this.triggerElement.addEventListener("click",this.clickHandler,!0)})}removeTriggerEvent(){this.triggerElement&&this.triggerElement.removeEventListener("click",this.clickHandler,!0)}removeStyleAndExtraNode(){this.styleForPseudo&&document.body.contains(this.styleForPseudo)&&(document.body.removeChild(this.styleForPseudo),this.styleForPseudo=null),this.insertExtraNode&&this.triggerElement.contains(this.extraNode)&&this.triggerElement.removeChild(this.extraNode)}destroy(){this.removeTriggerEvent(),this.removeStyleAndExtraNode()}fadeOutWave(){const e=this.triggerElement,t=this.getWaveColor(e);e.setAttribute(this.waveAttributeName,"true"),!(Date.now()<this.lastTime+this.waveTransitionDuration)&&(this.isValidColor(t)&&(this.styleForPseudo||(this.styleForPseudo=document.createElement("style")),this.styleForPseudo.innerHTML=`\n      [ant-click-animating-without-extra-node='true']::after, .ant-click-animating-node {\n        --antd-wave-shadow-color: ${t};\n      }`,document.body.appendChild(this.styleForPseudo)),this.insertExtraNode&&(this.extraNode||(this.extraNode=document.createElement("div")),this.extraNode.className="ant-click-animating-node",e.appendChild(this.extraNode)),this.lastTime=Date.now(),this.runTimeoutOutsideZone(()=>{e.removeAttribute(this.waveAttributeName),this.removeStyleAndExtraNode()},this.waveTransitionDuration))}isValidColor(e){return!!e&&"#ffffff"!==e&&"rgb(255, 255, 255)"!==e&&this.isNotGrey(e)&&!/rgba\(\d*, \d*, \d*, 0\)/.test(e)&&"transparent"!==e}isNotGrey(e){const t=e.match(/rgba?\((\d*), (\d*), (\d*)(, [\.\d]*)?\)/);return!(t&&t[1]&&t[2]&&t[3]&&t[1]===t[2]&&t[2]===t[3])}getWaveColor(e){const t=getComputedStyle(e);return t.getPropertyValue("border-top-color")||t.getPropertyValue("border-color")||t.getPropertyValue("background-color")}runTimeoutOutsideZone(e,t){this.ngZone.runOutsideAngular(()=>setTimeout(e,t))}}const d={disabled:!1},s=new i.InjectionToken("dw-wave-global-options",{providedIn:"root",factory:function(){return d}});let l=(()=>{class e{constructor(e,t,r,n,i){this.ngZone=e,this.elementRef=t,this.config=r,this.animationType=n,this.platformId=i,this.dwWaveExtraNode=!1,this.waveDisabled=!1,this.waveDisabled=this.isConfigDisabled()}get disabled(){return this.waveDisabled}get rendererRef(){return this.waveRenderer}isConfigDisabled(){let e=!1;return this.config&&"boolean"==typeof this.config.disabled&&(e=this.config.disabled),"NoopAnimations"===this.animationType&&(e=!0),e}ngOnDestroy(){this.waveRenderer&&this.waveRenderer.destroy()}ngOnInit(){this.renderWaveIfEnabled()}renderWaveIfEnabled(){!this.waveDisabled&&this.elementRef.nativeElement&&(this.waveRenderer=new a(this.elementRef.nativeElement,this.ngZone,this.dwWaveExtraNode,this.platformId))}disable(){this.waveDisabled=!0,this.waveRenderer&&(this.waveRenderer.removeTriggerEvent(),this.waveRenderer.removeStyleAndExtraNode())}enable(){this.waveDisabled=this.isConfigDisabled()||!1,this.waveRenderer&&this.waveRenderer.bindTriggerEvent()}}return e.\u0275fac=function(t){return new(t||e)(i.\u0275\u0275directiveInject(i.NgZone),i.\u0275\u0275directiveInject(i.ElementRef),i.\u0275\u0275directiveInject(s,8),i.\u0275\u0275directiveInject(o.ANIMATION_MODULE_TYPE,8),i.\u0275\u0275directiveInject(i.PLATFORM_ID))},e.\u0275dir=i.\u0275\u0275defineDirective({type:e,selectors:[["","dw-wave",""],["button","dw-button","",3,"dwType","link",3,"dwType","text"]],inputs:{dwWaveExtraNode:"dwWaveExtraNode"},exportAs:["dwWave"]}),e})(),c=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=i.\u0275\u0275defineInjector({imports:[[n.PlatformModule]]}),e})()},84891:function(e,t,r){r.r(t),r.d(t,{SimulationDataCleanModule:function(){return k}});var n=r(55245),i=r(23938),o=r(87974),a=r(1020),d=r(66800),s=r(83237),l=r(31441),c=r(51156),m=r(42746);let u=(()=>{class e{constructor(e,t){this.datePipe=e,this.http=t}dataClean(e){return e.date=this.datePipe.transform(e.date,"yyyy-MM-dd"),this.http.delete("restful/service/dataClear/DataClear/SimulateData",{body:e})}}return e.\u0275fac=function(t){return new(t||e)(m.\u0275\u0275inject(n.DatePipe),m.\u0275\u0275inject(c.DwDapHttpClient))},e.\u0275prov=m.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var h=r(80677),w=r(80419),f=r(85773),p=r(29872),v=r(41937),g=r(74591),b=r(93761),y=r(96670),E=r(8852),S=r(17494),D=r(83522);let x=(()=>{class e{constructor(e,t,r,n,i){this.userService=e,this.fb=t,this.dataCleanSrv=r,this.dwModalService=n,this.message=i,this.userInfo={tenantId:"",userId:""},this.form=this.fb.group({expiry_date:["",a.Validators.required],order:[!1],part:[!1],inventory:[!1],pick:[!1],ret:[!1],announcement:[!1],faq:[!1],satisfaction:[!1]})}ngOnInit(){this.userInfo=this.userService.getUserInfo()}clean(){const e=this.form.value;let t=!1;const r=[];for(const n in e)"expiry_date"!==n&&!0===e[n]&&(t=!0,r.push(n));t?this.dwModalService.confirm({dwTitle:"\u6570\u636e\u4e00\u65e6\u5220\u9664\uff0c\u5c06\u65e0\u6cd5\u6062\u590d\uff0c\u8bf7\u518d\u6b21\u786e\u8ba4\uff01",dwIconType:"exclamation-circle",dwOnOk:()=>{this.dataCleanSrv.dataClean({date:e.expiry_date,options:r}).subscribe(e=>{this.message.create("success","\u6570\u636e\u5220\u9664\u6210\u529f\uff01")},e=>{e.hasOwnProperty("error")&&e.error.hasOwnProperty("errorMessage")&&e.error.errorMessage&&this.message.error(e.error.errorMessage)})}}):this.message.create("error","\u8bf7\u9009\u62e9\u8981\u6e05\u7406\u7684\u6a21\u5757\uff01")}}return e.\u0275fac=function(t){return new(t||e)(m.\u0275\u0275directiveInject(d.DwUserService),m.\u0275\u0275directiveInject(a.FormBuilder),m.\u0275\u0275directiveInject(u),m.\u0275\u0275directiveInject(l.DwModalService),m.\u0275\u0275directiveInject(s.DwMessageService))},e.\u0275cmp=m.\u0275\u0275defineComponent({type:e,selectors:[["app-simulation-data-clean"]],decls:49,vars:24,consts:[[1,"dw-f-content-list","layoutClass","sales_layout"],[1,"issue_layout_head"],[1,"issue_layout_title"],[2,"margin-left","3px"],[1,"content-box"],[1,"data-box"],[1,"tip"],["dw-form","",3,"formGroup"],["dwRequired","",3,"dwSm","dwXs"],[3,"dwSpan"],["formControlName","expiry_date"],[3,"dwSm","dwXs"],["dw-checkbox","","formControlName","order"],["dw-checkbox","","formControlName","part"],["dw-checkbox","","formControlName","inventory"],["dw-checkbox","","formControlName","pick"],["dw-checkbox","","formControlName","ret"],["dw-checkbox","","formControlName","announcement"],["dw-checkbox","","formControlName","faq"],["dw-checkbox","","formControlName","satisfaction"],[2,"float","left"],["dw-button","","type","button","angularticsAction","\u70b9\u51fb\u6267\u884c\u6e05\u7406","dw-analyticsOn","click","type","button",3,"disabled","dwType","angularticsCategory","angularticsLabel","click"],["translate",""]],template:function(e,t){1&e&&(m.\u0275\u0275elementStart(0,"dw-content",0),m.\u0275\u0275elementStart(1,"div",1),m.\u0275\u0275elementStart(2,"h2",2),m.\u0275\u0275elementStart(3,"span",3),m.\u0275\u0275text(4,"\u6570\u636e\u6e05\u7406"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275element(5,"dw-divider"),m.\u0275\u0275elementStart(6,"div",4),m.\u0275\u0275elementStart(7,"div",5),m.\u0275\u0275elementStart(8,"div",6),m.\u0275\u0275text(9,"\u672c\u4f5c\u4e1a\u4ec5\u63d0\u4f9b\u7ed9\u987e\u95ee\u6e05\u7406\u5ba2\u6237\u6a21\u62df\u6570\u636e\u4f7f\u7528\uff0c\u64cd\u4f5c\u6267\u884c\u540e\uff0c\u6570\u636e\u5c06\u88ab\u5220\u9664\u65e0\u6cd5\u6062\u590d\uff0c\u8bf7\u8c28\u614e\u4f7f\u7528\uff01"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(10,"form",7),m.\u0275\u0275elementStart(11,"dw-form-item"),m.\u0275\u0275elementStart(12,"dw-form-label",8),m.\u0275\u0275text(13,"\u8bf7\u9009\u62e9\u622a\u6b62\u65e5\u671f"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(14,"dw-form-control",9),m.\u0275\u0275element(15,"dw-date-picker",10),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(16,"dw-form-item"),m.\u0275\u0275elementStart(17,"dw-form-control",11),m.\u0275\u0275elementStart(18,"label",12),m.\u0275\u0275text(19,"\u670d\u52a1\u5de5\u5355\uff08\u5c06\u540c\u6b65\u5220\u9664\u76f8\u5173\u5355\u636e\uff1a\u62a5\u4ef7\u5355\u3001\u914d\u4ef6\u5355\u636e\u3001\u7ed3\u7b97\u5355\uff09"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(20,"dw-form-item"),m.\u0275\u0275elementStart(21,"dw-form-control",11),m.\u0275\u0275elementStart(22,"label",13),m.\u0275\u0275text(23,"\u5907\u4ef6\u7533\u8bf7\u3001\u53d1\u8d27\u3001\u6536\u8d27"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(24,"dw-form-control",11),m.\u0275\u0275elementStart(25,"label",14),m.\u0275\u0275text(26,"\u7ad9\u70b9\u5e93\u5b58"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(27,"dw-form-item"),m.\u0275\u0275elementStart(28,"dw-form-control",11),m.\u0275\u0275elementStart(29,"label",15),m.\u0275\u0275text(30,"\u9886\u6599\u5355"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(31,"dw-form-control",11),m.\u0275\u0275elementStart(32,"label",16),m.\u0275\u0275text(33,"\u9000\u6599\u5355"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(34,"dw-form-item"),m.\u0275\u0275elementStart(35,"dw-form-control",11),m.\u0275\u0275elementStart(36,"label",17),m.\u0275\u0275text(37,"\u516c\u544a"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(38,"dw-form-control",11),m.\u0275\u0275elementStart(39,"label",18),m.\u0275\u0275text(40,"\u5e38\u89c1\u95ee\u9898\u5bf9\u7b56"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(41,"dw-form-item"),m.\u0275\u0275elementStart(42,"dw-form-control",11),m.\u0275\u0275elementStart(43,"label",19),m.\u0275\u0275text(44,"\u6ee1\u610f\u5ea6\u8c03\u67e5\u8868"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(45,"div",20),m.\u0275\u0275elementStart(46,"button",21),m.\u0275\u0275listener("click",function(){return t.clean()}),m.\u0275\u0275elementStart(47,"span",22),m.\u0275\u0275text(48,"\u6267\u884c\u6e05\u7406"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd()),2&e&&(m.\u0275\u0275advance(10),m.\u0275\u0275property("formGroup",t.form),m.\u0275\u0275advance(2),m.\u0275\u0275property("dwSm",6)("dwXs",24),m.\u0275\u0275advance(2),m.\u0275\u0275property("dwSpan",18),m.\u0275\u0275advance(3),m.\u0275\u0275property("dwSm",24)("dwXs",24),m.\u0275\u0275advance(4),m.\u0275\u0275property("dwSm",12)("dwXs",24),m.\u0275\u0275advance(3),m.\u0275\u0275property("dwSm",12)("dwXs",24),m.\u0275\u0275advance(4),m.\u0275\u0275property("dwSm",12)("dwXs",24),m.\u0275\u0275advance(3),m.\u0275\u0275property("dwSm",12)("dwXs",24),m.\u0275\u0275advance(4),m.\u0275\u0275property("dwSm",12)("dwXs",24),m.\u0275\u0275advance(3),m.\u0275\u0275property("dwSm",12)("dwXs",24),m.\u0275\u0275advance(4),m.\u0275\u0275property("dwSm",12)("dwXs",24),m.\u0275\u0275advance(4),m.\u0275\u0275propertyInterpolate("angularticsLabel",t.userInfo.tenantId+","+t.userInfo.userId),m.\u0275\u0275property("disabled",!t.form.valid)("dwType","primary")("angularticsCategory","\u6570\u636e\u6e05\u7406"))},directives:[h.DwContentComponent,w.DwDividerComponent,a.\u0275NgNoValidate,a.NgControlStatusGroup,f.DwFormDirective,a.FormGroupDirective,p.DwRowDirective,f.DwFormItemComponent,p.DwColDirective,f.DwFormLabelComponent,f.DwFormControlComponent,v.DwDatePickerComponent,a.NgControlStatus,a.FormControlName,g.DwCheckboxComponent,b.DwButtonComponent,y.uG,E.u,S.DwAnalyticsOn,D.TranslateDirective],styles:[".data-box[_ngcontent-%COMP%]{width:460px}.data-box[_ngcontent-%COMP%]   .tip[_ngcontent-%COMP%]{color:red;margin-bottom:16px}"]}),e})();var C=r(32276),I=r(51033);const N=[{path:"",pathMatch:"prefix",canActivate:[C.DwAuthGuardService,I.L],data:{dwRouteData:{programId:"simulation-data-clean",dwAuthId:"simulation-data-clean"}},component:x}];let M=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=m.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=m.\u0275\u0275defineInjector({imports:[[o.RouterModule.forChild(N)],o.RouterModule]}),e})(),k=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=m.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=m.\u0275\u0275defineInjector({imports:[[i.m,n.CommonModule,M,l.DwModalModule,s.DwMessageModule,b.DwButtonModule,h.DwLayoutModule,v.DwDatePickerModule,w.DwDividerModule,f.DwFormModule,g.DwCheckboxModule,a.ReactiveFormsModule,D.TranslateModule]]}),e})()},51033:function(e,t,r){r.d(t,{L:function(){return c}}),r(87974);var n=r(32276),i=r(51156),o=r(66800),a=r(83237),d=r(31441),s=r(71049),l=r(42746);let c=(()=>{class e{constructor(e,t,r,n,i){this.http=e,this.authService=t,this.userService=r,this.message=n,this.modalService=i,this.uerId=""}canLoad(e){return!0}canActivateChild(e,t){return!0}canActivate(e,t){return new s.Observable(e=>{this.uerId=this.userService.getUser("userId"),this.uerId?this.http.get(`restful/service/employee/Employee/ValidateIamUser?userId=${this.uerId}`).subscribe(t=>{t.success?(sessionStorage.setItem("employeeInfo",JSON.stringify(t.data?t.data.data:{})),e.next(!0)):(this.modalService.warning({dwTitle:"\u63d0\u793a",dwContent:t.data,dwWidth:"400px",dwOnOk:()=>{this.authService.logout(),window.location.reload()}}),e.next(!1))},t=>{console.log(t),t.hasOwnProperty("error")&&t.error.hasOwnProperty("errorMessage")&&t.error.errorMessage&&this.message.error(t.error.errorMessage),e.next(!1)}):e.next(!0)})}}return e.\u0275fac=function(t){return new(t||e)(l.\u0275\u0275inject(i.DwDapHttpClient),l.\u0275\u0275inject(n.DwAuthService),l.\u0275\u0275inject(o.DwUserService),l.\u0275\u0275inject(a.DwMessageService),l.\u0275\u0275inject(d.DwModalService))},e.\u0275prov=l.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()}}]);