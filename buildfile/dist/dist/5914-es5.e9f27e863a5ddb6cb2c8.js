!function(){"use strict";function e(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||n(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=n(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var a=0,i=function(){};return{s:i,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return l=e.done,e},e:function(e){s=!0,o=e},f:function(){try{l||null==r.return||r.return()}finally{if(s)throw o}}}}function n(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){return(a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function i(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var a=l(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return o(this,n)}}function o(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(self.webpackChunkassc_crs=self.webpackChunkassc_crs||[]).push([[5914],{8852:function(e,t,n){n.d(t,{u:function(){return o},f:function(){return l}});var r,a=n(36535),i=n(42746),o=((r=function(){function e(t,n){s(this,e),this.elementRef=t,this.renderer=n,this.hidden=null,this.renderer.setAttribute(this.elementRef.nativeElement,"hidden","")}return c(e,[{key:"setHiddenAttribute",value:function(){this.hidden?this.renderer.setAttribute(this.elementRef.nativeElement,"hidden","string"==typeof this.hidden?this.hidden:""):this.renderer.removeAttribute(this.elementRef.nativeElement,"hidden")}},{key:"ngOnChanges",value:function(){this.setHiddenAttribute()}},{key:"ngAfterViewInit",value:function(){this.setHiddenAttribute()}}]),e}()).\u0275fac=function(e){return new(e||r)(i.\u0275\u0275directiveInject(i.ElementRef),i.\u0275\u0275directiveInject(i.Renderer2))},r.\u0275dir=i.\u0275\u0275defineDirective({type:r,selectors:[["","dw-button",""],["dw-button-group"],["","dw-icon",""],["","dw-menu-item",""],["","dw-submenu",""],["dw-select-top-control"],["dw-select-placeholder"],["dw-input-group"]],inputs:{hidden:"hidden"},features:[i.\u0275\u0275NgOnChangesFeature]}),r),l=function(){var e=c(function e(){s(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=i.\u0275\u0275defineInjector({imports:[[a.PlatformModule]]}),e}()},96670:function(e,t,n){n.d(t,{uG:function(){return m},ln:function(){return p}});var r,a=n(36535),i=n(42746),o=n(88065),l=function(){function e(t,n,r,i){var o=this;s(this,e),this.triggerElement=t,this.ngZone=n,this.insertExtraNode=r,this.platformId=i,this.waveTransitionDuration=400,this.styleForPseudo=null,this.extraNode=null,this.lastTime=0,this.onClick=function(e){!o.triggerElement||!o.triggerElement.getAttribute||o.triggerElement.getAttribute("disabled")||"INPUT"===e.target.tagName||o.triggerElement.className.indexOf("disabled")>=0||o.fadeOutWave()},this.platform=new a.Platform(this.platformId),this.clickHandler=this.onClick.bind(this),this.bindTriggerEvent()}return c(e,[{key:"waveAttributeName",get:function(){return this.insertExtraNode?"ant-click-animating":"ant-click-animating-without-extra-node"}},{key:"bindTriggerEvent",value:function(){var e=this;this.platform.isBrowser&&this.ngZone.runOutsideAngular(function(){e.removeTriggerEvent(),e.triggerElement&&e.triggerElement.addEventListener("click",e.clickHandler,!0)})}},{key:"removeTriggerEvent",value:function(){this.triggerElement&&this.triggerElement.removeEventListener("click",this.clickHandler,!0)}},{key:"removeStyleAndExtraNode",value:function(){this.styleForPseudo&&document.body.contains(this.styleForPseudo)&&(document.body.removeChild(this.styleForPseudo),this.styleForPseudo=null),this.insertExtraNode&&this.triggerElement.contains(this.extraNode)&&this.triggerElement.removeChild(this.extraNode)}},{key:"destroy",value:function(){this.removeTriggerEvent(),this.removeStyleAndExtraNode()}},{key:"fadeOutWave",value:function(){var e=this,t=this.triggerElement,n=this.getWaveColor(t);t.setAttribute(this.waveAttributeName,"true"),!(Date.now()<this.lastTime+this.waveTransitionDuration)&&(this.isValidColor(n)&&(this.styleForPseudo||(this.styleForPseudo=document.createElement("style")),this.styleForPseudo.innerHTML="\n      [ant-click-animating-without-extra-node='true']::after, .ant-click-animating-node {\n        --antd-wave-shadow-color: ".concat(n,";\n      }"),document.body.appendChild(this.styleForPseudo)),this.insertExtraNode&&(this.extraNode||(this.extraNode=document.createElement("div")),this.extraNode.className="ant-click-animating-node",t.appendChild(this.extraNode)),this.lastTime=Date.now(),this.runTimeoutOutsideZone(function(){t.removeAttribute(e.waveAttributeName),e.removeStyleAndExtraNode()},this.waveTransitionDuration))}},{key:"isValidColor",value:function(e){return!!e&&"#ffffff"!==e&&"rgb(255, 255, 255)"!==e&&this.isNotGrey(e)&&!/rgba\(\d*, \d*, \d*, 0\)/.test(e)&&"transparent"!==e}},{key:"isNotGrey",value:function(e){var t=e.match(/rgba?\((\d*), (\d*), (\d*)(, [\.\d]*)?\)/);return!(t&&t[1]&&t[2]&&t[3]&&t[1]===t[2]&&t[2]===t[3])}},{key:"getWaveColor",value:function(e){var t=getComputedStyle(e);return t.getPropertyValue("border-top-color")||t.getPropertyValue("border-color")||t.getPropertyValue("background-color")}},{key:"runTimeoutOutsideZone",value:function(e,t){this.ngZone.runOutsideAngular(function(){return setTimeout(e,t)})}}]),e}(),d={disabled:!1},u=new i.InjectionToken("dw-wave-global-options",{providedIn:"root",factory:function(){return d}}),m=((r=function(){function e(t,n,r,a,i){s(this,e),this.ngZone=t,this.elementRef=n,this.config=r,this.animationType=a,this.platformId=i,this.dwWaveExtraNode=!1,this.waveDisabled=!1,this.waveDisabled=this.isConfigDisabled()}return c(e,[{key:"disabled",get:function(){return this.waveDisabled}},{key:"rendererRef",get:function(){return this.waveRenderer}},{key:"isConfigDisabled",value:function(){var e=!1;return this.config&&"boolean"==typeof this.config.disabled&&(e=this.config.disabled),"NoopAnimations"===this.animationType&&(e=!0),e}},{key:"ngOnDestroy",value:function(){this.waveRenderer&&this.waveRenderer.destroy()}},{key:"ngOnInit",value:function(){this.renderWaveIfEnabled()}},{key:"renderWaveIfEnabled",value:function(){!this.waveDisabled&&this.elementRef.nativeElement&&(this.waveRenderer=new l(this.elementRef.nativeElement,this.ngZone,this.dwWaveExtraNode,this.platformId))}},{key:"disable",value:function(){this.waveDisabled=!0,this.waveRenderer&&(this.waveRenderer.removeTriggerEvent(),this.waveRenderer.removeStyleAndExtraNode())}},{key:"enable",value:function(){this.waveDisabled=this.isConfigDisabled()||!1,this.waveRenderer&&this.waveRenderer.bindTriggerEvent()}}]),e}()).\u0275fac=function(e){return new(e||r)(i.\u0275\u0275directiveInject(i.NgZone),i.\u0275\u0275directiveInject(i.ElementRef),i.\u0275\u0275directiveInject(u,8),i.\u0275\u0275directiveInject(o.ANIMATION_MODULE_TYPE,8),i.\u0275\u0275directiveInject(i.PLATFORM_ID))},r.\u0275dir=i.\u0275\u0275defineDirective({type:r,selectors:[["","dw-wave",""],["button","dw-button","",3,"dwType","link",3,"dwType","text"]],inputs:{dwWaveExtraNode:"dwWaveExtraNode"},exportAs:["dwWave"]}),r),p=function(){var e=c(function e(){s(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=i.\u0275\u0275defineInjector({imports:[[a.PlatformModule]]}),e}()},55914:function(e,n,r){r.r(n),r.d(n,{EngineerAttendanceStatisticsModule:function(){return oe}});var o,l=r(55245),d=r(87974),u=r(32276),m=r(42746),p=((o=function(){function e(){s(this,e)}return c(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||o)},o.\u0275cmp=m.\u0275\u0275defineComponent({type:o,selectors:[["app-engineer-attendance-statistics"]],decls:1,vars:0,template:function(e,t){1&e&&m.\u0275\u0275element(0,"router-outlet")},directives:[d.RouterOutlet],styles:[""]}),o),h=r(83237),f=r(1020),g=r(51156),v=function(){var e=function(){function e(t,n){s(this,e),this.dapHttp=t,this.datePipe=n}return c(e,[{key:"getList",value:function(e){var t=encodeURIComponent(JSON.stringify(e));return this.dapHttp.get("restful/service/employee/Employee/EngineerAttendanceSummaryList?params=".concat(t))}},{key:"getListDetail",value:function(e){var t=encodeURIComponent(JSON.stringify(e));return this.dapHttp.get("restful/service/employee/Employee/EngineerAttendanceDetailsList?params=".concat(t))}},{key:"getCurrentServiceSiteInfo",value:function(){return this.dapHttp.get("restful/service/serviceSite/ServiceSite/UserSite")}},{key:"getDataGroupServiceSites",value:function(){return this.dapHttp.get("restful/service/autoSettings/DataGroup/DataGroupServiceSites")}}]),e}();return e.\u0275fac=function(t){return new(t||e)(m.\u0275\u0275inject(g.DwDapHttpClient),m.\u0275\u0275inject(l.DatePipe))},e.\u0275prov=m.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),w=r(9682),y=r(47372),S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a(e,t)}(n,e);var t=i(n);function n(e,r){var a;return s(this,n),(a=t.call(this)).dwHttp=e,a.url=r,a}return c(n,[{key:"getDataList",value:function(e,t){var n=this;return this.dwHttp.get(this.url).pipe((0,y.map)(function(r){return n._result={currentPage:e,datas:Object.assign([],r.data),pageCount:Math.ceil(r.data.length/t),pageSize:t,rowCount:r.data.length},n._result}))}}]),n}(w.DwClientPagingDataSource),b=function(){var e=function(){function e(t,n){s(this,e),this.dwHttp=t,this.selectModalService=n,this.config={modalTitle:"\u9009\u62e9\u670d\u52a1\u7ad9\u70b9",modalWidth:"50%",tableMultiSelect:!0,tableIdField:"service_site_code",tableNameField:"service_site_name",returnFields:["service_site_id","service_site_name"],tablePageSize:10,tableColDefs:[{title:"\u7ad9\u70b9\u7f16\u53f7",field:"service_site_code"},{title:"\u7ad9\u70b9\u540d\u79f0",field:"service_site_name"},{title:"\u7ad9\u70b9\u7c7b\u578b",field:"service_site_type",dataPipe:"i18nSelect",dataEnum:{1:"\u603b\u90e8",2:"\u7f51\u70b9",3:"\u7ecf\u9500\u5546"}}],dataSource:new S(this.dwHttp,"restful/service/autoSettings/DataGroup/DataGroupServiceSites")}}return c(e,[{key:"open",value:function(e){return this.selectModalService.open(this.config,e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(m.\u0275\u0275inject(g.DwDapHttpClient),m.\u0275\u0275inject(w.DwSelectModalService))},e.\u0275prov=m.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),D=r(14025),x=r(17494),E=r(66800),I=r(99487),C=r(61937),_=r(80677),k=r(80419),P=r(29872),T=r(85773),O=r(41937),M=r(74591),N=r(93761),A=r(96670),F=r(8852),j=r(78169),R=r(62695),L=r(83522),V=r(37568),z=r(85277),W=r(67280);function H(e,t){if(1&e){var n=m.\u0275\u0275getCurrentView();m.\u0275\u0275elementStart(0,"em",49),m.\u0275\u0275listener("click",function(){return m.\u0275\u0275restoreView(n),m.\u0275\u0275nextContext(3).clear("service_site")}),m.\u0275\u0275elementEnd()}}function G(e,t){if(1&e){var n=m.\u0275\u0275getCurrentView();m.\u0275\u0275template(0,H,1,0,"em",46),m.\u0275\u0275elementStart(1,"button",47),m.\u0275\u0275listener("click",function(e){return m.\u0275\u0275restoreView(n),m.\u0275\u0275nextContext(2).openDataWin(e,"service_site")}),m.\u0275\u0275element(2,"em",48),m.\u0275\u0275elementEnd()}if(2&e){var r=m.\u0275\u0275nextContext(2);m.\u0275\u0275property("ngIf",r.searchForm.value.service_site_name),m.\u0275\u0275advance(1),m.\u0275\u0275propertyInterpolate("angularticsLabel",r.userInfo.tenantId+","+r.userInfo.userId),m.\u0275\u0275property("angularticsCategory","\u5de5\u7a0b\u5e08\u8003\u52e4\u7edf\u8ba1")}}function U(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"div",8),m.\u0275\u0275elementStart(1,"div",9),m.\u0275\u0275text(2,"\u670d\u52a1\u7ad9\u70b9"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(3,"dw-form-item",42),m.\u0275\u0275elementStart(4,"dw-form-control"),m.\u0275\u0275elementStart(5,"dw-input-group",43),m.\u0275\u0275element(6,"input",44),m.\u0275\u0275elementEnd(),m.\u0275\u0275template(7,G,3,3,"ng-template",null,45,m.\u0275\u0275templateRefExtractor),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275reference(8);m.\u0275\u0275advance(5),m.\u0275\u0275property("dwSuffix",n)}}function B(e,t){1&e&&m.\u0275\u0275element(0,"img",53)}function J(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"tr"),m.\u0275\u0275elementStart(1,"td",50),m.\u0275\u0275text(2),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(3,"td",50),m.\u0275\u0275text(4),m.\u0275\u0275template(5,B,1,0,"img",51),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(6,"td",52),m.\u0275\u0275text(7),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(8,"td",52),m.\u0275\u0275text(9),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd()),2&e){var n=t.$implicit;m.\u0275\u0275advance(1),m.\u0275\u0275classMap("V"===n.status?"gray":""),m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" ",n.service_site_name," "),m.\u0275\u0275advance(1),m.\u0275\u0275classMap("V"===n.status?"gray":""),m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" ",n.employee_name," "),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf","V"===n.status),m.\u0275\u0275advance(1),m.\u0275\u0275classMap("V"===n.status?"gray":""),m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" ",n.service_days," "),m.\u0275\u0275advance(1),m.\u0275\u0275classMap("V"===n.status?"gray":""),m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" ",n.standby_days," ")}}function Z(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"tr"),m.\u0275\u0275elementStart(1,"td",54),m.\u0275\u0275text(2),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(3,"td",54),m.\u0275\u0275text(4),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(5,"td",54),m.\u0275\u0275text(6),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(7,"td"),m.\u0275\u0275text(8),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(9,"td"),m.\u0275\u0275text(10),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(11,"td"),m.\u0275\u0275text(12),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(13,"td"),m.\u0275\u0275text(14),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275nextContext().$implicit;m.\u0275\u0275advance(1),m.\u0275\u0275attribute("rowspan",n.detailInfo.length),m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" ",n.engineerName," "),m.\u0275\u0275advance(1),m.\u0275\u0275attribute("rowspan",n.detailInfo.length),m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" ",n.serviceSiteName," "),m.\u0275\u0275advance(2),m.\u0275\u0275textInterpolate1(" ",n.detailInfo[0].report_time," "),m.\u0275\u0275advance(2),m.\u0275\u0275textInterpolate1(" ",n.detailInfo[0].location," "),m.\u0275\u0275advance(2),m.\u0275\u0275textInterpolate1(" ",n.detailInfo[0].service_type_name," "),m.\u0275\u0275advance(2),m.\u0275\u0275textInterpolate1(" ",n.detailInfo[0].customer_name," "),m.\u0275\u0275advance(2),m.\u0275\u0275textInterpolate1(" ",n.detailInfo[0].remark," ")}}function $(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"tr"),m.\u0275\u0275elementStart(1,"td",54),m.\u0275\u0275text(2),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(3,"td"),m.\u0275\u0275text(4),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(5,"td"),m.\u0275\u0275text(6),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(7,"td"),m.\u0275\u0275text(8),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(9,"td"),m.\u0275\u0275text(10),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275nextContext().$implicit;m.\u0275\u0275advance(2),m.\u0275\u0275textInterpolate1(" ",n.report_time," "),m.\u0275\u0275advance(2),m.\u0275\u0275textInterpolate1(" ",n.location," "),m.\u0275\u0275advance(2),m.\u0275\u0275textInterpolate1(" ",n.service_type_name," "),m.\u0275\u0275advance(2),m.\u0275\u0275textInterpolate1(" ",n.customer_name," "),m.\u0275\u0275advance(2),m.\u0275\u0275textInterpolate1(" ",n.remark," ")}}function Y(e,t){if(1&e&&(m.\u0275\u0275elementContainerStart(0),m.\u0275\u0275template(1,$,11,5,"tr",55),m.\u0275\u0275elementContainerEnd()),2&e){var n=t.index;m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",0!==n)}}function q(e,t){if(1&e&&(m.\u0275\u0275elementContainerStart(0),m.\u0275\u0275template(1,Z,15,9,"tr",55),m.\u0275\u0275template(2,Y,2,1,"ng-container",29),m.\u0275\u0275elementContainerEnd()),2&e){var n=t.$implicit,r=t.index;m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",0!==r),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngForOf",n.detailInfo)}}function K(e,t){if(1&e&&(m.\u0275\u0275elementContainerStart(0),m.\u0275\u0275elementStart(1,"tr"),m.\u0275\u0275elementStart(2,"td"),m.\u0275\u0275text(3),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(4,"td",54),m.\u0275\u0275text(5),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(6,"td",54),m.\u0275\u0275text(7),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(8,"td",54),m.\u0275\u0275text(9),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(10,"td"),m.\u0275\u0275text(11),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(12,"td"),m.\u0275\u0275text(13),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(14,"td"),m.\u0275\u0275text(15),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(16,"td"),m.\u0275\u0275text(17),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275template(18,q,3,2,"ng-container",29),m.\u0275\u0275elementContainerEnd()),2&e){var n=t.$implicit;m.\u0275\u0275advance(2),m.\u0275\u0275attribute("rowspan",n.count),m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" ",n.date," "),m.\u0275\u0275advance(1),m.\u0275\u0275attribute("rowspan",n.detail[0].detailInfo.length),m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" ",n.detail[0].engineerName," "),m.\u0275\u0275advance(1),m.\u0275\u0275attribute("rowspan",n.detail[0].detailInfo.length),m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" ",n.detail[0].serviceSiteName," "),m.\u0275\u0275advance(2),m.\u0275\u0275textInterpolate1(" ",n.detail[0].detailInfo[0].report_time," "),m.\u0275\u0275advance(2),m.\u0275\u0275textInterpolate1(" ",n.detail[0].detailInfo[0].location," "),m.\u0275\u0275advance(2),m.\u0275\u0275textInterpolate1(" ",n.detail[0].detailInfo[0].service_type_name," "),m.\u0275\u0275advance(2),m.\u0275\u0275textInterpolate1(" ",n.detail[0].detailInfo[0].customer_name," "),m.\u0275\u0275advance(2),m.\u0275\u0275textInterpolate1(" ",n.detail[0].detailInfo[0].remark," "),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngForOf",n.detail)}}function Q(e,t){if(1&e&&m.\u0275\u0275text(0),2&e){var n=m.\u0275\u0275nextContext();m.\u0275\u0275textInterpolate1("\u5171 ",n.rowCount," \u6761")}}function X(e,t){if(1&e&&m.\u0275\u0275text(0),2&e){var n=m.\u0275\u0275nextContext();m.\u0275\u0275textInterpolate1("\u5171 ",n.detailRowCount," \u6761")}}var ee=function(){return{y:"calc(100vh - 171px - 248px)"}},te=function(){var e=function(){function e(t,n,r,a,i,o,l,d){s(this,e),this.analytics=t,this.userService=n,this.message=r,this.fb=a,this.engineerAttendanceStatisticsSrv=i,this.siteOpenerService=o,this.datePipe=l,this.http=d,this.search={pageNumber:1,pageSize:10},this.searchDetail={pageNumber:1,pageSize:10},this.rowCount=0,this.dataList=[],this.isDisabled=!1,this.isDownloading=!1,this.lastParams="",this.userInfo={tenantId:"",userId:""},this.queryType=0,this.detailDataList=[],this.detailRowCount=0,this.disabledDate=function(e){return(0,D.differenceInCalendarDays)(e,new Date)>0}}return c(e,[{key:"ngOnInit",value:function(){this.userInfo=this.userService.getUserInfo(),this.getCurrentServiceSite(),this.orderBy={sortFiled:"service_site",sort:"ASC"},this.searchForm=this.fb.group({}),this.searchForm.addControl("date_range",new f.FormControl("")),this.searchForm.addControl("service_site_id",new f.FormControl("")),this.searchForm.addControl("service_site_name",new f.FormControl("")),this.searchForm.addControl("status",new f.FormControl(!0)),this.initDateRange(),this.loadData(),this.loadDataDetail()}},{key:"onTabChange",value:function(e){console.log(e),this.queryType=e.index,this.search.pageNumber=1,this.searchDetail.pageNumber=1,this.loadData(),this.loadDataDetail()}},{key:"initDateRange",value:function(){var e=new Date,t=e.getDate(),n=new Date(e.getFullYear(),e.getMonth(),1),r=new Date(e.getFullYear(),e.getMonth(),t);this.searchForm.get("date_range").setValue([n,r])}},{key:"loadData",value:function(){var e=this,n=this.searchForm.value;if(""===n.date_range||!n.date_range.length||""===n.date_range[0])return n.date_range=["",""],void this.message.create("error","\u8bf7\u9009\u62e9\u65e5\u671f");n.date_range[0]=this.datePipe.transform(n.date_range[0],"yyyy-MM-dd"),n.date_range[1]=this.datePipe.transform(n.date_range[1],"yyyy-MM-dd");var r={serviceSites:this.searchForm.value.service_site_id||"",pageIndex:String(this.search.pageNumber),pageSize:String(this.search.pageSize),startDate:n.date_range[0],endDate:n.date_range[1],status:n.status?"Y":""};r.serviceSites?this.engineerAttendanceStatisticsSrv.getList(r).subscribe(function(t){e.dataList=t.data.engineer_attendance_summary||[],e.isDisabled="0"===t.data.invalidEmployeeFlag,"0"===t.data.invalidEmployeeFlag&&e.searchForm.get("status").setValue(!0),e.rowCount=t.data.row_count,e.onAfterSearch()},function(t){t.hasOwnProperty("error")&&t.error.hasOwnProperty("errorMessage")&&t.error.errorMessage&&e.message.error(t.error.errorMessage)}):this.engineerAttendanceStatisticsSrv.getDataGroupServiceSites().subscribe(function(n){var a,i=[],o=t(n.data);try{for(o.s();!(a=o.n()).done;){var l=a.value;i.push(l.service_site_id)}}catch(s){o.e(s)}finally{o.f()}r.serviceSites=i.join(","),e.engineerAttendanceStatisticsSrv.getList(r).subscribe(function(t){e.dataList=t.data.engineer_attendance_summary||[],e.isDisabled="0"===t.data.invalidEmployeeFlag,"0"===t.data.invalidEmployeeFlag&&e.searchForm.get("status").setValue(!0),e.rowCount=t.data.row_count,e.onAfterSearch()},function(t){t.hasOwnProperty("error")&&t.error.hasOwnProperty("errorMessage")&&t.error.errorMessage&&e.message.error(t.error.errorMessage)})},function(t){t.hasOwnProperty("error")&&t.error.hasOwnProperty("errorMessage")&&t.error.errorMessage&&e.message.error(t.error.errorMessage)})}},{key:"loadDataDetail",value:function(){var e=this,t=this.searchForm.value;if(""!==t.date_range&&t.date_range.length&&""!==t.date_range[0]){t.date_range[0]=this.datePipe.transform(t.date_range[0],"yyyy-MM-dd"),t.date_range[1]=this.datePipe.transform(t.date_range[1],"yyyy-MM-dd");var n={serviceSites:this.searchForm.value.service_site_id||"",pageIndex:String(this.searchDetail.pageNumber),pageSize:String(this.searchDetail.pageSize),startDate:t.date_range[0],endDate:t.date_range[1],status:t.status?"Y":"",exportFlag:"0"};this.lastParams=JSON.parse(JSON.stringify(n)),this.engineerAttendanceStatisticsSrv.getListDetail(n).subscribe(function(t){e.detailDataList=t.engineer_attendance_detail||[],e.detailRowCount=t.row_count||0,console.log(e.detailDataList)},function(t){t.hasOwnProperty("error")&&t.error.hasOwnProperty("errorMessage")&&t.error.errorMessage&&e.message.error(t.error.errorMessage)})}else t.date_range=["",""]}},{key:"exportDetail",value:function(){var e=this;console.log("export"),this.isDownloading=!0,this.lastParams.exportFlag="1",this.http.post("restful/service/employee/Employee/EngineerAttendanceDetailsListExcelExport",{params:this.lastParams},{observe:"events",responseType:"blob",reportProgress:!0}).subscribe(function(t){if(t)switch(t.type){case I.HttpEventType.Response:var n=URL.createObjectURL(t.body),r=document.createElement("a");r.href=n,r.style="visibility:hidden";var a=t.headers.get("Content-disposition").split("filename=")[1];r.download=decodeURI(a),document.body.appendChild(r),r.click(),document.body.removeChild(r),setTimeout(function(){e.isDownloading=!1},600)}},function(t){var n=new FileReader;n.onload=function(t){var n=JSON.parse(t.target.result);e.message.create("error",n.errorMessage)},n.readAsText(t.error),e.isDownloading=!1})}},{key:"getCurrentServiceSite",value:function(){var e=this;this.engineerAttendanceStatisticsSrv.getCurrentServiceSiteInfo().subscribe(function(t){e.currentServiceSiteType=t.service_site_type})}},{key:"reset",value:function(){this.search.pageNumber=1,this.searchDetail.pageNumber=1,this.initDateRange(),this.searchForm.get("service_site_id").setValue(""),this.searchForm.get("service_site_name").setValue(""),this.searchForm.get("status").setValue(!0),this.loadData(),this.loadDataDetail()}},{key:"onOpenRange",value:function(e){e&&this.analytics.eventTrack.next({action:"\u67e5\u8be2\u6761\u4ef6-\u70b9\u51fb\u9009\u62e9\u65e5\u671f",properties:{category:"\u5de5\u7a0b\u5e08\u8003\u52e4\u7edf\u8ba1",label:this.userInfo.tenantId+","+this.userInfo.userId,value:0}})}},{key:"onPageSizeChange",value:function(){this.search.pageNumber=1,this.loadData()}},{key:"onPageSizeChange2",value:function(){this.searchDetail.pageNumber=1,this.loadDataDetail()}},{key:"onPageIndexChange",value:function(e){this.search.pageNumber=e,this.loadData()}},{key:"onPageIndexChange2",value:function(e){this.searchDetail.pageNumber=e,this.loadDataDetail()}},{key:"openDataWin",value:function(e,t){var n=this;e.preventDefault(),this.siteOpenerService.open([]).subscribe(function(e){if(console.log(e),null!=e&&0!==e.length){var r=t+"_name",a=t+"_id";n[r]="",n[a]="",n.searchForm.get(r).setValue(""),n.searchForm.get(a).setValue(""),e.forEach(function(e){n[r]+=e[r]+",",n[a]+=e[a]+","}),0!==n[r].length&&(n[r]=n[r].substr(0,n[r].length-1)),0!==n[a].length&&(n[a]=n[a].substr(0,n[a].length-1)),n.searchForm.get(r).setValue(n[r]),n.searchForm.get(a).setValue(n[a])}})}},{key:"clear",value:function(e){this.searchForm.get("".concat(e,"_id")).setValue(""),this.searchForm.get("".concat(e,"_name")).setValue("")}},{key:"order",value:function(e){var t=e.key;switch(e.value){case"ascend":this.detailDataList=C.l.order(this.detailDataList,[t]);break;case"descend":this.detailDataList=C.l.order(this.detailDataList,[t,-1])}}},{key:"onBeforeSearch",value:function(){}},{key:"onAfterSearch",value:function(){this.rowCount>0&&0===this.dataList.length&&(this.search.pageNumber=1,this.loadData())}}]),e}();return e.\u0275fac=function(t){return new(t||e)(m.\u0275\u0275directiveInject(x.DwAnalytics),m.\u0275\u0275directiveInject(E.DwUserService),m.\u0275\u0275directiveInject(h.DwMessageService),m.\u0275\u0275directiveInject(f.FormBuilder),m.\u0275\u0275directiveInject(v),m.\u0275\u0275directiveInject(b),m.\u0275\u0275directiveInject(l.DatePipe),m.\u0275\u0275directiveInject(g.DwDapHttpClient))},e.\u0275cmp=m.\u0275\u0275defineComponent({type:e,selectors:[["app-engineer-attendance-statistics-list"]],features:[m.\u0275\u0275ProvidersFeature([b])],decls:90,vars:46,consts:[[1,"dw-f-content-list","layoutClass","sales_layout"],[1,"issue_layout_head"],[1,"issue_layout_title"],[2,"margin-left","3px"],[1,"content-box",2,"margin-bottom","0"],[1,"sales_issue_form","sales_form","sales_shadow",3,"formGroup"],["dw-row","",1,"search-form-box",2,"margin-bottom","0"],["class","search-input",4,"ngIf"],[1,"search-input"],[1,"label"],[1,"form-input","date-picker"],["formControlName","date_range",2,"width","100%",3,"dwDisabledDate","dwOnOpenChange"],[1,"search-input","search-input-label"],[1,"form-input","form-input-label"],["dw-checkbox","","formControlName","status",3,"dwDisabled"],["dw-button","","angularticsAction","\u67e5\u8be2\u6761\u4ef6-\u70b9\u51fb\u67e5\u8be2\u6309\u94ae","dw-analyticsOn","click",3,"dwType","angularticsCategory","angularticsLabel","click"],["dw-button","","angularticsAction","\u67e5\u8be2\u6761\u4ef6-\u70b9\u51fb\u91cd\u7f6e\u6309\u94ae","dw-analyticsOn","click",3,"dwType","angularticsCategory","angularticsLabel","click"],[1,"dw-f-table","sales_table","engineer-attendance-list","tabsetBox"],[1,"my-tab",3,"dwTabPosition","dwSelectedIndex","dwType","dwAnimated","dwSelectChange"],[3,"dwTitle"],[2,"width","1000px"],["dwShowSizeChanger","",3,"dwData","dwTotal","dwFrontPagination","dwPageIndex","dwPageSize","dwShowTotal","dwScroll","dwPageIndexChange","dwPageSizeChange"],["dwTotalTable",""],[3,"dwSortOrderChange"],["dw-tr",""],["dw-th","","dwWidth","200px"],["translate",""],["dw-th","","dwWidth","158px"],["dw-th","","dwAlign","right","dwWidth","130px"],[4,"ngFor","ngForOf"],[1,"export"],["dw-button","","type","button","dwActionAuthorized","","angularticsAction","\u6d4f\u89c8\u9875\u64cd\u4f5c-\u70b9\u51fb\u5bfc\u51fa\u8003\u52e4\u660e\u7ec6","dw-analyticsOn","click",3,"dwType","dwActionId","dwDefaultAuthorized","angularticsCategory","angularticsLabel","dwLoading","dwClick"],["dw-icon","","dwType","upload"],["dwTotalTableDetail",""],["dw-th","","dwWidth","120px"],["dw-th","","dwWidth","150px"],["dw-th","","dwWidth","170px"],["dw-th","","dwWidth","250px"],["dw-th","","dwWidth","130px"],["dw-th","","dwWidth","230px"],["totalTemplate",""],["totalTemplateDetail",""],[1,"form-input"],["dwSearch","",3,"dwSuffix"],["type","text","dw-input","","readonly","","dwMode","multiple","formControlName","service_site_name","placeholder","",2,"width","100%"],["siteData",""],["dw-icon","","class","ant-input-clear-icon","dwTheme","fill","dwType","close-circle",3,"click",4,"ngIf"],["dw-button","","dwType","primary","dwSearch","","angularticsAction","\u67e5\u8be2\u6761\u4ef6-\u70b9\u51fb\u9009\u62e9\u670d\u52a1\u7ad9\u70b9","dw-analyticsOn","click","type","button",3,"angularticsCategory","angularticsLabel","click"],["dw-icon","","dwType","search"],["dw-icon","","dwTheme","fill","dwType","close-circle",1,"ant-input-clear-icon",3,"click"],["dwEllipsis",""],["class","invalid","src","../../../../../assets/img/icon_invalid.png","alt","\u5931\u6548",4,"ngIf"],["dwEllipsis","","dwAlign","right"],["src","../../../../../assets/img/icon_invalid.png","alt","\u5931\u6548",1,"invalid"],[2,"border-left","1px solid #f0f0f0"],[4,"ngIf"]],template:function(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"dw-content",0),m.\u0275\u0275elementStart(1,"div",1),m.\u0275\u0275elementStart(2,"h2",2),m.\u0275\u0275elementStart(3,"span",3),m.\u0275\u0275text(4,"\u5de5\u7a0b\u5e08\u8003\u52e4"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275element(5,"dw-divider"),m.\u0275\u0275elementStart(6,"div",4),m.\u0275\u0275elementStart(7,"form",5),m.\u0275\u0275elementStart(8,"div",6),m.\u0275\u0275template(9,U,9,1,"div",7),m.\u0275\u0275elementStart(10,"div",8),m.\u0275\u0275elementStart(11,"div",9),m.\u0275\u0275text(12,"\u65e5\u671f"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(13,"dw-form-item",10),m.\u0275\u0275elementStart(14,"dw-form-control"),m.\u0275\u0275elementStart(15,"dw-range-picker",11),m.\u0275\u0275listener("dwOnOpenChange",function(e){return t.onOpenRange(e)}),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(16,"div",12),m.\u0275\u0275elementStart(17,"dw-form-item",13),m.\u0275\u0275elementStart(18,"dw-form-control"),m.\u0275\u0275elementStart(19,"label",14),m.\u0275\u0275text(20,"\u4ec5\u663e\u793a\u751f\u6548\u5458\u5de5\u8003\u52e4"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(21,"div",8),m.\u0275\u0275elementStart(22,"button",15),m.\u0275\u0275listener("click",function(){return t.search.pageNumber=1,t.searchDetail.pageNumber=1,t.loadData(),t.loadDataDetail()}),m.\u0275\u0275text(23),m.\u0275\u0275pipe(24,"translate"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(25,"button",16),m.\u0275\u0275listener("click",function(){return t.reset()}),m.\u0275\u0275text(26),m.\u0275\u0275pipe(27,"translate"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(28,"div",17),m.\u0275\u0275elementStart(29,"dw-tabset",18),m.\u0275\u0275listener("dwSelectChange",function(e){return t.onTabChange(e)}),m.\u0275\u0275elementStart(30,"dw-tab",19),m.\u0275\u0275elementStart(31,"div",20),m.\u0275\u0275elementStart(32,"dw-table",21,22),m.\u0275\u0275listener("dwPageIndexChange",function(e){return t.search.pageNumber=e})("dwPageIndexChange",function(e){return t.onPageIndexChange(e)})("dwPageSizeChange",function(e){return t.search.pageSize=e})("dwPageSizeChange",function(){return t.onPageSizeChange()}),m.\u0275\u0275elementStart(34,"thead",23),m.\u0275\u0275listener("dwSortOrderChange",function(e){return t.order(e)}),m.\u0275\u0275elementStart(35,"tr",24),m.\u0275\u0275elementStart(36,"th",25),m.\u0275\u0275elementStart(37,"span",26),m.\u0275\u0275text(38,"\u670d\u52a1\u7ad9\u70b9"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(39,"th",27),m.\u0275\u0275elementStart(40,"span",26),m.\u0275\u0275text(41,"\u5de5\u7a0b\u5e08"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(42,"th",28),m.\u0275\u0275elementStart(43,"span",26),m.\u0275\u0275text(44,"\u670d\u52a1\u5929\u6570"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(45,"th",28),m.\u0275\u0275elementStart(46,"span",26),m.\u0275\u0275text(47,"\u5f85\u547d\u5929\u6570"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(48,"tbody"),m.\u0275\u0275template(49,J,10,13,"tr",29),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(50,"dw-tab",19),m.\u0275\u0275elementStart(51,"div",30),m.\u0275\u0275elementStart(52,"button",31),m.\u0275\u0275listener("dwClick",function(){return t.exportDetail()}),m.\u0275\u0275element(53,"em",32),m.\u0275\u0275elementStart(54,"span",26),m.\u0275\u0275text(55,"\u5bfc\u51fa\u6570\u636e"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(56,"dw-table",21,33),m.\u0275\u0275listener("dwPageIndexChange",function(e){return t.searchDetail.pageNumber=e})("dwPageIndexChange",function(e){return t.onPageIndexChange2(e)})("dwPageSizeChange",function(e){return t.searchDetail.pageSize=e})("dwPageSizeChange",function(){return t.onPageSizeChange2()}),m.\u0275\u0275elementStart(58,"thead",23),m.\u0275\u0275listener("dwSortOrderChange",function(e){return t.order(e)}),m.\u0275\u0275elementStart(59,"tr",24),m.\u0275\u0275elementStart(60,"th",34),m.\u0275\u0275elementStart(61,"span",26),m.\u0275\u0275text(62,"\u65e5\u671f"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(63,"th",34),m.\u0275\u0275elementStart(64,"span",26),m.\u0275\u0275text(65,"\u5de5\u7a0b\u5e08"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(66,"th",35),m.\u0275\u0275elementStart(67,"span",26),m.\u0275\u0275text(68,"\u670d\u52a1\u7ad9\u70b9"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(69,"th",36),m.\u0275\u0275elementStart(70,"span",26),m.\u0275\u0275text(71,"\u6253\u5361\u65f6\u95f4"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(72,"th",37),m.\u0275\u0275elementStart(73,"span",26),m.\u0275\u0275text(74,"\u6253\u5361\u5730\u70b9"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(75,"th",38),m.\u0275\u0275elementStart(76,"span",26),m.\u0275\u0275text(77,"\u670d\u52a1\u7c7b\u578b"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(78,"th",25),m.\u0275\u0275elementStart(79,"span",26),m.\u0275\u0275text(80,"\u5ba2\u6237\u540d\u79f0"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(81,"th",39),m.\u0275\u0275elementStart(82,"span",26),m.\u0275\u0275text(83,"\u5907\u6ce8"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(84,"tbody"),m.\u0275\u0275template(85,K,19,12,"ng-container",29),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275template(86,Q,1,1,"ng-template",null,40,m.\u0275\u0275templateRefExtractor),m.\u0275\u0275template(88,X,1,1,"ng-template",null,41,m.\u0275\u0275templateRefExtractor)),2&e){var n=m.\u0275\u0275reference(33),r=m.\u0275\u0275reference(57),a=m.\u0275\u0275reference(87),i=m.\u0275\u0275reference(89);m.\u0275\u0275advance(7),m.\u0275\u0275property("formGroup",t.searchForm),m.\u0275\u0275advance(2),m.\u0275\u0275property("ngIf","1"===t.currentServiceSiteType),m.\u0275\u0275advance(6),m.\u0275\u0275property("dwDisabledDate",t.disabledDate),m.\u0275\u0275advance(4),m.\u0275\u0275property("dwDisabled",t.isDisabled),m.\u0275\u0275advance(3),m.\u0275\u0275propertyInterpolate("angularticsLabel",t.userInfo.tenantId+","+t.userInfo.userId),m.\u0275\u0275property("dwType","primary")("angularticsCategory","\u5de5\u7a0b\u5e08\u8003\u52e4\u7edf\u8ba1"),m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" ",m.\u0275\u0275pipeBind1(24,40,"\u67e5\u8be2")," "),m.\u0275\u0275advance(2),m.\u0275\u0275propertyInterpolate("angularticsLabel",t.userInfo.tenantId+","+t.userInfo.userId),m.\u0275\u0275property("dwType","defult")("angularticsCategory","\u5de5\u7a0b\u5e08\u8003\u52e4\u7edf\u8ba1"),m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" ",m.\u0275\u0275pipeBind1(27,42,"\u91cd\u7f6e")," "),m.\u0275\u0275advance(3),m.\u0275\u0275property("dwTabPosition","top")("dwSelectedIndex",t.queryType)("dwType","line")("dwAnimated",!1),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwTitle","\u8003\u52e4\u7edf\u8ba1"),m.\u0275\u0275advance(2),m.\u0275\u0275property("dwData",t.dataList)("dwTotal",t.rowCount)("dwFrontPagination",!1)("dwPageIndex",t.search.pageNumber)("dwPageSize",t.search.pageSize)("dwShowTotal",a)("dwScroll",m.\u0275\u0275pureFunction0(44,ee)),m.\u0275\u0275advance(17),m.\u0275\u0275property("ngForOf",n.data),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwTitle","\u8003\u52e4\u660e\u7ec6"),m.\u0275\u0275advance(2),m.\u0275\u0275propertyInterpolate("angularticsLabel",t.userInfo.tenantId+","+t.userInfo.userId),m.\u0275\u0275property("dwType","defult")("dwActionId","export")("dwDefaultAuthorized","disabled")("angularticsCategory","\u8003\u52e4\u660e\u7ec6")("dwLoading",t.isDownloading),m.\u0275\u0275advance(4),m.\u0275\u0275property("dwData",t.detailDataList)("dwTotal",t.detailRowCount)("dwFrontPagination",!1)("dwPageIndex",t.searchDetail.pageNumber)("dwPageSize",t.searchDetail.pageSize)("dwShowTotal",i)("dwScroll",m.\u0275\u0275pureFunction0(45,ee)),m.\u0275\u0275advance(29),m.\u0275\u0275property("ngForOf",r.data)}},directives:[_.DwContentComponent,k.DwDividerComponent,f.\u0275NgNoValidate,f.NgControlStatusGroup,f.FormGroupDirective,P.DwRowDirective,l.NgIf,T.DwFormItemComponent,P.DwColDirective,T.DwFormControlComponent,O.DwDatePickerComponent,O.DwRangePickerComponent,f.NgControlStatus,f.FormControlName,M.DwCheckboxComponent,N.DwButtonComponent,A.uG,F.u,x.DwAnalyticsOn,j.DwTabSetComponent,j.DwTabComponent,R.DwTableComponent,R.DwTheadComponent,R.DwTrDirective,R.DwTableCellDirective,R.DwThMeasureDirective,L.TranslateDirective,R.DwCellAlignDirective,R.DwTbodyComponent,l.NgForOf,V.DwActionAuthorizedDirective,z.DwIconDirective,W.DwInputGroupComponent,W.DwInputGroupWhitSuffixOrPrefixDirective,W.DwInputDirective,f.DefaultValueAccessor,R.DwCellEllipsisDirective],pipes:[L.TranslatePipe],styles:[".invalid[_ngcontent-%COMP%]{width:20px;height:20px}  .ant-table-pagination.ant-pagination{margin-bottom:0}.ant-checkbox-wrapper[_ngcontent-%COMP%]{display:inline-flex;align-items:center}.ant-checkbox-wrapper[_ngcontent-%COMP%]     .ant-checkbox{margin-bottom:4px}.search-input-label[_ngcontent-%COMP%]{margin-right:14px!important}.form-input-label[_ngcontent-%COMP%]{width:165px!important}.gray[_ngcontent-%COMP%]{opacity:.5}.tabsetBox[_ngcontent-%COMP%]{position:relative}.export[_ngcontent-%COMP%]{position:absolute;top:0px;right:0}"]}),e}(),ne=r(51033),re=[{path:"",pathMatch:"prefix",component:p,children:[{path:"",component:te,canActivate:[u.DwAuthGuardService,ne.L],data:{dwRouteData:{programId:"engineer-attendance-statistics",dwAuthId:"engineer-attendance-statistics"},reload:!0}}]}],ae=function(){var e=c(function e(){s(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=m.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=m.\u0275\u0275defineInjector({imports:[[d.RouterModule.forChild(re)],d.RouterModule]}),e}(),ie=r(23938),oe=function(){var e=c(function e(){s(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=m.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=m.\u0275\u0275defineInjector({imports:[[l.CommonModule,ie.m,ae,h.DwMessageModule,N.DwButtonModule,_.DwLayoutModule,O.DwDatePickerModule,k.DwDividerModule,T.DwFormModule,W.DwInputModule,R.DwTableModule,z.DwIconModule,P.DwGridModule,f.ReactiveFormsModule,L.TranslateModule,M.DwCheckboxModule,j.DwTabsModule,V.DwActionModule]]}),e}()},51033:function(e,t,n){n.d(t,{L:function(){return p}}),n(87974);var r,a=n(32276),i=n(51156),o=n(66800),l=n(83237),d=n(31441),u=n(71049),m=n(42746),p=((r=function(){function e(t,n,r,a,i){s(this,e),this.http=t,this.authService=n,this.userService=r,this.message=a,this.modalService=i,this.uerId=""}return c(e,[{key:"canLoad",value:function(e){return!0}},{key:"canActivateChild",value:function(e,t){return!0}},{key:"canActivate",value:function(e,t){var n=this;return new u.Observable(function(e){n.uerId=n.userService.getUser("userId"),n.uerId?n.http.get("restful/service/employee/Employee/ValidateIamUser?userId=".concat(n.uerId)).subscribe(function(t){t.success?(sessionStorage.setItem("employeeInfo",JSON.stringify(t.data?t.data.data:{})),e.next(!0)):(n.modalService.warning({dwTitle:"\u63d0\u793a",dwContent:t.data,dwWidth:"400px",dwOnOk:function(){n.authService.logout(),window.location.reload()}}),e.next(!1))},function(t){console.log(t),t.hasOwnProperty("error")&&t.error.hasOwnProperty("errorMessage")&&t.error.errorMessage&&n.message.error(t.error.errorMessage),e.next(!1)}):e.next(!0)})}}]),e}()).\u0275fac=function(e){return new(e||r)(m.\u0275\u0275inject(i.DwDapHttpClient),m.\u0275\u0275inject(a.DwAuthService),m.\u0275\u0275inject(o.DwUserService),m.\u0275\u0275inject(l.DwMessageService),m.\u0275\u0275inject(d.DwModalService))},r.\u0275prov=m.\u0275\u0275defineInjectable({token:r,factory:r.\u0275fac,providedIn:"root"}),r)},61937:function(n,r,a){a.d(r,{l:function(){return i}});var i=function(){function n(){s(this,n)}return c(n,null,[{key:"order",value:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return t?e(t).sort(function(e,t){for(var n=0,a=0,i=r.length,o=0;o<i;o++){var l=r[o][0],s=r[o][1]||1,d=Math.pow(2,i-o)*s,c=void 0,u=void 0;l instanceof Function?(c=String(l(e)||""),u=String(l(t)||"")):(c=String(e[l]||""),u=String(t[l]||"")),1===c.localeCompare(u)?n+=d:-1===c.localeCompare(u)&&(a+=d)}return n-a}):[]}},{key:"crossPageCache",value:function(e,t,n,r){var a=e[r];if(a){var i=a[n];a.checked?t.includes(i)||t.push(i):t.includes(i)&&t.splice(t.indexOf(i),1)}}},{key:"crossPageCheck",value:function(e,n,r){var a,i=t(e);try{for(i.s();!(a=i.n()).done;){var o=a.value;n.includes(o[r])?o.checked||(o.checked=!0):o.checked&&(o.checked=!1)}}catch(l){i.e(l)}finally{i.f()}}},{key:"parseJson",value:function(e){try{return JSON.parse(e)}catch(t){return null}}}]),n}()}}])}();