"use strict";(self.webpackChunkassc_crs=self.webpackChunkassc_crs||[]).push([[9928,5560],{79928:function(e,n,r){r.r(n),r.d(n,{DwIframeCoreModule:function(){return p},DwIframeGeneralInfoService:function(){return d},DwIframeGeneralService:function(){return w}});var t=r(42746),i=r(71049),c=r(47372),a=r(66800),o=r(85835),s=r(55245),u=r(20033),f=r(30469),l=r(32245);let p=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=t.\u0275\u0275defineInjector({imports:[[s.CommonModule]]}),e})(),w=(()=>{class e{constructor(){}getIframeGeneralData(e,n,r){return this.itemRxjsBehavior=new i.BehaviorSubject(null),this.itemRxjsBehavior.next(r),this.itemRxjsBehavior.asObservable().pipe((0,c.filter)(e=>null!==e),(0,c.distinctUntilChanged)())}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=t.\u0275\u0275defineInjectable({factory:function(){return new e},token:e,providedIn:p}),e})(),d=(()=>{class e{constructor(e,n,r,t,i,c,a){this.dwIframeGeneralService=e,this.dwOperationInfoService=n,this.configService=r,this.userService=t,this.dwLanguageService=i,this.dwAppId=c,this.dwAppAuthToken=a}generalInfo(e,n){const r={url:"",type:"externalUrl"},t=n.url;return t?(r.url=t,this.dwIframeGeneralService.getIframeGeneralData(e,n,r).pipe((0,c.first)())):(0,i.combineLatest)(this.dwOperationInfoService.operationInfo$(e),this.configService.getConfig(),(e,n)=>{let r="";return e.hasOwnProperty("urlConfig")&&(r=n[e.urlConfig]),r}).pipe((0,c.switchMap)(t=>{if(t){const n={dwAppId:this.dwAppId,dwAppToken:this.dwAppAuthToken,dwProgramId:e,dwLang:this.dwLanguageService.currentLanguage};r.url=o.SsoUtility.getSsoUrl(t,this.userService.getUser("token"),n)}return this.dwIframeGeneralService.getIframeGeneralData(e,n,r).pipe((0,c.first)())}))}}return e.\u0275fac=function(n){return new(n||e)(t.\u0275\u0275inject(w),t.\u0275\u0275inject(u.DwOperationInfoService),t.\u0275\u0275inject(f.DwSystemConfigService),t.\u0275\u0275inject(a.DwUserService),t.\u0275\u0275inject(l.DwLanguageService),t.\u0275\u0275inject(f.DW_APP_ID),t.\u0275\u0275inject(f.DW_APP_AUTH_TOKEN))},e.\u0275prov=t.\u0275\u0275defineInjectable({factory:function(){return new e(t.\u0275\u0275inject(w),t.\u0275\u0275inject(u.DwOperationInfoService),t.\u0275\u0275inject(f.DwSystemConfigService),t.\u0275\u0275inject(a.DwUserService),t.\u0275\u0275inject(l.DwLanguageService),t.\u0275\u0275inject(f.DW_APP_ID),t.\u0275\u0275inject(f.DW_APP_AUTH_TOKEN))},token:e,providedIn:p}),e})()}}]);