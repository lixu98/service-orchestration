"use strict";(self.webpackChunkassc_crs=self.webpackChunkassc_crs||[]).push([[9488],{89488:function(e,t,n){n.r(t),n.d(t,{AutoSettingsModule:function(){return D}});var r=n(55245),i=n(87974),o=n(51156),s=n(42746);let a=(()=>{class e{constructor(e){this.http=e}GetAutoSettingsInfo(){return this.http.get("restful/service/autoSettings/AutoSettings/AutoSettings")}modifyAutoSettingsForDistribution(e){return this.http.put("restful/service/autoSettings/AutoSettings/ModifyForDistribution",{params:e})}modifyAutoSettingsForDispatch(e,t){return this.http.put("restful/service/autoSettings/AutoSettings/ModifyForDispatch",{params:e,autoAssignPrinciple:t})}modifyShowExpenses(e){return this.http.put("restful/service/autoSettings/AutoSettings/ModifyForShowExpenses",{params:e})}modifyRelateToInventory(e){return this.http.put("restful/service/autoSettings/AutoSettings/ModifyForRelateToInventory",{params:e})}modifyClockIn(e){return this.http.put("restful/service/autoSettings/AutoSettings/ModifyForClockIn",{params:e})}modifyDistributionAll(e){return this.http.put("restful/service/autoSettings/AutoSettings/ModifyForDistributionAll",{params:e})}modifyAssignCollaboratorCrossSite(e){return this.http.put("restful/service/autoSettings/AutoSettings/AssignCollaboratorCrossSite",{params:e})}modifyDisplaySensitiveData(e){return this.http.put("restful/service/autoSettings/AutoSettings/ModifyDisplaySensitiveData",{params:e})}modifyNegativeInventoryAllowed(e){return this.http.put("restful/service/autoSettings/AutoSettings/ModifyForNegativeInventoryAllowed",{params:e})}modifyRecycleUnchangeable(e){return this.http.put("restful/service/autoSettings/AutoSettings/ModifyForRecycleUnchangeable",{params:e})}modifyForEnableSoPool(e){return this.http.put("restful/service/autoSettings/AutoSettings/ModifyForEnableSoPool",{params:e})}}return e.\u0275fac=function(t){return new(t||e)(s.\u0275\u0275inject(o.DwDapHttpClient))},e.\u0275prov=s.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var l=n(83237),c=n(80677),d=n(80419),u=n(7342),g=n(1020),h=n(85277),p=n(35626),m=n(119);function _(e,t){if(1&e){const e=s.\u0275\u0275getCurrentView();s.\u0275\u0275elementStart(0,"div",10),s.\u0275\u0275elementStart(1,"label"),s.\u0275\u0275text(2,"\u81ea\u52a8\u5206\u914d"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(3,"dw-switch",11),s.\u0275\u0275listener("ngModelChange",function(t){return s.\u0275\u0275restoreView(e),s.\u0275\u0275nextContext().auto_assign=t})("click",function(){return s.\u0275\u0275restoreView(e),s.\u0275\u0275nextContext().clickSwitchForAssign()}),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd()}if(2&e){const e=s.\u0275\u0275nextContext();s.\u0275\u0275advance(3),s.\u0275\u0275property("ngModel",e.auto_assign)}}function w(e,t){if(1&e&&s.\u0275\u0275element(0,"dw-option",23),2&e){const e=t.$implicit;s.\u0275\u0275property("dwLabel",e.label)("dwValue",e.value)}}function b(e,t){if(1&e){const e=s.\u0275\u0275getCurrentView();s.\u0275\u0275elementStart(0,"div",13),s.\u0275\u0275elementStart(1,"div",10),s.\u0275\u0275elementStart(2,"label"),s.\u0275\u0275text(3,"\u81ea\u52a8\u5206\u914d"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(4,"dw-switch",11),s.\u0275\u0275listener("ngModelChange",function(t){return s.\u0275\u0275restoreView(e),s.\u0275\u0275nextContext().auto_assign=t})("click",function(){return s.\u0275\u0275restoreView(e),s.\u0275\u0275nextContext().clickSwitchForAssign()}),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(5,"div",14),s.\u0275\u0275text(6," \u5206\u914d\u539f\u5219 "),s.\u0275\u0275elementStart(7,"div",15),s.\u0275\u0275element(8,"em",16),s.\u0275\u0275elementStart(9,"div",17),s.\u0275\u0275elementStart(10,"div",18),s.\u0275\u0275elementStart(11,"div",19),s.\u0275\u0275text(12," \u5206\u914d\u81f3\u670d\u52a1\u7ad9\u70b9 "),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(13,"div",20),s.\u0275\u0275text(14," \u5de5\u5355\u65b0\u5efa\u5b8c\u6210\u540e\uff0c\u81ea\u52a8\u5206\u914d\u81f3\u5bf9\u5e94\u7684\u670d\u52a1\u7ad9\u70b9\uff1b\u82e5\u62a5\u4fee\u8bbe\u5907/\u5ba2\u6237\u6ca1\u6709\u8bbe\u7f6e\u670d\u52a1\u7ad9\u70b9\uff0c\u5219\u65e0\u6cd5\u81ea\u52a8\u5206\u914d\uff0c\u9700\u8fdb\u884c\u624b\u5de5\u5206\u914d "),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(15,"div",19),s.\u0275\u0275text(16," \u5206\u914d\u81f3\u5de5\u5355\u6c60 "),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(17,"div",20),s.\u0275\u0275text(18," \u5de5\u5355\u65b0\u5efa\u5b8c\u6210\u540e\uff0c\u81ea\u52a8\u5206\u914d\u81f3\u5de5\u5355\u6c60 "),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(19,"div",19),s.\u0275\u0275text(20," \u5148\u670d\u52a1\u7ad9\u70b9\uff0c\u518d\u5de5\u5355\u6c60 "),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(21,"div",20),s.\u0275\u0275text(22," \u5de5\u5355\u65b0\u5efa\u5b8c\u6210\u540e\uff0c\u5148\u81ea\u52a8\u5206\u914d\u81f3\u5bf9\u5e94\u7684\u670d\u52a1\u7ad9\u70b9\uff0c\u82e5\u62a5\u4fee\u8bbe\u5907/\u5ba2\u6237\u6ca1\u6709\u8bbe\u7f6e\u670d\u52a1\u7ad9\u70b9\uff0c\u5219\u81ea\u52a8\u5206\u914d\u81f3\u5de5\u5355\u6c60 "),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(23,"dw-select",21),s.\u0275\u0275listener("ngModelChange",function(t){return s.\u0275\u0275restoreView(e),s.\u0275\u0275nextContext().auto_assign_principle=t})("ngModelChange",function(t){return s.\u0275\u0275restoreView(e),s.\u0275\u0275nextContext().changePrinciple(t)}),s.\u0275\u0275template(24,w,1,2,"dw-option",22),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd()}if(2&e){const e=s.\u0275\u0275nextContext();s.\u0275\u0275advance(4),s.\u0275\u0275property("ngModel",e.auto_assign),s.\u0275\u0275advance(19),s.\u0275\u0275property("ngModel",e.auto_assign_principle),s.\u0275\u0275advance(1),s.\u0275\u0275property("ngForOf",e.principleList)}}function v(e,t){if(1&e){const e=s.\u0275\u0275getCurrentView();s.\u0275\u0275elementStart(0,"div",10),s.\u0275\u0275elementStart(1,"label"),s.\u0275\u0275text(2,"\u51fa\u53d1\u5230\u8fbe\u6253\u5361"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(3,"dw-switch",11),s.\u0275\u0275listener("ngModelChange",function(t){return s.\u0275\u0275restoreView(e),s.\u0275\u0275nextContext().auto_clock_in=t})("click",function(){return s.\u0275\u0275restoreView(e),s.\u0275\u0275nextContext().clickSwitchForClockIn()}),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd()}if(2&e){const e=s.\u0275\u0275nextContext();s.\u0275\u0275advance(3),s.\u0275\u0275property("ngModel",e.auto_clock_in)}}function S(e,t){if(1&e){const e=s.\u0275\u0275getCurrentView();s.\u0275\u0275elementStart(0,"div",13),s.\u0275\u0275elementStart(1,"div",10),s.\u0275\u0275elementStart(2,"label"),s.\u0275\u0275text(3,"\u51fa\u53d1\u5230\u8fbe\u6253\u5361"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(4,"dw-switch",11),s.\u0275\u0275listener("ngModelChange",function(t){return s.\u0275\u0275restoreView(e),s.\u0275\u0275nextContext().auto_clock_in=t})("click",function(){return s.\u0275\u0275restoreView(e),s.\u0275\u0275nextContext().clickSwitchForClockIn()}),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(5,"div",24),s.\u0275\u0275text(6," \u8c03\u6574\u8ddd\u79bb\u4e0d\u8d85\u8fc7 "),s.\u0275\u0275elementStart(7,"dw-input-number",25),s.\u0275\u0275listener("ngModelChange",function(t){return s.\u0275\u0275restoreView(e),s.\u0275\u0275nextContext().adjustable_distance=t})("dwBlur",function(){return s.\u0275\u0275restoreView(e),s.\u0275\u0275nextContext().clickSwitchForClockIn()}),s.\u0275\u0275elementEnd(),s.\u0275\u0275text(8," \u516c\u91cc "),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(9,"div",24),s.\u0275\u0275text(10," \u5230\u8fbe\u5fc5\u987b\u62cd\u7167\u6253\u5361 "),s.\u0275\u0275elementStart(11,"dw-switch",11),s.\u0275\u0275listener("ngModelChange",function(t){return s.\u0275\u0275restoreView(e),s.\u0275\u0275nextContext().arrive_take_photos=t})("click",function(){return s.\u0275\u0275restoreView(e),s.\u0275\u0275nextContext().clickSwitchForClockIn()}),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd()}if(2&e){const e=s.\u0275\u0275nextContext();s.\u0275\u0275advance(4),s.\u0275\u0275property("ngModel",e.auto_clock_in),s.\u0275\u0275advance(3),s.\u0275\u0275property("ngModel",e.adjustable_distance)("dwMin",0)("dwMax",99999)("dwStep",1)("dwPrecision",1),s.\u0275\u0275advance(4),s.\u0275\u0275property("ngModel",e.arrive_take_photos)}}function f(e,t){if(1&e){const e=s.\u0275\u0275getCurrentView();s.\u0275\u0275elementStart(0,"div",10),s.\u0275\u0275elementStart(1,"label"),s.\u0275\u0275text(2,"\u603b\u90e8\u53ef\u6d3e\u5de5\u6240\u6709\u7ad9\u70b9\u5de5\u5355"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(3,"dw-switch",11),s.\u0275\u0275listener("ngModelChange",function(t){return s.\u0275\u0275restoreView(e),s.\u0275\u0275nextContext().distribution_all=t})("click",function(){return s.\u0275\u0275restoreView(e),s.\u0275\u0275nextContext().clickSwitchForDistributionAll()}),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd()}if(2&e){const e=s.\u0275\u0275nextContext();s.\u0275\u0275advance(3),s.\u0275\u0275property("ngModel",e.distribution_all)}}function x(e,t){if(1&e){const e=s.\u0275\u0275getCurrentView();s.\u0275\u0275elementStart(0,"div",13),s.\u0275\u0275elementStart(1,"div",10),s.\u0275\u0275elementStart(2,"label"),s.\u0275\u0275text(3,"\u603b\u90e8\u53ef\u6d3e\u5de5\u6240\u6709\u7ad9\u70b9\u5de5\u5355"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(4,"dw-switch",11),s.\u0275\u0275listener("ngModelChange",function(t){return s.\u0275\u0275restoreView(e),s.\u0275\u0275nextContext().distribution_all=t})("click",function(){return s.\u0275\u0275restoreView(e),s.\u0275\u0275nextContext().clickSwitchForDistributionAll()}),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(5,"div",24),s.\u0275\u0275text(6," \u8de8\u7ad9\u70b9\u6307\u6d3e\u534f\u540c\u4eba "),s.\u0275\u0275elementStart(7,"dw-switch",11),s.\u0275\u0275listener("ngModelChange",function(t){return s.\u0275\u0275restoreView(e),s.\u0275\u0275nextContext().assign_collaborator_cross_site=t})("click",function(){return s.\u0275\u0275restoreView(e),s.\u0275\u0275nextContext().clickSwitchForCrossSite()}),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd()}if(2&e){const e=s.\u0275\u0275nextContext();s.\u0275\u0275advance(4),s.\u0275\u0275property("ngModel",e.distribution_all),s.\u0275\u0275advance(3),s.\u0275\u0275property("ngModel",e.assign_collaborator_cross_site)}}function y(e,t){if(1&e){const e=s.\u0275\u0275getCurrentView();s.\u0275\u0275elementStart(0,"div",10),s.\u0275\u0275elementStart(1,"label"),s.\u0275\u0275text(2,"\u5de5\u5355\u6c60"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(3,"dw-switch",11),s.\u0275\u0275listener("ngModelChange",function(t){return s.\u0275\u0275restoreView(e),s.\u0275\u0275nextContext().enable_so_pool=t})("click",function(){return s.\u0275\u0275restoreView(e),s.\u0275\u0275nextContext().clickEnableSoPool(!0)}),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd()}if(2&e){const e=s.\u0275\u0275nextContext();s.\u0275\u0275advance(3),s.\u0275\u0275property("ngModel",e.enable_so_pool)}}function M(e,t){if(1&e){const e=s.\u0275\u0275getCurrentView();s.\u0275\u0275elementStart(0,"div",13),s.\u0275\u0275elementStart(1,"div",10),s.\u0275\u0275elementStart(2,"label"),s.\u0275\u0275text(3,"\u5de5\u5355\u6c60"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(4,"dw-switch",26),s.\u0275\u0275listener("ngModelChange",function(t){return s.\u0275\u0275restoreView(e),s.\u0275\u0275nextContext().enable_so_pool=t})("click",function(){return s.\u0275\u0275restoreView(e),s.\u0275\u0275nextContext().clickEnableSoPool(!0)}),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(5,"div",27),s.\u0275\u0275elementStart(6,"div",28),s.\u0275\u0275text(7,"\u5de5\u7a0b\u5e08\u62a2\u5355\u6761\u4ef6"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(8,"div",29),s.\u0275\u0275text(9," \u5f85\u5904\u7406\u5de5\u5355\u6570\u4f4e\u4e8e "),s.\u0275\u0275elementStart(10,"dw-input-number",25),s.\u0275\u0275listener("ngModelChange",function(t){return s.\u0275\u0275restoreView(e),s.\u0275\u0275nextContext().accept_so_number=t})("dwBlur",function(){return s.\u0275\u0275restoreView(e),s.\u0275\u0275nextContext().clickEnableSoPool(!0)}),s.\u0275\u0275elementEnd(),s.\u0275\u0275text(11," \u5355 "),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(12,"div",29),s.\u0275\u0275text(13," \u8ddd\u79bb\u4e0d\u8d85\u8fc7 "),s.\u0275\u0275elementStart(14,"dw-input-number",25),s.\u0275\u0275listener("ngModelChange",function(t){return s.\u0275\u0275restoreView(e),s.\u0275\u0275nextContext().distance_number=t})("dwBlur",function(){return s.\u0275\u0275restoreView(e),s.\u0275\u0275nextContext().clickEnableSoPool(!0)}),s.\u0275\u0275elementEnd(),s.\u0275\u0275text(15," \u516c\u91cc "),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(16,"div",10),s.\u0275\u0275text(17," \u5de5\u5355\u8d85\u8fc7 "),s.\u0275\u0275elementStart(18,"dw-input-number",25),s.\u0275\u0275listener("ngModelChange",function(t){return s.\u0275\u0275restoreView(e),s.\u0275\u0275nextContext().abnormal_time=t})("dwBlur",function(){return s.\u0275\u0275restoreView(e),s.\u0275\u0275nextContext().clickEnableSoPool(!0)}),s.\u0275\u0275elementEnd(),s.\u0275\u0275text(19," \u5206\u949f\u672a\u63a5\u5355\u89c6\u4e3a\u5f02\u5e38 "),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd()}if(2&e){const e=s.\u0275\u0275nextContext();s.\u0275\u0275advance(4),s.\u0275\u0275property("ngModel",e.enable_so_pool)("disabled",e.auto_assign&&"1"!==e.auto_assign_principle),s.\u0275\u0275advance(6),s.\u0275\u0275property("ngModel",e.accept_so_number)("dwMin",1)("dwMax",99999)("dwStep",1)("dwPrecision",0),s.\u0275\u0275advance(4),s.\u0275\u0275property("ngModel",e.distance_number)("dwMin",1)("dwMax",99999)("dwStep",1)("dwPrecision",0),s.\u0275\u0275advance(4),s.\u0275\u0275property("ngModel",e.abnormal_time)("dwMin",1)("dwMax",99999)("dwStep",1)("dwPrecision",0)}}let C=(()=>{class e{constructor(e,t){this.autoSettingsSrv=e,this.message=t,this.origData={auto_clock_in:!1,adjustable_distance:1,arrive_take_photos:!1,enable_so_pool:!1,accept_so_number:2,distance_number:100,abnormal_time:30},this.auto_assign_principle="1",this.adjustable_distance=1,this.accept_so_number=2,this.distance_number=100,this.abnormal_time=30,this.principleList=[{label:"\u5206\u914d\u81f3\u670d\u52a1\u7ad9\u70b9",value:"1"},{label:"\u5206\u914d\u81f3\u5de5\u5355\u6c60",value:"2"},{label:"\u5148\u670d\u52a1\u7ad9\u70b9\uff0c\u518d\u5de5\u5355\u6c60",value:"3"}]}ngOnInit(){this.autoSettingsSrv.GetAutoSettingsInfo().subscribe(e=>{this.origData=JSON.parse(JSON.stringify(e)),this.auto_assign=e.auto_assign,this.auto_distribution=e.auto_distribution,this.show_expenses=e.show_expenses,this.relate_to_inventory=e.relate_to_inventory,this.auto_clock_in=e.clock_in,this.adjustable_distance=e.adjustable_distance,this.arrive_take_photos=e.arrive_take_photos,this.distribution_all=e.distribution_all,this.assign_collaborator_cross_site=e.assign_collaborator_cross_site,this.display_sensitive_data=e.display_sensitive_data,this.negative_inventory_allowed=e.negative_inventory_allowed,this.recycle_unchangeable=e.recycle_unchangeable,this.enable_so_pool=e.enable_so_pool,this.accept_so_number=e.accept_so_number||2,this.distance_number=e.distance_number||100,this.abnormal_time=e.abnormal_time||30,this.auto_assign_principle=e.auto_assign_principle||"1"})}clickSwitchForDistribution(){this.autoSettingsSrv.modifyAutoSettingsForDistribution(this.auto_distribution).subscribe(e=>{"success"===e?this.message.create("success","\u64cd\u4f5c\u6210\u529f\uff01"):(this.auto_distribution=!this.auto_distribution,this.message.create("error","\u64cd\u4f5c\u5931\u8d25\uff01"))},e=>{this.auto_distribution=!this.auto_distribution,e.hasOwnProperty("error")&&e.error.hasOwnProperty("errorMessage")&&e.error.errorMessage&&this.message.error(e.error.errorMessage)})}clickSwitchForAssign(){this.autoSettingsSrv.modifyAutoSettingsForDispatch(this.auto_assign,this.auto_assign_principle).subscribe(e=>{"success"===e?this.message.create("success","\u64cd\u4f5c\u6210\u529f\uff01"):(this.auto_assign=!this.auto_assign,this.message.create("error","\u64cd\u4f5c\u5931\u8d25\uff01"))},e=>{this.auto_assign=!this.auto_assign,e.hasOwnProperty("error")&&e.error.hasOwnProperty("errorMessage")&&e.error.errorMessage&&this.message.error(e.error.errorMessage)})}changePrinciple(e){console.log(e,this.auto_assign_principle),("2"===e||"3"===e)&&(this.enable_so_pool=!0,this.clickEnableSoPool(!1)),this.clickSwitchForAssign()}clickSwitchForShowExpenses(){this.autoSettingsSrv.modifyShowExpenses(this.show_expenses).subscribe(e=>{"success"===e?this.message.create("success","\u64cd\u4f5c\u6210\u529f\uff01"):(this.show_expenses=!this.show_expenses,this.message.create("error","\u64cd\u4f5c\u5931\u8d25\uff01"))},e=>{this.show_expenses=!this.show_expenses,e.hasOwnProperty("error")&&e.error.hasOwnProperty("errorMessage")&&e.error.errorMessage&&this.message.error(e.error.errorMessage)})}clickSwitchForRelateToInventory(){this.autoSettingsSrv.modifyRelateToInventory(this.relate_to_inventory).subscribe(e=>{"success"===e?this.message.create("success","\u64cd\u4f5c\u6210\u529f\uff01"):(this.relate_to_inventory=!this.relate_to_inventory,this.message.create("error","\u64cd\u4f5c\u5931\u8d25\uff01"))},e=>{this.relate_to_inventory=!this.relate_to_inventory,e.hasOwnProperty("error")&&e.error.hasOwnProperty("errorMessage")&&e.error.errorMessage&&this.message.error(e.error.errorMessage)})}clickSwitchForClockIn(){if(this.auto_clock_in!==this.origData.auto_clock_in||this.adjustable_distance!==this.origData.adjustable_distance||this.arrive_take_photos!==this.origData.arrive_take_photos)return this.adjustable_distance?void this.autoSettingsSrv.modifyClockIn({clock_in:this.auto_clock_in,adjustable_distance:this.adjustable_distance,arrive_take_photos:this.arrive_take_photos}).subscribe(e=>{this.message.create("success","\u64cd\u4f5c\u6210\u529f\uff01"),this.ngOnInit()},e=>{this.ngOnInit(),e.hasOwnProperty("error")&&e.error.hasOwnProperty("errorMessage")&&e.error.errorMessage&&this.message.error(e.error.errorMessage)}):(this.message.create("error","\u8c03\u6574\u8ddd\u79bb\u9700\u4e3a\u5927\u4e8e0\u7684\u6570"),void this.ngOnInit())}clickSwitchForDistributionAll(){this.autoSettingsSrv.modifyDistributionAll(this.distribution_all).subscribe(e=>{"success"===e?(this.message.create("success","\u64cd\u4f5c\u6210\u529f\uff01"),this.assign_collaborator_cross_site=!1):(this.distribution_all=!this.distribution_all,this.message.create("error","\u64cd\u4f5c\u5931\u8d25\uff01"))},e=>{this.distribution_all=!this.distribution_all,e.hasOwnProperty("error")&&e.error.hasOwnProperty("errorMessage")&&e.error.errorMessage&&this.message.error(e.error.errorMessage)})}clickSwitchForCrossSite(){this.autoSettingsSrv.modifyAssignCollaboratorCrossSite(this.assign_collaborator_cross_site).subscribe(e=>{"success"===e?this.message.create("success","\u64cd\u4f5c\u6210\u529f\uff01"):(this.assign_collaborator_cross_site=!this.assign_collaborator_cross_site,this.message.create("error","\u64cd\u4f5c\u5931\u8d25\uff01"))},e=>{this.assign_collaborator_cross_site=!this.assign_collaborator_cross_site,e.hasOwnProperty("error")&&e.error.hasOwnProperty("errorMessage")&&e.error.errorMessage&&this.message.error(e.error.errorMessage)})}clickSwitchForDisplaySensitiveData(){this.autoSettingsSrv.modifyDisplaySensitiveData(this.display_sensitive_data).subscribe(e=>{"success"===e?this.message.create("success","\u64cd\u4f5c\u6210\u529f\uff01"):(this.display_sensitive_data=!this.display_sensitive_data,this.message.create("error","\u64cd\u4f5c\u5931\u8d25\uff01"))},e=>{this.display_sensitive_data=!this.display_sensitive_data,e.hasOwnProperty("error")&&e.error.hasOwnProperty("errorMessage")&&e.error.errorMessage&&this.message.error(e.error.errorMessage)})}clickSwitchForNegativeInventoryAllowed(){this.autoSettingsSrv.modifyNegativeInventoryAllowed(this.negative_inventory_allowed).subscribe(e=>{"success"===e?this.message.create("success","\u64cd\u4f5c\u6210\u529f\uff01"):(this.negative_inventory_allowed=!this.negative_inventory_allowed,this.message.create("error","\u64cd\u4f5c\u5931\u8d25\uff01"))},e=>{this.negative_inventory_allowed=!this.negative_inventory_allowed,e.hasOwnProperty("error")&&e.error.hasOwnProperty("errorMessage")&&e.error.errorMessage&&this.message.error(e.error.errorMessage)})}clickSwitchForRecycleUnchangeable(){this.autoSettingsSrv.modifyRecycleUnchangeable(this.recycle_unchangeable).subscribe(e=>{"success"===e?this.message.create("success","\u64cd\u4f5c\u6210\u529f\uff01"):(this.recycle_unchangeable=!this.recycle_unchangeable,this.message.create("error","\u64cd\u4f5c\u5931\u8d25\uff01"))},e=>{this.recycle_unchangeable=!this.recycle_unchangeable,e.hasOwnProperty("error")&&e.error.hasOwnProperty("errorMessage")&&e.error.errorMessage&&this.message.error(e.error.errorMessage)})}clickEnableSoPool(e){if(this.enable_so_pool!==this.origData.enable_so_pool||this.accept_so_number!==this.origData.accept_so_number||this.distance_number!==this.origData.distance_number||this.abnormal_time!==this.origData.abnormal_time)return this.accept_so_number?this.distance_number?this.abnormal_time?void this.autoSettingsSrv.modifyForEnableSoPool({enable_so_pool:this.enable_so_pool,accept_so_number:this.accept_so_number,distance_number:this.distance_number,abnormal_time:this.abnormal_time}).subscribe(t=>{e&&this.message.create("success","\u64cd\u4f5c\u6210\u529f\uff01"),this.ngOnInit()},e=>{e.hasOwnProperty("error")&&e.error.hasOwnProperty("errorMessage")&&e.error.errorMessage&&this.message.error(e.error.errorMessage),this.ngOnInit()}):(this.message.create("error","\u63a5\u5355\u65f6\u95f4\u9700\u4e3a\u6b63\u6574\u6570"),void this.ngOnInit()):(this.message.create("error","\u8ddd\u79bb\u9700\u4e3a\u6b63\u6574\u6570"),void this.ngOnInit()):(this.message.create("error","\u62a2\u5355\u6570\u9700\u4e3a\u6b63\u6574\u6570"),void this.ngOnInit())}}return e.\u0275fac=function(t){return new(t||e)(s.\u0275\u0275directiveInject(a),s.\u0275\u0275directiveInject(l.DwMessageService))},e.\u0275cmp=s.\u0275\u0275defineComponent({type:e,selectors:[["app-auto-settings"]],decls:50,vars:14,consts:[[1,"dw-f-content-list","layoutClass","sales_layout"],[1,"issue_layout_head"],[1,"issue_layout_title"],[2,"margin-left","3px"],[1,"content-box"],[2,"display","flex"],[1,"box-wrap"],[1,"tab-label"],["class","box",4,"ngIf"],["class","pool_box",4,"ngIf"],[1,"box"],["dwCheckedChildren","\u5f00","dwUnCheckedChildren","\u5173",3,"ngModel","ngModelChange","click"],[1,"flex-inner"],[1,"pool_box"],[1,"box","selectBox",2,"margin-left","40px"],[1,"principleInfo"],["dw-icon","","dwType","info-circle","dwTheme","fill"],[1,"func_tip"],[1,"func_list"],[1,"func_name"],[1,"title"],[2,"width","calc(100% - 80px)",3,"ngModel","ngModelChange"],[3,"dwLabel","dwValue",4,"ngFor","ngForOf"],[3,"dwLabel","dwValue"],[1,"box",2,"margin-left","40px"],[3,"ngModel","dwMin","dwMax","dwStep","dwPrecision","ngModelChange","dwBlur"],["dwCheckedChildren","\u5f00","dwUnCheckedChildren","\u5173",3,"ngModel","disabled","ngModelChange","click"],[1,"requirements"],[1,"require_title"],[1,"require_input"]],template:function(e,t){1&e&&(s.\u0275\u0275elementStart(0,"dw-content",0),s.\u0275\u0275elementStart(1,"div",1),s.\u0275\u0275elementStart(2,"h2",2),s.\u0275\u0275elementStart(3,"span",3),s.\u0275\u0275text(4,"\u6d41\u7a0b\u914d\u7f6e"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275element(5,"dw-divider"),s.\u0275\u0275elementStart(6,"div",4),s.\u0275\u0275elementStart(7,"div",5),s.\u0275\u0275elementStart(8,"div",6),s.\u0275\u0275elementStart(9,"div",7),s.\u0275\u0275text(10,"\u5de5\u5355"),s.\u0275\u0275elementEnd(),s.\u0275\u0275template(11,_,4,1,"div",8),s.\u0275\u0275template(12,b,25,3,"div",9),s.\u0275\u0275elementStart(13,"div",10),s.\u0275\u0275elementStart(14,"label"),s.\u0275\u0275text(15,"\u81ea\u52a8\u6d3e\u5de5"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(16,"dw-switch",11),s.\u0275\u0275listener("ngModelChange",function(e){return t.auto_distribution=e})("click",function(){return t.clickSwitchForDistribution()}),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275template(17,v,4,1,"div",8),s.\u0275\u0275template(18,S,12,7,"div",9),s.\u0275\u0275template(19,f,4,1,"div",8),s.\u0275\u0275template(20,x,8,2,"div",9),s.\u0275\u0275elementStart(21,"div",10),s.\u0275\u0275elementStart(22,"label"),s.\u0275\u0275text(23,"\u5de5\u7a0b\u5e08\u7aef\u654f\u611f\u6570\u636e\u663e\u793a"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(24,"dw-switch",11),s.\u0275\u0275listener("ngModelChange",function(e){return t.display_sensitive_data=e})("click",function(){return t.clickSwitchForDisplaySensitiveData()}),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275template(25,y,4,1,"div",8),s.\u0275\u0275template(26,M,20,17,"div",9),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(27,"div",12),s.\u0275\u0275elementStart(28,"div",6),s.\u0275\u0275elementStart(29,"div",7),s.\u0275\u0275text(30,"\u56de\u5355\uff08\u670d\u52a1\u62a5\u544a\uff09"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(31,"div",10),s.\u0275\u0275elementStart(32,"label"),s.\u0275\u0275text(33,"\u56de\u5355\u663e\u793a\u8d39\u7528\u4fe1\u606f"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(34,"dw-switch",11),s.\u0275\u0275listener("ngModelChange",function(e){return t.show_expenses=e})("click",function(){return t.clickSwitchForShowExpenses()}),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(35,"div",10),s.\u0275\u0275elementStart(36,"label"),s.\u0275\u0275text(37,"\u56de\u5355\u914d\u4ef6\u5173\u8054\u5e93\u5b58"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(38,"dw-switch",11),s.\u0275\u0275listener("ngModelChange",function(e){return t.relate_to_inventory=e})("click",function(){return t.clickSwitchForRelateToInventory()}),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(39,"div",10),s.\u0275\u0275elementStart(40,"label"),s.\u0275\u0275text(41,"\u5de5\u7a0b\u5e08\u4e0d\u53ef\u53d8\u66f4\u65e7\u4ef6\u56de\u6536"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(42,"dw-switch",11),s.\u0275\u0275listener("ngModelChange",function(e){return t.recycle_unchangeable=e})("click",function(){return t.clickSwitchForRecycleUnchangeable()}),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(43,"div",6),s.\u0275\u0275elementStart(44,"div",7),s.\u0275\u0275text(45,"\u53d1\u8d27"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(46,"div",10),s.\u0275\u0275elementStart(47,"label"),s.\u0275\u0275text(48,"\u5141\u8bb8\u8d1f\u5e93\u5b58\u51fa\u8d27"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(49,"dw-switch",11),s.\u0275\u0275listener("ngModelChange",function(e){return t.negative_inventory_allowed=e})("click",function(){return t.clickSwitchForNegativeInventoryAllowed()}),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd()),2&e&&(s.\u0275\u0275advance(11),s.\u0275\u0275property("ngIf",!t.auto_assign),s.\u0275\u0275advance(1),s.\u0275\u0275property("ngIf",t.auto_assign),s.\u0275\u0275advance(4),s.\u0275\u0275property("ngModel",t.auto_distribution),s.\u0275\u0275advance(1),s.\u0275\u0275property("ngIf",!t.auto_clock_in),s.\u0275\u0275advance(1),s.\u0275\u0275property("ngIf",t.auto_clock_in),s.\u0275\u0275advance(1),s.\u0275\u0275property("ngIf",!t.distribution_all),s.\u0275\u0275advance(1),s.\u0275\u0275property("ngIf",t.distribution_all),s.\u0275\u0275advance(4),s.\u0275\u0275property("ngModel",t.display_sensitive_data),s.\u0275\u0275advance(1),s.\u0275\u0275property("ngIf",!t.enable_so_pool),s.\u0275\u0275advance(1),s.\u0275\u0275property("ngIf",t.enable_so_pool),s.\u0275\u0275advance(8),s.\u0275\u0275property("ngModel",t.show_expenses),s.\u0275\u0275advance(4),s.\u0275\u0275property("ngModel",t.relate_to_inventory),s.\u0275\u0275advance(4),s.\u0275\u0275property("ngModel",t.recycle_unchangeable),s.\u0275\u0275advance(7),s.\u0275\u0275property("ngModel",t.negative_inventory_allowed))},directives:[c.DwContentComponent,d.DwDividerComponent,r.NgIf,u.DwSwitchComponent,g.NgControlStatus,g.NgModel,h.DwIconDirective,p.DwSelectComponent,r.NgForOf,p.DwOptionComponent,m.DwInputNumberComponent],styles:[".box-wrap[_ngcontent-%COMP%]{position:relative;border:1px solid #a0a0a0;padding:30px 0 0;margin:0 48px 24px 0}.box-wrap[_ngcontent-%COMP%]   .tab-label[_ngcontent-%COMP%]{height:28px;line-height:28px;color:#000;font-weight:bold;padding:0 10px;background:#fff;position:absolute;top:-14px;left:22px}.box-wrap[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]{margin:0 32px 20px}.box-wrap[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-right:10px}.pool_box[_ngcontent-%COMP%]{background:#f7f7f7;margin:0 20px 20px;padding-top:12px;padding-bottom:1px}.pool_box[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]{margin-left:12px;margin-bottom:12px}.pool_box[_ngcontent-%COMP%]   .selectBox[_ngcontent-%COMP%]{margin-right:10px;display:flex;align-items:center}.pool_box[_ngcontent-%COMP%]   .requirements[_ngcontent-%COMP%]{position:relative;border:1px solid #e8e8e8;margin:24px 12px 12px;padding:18px 18px 1px}.pool_box[_ngcontent-%COMP%]   .requirements[_ngcontent-%COMP%]   .require_title[_ngcontent-%COMP%]{position:absolute;height:28px;line-height:28px;padding:0 6px;background:#f7f7f7;top:-15px;left:12px}.pool_box[_ngcontent-%COMP%]   .requirements[_ngcontent-%COMP%]   .require_input[_ngcontent-%COMP%]{margin-bottom:12px}.principleInfo[_ngcontent-%COMP%]{position:relative}.principleInfo[_ngcontent-%COMP%]:hover   .func_tip[_ngcontent-%COMP%]{display:block}.principleInfo[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]{color:#d7d7d7;font-size:12px;margin-left:1px;margin-right:3px;margin-bottom:10px}.func_tip[_ngcontent-%COMP%]{display:none;width:300px;background:rgba(0,0,0,.8);color:#fff;font-size:14px;line-height:22px;border-radius:4px;padding:4px 6px;position:absolute;top:28px;left:-40px;z-index:6}.func_tip[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#ffffffbf}.func_tip[_ngcontent-%COMP%]   .func_name[_ngcontent-%COMP%]{font-weight:bold}"]}),e})();var E=n(32276),k=n(51033);const O=[{path:"",pathMatch:"prefix",canActivate:[E.DwAuthGuardService,k.L],component:C,data:{dwRouteData:{programId:"auto-settings",dwAuthId:"auto-settings"},reload:!0}}];let P=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=s.\u0275\u0275defineInjector({imports:[[i.RouterModule.forChild(O)],i.RouterModule]}),e})();var I=n(23938);let D=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=s.\u0275\u0275defineInjector({imports:[[r.CommonModule,I.m,P,l.DwMessageModule,c.DwLayoutModule,d.DwDividerModule,m.DwInputNumberModule,u.DwSwitchModule,p.DwSelectModule,h.DwIconModule]]}),e})()},51033:function(e,t,n){n.d(t,{L:function(){return d}}),n(87974);var r=n(32276),i=n(51156),o=n(66800),s=n(83237),a=n(31441),l=n(71049),c=n(42746);let d=(()=>{class e{constructor(e,t,n,r,i){this.http=e,this.authService=t,this.userService=n,this.message=r,this.modalService=i,this.uerId=""}canLoad(e){return!0}canActivateChild(e,t){return!0}canActivate(e,t){return new l.Observable(e=>{this.uerId=this.userService.getUser("userId"),this.uerId?this.http.get(`restful/service/employee/Employee/ValidateIamUser?userId=${this.uerId}`).subscribe(t=>{t.success?(sessionStorage.setItem("employeeInfo",JSON.stringify(t.data?t.data.data:{})),e.next(!0)):(this.modalService.warning({dwTitle:"\u63d0\u793a",dwContent:t.data,dwWidth:"400px",dwOnOk:()=>{this.authService.logout(),window.location.reload()}}),e.next(!1))},t=>{console.log(t),t.hasOwnProperty("error")&&t.error.hasOwnProperty("errorMessage")&&t.error.errorMessage&&this.message.error(t.error.errorMessage),e.next(!1)}):e.next(!0)})}}return e.\u0275fac=function(t){return new(t||e)(c.\u0275\u0275inject(i.DwDapHttpClient),c.\u0275\u0275inject(r.DwAuthService),c.\u0275\u0275inject(o.DwUserService),c.\u0275\u0275inject(s.DwMessageService),c.\u0275\u0275inject(a.DwModalService))},e.\u0275prov=c.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()}}]);