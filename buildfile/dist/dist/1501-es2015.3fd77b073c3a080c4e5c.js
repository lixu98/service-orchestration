"use strict";(self.webpackChunkassc_crs=self.webpackChunkassc_crs||[]).push([[1501],{5994:function(e,t,n){n.r(t),n.d(t,{DwTenantBlockComponent:function(){return x},DwTenantModule:function(){return C}});var r=n(42746),i=n(31441),o=n(83522),a=n(66800),c=n(68521),l=n(55245),s=n(85277),d=n(80376),m=n(52683);function p(e,t){if(1&e){const e=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"span",2),r.\u0275\u0275listener("dwPopoverVisibleChange",function(t){return r.\u0275\u0275restoreView(e),r.\u0275\u0275nextContext().visibleFromTitle=t}),r.\u0275\u0275elementStart(1,"i",3),r.\u0275\u0275namespaceSVG(),r.\u0275\u0275elementStart(2,"svg",4),r.\u0275\u0275element(3,"path",5),r.\u0275\u0275element(4,"path",6),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275namespaceHTML(),r.\u0275\u0275elementStart(5,"span",7),r.\u0275\u0275text(6),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd()}if(2&e){const e=r.\u0275\u0275nextContext(),t=r.\u0275\u0275reference(2);r.\u0275\u0275property("dwPopoverVisible",e.visibleFromTitle)("dwPopoverContent",t),r.\u0275\u0275advance(6),r.\u0275\u0275textInterpolate(e.userDetail.tenantName)}}function w(e,t){if(1&e&&(r.\u0275\u0275element(0,"i",11),r.\u0275\u0275text(1)),2&e){const e=r.\u0275\u0275nextContext(3);r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate1("",e.userDetail.tenantName," ")}}function u(e,t){if(1&e&&(r.\u0275\u0275elementContainerStart(0),r.\u0275\u0275elementStart(1,"dw-list",9),r.\u0275\u0275template(2,w,2,1,"ng-template",null,10,r.\u0275\u0275templateRefExtractor),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementContainerEnd()),2&e){const e=r.\u0275\u0275reference(3);r.\u0275\u0275advance(1),r.\u0275\u0275property("dwHeader",e)}}function v(e,t){1&e&&(r.\u0275\u0275element(0,"i",14),r.\u0275\u0275elementStart(1,"span",15),r.\u0275\u0275text(2,"dw-tenant-switch-tenant"),r.\u0275\u0275elementEnd())}function h(e,t){1&e&&r.\u0275\u0275element(0,"i",11)}function f(e,t){if(1&e){const e=r.\u0275\u0275getCurrentView();r.\u0275\u0275template(0,h,1,0,"i",18),r.\u0275\u0275elementStart(1,"a",19),r.\u0275\u0275listener("click",function(){r.\u0275\u0275restoreView(e);const t=r.\u0275\u0275nextContext().$implicit;return r.\u0275\u0275nextContext(3).changeTenant(t.tenantSid)}),r.\u0275\u0275text(2),r.\u0275\u0275elementEnd()}if(2&e){const e=r.\u0275\u0275nextContext().$implicit,t=r.\u0275\u0275nextContext(3);r.\u0275\u0275property("ngIf",t.userDetail.tenantSid===e.tenantSid),r.\u0275\u0275advance(2),r.\u0275\u0275textInterpolate(e.tenantName)}}function g(e,t){if(1&e&&(r.\u0275\u0275elementStart(0,"dw-list-item"),r.\u0275\u0275elementStart(1,"dw-list-item-meta",16),r.\u0275\u0275template(2,f,3,2,"ng-template",null,17,r.\u0275\u0275templateRefExtractor),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd()),2&e){const e=r.\u0275\u0275reference(3);r.\u0275\u0275advance(1),r.\u0275\u0275property("dwTitle",e)}}function S(e,t){if(1&e&&(r.\u0275\u0275elementContainerStart(0),r.\u0275\u0275elementStart(1,"dw-list",12),r.\u0275\u0275template(2,v,3,0,"ng-template",null,13,r.\u0275\u0275templateRefExtractor),r.\u0275\u0275template(4,g,4,1,"ng-template",null,1,r.\u0275\u0275templateRefExtractor),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementContainerEnd()),2&e){const e=r.\u0275\u0275reference(3),t=r.\u0275\u0275reference(5),n=r.\u0275\u0275nextContext(2);r.\u0275\u0275advance(1),r.\u0275\u0275property("dwDataSource",n.currTenantList)("dwHeader",e)("dwRenderItem",t)}}function T(e,t){if(1&e&&(r.\u0275\u0275template(0,u,4,1,"ng-container",8),r.\u0275\u0275template(1,S,6,3,"ng-container",8)),2&e){const e=r.\u0275\u0275nextContext();r.\u0275\u0275property("ngIf",1===e.currTenantList.length),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",e.currTenantList.length>1)}}let x=(()=>{class e{constructor(e,t,n,r,i){this.userService=e,this.dwModalService=t,this.translateService=n,this.dwTenantService=r,this.defaultAppRouterService=i,this.userDetail={},this.currTenantList=[],this.userDetail=this.userService.getUserInfo()}ngOnDestroy(){this.tenantSubscription&&this.tenantSubscription.unsubscribe()}ngOnInit(){this.tenantSubscription=this.dwTenantService.currTenantList$.subscribe(e=>{this.currTenantList=e})}changeTenant(e){this.userDetail.tenantSid!==e&&this.dwModalService.confirm({dwIconType:"exclamation-circle",dwTitle:this.translateService.instant("dw-tenant-changeTenant-title"),dwContent:this.translateService.instant("dw-tenant-changeTenant-content"),dwOnOk:()=>{this.visibleFromIcon=!1,this.visibleFromTitle=!1,this.dwTenantService.tokenRefreshTenant(e).subscribe(()=>{this.defaultAppRouterService.defaultAppRouterLink$.subscribe(e=>{window.location.href=e})},e=>{e.hasOwnProperty("error")&&e.error.hasOwnProperty("errorMessage")&&e.error.errorMessage&&this.dwModalService.error({dwContent:e.error.errorMessage})})}})}}return e.\u0275fac=function(t){return new(t||e)(r.\u0275\u0275directiveInject(a.DwUserService),r.\u0275\u0275directiveInject(i.DwModalService),r.\u0275\u0275directiveInject(o.TranslateService),r.\u0275\u0275directiveInject(a.DwTenantService),r.\u0275\u0275directiveInject(c.DwDefaultAppRouterService))},e.\u0275cmp=r.\u0275\u0275defineComponent({type:e,selectors:[["dw-tenant-block"]],decls:3,vars:1,consts:[["dw-popover","","dwPopoverTrigger","click","class","dw-f-header-item dw-f-text-link",3,"dwPopoverVisible","dwPopoverContent","dwPopoverVisibleChange",4,"ngIf"],["tenantListTemp",""],["dw-popover","","dwPopoverTrigger","click",1,"dw-f-header-item","dw-f-text-link",3,"dwPopoverVisible","dwPopoverContent","dwPopoverVisibleChange"],["dw-icon","",1,"dw-header-icon"],["xmlns","http://www.w3.org/2000/svg","height","1em","viewBox","0 0 22 22","width","1em","fill","currentColor"],["d","M0 0h24v24H0z","fill","none"],["d","M12 7V3H2v18h20V7H12zM6 19H4v-2h2v2zm0-4H4v-2h2v2zm0-4H4V9h2v2zm0-4H4V5h2v2zm4 12H8v-2h2v2zm0-4H8v-2h2v2zm0-4H8V9h2v2zm0-4H8V5h2v2zm10 12h-8v-2h2v-2h-2v-2h2v-2h-2V9h8v10zm-2-8h-2v2h2v-2zm0 4h-2v2h2v-2z"],["dw-tooltip","","dwTooltipPlacement","bottom"],[4,"ngIf"],["dwBordered","","dwSize","large",3,"dwHeader"],["headerOneTemp",""],["dw-icon","","dwType","check","dwTheme","outline"],["dwBordered","","dwSize","large",3,"dwDataSource","dwHeader","dwRenderItem"],["headerTemp",""],["dw-icon","","dwType","retweet","dwTheme","outline"],["translate",""],[3,"dwTitle"],["dwTitle",""],["dw-icon","","dwType","check","dwTheme","outline",4,"ngIf"],[3,"click"]],template:function(e,t){1&e&&(r.\u0275\u0275template(0,p,7,3,"span",0),r.\u0275\u0275template(1,T,2,2,"ng-template",null,1,r.\u0275\u0275templateRefExtractor)),2&e&&r.\u0275\u0275property("ngIf",t.currTenantList.length>0)},directives:[l.NgIf,m.DwPopoverDirective,s.DwIconDirective,d.DwListComponent,o.TranslateDirective,d.DwListItemComponent,d.DwListItemMetaComponent],styles:[""]}),e})(),C=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=r.\u0275\u0275defineInjector({imports:[[l.CommonModule,d.DwListModule,m.DwPopoverModule,o.TranslateModule,s.DwIconModule]]}),e})()}}]);