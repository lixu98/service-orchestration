"use strict";(self.webpackChunkassc_crs=self.webpackChunkassc_crs||[]).push([[2470],{2470:function(e,t,i){i.r(t),i.d(t,{ANGULARTICS2_TOKEN:function(){return p},AppInsightsDefaults:function(){return v},DefaultConfig:function(){return l},DwAnalytics:function(){return w},DwAnalyticsAdobeAnalytics:function(){return I},DwAnalyticsAmplitude:function(){return T},DwAnalyticsAppInsights:function(){return j},DwAnalyticsBaiduTongji:function(){return y},DwAnalyticsClicky:function(){return N},DwAnalyticsFacebook:function(){return P},DwAnalyticsGoogleAnalytics:function(){return R},DwAnalyticsGoogleAnalyticsEnhancedEcommerce:function(){return _},DwAnalyticsGoogleTagManager:function(){return f},DwAnalyticsHubspot:function(){return C},DwAnalyticsIntercom:function(){return O},DwAnalyticsKissmetrics:function(){return x},DwAnalyticsMixpanel:function(){return S},DwAnalyticsModule:function(){return k},DwAnalyticsOn:function(){return b},DwAnalyticsOnModule:function(){return A},DwAnalyticsPiwik:function(){return D},DwAnalyticsSegment:function(){return V},DwAnalyticsWoopra:function(){return q},DwAngularRouterTracking:function(){return m},GoogleAnalyticsDefaults:function(){return E},GoogleTagManagerDefaults:function(){return g},RouterlessTracking:function(){return h}});var n=i(42746),r=i(71049),a=i(30469),c=i(55245),o=i(87974),d=i(47372),u=i(59083);class l{constructor(){this.pageTracking={autoTrackVirtualPages:!0,basePath:"",excludedRoutes:[],clearIds:!1,clearHash:!1,clearQueryParams:!1,idsRegExp:/^\d+$|^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/},this.developerMode=!1,this.ga={},this.appInsights={},this.gtm={},this.gst={}}}const p=new n.InjectionToken("ANGULARTICS2");let h=(()=>{class e{trackLocation(e){return new r.BehaviorSubject({url:"/"})}prepareExternalUrl(e){return e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=n.\u0275\u0275defineInjectable({factory:function(){return new e},token:e,providedIn:"root"}),e})();class g{constructor(){this.userId=null,this.dimensions={}}}class f{constructor(e,t){this.dwAnalytics=e,"undefined"!=typeof dataLayer&&dataLayer&&(dataLayer=window.dataLayer=window.dataLayer||[]);const s=new g;this.dwAnalytics.settings.gtm=Object.assign(Object.assign({},s),this.dwAnalytics.settings.gtm),this.dwAnalytics.pageTrack.subscribe(e=>this.pageTrack(e.path)),this.dwAnalytics.eventTrack.subscribe(e=>this.eventTrack(e.action,e.properties)),this.dwAnalytics.exceptionTrack.subscribe(e=>this.exceptionTrack(e)),this.dwAnalytics.setUserId.subscribe(e=>this.setUserId(e)),this.dwAnalytics.setAppId.subscribe(e=>this.setAppId(e)),this.dwAnalytics.setTenantId.subscribe(e=>this.setTenantId(e)),this.dwAnalytics.setUserName.subscribe(e=>this.setUserName(e)),this.dwAnalytics.setTenantName.subscribe(e=>this.setTenantName(e)),this.dwAnalytics.setAppName.subscribe(e=>this.setAppName(e)),f.createSession({trackingId:t})}pageTrack(e,t){"undefined"!=typeof dataLayer&&dataLayer&&dataLayer.push(Object.assign({event:"Page View","content-name":e,url:e,userId:this.dwAnalytics.settings.gtm.userId,title:t},this.dwAnalytics.settings.gtm.dimensions||{}))}eventTrack(e,t){t=t||{},"undefined"!=typeof dataLayer&&dataLayer&&dataLayer.push(Object.assign(Object.assign({event:t.event||"interaction",target:t.category||"Event",category:t.category||"",action:e,label:t.label,value:t.value,interactionType:t.noninteraction,userId:this.dwAnalytics.settings.gtm.userId},this.dwAnalytics.settings.gtm.dimensions||{}),t.gtmCustom))}exceptionTrack(e){e&&e.appId&&e.appName&&e.appVersion?(void 0===e.fatal&&(console.log('No "fatal" provided, sending with fatal=true'),e.exFatal=!0),e.exDescription=e.event?e.event.stack:e.description,this.eventTrack(`Exception thrown for ${e.appName} <${e.appId}@${e.appVersion}>`,{category:"Exception",label:e.exDescription})):console.error("Must be setted appId, appName and appVersion.")}setUserId(e){this.dwAnalytics.settings.gtm.dimensions.userId=e,this.dwAnalytics.settings.gtm.userId=e}setAppId(e){this.dwAnalytics.settings.gtm.dimensions.appId=e}setTenantId(e){this.dwAnalytics.settings.gtm.dimensions.tenantId=e}setUserName(e){this.dwAnalytics.settings.gtm.dimensions.userName=e}setTenantName(e){this.dwAnalytics.settings.gtm.dimensions.tenantName=e}setAppName(e){this.dwAnalytics.settings.gtm.dimensions.appName=e}static createSession(e){!function(e,t,s,i,n){e[i]=e[i]||[],e[i].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});const r=t.getElementsByTagName(s)[0],a=t.createElement(s);a.async=!0,a.src="https://www.googletagmanager.com/gtm.js?id="+n,r.parentNode.insertBefore(a,r)}(window,document,"script","dataLayer",e.trackingId)}}class y{constructor(e,t){this.dwAnalytics=e,"undefined"==typeof _hmt?_hmt=window._hmt=[]:_hmt.push(["_setAutoPageview",!1]),this.dwAnalytics.pageTrack.subscribe(e=>this.pageTrack(e.path)),this.dwAnalytics.eventTrack.subscribe(e=>this.eventTrack(e.action,e.properties)),this.dwAnalytics.setAppId.subscribe(e=>this.setAppId(e)),this.dwAnalytics.setTenantId.subscribe(e=>this.setTenantId(e)),this.dwAnalytics.setUserId.subscribe(e=>this.setUserId(e)),this.dwAnalytics.setCustomVar.subscribe(e=>this.setCustomVar(e)),this.dwAnalytics.setUserName.subscribe(e=>this.setUserName(e)),this.dwAnalytics.setTenantName.subscribe(e=>this.setTenantName(e)),this.dwAnalytics.setAppName.subscribe(e=>this.setAppName(e)),y.createSession({trackingId:t})}pageTrack(e){"undefined"!=typeof _hmt&&_hmt&&_hmt.push(["_trackPageview",e])}eventTrack(e,t){(!t||!t.category)&&((t=t||{}).category="Event",t.label="default",t.value="default"),"undefined"!=typeof _hmt&&_hmt&&_hmt.push(["_trackEvent",t.category,e,t.label,t.value])}setAppId(e){_hmt.push(["_setCustomVar",1,"appId",e,3])}setTenantId(e){_hmt.push(["_setCustomVar",2,"tenantId",e,3])}setUserId(e){_hmt.push(["_setCustomVar",3,"userId",e,3])}setUserName(e){_hmt.push(["_setCustomVar",4,"userName",e,3])}setTenantName(e){_hmt.push(["_setCustomVar",5,"tenantName",e,3])}setAppName(e){_hmt.push(["_setCustomVar",6,"appName",e,3])}setCustomVar(e){_hmt.push(["_setCustomVar",e.index,e.name,e.value,e.scope?e.scope:3])}setUserProperties(e){_hmt.push(["_setCustomVar",2,"user",JSON.stringify(e)])}static createSession(e){!function(){const t=document.getElementsByTagName("script")[0],s=document.createElement("script");s.async=!0,s.src="https://hm.baidu.com/hm.js?"+e.trackingId,t.parentNode.insertBefore(s,t)}()}}let w=(()=>{class e{constructor(e,t,s,i,n){this.tracker=e,this.document=s,this.configService=i,this.pageTrack=new r.ReplaySubject(10),this.eventTrack=new r.ReplaySubject(10),this.exceptionTrack=new r.ReplaySubject(10),this.setAlias=new r.ReplaySubject(10),this.setUserId=new r.ReplaySubject(10),this.setAppId=new r.ReplaySubject(10),this.setTenantId=new r.ReplaySubject(10),this.setCustomVar=new r.ReplaySubject(10),this.setUserProperties=new r.ReplaySubject(10),this.setUserPropertiesOnce=new r.ReplaySubject(10),this.setSuperProperties=new r.ReplaySubject(10),this.setSuperPropertiesOnce=new r.ReplaySubject(10),this.userTimings=new r.ReplaySubject(10),this.setUserName=new r.ReplaySubject(10),this.setTenantName=new r.ReplaySubject(10),this.setAppName=new r.ReplaySubject(10);const a=new l;this.settings=Object.assign(Object.assign({},a),t.settings),this.settings.pageTracking=Object.assign(Object.assign({},a.pageTracking),t.settings.pageTracking),this.tracker.trackLocation(this.settings).subscribe(e=>this.trackUrlChange(e.url,e.title)),this.configService.get("analytics").subscribe(e=>{e&&(""!==e.gtm&&"@ANALYTICS_GTM@"!==e.gtm&&new f(this,e.gtm),""!==e.baidu&&"@ANALYTICS_BAIDU@"!==e.baidu&&new y(this,e.baidu))})}trackUrlChange(e,t){if(this.settings.pageTracking.autoTrackVirtualPages&&!this.matchesExcludedRoute(e)){const s=this.clearUrl(e);let i;i=this.settings.pageTracking.basePath.length?this.settings.pageTracking.basePath+s:this.tracker.prepareExternalUrl(s),this.pageTrack.next({path:i,title:t})}}matchesExcludedRoute(e){for(const t of this.settings.pageTracking.excludedRoutes)if(t instanceof RegExp&&t.test(e)||-1!==e.indexOf(t))return!0;return!1}clearUrl(e){return this.settings.pageTracking.clearIds||this.settings.pageTracking.clearQueryParams?e.split("/").map(e=>this.settings.pageTracking.clearQueryParams?e.split("?")[0]:e).map(e=>this.settings.pageTracking.clearHash?e.split("#")[0]:e).filter(e=>!this.settings.pageTracking.clearIds||!e.match(this.settings.pageTracking.idsRegExp)).join("/"):e}}return e.\u0275fac=function(t){return new(t||e)(n.\u0275\u0275inject(h),n.\u0275\u0275inject(p),n.\u0275\u0275inject(c.DOCUMENT),n.\u0275\u0275inject(a.DwSystemConfigService),n.\u0275\u0275inject(n.NgZone))},e.\u0275prov=n.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac}),e})(),m=(()=>{class e{constructor(e,t,s){this.router=e,this.location=t,this.title=s}trackLocation(e){return this.router.events.pipe((0,d.filter)(e=>e instanceof o.NavigationEnd),(0,d.filter)(()=>!e.developerMode),(0,d.map)(e=>({url:e.urlAfterRedirects,title:this.title.getTitle()})),(0,d.delay)(0))}prepareExternalUrl(e){return this.location.prepareExternalUrl(e)}}return e.\u0275fac=function(t){return new(t||e)(n.\u0275\u0275inject(o.Router),n.\u0275\u0275inject(c.Location),n.\u0275\u0275inject(u.Title))},e.\u0275prov=n.\u0275\u0275defineInjectable({factory:function(){return new e(n.\u0275\u0275inject(o.Router),n.\u0275\u0275inject(c.Location),n.\u0275\u0275inject(u.Title))},token:e,providedIn:"root"}),e})(),b=(()=>{class e{constructor(e,t,s){this.elRef=e,this.dwAnalytics=t,this.renderer=s,this.angularticsProperties={}}ngAfterContentInit(){this.renderer.listen(this.elRef.nativeElement,this.dwAnalyticsOn||"click",e=>this.eventTrack(e))}eventTrack(e){const t=this.angularticsAction,s=Object.assign(Object.assign({},this.angularticsProperties),{eventType:e.type});this.angularticsCategory&&(s.category=this.angularticsCategory),this.angularticsLabel&&(s.label=this.angularticsLabel),this.angularticsValue&&(s.value=this.angularticsValue),this.dwAnalytics.eventTrack.next({action:t,properties:s})}}return e.\u0275fac=function(t){return new(t||e)(n.\u0275\u0275directiveInject(n.ElementRef),n.\u0275\u0275directiveInject(w),n.\u0275\u0275directiveInject(n.Renderer2))},e.\u0275dir=n.\u0275\u0275defineDirective({type:e,selectors:[["","dw-analyticsOn",""]],inputs:{angularticsProperties:"angularticsProperties",dwAnalyticsOn:["dw-analyticsOn","dwAnalyticsOn"],angularticsAction:"angularticsAction",angularticsCategory:"angularticsCategory",angularticsLabel:"angularticsLabel",angularticsValue:"angularticsValue"}}),e.\u0275prov=n.\u0275\u0275defineInjectable({factory:function(){return new e(n.\u0275\u0275inject(n.ElementRef),n.\u0275\u0275inject(w),n.\u0275\u0275inject(n.Renderer2))},token:e,providedIn:"root"}),e})(),A=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=n.\u0275\u0275defineInjector({}),e})(),k=(()=>{class e{static forRoot(t={}){return{ngModule:e,providers:[{provide:p,useValue:{providers:[],settings:t}},w,{provide:h,useClass:m}]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=n.\u0275\u0275defineInjector({imports:[[A]]}),e})(),I=(()=>{class e{constructor(e,t){this.injector=e,this.location=t,this.dwAnalytics=this.injector.get(w),this.dwAnalytics.pageTrack.subscribe(e=>this.pageTrack(e.path)),this.dwAnalytics.eventTrack.subscribe(e=>this.eventTrack(e.action,e.properties)),this.dwAnalytics.setUserProperties.subscribe(e=>this.setUserProperties(e))}pageTrack(e){"undefined"!=typeof s&&s&&(s.clearVars(),s.t({pageName:e}))}eventTrack(e,t){if(t||(t=t||{}),"undefined"!=typeof s&&s&&("object"==typeof t&&this.setUserProperties(t),e)){const i=t.linkName?t.linkName:e,n=!!t.disableDelay||this;t.action&&(e=t.action),this.setPageName(),"DOWNLOAD"===e.toUpperCase()?s.tl(n,"d",i):"EXIT"===e.toUpperCase()?s.tl(n,"e",i):s.tl(n,"o",i)}}setPageName(){const e=this.location.path(!0),t=e.indexOf("#");s.pageName=t>0&&t<e.length?e.substring(t+1):e}setUserProperties(e){if("undefined"!=typeof s&&s&&"object"==typeof e)for(const t in e)e.hasOwnProperty(t)&&(s[t]=e[t])}}return e.\u0275fac=function(t){return new(t||e)(n.\u0275\u0275inject(n.Injector),n.\u0275\u0275inject(c.Location))},e.\u0275prov=n.\u0275\u0275defineInjectable({factory:function(){return new e(n.\u0275\u0275inject(n.INJECTOR),n.\u0275\u0275inject(c.Location))},token:e,providedIn:"root"}),e})(),T=(()=>{class e{constructor(e){this.dwAnalytics=e,this.dwAnalytics.pageTrack.subscribe(e=>this.pageTrack(e.path)),this.dwAnalytics.eventTrack.subscribe(e=>this.eventTrack(e.action,e.properties)),this.dwAnalytics.setUserId.subscribe(e=>this.setUserId(e)),this.dwAnalytics.setUserProperties.subscribe(e=>this.setUserProperties(e)),this.dwAnalytics.setUserPropertiesOnce.subscribe(e=>this.setUserProperties(e))}pageTrack(e){try{this.eventTrack("Pageview",{url:e})}catch(t){if(!(t instanceof ReferenceError))throw t}}eventTrack(e,t){try{amplitude.getInstance().logEvent(e,t)}catch(s){if(!(s instanceof ReferenceError))throw s}}setUserId(e){try{amplitude.getInstance().setUserId(e)}catch(t){if(!(t instanceof ReferenceError))throw t}}setUserProperties(e){try{amplitude.getInstance().setUserProperties(e)}catch(t){if(!(t instanceof ReferenceError))throw t}}}return e.\u0275fac=function(t){return new(t||e)(n.\u0275\u0275inject(w))},e.\u0275prov=n.\u0275\u0275defineInjectable({factory:function(){return new e(n.\u0275\u0275inject(w))},token:e,providedIn:"root"}),e})();class v{constructor(){this.userId=null}}let j=(()=>{class e{constructor(e,t,s){this.dwAnalytics=e,this.title=t,this.router=s,this.loadStartTime=null,this.loadTime=null,this.metrics=null,this.dimensions=null,this.measurements=null,"undefined"==typeof appInsights&&console.warn("appInsights not found");const i=new v;this.dwAnalytics.settings.appInsights=Object.assign(Object.assign({},i),this.dwAnalytics.settings.appInsights),this.dwAnalytics.pageTrack.subscribe(e=>this.pageTrack(e.path)),this.dwAnalytics.eventTrack.subscribe(e=>this.eventTrack(e.action,e.properties)),this.dwAnalytics.exceptionTrack.subscribe(e=>this.exceptionTrack(e)),this.dwAnalytics.setUserId.subscribe(e=>this.setUserId(e)),this.dwAnalytics.setUserProperties.subscribe(e=>this.setUserProperties(e)),this.router.events.pipe((0,d.filter)(e=>e instanceof o.NavigationStart)).subscribe(e=>this.startTimer()),this.router.events.pipe((0,d.filter)(e=>e instanceof o.NavigationError||e instanceof o.NavigationEnd)).subscribe(e=>this.stopTimer())}startTimer(){this.loadStartTime=Date.now(),this.loadTime=null}stopTimer(){this.loadTime=Date.now()-this.loadStartTime,this.loadStartTime=null}pageTrack(e){appInsights.trackPageView(this.title.getTitle(),e,this.dimensions,this.metrics,this.loadTime)}eventTrack(e,t){appInsights.trackEvent(e,t,this.measurements)}exceptionTrack(e){appInsights.trackException(e.event||e.description||e)}setUserId(e){this.dwAnalytics.settings.appInsights.userId=e,appInsights.setAuthenticatedUserContext(e)}setUserProperties(e){e.userId&&(this.dwAnalytics.settings.appInsights.userId=e.userId),e.accountId?appInsights.setAuthenticatedUserContext(this.dwAnalytics.settings.appInsights.userId,e.accountId):appInsights.setAuthenticatedUserContext(this.dwAnalytics.settings.appInsights.userId)}}return e.\u0275fac=function(t){return new(t||e)(n.\u0275\u0275inject(w),n.\u0275\u0275inject(u.Title),n.\u0275\u0275inject(o.Router))},e.\u0275prov=n.\u0275\u0275defineInjectable({factory:function(){return new e(n.\u0275\u0275inject(w),n.\u0275\u0275inject(u.Title),n.\u0275\u0275inject(o.Router))},token:e,providedIn:"root"}),e})(),N=(()=>{class e{constructor(e,t){this.dwAnalytics=e,this.titleService=t,"undefined"==typeof clicky&&console.warn("Angulartics 2 Clicky Plugin: clicky global not found"),this.dwAnalytics.pageTrack.subscribe(e=>this.pageTrack(e.path)),this.dwAnalytics.eventTrack.subscribe(e=>this.eventOrGoalTrack(e.action,e.properties))}pageTrack(e){const t=this.titleService.getTitle();clicky.log(e,t,"pageview")}eventOrGoalTrack(e,t){if(void 0===t.goal){const s=t.title||null,i=null!=t.type?this.validateType(t.type):null;clicky.log(e,s,i)}else clicky.goal(t.goal,t.revenue,!!t.noQueue)}validateType(e){return["pageview","click","download","outbound"].indexOf(e)>-1?e:"pageview"}}return e.\u0275fac=function(t){return new(t||e)(n.\u0275\u0275inject(w),n.\u0275\u0275inject(u.Title))},e.\u0275prov=n.\u0275\u0275defineInjectable({factory:function(){return new e(n.\u0275\u0275inject(w),n.\u0275\u0275inject(u.Title))},token:e,providedIn:"root"}),e})();const U=["ViewContent","Search","AddToCart","AddToWishlist","InitiateCheckout","AddPaymentInfo","Purchase","Lead","CompleteRegistration"];let P=(()=>{class e{constructor(e){this.dwAnalytics=e,this.dwAnalytics.eventTrack.subscribe(e=>this.eventTrack(e.action,e.properties))}eventTrack(e,t={}){if("undefined"!=typeof fbq)return-1===U.indexOf(e)?fbq("trackCustom",e,t):fbq("track",e,t)}}return e.\u0275fac=function(t){return new(t||e)(n.\u0275\u0275inject(w))},e.\u0275prov=n.\u0275\u0275defineInjectable({factory:function(){return new e(n.\u0275\u0275inject(w))},token:e,providedIn:"root"}),e})();class E{constructor(){this.additionalAccountNames=[],this.userId=null,this.appId="",this.tenantId="",this.transport="",this.anonymizeIp=!1,this.dimensions={},this.userName="",this.tenantName="",this.appName=""}}let R=(()=>{class e{constructor(e){this.dimensionsAndMetrics=[],this.dwAnalytics=e.get(w);const t=new E;this.dwAnalytics.settings.ga=Object.assign(Object.assign({},t),this.dwAnalytics.settings.ga),this.dwAnalytics.pageTrack.subscribe(e=>this.pageTrack(e.path)),this.dwAnalytics.eventTrack.subscribe(e=>this.eventTrack(e.action,e.properties)),this.dwAnalytics.exceptionTrack.subscribe(e=>this.exceptionTrack(e)),this.dwAnalytics.setUserId.subscribe(e=>this.setUserId(e)),this.dwAnalytics.setAppId.subscribe(e=>this.setAppId(e)),this.dwAnalytics.setTenantId.subscribe(e=>this.setTenantId(e)),this.dwAnalytics.setUserProperties.subscribe(e=>this.setUserProperties(e)),this.dwAnalytics.userTimings.subscribe(e=>this.userTimings(e)),this.dwAnalytics.setUserName.subscribe(e=>this.setUserName(e)),this.dwAnalytics.setTenantName.subscribe(e=>this.setTenantName(e)),this.dwAnalytics.setAppName.subscribe(e=>this.setAppName(e))}pageTrack(e){if("undefined"!=typeof _gaq&&_gaq){_gaq.push(["_trackPageview",e]);for(const t of this.dwAnalytics.settings.ga.additionalAccountNames)_gaq.push([t+"._trackPageview",e])}if("undefined"!=typeof ga&&ga){if(this.dwAnalytics.settings.ga.userId){ga("set","&uid",this.dwAnalytics.settings.ga.userId);for(const e of this.dwAnalytics.settings.ga.additionalAccountNames)ga(e+".set","&uid",this.dwAnalytics.settings.ga.userId)}if(this.dwAnalytics.settings.ga.anonymizeIp){ga("set","anonymizeIp",!0);for(const e of this.dwAnalytics.settings.ga.additionalAccountNames)ga(e+".set","anonymizeIp",!0)}ga("set",{dimension1:this.dwAnalytics.settings.ga.appId,dimension2:this.dwAnalytics.settings.ga.tenantId,dimension3:this.dwAnalytics.settings.ga.userId,dimension4:this.dwAnalytics.settings.ga.userName,dimension5:this.dwAnalytics.settings.ga.tenantName,dimension6:this.dwAnalytics.settings.ga.appName}),ga("send","pageview",e);for(const t of this.dwAnalytics.settings.ga.additionalAccountNames)ga(t+".send","pageview",e)}}eventTrack(e,t){if((!t||!t.category)&&((t=t||{}).category="Event"),t.value){const e=parseInt(t.value,10);t.value=isNaN(e)?0:e}if("undefined"!=typeof ga){const s={eventCategory:t.category,eventAction:e,eventLabel:t.label,eventValue:t.value,nonInteraction:t.noninteraction,page:t.page||location.hash.substring(1)||location.pathname,userId:this.dwAnalytics.settings.ga.userId,hitCallback:t.hitCallback};ga("set",{dimension1:this.dwAnalytics.settings.ga.appId,dimension2:this.dwAnalytics.settings.ga.tenantId,dimension3:this.dwAnalytics.settings.ga.userId,dimension4:this.dwAnalytics.settings.ga.userName,dimension5:this.dwAnalytics.settings.ga.tenantName,dimension6:this.dwAnalytics.settings.ga.appName}),this.setDimensionsAndMetrics(t),this.dwAnalytics.settings.ga.transport?ga("send","event",s,{transport:this.dwAnalytics.settings.ga.transport}):ga("send","event",s);for(const e of this.dwAnalytics.settings.ga.additionalAccountNames)ga(e+".send","event",s)}else"undefined"!=typeof _gaq&&_gaq.push(["_trackEvent",t.category,e,t.label,t.value,t.noninteraction])}exceptionTrack(e){void 0===e.fatal&&(console.log('No "fatal" provided, sending with fatal=true'),e.fatal=!0),e.exDescription=e.description;const t={exFatal:e.fatal,exDescription:e.description};ga("send","exception",t);for(const s of this.dwAnalytics.settings.ga.additionalAccountNames)ga(s+".send","exception",t)}userTimings(e){if(e&&e.timingCategory&&e.timingVar&&e.timingValue){if("undefined"!=typeof ga){ga("send","timing",e);for(const t of this.dwAnalytics.settings.ga.additionalAccountNames)ga(t+".send","timing",e)}}else console.error("Properties timingCategory, timingVar, and timingValue are required to be set.")}setUserId(e){this.dwAnalytics.settings.ga.userId=e}setAppId(e){this.dwAnalytics.settings.ga.dimensions.appId=e}setTenantId(e){this.dwAnalytics.settings.ga.dimensions.tenantId=e}setUserName(e){this.dwAnalytics.settings.ga.dimensions.userName=e}setTenantName(e){this.dwAnalytics.settings.ga.dimensions.tenantName=e}setAppName(e){this.dwAnalytics.settings.ga.dimensions.appName=e}setUserProperties(e){this.setDimensionsAndMetrics(e)}setDimensionsAndMetrics(e){"undefined"!=typeof ga&&(this.dimensionsAndMetrics.forEach(t=>{e.hasOwnProperty(t)||(ga("set",t,void 0),this.dwAnalytics.settings.ga.additionalAccountNames.forEach(e=>{ga(`${e}.set`,t,void 0)}))}),this.dimensionsAndMetrics=[],Object.keys(e).forEach(t=>{(0===t.lastIndexOf("dimension",0)||0===t.lastIndexOf("metric",0))&&(ga("set",t,e[t]),this.dwAnalytics.settings.ga.additionalAccountNames.forEach(s=>{ga(`${s}.set`,t,e[t])}),this.dimensionsAndMetrics.push(t))}))}static createGaSession(e){document.write(`<script>\n      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){\n        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),\n        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)\n      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');\n\n      ga("create", "'${e.trackingId}'" , "'${e.domain}'");\n      <\/script>\n      `)}}return e.\u0275fac=function(t){return new(t||e)(n.\u0275\u0275inject(n.Injector))},e.\u0275prov=n.\u0275\u0275defineInjectable({factory:function(){return new e(n.\u0275\u0275inject(n.INJECTOR))},token:e,providedIn:"root"}),e})(),_=(()=>{class e{ecAddImpression(e){ga("ec:addImpression",e)}ecAddProduct(e){ga("ec:addProduct",e)}ecSetAction(e,t){ga("ec:setAction",e,t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=n.\u0275\u0275defineInjectable({factory:function(){return new e},token:e,providedIn:"root"}),e})(),C=(()=>{class e{constructor(e){"undefined"==typeof _hsq&&(_hsq=[]),this.dwAnalytics=e.get(w),this.dwAnalytics.pageTrack.subscribe(e=>this.pageTrack(e.path)),this.dwAnalytics.eventTrack.subscribe(e=>this.eventTrack(e.action,e.properties)),this.dwAnalytics.setUserProperties.subscribe(e=>this.setUserProperties(e))}pageTrack(e){"undefined"!=typeof _hsq&&(_hsq.push(["setPath",e]),_hsq.push(["trackPageView"]))}eventTrack(e,t){"undefined"!=typeof _hsq&&_hsq.push(["trackEvent",t])}setUserProperties(e){"undefined"!=typeof _hsq&&_hsq.push(["identify",e])}}return e.\u0275fac=function(t){return new(t||e)(n.\u0275\u0275inject(n.Injector))},e.\u0275prov=n.\u0275\u0275defineInjectable({factory:function(){return new e(n.\u0275\u0275inject(n.INJECTOR))},token:e,providedIn:"root"}),e})(),O=(()=>{class e{constructor(e){this.dwAnalytics=e.get(w),this.dwAnalytics.pageTrack.subscribe(e=>this.pageTrack(e.path)),this.dwAnalytics.eventTrack.subscribe(e=>this.eventTrack(e.action,e.properties)),this.dwAnalytics.setUserProperties.subscribe(e=>this.setUserProperties(e)),this.dwAnalytics.setUserPropertiesOnce.subscribe(e=>this.setUserProperties(e))}pageTrack(e){try{this.eventTrack("Pageview",{url:e})}catch(t){if(!(t instanceof ReferenceError))throw t}}eventTrack(e,t){try{Intercom("trackEvent",e,t)}catch(s){if(!(s instanceof ReferenceError))throw s}}setUserProperties(e){try{e.userId&&!e.user_id&&(e.user_id=e.userId),Intercom("boot",e)}catch(t){if(!(t instanceof ReferenceError))throw t}}}return e.\u0275fac=function(t){return new(t||e)(n.\u0275\u0275inject(n.Injector))},e.\u0275prov=n.\u0275\u0275defineInjectable({factory:function(){return new e(n.\u0275\u0275inject(n.INJECTOR))},token:e,providedIn:"root"}),e})(),x=(()=>{class e{constructor(e){"undefined"==typeof _kmq&&(_kmq=[]),this.dwAnalytics=e.get(w),this.dwAnalytics.pageTrack.subscribe(e=>this.pageTrack(e.path)),this.dwAnalytics.eventTrack.subscribe(e=>this.eventTrack(e.action,e.properties)),this.dwAnalytics.setUserId.subscribe(e=>this.setUserId(e)),this.dwAnalytics.setUserProperties.subscribe(e=>this.setUserProperties(e))}pageTrack(e){_kmq.push(["record","Pageview",{Page:e}])}eventTrack(e,t){_kmq.push(["record",e,t])}setUserId(e){_kmq.push(["identify",e])}setUserProperties(e){_kmq.push(["set",e])}}return e.\u0275fac=function(t){return new(t||e)(n.\u0275\u0275inject(n.Injector))},e.\u0275prov=n.\u0275\u0275defineInjectable({factory:function(){return new e(n.\u0275\u0275inject(n.INJECTOR))},token:e,providedIn:"root"}),e})(),S=(()=>{class e{constructor(e){this.dwAnalytics=e.get(w),this.dwAnalytics.pageTrack.subscribe(e=>this.pageTrack(e.path)),this.dwAnalytics.eventTrack.subscribe(e=>this.eventTrack(e.action,e.properties)),this.dwAnalytics.setUserId.subscribe(e=>this.setUserId(e)),this.dwAnalytics.setUserProperties.subscribe(e=>this.setUserProperties(e)),this.dwAnalytics.setUserPropertiesOnce.subscribe(e=>this.setUserPropertiesOnce(e)),this.dwAnalytics.setSuperProperties.subscribe(e=>this.setSuperProperties(e)),this.dwAnalytics.setSuperPropertiesOnce.subscribe(e=>this.setSuperPropertiesOnce(e)),this.dwAnalytics.setAlias.subscribe(e=>this.setAlias(e))}pageTrack(e){try{mixpanel.track("Page Viewed",{page:e})}catch(t){if(!(t instanceof ReferenceError))throw t}}eventTrack(e,t){try{mixpanel.track(e,t)}catch(s){if(!(s instanceof ReferenceError))throw s}}setUserId(e){try{mixpanel.identify(e)}catch(t){if(!(t instanceof ReferenceError))throw t}}setUserProperties(e){try{mixpanel.people.set(e)}catch(t){if(!(t instanceof ReferenceError))throw t}}setUserPropertiesOnce(e){try{mixpanel.people.set_once(e)}catch(t){if(!(t instanceof ReferenceError))throw t}}setSuperProperties(e){try{mixpanel.register(e)}catch(t){if(!(t instanceof ReferenceError))throw t}}setSuperPropertiesOnce(e){try{mixpanel.register_once(e)}catch(t){if(!(t instanceof ReferenceError))throw t}}setAlias(e){try{mixpanel.alias(e)}catch(t){if(!(t instanceof ReferenceError))throw t}}}return e.\u0275fac=function(t){return new(t||e)(n.\u0275\u0275inject(n.Injector))},e.\u0275prov=n.\u0275\u0275defineInjectable({factory:function(){return new e(n.\u0275\u0275inject(n.INJECTOR))},token:e,providedIn:"root"}),e})(),D=(()=>{class e{constructor(e){this.dwAnalytics=e.get(w),"undefined"==typeof _paq&&console.warn("Piwik not found"),this.dwAnalytics.pageTrack.subscribe(e=>this.pageTrack(e.path)),this.dwAnalytics.eventTrack.subscribe(e=>this.eventTrack(e.action,e.properties)),this.dwAnalytics.setUserId.subscribe(e=>this.setUserId(e)),this.dwAnalytics.setUserProperties.subscribe(e=>this.setUserProperties(e))}pageTrack(e,t){try{_paq.push(["setDocumentTitle",window.document.title]),_paq.push(["setCustomUrl",e]),_paq.push(["trackPageView"])}catch(s){if(!(s instanceof ReferenceError))throw s}}eventTrack(e,t={}){let s=[];switch(e){case"setEcommerceView":s=["setEcommerceView",t.productSKU,t.productName,t.categoryName,t.price];break;case"addEcommerceItem":s=["addEcommerceItem",t.productSKU,t.productName,t.productCategory,t.price,t.quantity];break;case"trackEcommerceCartUpdate":s=["trackEcommerceCartUpdate",t.grandTotal];break;case"trackEcommerceOrder":s=["trackEcommerceOrder",t.orderId,t.grandTotal,t.subTotal,t.tax,t.shipping,t.discount];break;case"trackGoal":s=["trackGoal",t.goalId,t.value];break;default:if(t.value){const e=parseInt(t.value,10);t.value=isNaN(e)?0:e}s=["trackEvent",t.category,e,t.name||t.label,t.value]}try{_paq.push(s)}catch(i){if(!(i instanceof ReferenceError))throw i}}setUserId(e){try{_paq.push(["setUserId",e])}catch(t){if(!(t instanceof ReferenceError))throw t}}setUserProperties(e){const t=this.setCustomDimensions(e);try{0===t.length&&_paq.push(["setCustomVariable",e])}catch(s){if(!(s instanceof ReferenceError))throw s}}setCustomDimensions(e){const t=/dimension[1-9]\d*/,s=Object.keys(e).filter(e=>t.exec(e));return s.forEach(t=>{const s=Number(t.substr(9));_paq.push(["setCustomDimension",s,e[t]])}),s}}return e.\u0275fac=function(t){return new(t||e)(n.\u0275\u0275inject(n.Injector))},e.\u0275prov=n.\u0275\u0275defineInjectable({factory:function(){return new e(n.\u0275\u0275inject(n.INJECTOR))},token:e,providedIn:"root"}),e})(),V=(()=>{class e{constructor(e){this.dwAnalytics=e.get(w),this.dwAnalytics.pageTrack.subscribe(e=>this.pageTrack(e.path)),this.dwAnalytics.eventTrack.subscribe(e=>this.eventTrack(e.action,e.properties)),this.dwAnalytics.setUserProperties.subscribe(e=>this.setUserProperties(e)),this.dwAnalytics.setUserPropertiesOnce.subscribe(e=>this.setUserProperties(e)),this.dwAnalytics.setAlias.subscribe(e=>this.setAlias(e))}pageTrack(e){try{analytics.page(e)}catch(t){if(!(t instanceof ReferenceError))throw t}}eventTrack(e,t){try{analytics.track(e,t)}catch(s){if(!(s instanceof ReferenceError))throw s}}setUserProperties(e){try{e.userId?analytics.identify(e.userId,e):analytics.identify(e)}catch(t){if(!(t instanceof ReferenceError))throw t}}setAlias(e){try{analytics.alias(e)}catch(t){if(!(t instanceof ReferenceError))throw t}}}return e.\u0275fac=function(t){return new(t||e)(n.\u0275\u0275inject(n.Injector))},e.\u0275prov=n.\u0275\u0275defineInjectable({factory:function(){return new e(n.\u0275\u0275inject(n.INJECTOR))},token:e,providedIn:"root"}),e})(),q=(()=>{class e{constructor(e){"undefined"==typeof woopra&&console.warn("Woopra not found"),this.dwAnalytics=e.get(w),this.dwAnalytics.pageTrack.subscribe(e=>this.pageTrack(e.path)),this.dwAnalytics.eventTrack.subscribe(e=>this.eventTrack(e.action,e.properties)),this.dwAnalytics.setUserProperties.subscribe(e=>this.setUserProperties(e))}pageTrack(e){try{woopra.track("pv",{url:e})}catch(t){if(!(t instanceof ReferenceError))throw t}}eventTrack(e,t){try{woopra.track(e,t)}catch(s){if(!(s instanceof ReferenceError))throw s}}setUserProperties(e){try{e.email&&woopra.identify(e)}catch(t){if(!(t instanceof ReferenceError))throw t}}}return e.\u0275fac=function(t){return new(t||e)(n.\u0275\u0275inject(n.Injector))},e.\u0275prov=n.\u0275\u0275defineInjectable({factory:function(){return new e(n.\u0275\u0275inject(n.INJECTOR))},token:e,providedIn:"root"}),e})()}}]);