!function(){"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function n(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(self.webpackChunkassc_crs=self.webpackChunkassc_crs||[]).push([[2657],{16429:function(e,i,r){r.r(i),r.d(i,{DwAvatarComponent:function(){return m},DwAvatarModule:function(){return C},"\u0275a":function(){return y}});var o=r(64762),a=r(36535),s=r(42746),c=r(8929),u=r(5295),d=r(51260),l=r(55245),h=r(85277),f=["textEl"];function p(t,e){if(1&t&&s.\u0275\u0275element(0,"i",3),2&t){var n=s.\u0275\u0275nextContext();s.\u0275\u0275property("dwType",n.dwIcon)}}function w(t,e){if(1&t){var n=s.\u0275\u0275getCurrentView();s.\u0275\u0275elementStart(0,"img",4),s.\u0275\u0275listener("error",function(t){return s.\u0275\u0275restoreView(n),s.\u0275\u0275nextContext().imgError(t)}),s.\u0275\u0275elementEnd()}if(2&t){var i=s.\u0275\u0275nextContext();s.\u0275\u0275property("src",i.dwSrc,s.\u0275\u0275sanitizeUrl),s.\u0275\u0275attribute("srcset",i.dwSrcSet,s.\u0275\u0275sanitizeUrl)("alt",i.dwAlt)}}function g(t,e){if(1&t&&(s.\u0275\u0275elementStart(0,"span",5,6),s.\u0275\u0275text(2),s.\u0275\u0275elementEnd()),2&t){var n=s.\u0275\u0275nextContext();s.\u0275\u0275property("ngStyle",n.textStyles),s.\u0275\u0275advance(2),s.\u0275\u0275textInterpolate(n.dwText)}}var v,S=["*"],m=((v=function(){function e(n,i,r,o){t(this,e),this.dwConfigService=n,this.elementRef=i,this.cdr=r,this.platform=o,this._dwModuleName="avatar",this.dwShape="circle",this.dwSize="default",this.dwGap=4,this.dwError=new s.EventEmitter,this.hasText=!1,this.hasSrc=!0,this.hasIcon=!1,this.textStyles={},this.classMap={},this.customSize=null,this.el=this.elementRef.nativeElement,this.elementRef.nativeElement.classList.add("ant-avatar")}return n(e,[{key:"imgError",value:function(t){this.dwError.emit(t),t.defaultPrevented||(this.hasSrc=!1,this.hasIcon=!1,this.hasText=!1,this.dwIcon?this.hasIcon=!0:this.dwText&&(this.hasText=!0),this.cdr.detectChanges(),this.setSizeStyle(),this.notifyCalc())}},{key:"ngOnChanges",value:function(){this.hasText=!this.dwSrc&&!!this.dwText,this.hasIcon=!this.dwSrc&&!!this.dwIcon,this.hasSrc=!!this.dwSrc,this.setSizeStyle(),this.notifyCalc()}},{key:"calcStringSize",value:function(){if(this.hasText){var t=this.textEl.nativeElement.offsetWidth,e=this.el.getBoundingClientRect().width,n=2*this.dwGap<e?2*this.dwGap:8;this.textStyles={transform:"scale(".concat(e-n<t?(e-n)/t:1,") translateX(-50%)")},this.customSize&&Object.assign(this.textStyles,{lineHeight:this.customSize}),this.cdr.detectChanges()}}},{key:"notifyCalc",value:function(){var t=this;this.platform.isBrowser&&setTimeout(function(){t.calcStringSize()})}},{key:"setSizeStyle",value:function(){this.customSize="number"==typeof this.dwSize?"".concat(this.dwSize,"px"):null,this.cdr.markForCheck()}}]),e}()).\u0275fac=function(t){return new(t||v)(s.\u0275\u0275directiveInject(c.Qn),s.\u0275\u0275directiveInject(s.ElementRef),s.\u0275\u0275directiveInject(s.ChangeDetectorRef),s.\u0275\u0275directiveInject(a.Platform))},v.\u0275cmp=s.\u0275\u0275defineComponent({type:v,selectors:[["dw-avatar"]],viewQuery:function(t,e){var n;1&t&&s.\u0275\u0275viewQuery(f,5),2&t&&s.\u0275\u0275queryRefresh(n=s.\u0275\u0275loadQuery())&&(e.textEl=n.first)},hostVars:20,hostBindings:function(t,e){2&t&&(s.\u0275\u0275styleProp("width",e.customSize)("height",e.customSize)("line-height",e.customSize)("font-size",e.hasIcon&&e.customSize?e.dwSize/2:null,"px"),s.\u0275\u0275classProp("ant-avatar-lg","large"===e.dwSize)("ant-avatar-sm","small"===e.dwSize)("ant-avatar-square","square"===e.dwShape)("ant-avatar-circle","circle"===e.dwShape)("ant-avatar-icon",e.dwIcon)("ant-avatar-image",e.hasSrc))},inputs:{dwShape:"dwShape",dwSize:"dwSize",dwGap:"dwGap",dwText:"dwText",dwSrc:"dwSrc",dwSrcSet:"dwSrcSet",dwAlt:"dwAlt",dwIcon:"dwIcon"},outputs:{dwError:"dwError"},exportAs:["dwAvatar"],features:[s.\u0275\u0275NgOnChangesFeature],decls:3,vars:3,consts:[["dw-icon","",3,"dwType",4,"ngIf"],[3,"src","error",4,"ngIf"],["class","ant-avatar-string",3,"ngStyle",4,"ngIf"],["dw-icon","",3,"dwType"],[3,"src","error"],[1,"ant-avatar-string",3,"ngStyle"],["textEl",""]],template:function(t,e){1&t&&(s.\u0275\u0275template(0,p,1,1,"i",0),s.\u0275\u0275template(1,w,1,3,"img",1),s.\u0275\u0275template(2,g,3,2,"span",2)),2&t&&(s.\u0275\u0275property("ngIf",e.dwIcon&&e.hasIcon),s.\u0275\u0275advance(1),s.\u0275\u0275property("ngIf",e.dwSrc&&e.hasSrc),s.\u0275\u0275advance(1),s.\u0275\u0275property("ngIf",e.dwText&&e.hasText))},directives:[l.NgIf,h.DwIconDirective,l.NgStyle],encapsulation:2,changeDetection:0}),(0,o.gn)([(0,c.oS)()],v.prototype,"dwShape",void 0),(0,o.gn)([(0,c.oS)()],v.prototype,"dwSize",void 0),(0,o.gn)([(0,c.oS)(),(0,u.Rn)()],v.prototype,"dwGap",void 0),v),y=function(){var e=n(function e(){t(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.\u0275\u0275defineComponent({type:e,selectors:[["dw-avatar-group"]],hostAttrs:[1,"ant-avatar-group"],exportAs:["dwAvatarGroup"],ngContentSelectors:S,decls:1,vars:0,template:function(t,e){1&t&&(s.\u0275\u0275projectionDef(),s.\u0275\u0275projection(0))},encapsulation:2,changeDetection:0}),e}(),C=function(){var e=n(function e(){t(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=s.\u0275\u0275defineInjector({imports:[[d.BidiModule,l.CommonModule,h.DwIconModule,a.PlatformModule]]}),e}()},8929:function(e,i,r){r.d(i,{Qn:function(){return l},oS:function(){return h}});var o,a=r(42746),s=r(71049),c=r(47372),u=new a.InjectionToken("dw-config"),d=function(t){return void 0!==t},l=((o=function(){function e(n){t(this,e),this.configUpdated$=new s.Subject,this.config=n||{}}return n(e,[{key:"getConfig",value:function(){return this.config}},{key:"getConfigForComponent",value:function(t){return this.config[t]}},{key:"getConfigChangeEventForComponent",value:function(t){return this.configUpdated$.pipe((0,c.filter)(function(e){return e===t}),(0,c.mapTo)(void 0))}},{key:"set",value:function(t,e){this.config[t]=Object.assign(Object.assign({},this.config[t]),e),this.configUpdated$.next(t)}}]),e}()).\u0275fac=function(t){return new(t||o)(a.\u0275\u0275inject(u,8))},o.\u0275prov=a.\u0275\u0275defineInjectable({factory:function(){return new o(a.\u0275\u0275inject(u,8))},token:o,providedIn:"root"}),o);function h(){return function(t,e,n){var i="$$__zorroConfigDecorator__".concat(e);return Object.defineProperty(t,i,{configurable:!0,writable:!0,enumerable:!1}),{get:function(){var t,r,o=(null==n?void 0:n.get)?n.get.bind(this)():this[i],a=((null===(t=this.propertyAssignCounter)||void 0===t?void 0:t[e])||0)>1,s=null===(r=this.dwConfigService.getConfigForComponent(this._dwModuleName))||void 0===r?void 0:r[e];return a&&d(o)?o:d(s)?s:o},set:function(t){this.propertyAssignCounter=this.propertyAssignCounter||{},this.propertyAssignCounter[e]=(this.propertyAssignCounter[e]||0)+1,(null==n?void 0:n.set)?n.set.bind(this)(t):this[i]=t},configurable:!0,enumerable:!0}}}}}])}();