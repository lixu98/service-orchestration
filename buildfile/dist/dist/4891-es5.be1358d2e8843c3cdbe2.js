!function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(self.webpackChunkassc_crs=self.webpackChunkassc_crs||[]).push([[4891],{8852:function(t,r,i){i.d(r,{u:function(){return l},f:function(){return s}});var o,a=i(36535),d=i(42746),l=((o=function(){function t(n,r){e(this,t),this.elementRef=n,this.renderer=r,this.hidden=null,this.renderer.setAttribute(this.elementRef.nativeElement,"hidden","")}return n(t,[{key:"setHiddenAttribute",value:function(){this.hidden?this.renderer.setAttribute(this.elementRef.nativeElement,"hidden","string"==typeof this.hidden?this.hidden:""):this.renderer.removeAttribute(this.elementRef.nativeElement,"hidden")}},{key:"ngOnChanges",value:function(){this.setHiddenAttribute()}},{key:"ngAfterViewInit",value:function(){this.setHiddenAttribute()}}]),t}()).\u0275fac=function(e){return new(e||o)(d.\u0275\u0275directiveInject(d.ElementRef),d.\u0275\u0275directiveInject(d.Renderer2))},o.\u0275dir=d.\u0275\u0275defineDirective({type:o,selectors:[["","dw-button",""],["dw-button-group"],["","dw-icon",""],["","dw-menu-item",""],["","dw-submenu",""],["dw-select-top-control"],["dw-select-placeholder"],["dw-input-group"]],inputs:{hidden:"hidden"},features:[d.\u0275\u0275NgOnChangesFeature]}),o),s=function(){var t=n(function t(){e(this,t)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=d.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=d.\u0275\u0275defineInjector({imports:[[a.PlatformModule]]}),t}()},96670:function(t,r,i){i.d(r,{uG:function(){return m},ln:function(){return f}});var o,a=i(36535),d=i(42746),l=i(88065),s=function(){function t(n,r,i,o){var d=this;e(this,t),this.triggerElement=n,this.ngZone=r,this.insertExtraNode=i,this.platformId=o,this.waveTransitionDuration=400,this.styleForPseudo=null,this.extraNode=null,this.lastTime=0,this.onClick=function(e){!d.triggerElement||!d.triggerElement.getAttribute||d.triggerElement.getAttribute("disabled")||"INPUT"===e.target.tagName||d.triggerElement.className.indexOf("disabled")>=0||d.fadeOutWave()},this.platform=new a.Platform(this.platformId),this.clickHandler=this.onClick.bind(this),this.bindTriggerEvent()}return n(t,[{key:"waveAttributeName",get:function(){return this.insertExtraNode?"ant-click-animating":"ant-click-animating-without-extra-node"}},{key:"bindTriggerEvent",value:function(){var e=this;this.platform.isBrowser&&this.ngZone.runOutsideAngular(function(){e.removeTriggerEvent(),e.triggerElement&&e.triggerElement.addEventListener("click",e.clickHandler,!0)})}},{key:"removeTriggerEvent",value:function(){this.triggerElement&&this.triggerElement.removeEventListener("click",this.clickHandler,!0)}},{key:"removeStyleAndExtraNode",value:function(){this.styleForPseudo&&document.body.contains(this.styleForPseudo)&&(document.body.removeChild(this.styleForPseudo),this.styleForPseudo=null),this.insertExtraNode&&this.triggerElement.contains(this.extraNode)&&this.triggerElement.removeChild(this.extraNode)}},{key:"destroy",value:function(){this.removeTriggerEvent(),this.removeStyleAndExtraNode()}},{key:"fadeOutWave",value:function(){var e=this,t=this.triggerElement,n=this.getWaveColor(t);t.setAttribute(this.waveAttributeName,"true"),!(Date.now()<this.lastTime+this.waveTransitionDuration)&&(this.isValidColor(n)&&(this.styleForPseudo||(this.styleForPseudo=document.createElement("style")),this.styleForPseudo.innerHTML="\n      [ant-click-animating-without-extra-node='true']::after, .ant-click-animating-node {\n        --antd-wave-shadow-color: ".concat(n,";\n      }"),document.body.appendChild(this.styleForPseudo)),this.insertExtraNode&&(this.extraNode||(this.extraNode=document.createElement("div")),this.extraNode.className="ant-click-animating-node",t.appendChild(this.extraNode)),this.lastTime=Date.now(),this.runTimeoutOutsideZone(function(){t.removeAttribute(e.waveAttributeName),e.removeStyleAndExtraNode()},this.waveTransitionDuration))}},{key:"isValidColor",value:function(e){return!!e&&"#ffffff"!==e&&"rgb(255, 255, 255)"!==e&&this.isNotGrey(e)&&!/rgba\(\d*, \d*, \d*, 0\)/.test(e)&&"transparent"!==e}},{key:"isNotGrey",value:function(e){var t=e.match(/rgba?\((\d*), (\d*), (\d*)(, [\.\d]*)?\)/);return!(t&&t[1]&&t[2]&&t[3]&&t[1]===t[2]&&t[2]===t[3])}},{key:"getWaveColor",value:function(e){var t=getComputedStyle(e);return t.getPropertyValue("border-top-color")||t.getPropertyValue("border-color")||t.getPropertyValue("background-color")}},{key:"runTimeoutOutsideZone",value:function(e,t){this.ngZone.runOutsideAngular(function(){return setTimeout(e,t)})}}]),t}(),c={disabled:!1},u=new d.InjectionToken("dw-wave-global-options",{providedIn:"root",factory:function(){return c}}),m=((o=function(){function t(n,r,i,o,a){e(this,t),this.ngZone=n,this.elementRef=r,this.config=i,this.animationType=o,this.platformId=a,this.dwWaveExtraNode=!1,this.waveDisabled=!1,this.waveDisabled=this.isConfigDisabled()}return n(t,[{key:"disabled",get:function(){return this.waveDisabled}},{key:"rendererRef",get:function(){return this.waveRenderer}},{key:"isConfigDisabled",value:function(){var e=!1;return this.config&&"boolean"==typeof this.config.disabled&&(e=this.config.disabled),"NoopAnimations"===this.animationType&&(e=!0),e}},{key:"ngOnDestroy",value:function(){this.waveRenderer&&this.waveRenderer.destroy()}},{key:"ngOnInit",value:function(){this.renderWaveIfEnabled()}},{key:"renderWaveIfEnabled",value:function(){!this.waveDisabled&&this.elementRef.nativeElement&&(this.waveRenderer=new s(this.elementRef.nativeElement,this.ngZone,this.dwWaveExtraNode,this.platformId))}},{key:"disable",value:function(){this.waveDisabled=!0,this.waveRenderer&&(this.waveRenderer.removeTriggerEvent(),this.waveRenderer.removeStyleAndExtraNode())}},{key:"enable",value:function(){this.waveDisabled=this.isConfigDisabled()||!1,this.waveRenderer&&this.waveRenderer.bindTriggerEvent()}}]),t}()).\u0275fac=function(e){return new(e||o)(d.\u0275\u0275directiveInject(d.NgZone),d.\u0275\u0275directiveInject(d.ElementRef),d.\u0275\u0275directiveInject(u,8),d.\u0275\u0275directiveInject(l.ANIMATION_MODULE_TYPE,8),d.\u0275\u0275directiveInject(d.PLATFORM_ID))},o.\u0275dir=d.\u0275\u0275defineDirective({type:o,selectors:[["","dw-wave",""],["button","dw-button","",3,"dwType","link",3,"dwType","text"]],inputs:{dwWaveExtraNode:"dwWaveExtraNode"},exportAs:["dwWave"]}),o),f=function(){var t=n(function t(){e(this,t)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=d.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=d.\u0275\u0275defineInjector({imports:[[a.PlatformModule]]}),t}()},84891:function(t,r,i){i.r(r),i.d(r,{SimulationDataCleanModule:function(){return j}});var o,a=i(55245),d=i(23938),l=i(87974),s=i(1020),c=i(66800),u=i(83237),m=i(31441),f=i(51156),h=i(42746),v=((o=function(){function t(n,r){e(this,t),this.datePipe=n,this.http=r}return n(t,[{key:"dataClean",value:function(e){return e.date=this.datePipe.transform(e.date,"yyyy-MM-dd"),this.http.delete("restful/service/dataClear/DataClear/SimulateData",{body:e})}}]),t}()).\u0275fac=function(e){return new(e||o)(h.\u0275\u0275inject(a.DatePipe),h.\u0275\u0275inject(f.DwDapHttpClient))},o.\u0275prov=h.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),o),w=i(80677),p=i(80419),g=i(85773),y=i(29872),b=i(41937),E=i(74591),S=i(93761),k=i(96670),D=i(8852),x=i(17494),C=i(83522),I=function(){var t=function(){function t(n,r,i,o,a){e(this,t),this.userService=n,this.fb=r,this.dataCleanSrv=i,this.dwModalService=o,this.message=a,this.userInfo={tenantId:"",userId:""},this.form=this.fb.group({expiry_date:["",s.Validators.required],order:[!1],part:[!1],inventory:[!1],pick:[!1],ret:[!1],announcement:[!1],faq:[!1],satisfaction:[!1]})}return n(t,[{key:"ngOnInit",value:function(){this.userInfo=this.userService.getUserInfo()}},{key:"clean",value:function(){var e=this,t=this.form.value,n=!1,r=[];for(var i in t)"expiry_date"!==i&&!0===t[i]&&(n=!0,r.push(i));n?this.dwModalService.confirm({dwTitle:"\u6570\u636e\u4e00\u65e6\u5220\u9664\uff0c\u5c06\u65e0\u6cd5\u6062\u590d\uff0c\u8bf7\u518d\u6b21\u786e\u8ba4\uff01",dwIconType:"exclamation-circle",dwOnOk:function(){e.dataCleanSrv.dataClean({date:t.expiry_date,options:r}).subscribe(function(t){e.message.create("success","\u6570\u636e\u5220\u9664\u6210\u529f\uff01")},function(t){t.hasOwnProperty("error")&&t.error.hasOwnProperty("errorMessage")&&t.error.errorMessage&&e.message.error(t.error.errorMessage)})}}):this.message.create("error","\u8bf7\u9009\u62e9\u8981\u6e05\u7406\u7684\u6a21\u5757\uff01")}}]),t}();return t.\u0275fac=function(e){return new(e||t)(h.\u0275\u0275directiveInject(c.DwUserService),h.\u0275\u0275directiveInject(s.FormBuilder),h.\u0275\u0275directiveInject(v),h.\u0275\u0275directiveInject(m.DwModalService),h.\u0275\u0275directiveInject(u.DwMessageService))},t.\u0275cmp=h.\u0275\u0275defineComponent({type:t,selectors:[["app-simulation-data-clean"]],decls:49,vars:24,consts:[[1,"dw-f-content-list","layoutClass","sales_layout"],[1,"issue_layout_head"],[1,"issue_layout_title"],[2,"margin-left","3px"],[1,"content-box"],[1,"data-box"],[1,"tip"],["dw-form","",3,"formGroup"],["dwRequired","",3,"dwSm","dwXs"],[3,"dwSpan"],["formControlName","expiry_date"],[3,"dwSm","dwXs"],["dw-checkbox","","formControlName","order"],["dw-checkbox","","formControlName","part"],["dw-checkbox","","formControlName","inventory"],["dw-checkbox","","formControlName","pick"],["dw-checkbox","","formControlName","ret"],["dw-checkbox","","formControlName","announcement"],["dw-checkbox","","formControlName","faq"],["dw-checkbox","","formControlName","satisfaction"],[2,"float","left"],["dw-button","","type","button","angularticsAction","\u70b9\u51fb\u6267\u884c\u6e05\u7406","dw-analyticsOn","click","type","button",3,"disabled","dwType","angularticsCategory","angularticsLabel","click"],["translate",""]],template:function(e,t){1&e&&(h.\u0275\u0275elementStart(0,"dw-content",0),h.\u0275\u0275elementStart(1,"div",1),h.\u0275\u0275elementStart(2,"h2",2),h.\u0275\u0275elementStart(3,"span",3),h.\u0275\u0275text(4,"\u6570\u636e\u6e05\u7406"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275element(5,"dw-divider"),h.\u0275\u0275elementStart(6,"div",4),h.\u0275\u0275elementStart(7,"div",5),h.\u0275\u0275elementStart(8,"div",6),h.\u0275\u0275text(9,"\u672c\u4f5c\u4e1a\u4ec5\u63d0\u4f9b\u7ed9\u987e\u95ee\u6e05\u7406\u5ba2\u6237\u6a21\u62df\u6570\u636e\u4f7f\u7528\uff0c\u64cd\u4f5c\u6267\u884c\u540e\uff0c\u6570\u636e\u5c06\u88ab\u5220\u9664\u65e0\u6cd5\u6062\u590d\uff0c\u8bf7\u8c28\u614e\u4f7f\u7528\uff01"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(10,"form",7),h.\u0275\u0275elementStart(11,"dw-form-item"),h.\u0275\u0275elementStart(12,"dw-form-label",8),h.\u0275\u0275text(13,"\u8bf7\u9009\u62e9\u622a\u6b62\u65e5\u671f"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(14,"dw-form-control",9),h.\u0275\u0275element(15,"dw-date-picker",10),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(16,"dw-form-item"),h.\u0275\u0275elementStart(17,"dw-form-control",11),h.\u0275\u0275elementStart(18,"label",12),h.\u0275\u0275text(19,"\u670d\u52a1\u5de5\u5355\uff08\u5c06\u540c\u6b65\u5220\u9664\u76f8\u5173\u5355\u636e\uff1a\u62a5\u4ef7\u5355\u3001\u914d\u4ef6\u5355\u636e\u3001\u7ed3\u7b97\u5355\uff09"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(20,"dw-form-item"),h.\u0275\u0275elementStart(21,"dw-form-control",11),h.\u0275\u0275elementStart(22,"label",13),h.\u0275\u0275text(23,"\u5907\u4ef6\u7533\u8bf7\u3001\u53d1\u8d27\u3001\u6536\u8d27"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(24,"dw-form-control",11),h.\u0275\u0275elementStart(25,"label",14),h.\u0275\u0275text(26,"\u7ad9\u70b9\u5e93\u5b58"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(27,"dw-form-item"),h.\u0275\u0275elementStart(28,"dw-form-control",11),h.\u0275\u0275elementStart(29,"label",15),h.\u0275\u0275text(30,"\u9886\u6599\u5355"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(31,"dw-form-control",11),h.\u0275\u0275elementStart(32,"label",16),h.\u0275\u0275text(33,"\u9000\u6599\u5355"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(34,"dw-form-item"),h.\u0275\u0275elementStart(35,"dw-form-control",11),h.\u0275\u0275elementStart(36,"label",17),h.\u0275\u0275text(37,"\u516c\u544a"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(38,"dw-form-control",11),h.\u0275\u0275elementStart(39,"label",18),h.\u0275\u0275text(40,"\u5e38\u89c1\u95ee\u9898\u5bf9\u7b56"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(41,"dw-form-item"),h.\u0275\u0275elementStart(42,"dw-form-control",11),h.\u0275\u0275elementStart(43,"label",19),h.\u0275\u0275text(44,"\u6ee1\u610f\u5ea6\u8c03\u67e5\u8868"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(45,"div",20),h.\u0275\u0275elementStart(46,"button",21),h.\u0275\u0275listener("click",function(){return t.clean()}),h.\u0275\u0275elementStart(47,"span",22),h.\u0275\u0275text(48,"\u6267\u884c\u6e05\u7406"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd()),2&e&&(h.\u0275\u0275advance(10),h.\u0275\u0275property("formGroup",t.form),h.\u0275\u0275advance(2),h.\u0275\u0275property("dwSm",6)("dwXs",24),h.\u0275\u0275advance(2),h.\u0275\u0275property("dwSpan",18),h.\u0275\u0275advance(3),h.\u0275\u0275property("dwSm",24)("dwXs",24),h.\u0275\u0275advance(4),h.\u0275\u0275property("dwSm",12)("dwXs",24),h.\u0275\u0275advance(3),h.\u0275\u0275property("dwSm",12)("dwXs",24),h.\u0275\u0275advance(4),h.\u0275\u0275property("dwSm",12)("dwXs",24),h.\u0275\u0275advance(3),h.\u0275\u0275property("dwSm",12)("dwXs",24),h.\u0275\u0275advance(4),h.\u0275\u0275property("dwSm",12)("dwXs",24),h.\u0275\u0275advance(3),h.\u0275\u0275property("dwSm",12)("dwXs",24),h.\u0275\u0275advance(4),h.\u0275\u0275property("dwSm",12)("dwXs",24),h.\u0275\u0275advance(4),h.\u0275\u0275propertyInterpolate("angularticsLabel",t.userInfo.tenantId+","+t.userInfo.userId),h.\u0275\u0275property("disabled",!t.form.valid)("dwType","primary")("angularticsCategory","\u6570\u636e\u6e05\u7406"))},directives:[w.DwContentComponent,p.DwDividerComponent,s.\u0275NgNoValidate,s.NgControlStatusGroup,g.DwFormDirective,s.FormGroupDirective,y.DwRowDirective,g.DwFormItemComponent,y.DwColDirective,g.DwFormLabelComponent,g.DwFormControlComponent,b.DwDatePickerComponent,s.NgControlStatus,s.FormControlName,E.DwCheckboxComponent,S.DwButtonComponent,k.uG,D.u,x.DwAnalyticsOn,C.TranslateDirective],styles:[".data-box[_ngcontent-%COMP%]{width:460px}.data-box[_ngcontent-%COMP%]   .tip[_ngcontent-%COMP%]{color:red;margin-bottom:16px}"]}),t}(),N=i(32276),M=i(51033),T=[{path:"",pathMatch:"prefix",canActivate:[N.DwAuthGuardService,M.L],data:{dwRouteData:{programId:"simulation-data-clean",dwAuthId:"simulation-data-clean"}},component:I}],A=function(){var t=n(function t(){e(this,t)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=h.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=h.\u0275\u0275defineInjector({imports:[[l.RouterModule.forChild(T)],l.RouterModule]}),t}(),j=function(){var t=n(function t(){e(this,t)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=h.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=h.\u0275\u0275defineInjector({imports:[[d.m,a.CommonModule,A,m.DwModalModule,u.DwMessageModule,S.DwButtonModule,w.DwLayoutModule,b.DwDatePickerModule,p.DwDividerModule,g.DwFormModule,E.DwCheckboxModule,s.ReactiveFormsModule,C.TranslateModule]]}),t}()},51033:function(t,r,i){i.d(r,{L:function(){return f}}),i(87974);var o,a=i(32276),d=i(51156),l=i(66800),s=i(83237),c=i(31441),u=i(71049),m=i(42746),f=((o=function(){function t(n,r,i,o,a){e(this,t),this.http=n,this.authService=r,this.userService=i,this.message=o,this.modalService=a,this.uerId=""}return n(t,[{key:"canLoad",value:function(e){return!0}},{key:"canActivateChild",value:function(e,t){return!0}},{key:"canActivate",value:function(e,t){var n=this;return new u.Observable(function(e){n.uerId=n.userService.getUser("userId"),n.uerId?n.http.get("restful/service/employee/Employee/ValidateIamUser?userId=".concat(n.uerId)).subscribe(function(t){t.success?(sessionStorage.setItem("employeeInfo",JSON.stringify(t.data?t.data.data:{})),e.next(!0)):(n.modalService.warning({dwTitle:"\u63d0\u793a",dwContent:t.data,dwWidth:"400px",dwOnOk:function(){n.authService.logout(),window.location.reload()}}),e.next(!1))},function(t){console.log(t),t.hasOwnProperty("error")&&t.error.hasOwnProperty("errorMessage")&&t.error.errorMessage&&n.message.error(t.error.errorMessage),e.next(!1)}):e.next(!0)})}}]),t}()).\u0275fac=function(e){return new(e||o)(m.\u0275\u0275inject(d.DwDapHttpClient),m.\u0275\u0275inject(a.DwAuthService),m.\u0275\u0275inject(l.DwUserService),m.\u0275\u0275inject(s.DwMessageService),m.\u0275\u0275inject(c.DwModalService))},o.\u0275prov=m.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),o)}}])}();