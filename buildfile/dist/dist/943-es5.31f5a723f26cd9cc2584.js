!function(){"use strict";function e(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function t(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function n(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,r,t){return r&&n(e.prototype,r),t&&n(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(self.webpackChunkassc_crs=self.webpackChunkassc_crs||[]).push([[943],{28800:function(r,n,o){o.r(n),o.d(n,{ServiceWorkerModule:function(){return E},SwPush:function(){return h},SwRegistrationOptions:function(){return g},SwUpdate:function(){return v},"\u0275angular_packages_service_worker_service_worker_a":function(){return p},"\u0275angular_packages_service_worker_service_worker_b":function(){return w},"\u0275angular_packages_service_worker_service_worker_c":function(){return b},"\u0275angular_packages_service_worker_service_worker_d":function(){return k}});var s,a=o(55245),u=o(42746),c=o(71049),f=o(47372),l="Service workers are disabled or not supported by this browser",p=function(){function e(r){if(t(this,e),this.serviceWorker=r,r){var n=(0,c.fromEvent)(r,"controllerchange").pipe((0,f.map)(function(){return r.controller})),i=(0,c.defer)(function(){return(0,c.of)(r.controller)}),o=(0,c.concat)(i,n);this.worker=o.pipe((0,f.filter)(function(e){return!!e})),this.registration=this.worker.pipe((0,f.switchMap)(function(){return r.getRegistration()}));var s=(0,c.fromEvent)(r,"message").pipe((0,f.map)(function(e){return e.data})).pipe((0,f.filter)(function(e){return e&&e.type})).pipe((0,f.publish)());s.connect(),this.events=s}else this.worker=this.events=this.registration=(0,c.defer)(function(){return(0,c.throwError)(new Error("Service workers are disabled or not supported by this browser"))})}return i(e,[{key:"postMessage",value:function(e,r){return this.worker.pipe((0,f.take)(1),(0,f.tap)(function(t){t.postMessage(Object.assign({action:e},r))})).toPromise().then(function(){})}},{key:"postMessageWithStatus",value:function(e,r,t){var n=this.waitForStatus(t),i=this.postMessage(e,r);return Promise.all([n,i]).then(function(){})}},{key:"generateNonce",value:function(){return Math.round(1e7*Math.random())}},{key:"eventsOfType",value:function(e){return this.events.pipe((0,f.filter)(function(r){return r.type===e}))}},{key:"nextEventOfType",value:function(e){return this.eventsOfType(e).pipe((0,f.take)(1))}},{key:"waitForStatus",value:function(e){return this.eventsOfType("STATUS").pipe((0,f.filter)(function(r){return r.nonce===e}),(0,f.take)(1),(0,f.map)(function(e){if(!e.status)throw new Error(e.error)})).toPromise()}},{key:"isEnabled",get:function(){return!!this.serviceWorker}}]),e}(),h=((s=function(){function e(r){if(t(this,e),this.sw=r,this.subscriptionChanges=new c.Subject,!r.isEnabled)return this.messages=c.NEVER,this.notificationClicks=c.NEVER,void(this.subscription=c.NEVER);this.messages=this.sw.eventsOfType("PUSH").pipe((0,f.map)(function(e){return e.data})),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,f.map)(function(e){return e.data})),this.pushManager=this.sw.registration.pipe((0,f.map)(function(e){return e.pushManager}));var n=this.pushManager.pipe((0,f.switchMap)(function(e){return e.getSubscription()}));this.subscription=(0,c.merge)(n,this.subscriptionChanges)}return i(e,[{key:"isEnabled",get:function(){return this.sw.isEnabled}},{key:"requestSubscription",value:function(e){var r=this;if(!this.sw.isEnabled)return Promise.reject(new Error(l));for(var t={userVisibleOnly:!0},n=this.decodeBase64(e.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),i=new Uint8Array(new ArrayBuffer(n.length)),o=0;o<n.length;o++)i[o]=n.charCodeAt(o);return t.applicationServerKey=i,this.pushManager.pipe((0,f.switchMap)(function(e){return e.subscribe(t)}),(0,f.take)(1)).toPromise().then(function(e){return r.subscriptionChanges.next(e),e})}},{key:"unsubscribe",value:function(){var e=this;return this.sw.isEnabled?this.subscription.pipe((0,f.take)(1),(0,f.switchMap)(function(r){if(null===r)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(function(r){if(!r)throw new Error("Unsubscribe failed!");e.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(l))}},{key:"decodeBase64",value:function(e){return atob(e)}}]),e}()).\u0275fac=function(e){return new(e||s)(u.\u0275\u0275inject(p))},s.\u0275prov=u.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac}),s),v=function(){var e=function(){function e(r){if(t(this,e),this.sw=r,!r.isEnabled)return this.available=c.NEVER,this.activated=c.NEVER,void(this.unrecoverable=c.NEVER);this.available=this.sw.eventsOfType("UPDATE_AVAILABLE"),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}return i(e,[{key:"isEnabled",get:function(){return this.sw.isEnabled}},{key:"checkForUpdate",value:function(){if(!this.sw.isEnabled)return Promise.reject(new Error(l));var e=this.sw.generateNonce();return this.sw.postMessageWithStatus("CHECK_FOR_UPDATES",{statusNonce:e},e)}},{key:"activateUpdate",value:function(){if(!this.sw.isEnabled)return Promise.reject(new Error(l));var e=this.sw.generateNonce();return this.sw.postMessageWithStatus("ACTIVATE_UPDATE",{statusNonce:e},e)}}]),e}();return e.\u0275fac=function(r){return new(r||e)(u.\u0275\u0275inject(p))},e.\u0275prov=u.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac}),e}(),g=i(function e(){t(this,e)}),w=new u.InjectionToken("NGSW_REGISTER_SCRIPT");function b(r,t,n,i){return function(){if((0,a.isPlatformBrowser)(i)&&"serviceWorker"in navigator&&!1!==n.enabled){var o;if(navigator.serviceWorker.addEventListener("controllerchange",function(){null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof n.registrationStrategy)o=n.registrationStrategy();else{var s=e((n.registrationStrategy||"registerWhenStable:30000").split(":")),l=s[0],p=s.slice(1);switch(l){case"registerImmediately":o=(0,c.of)(null);break;case"registerWithDelay":o=d(+p[0]||0);break;case"registerWhenStable":o=p[0]?(0,c.merge)(y(r),d(+p[0])):y(r);break;default:throw new Error("Unknown ServiceWorker registration strategy: ".concat(n.registrationStrategy))}}r.get(u.NgZone).runOutsideAngular(function(){return o.pipe((0,f.take)(1)).subscribe(function(){return navigator.serviceWorker.register(t,{scope:n.scope}).catch(function(e){return console.error("Service worker registration failed with:",e)})})})}}}function d(e){return(0,c.of)(null).pipe((0,f.delay)(e))}function y(e){return e.get(u.ApplicationRef).isStable.pipe((0,f.filter)(function(e){return e}))}function k(e,r){return new p((0,a.isPlatformBrowser)(r)&&!1!==e.enabled?navigator.serviceWorker:void 0)}var E=function(){var e=function(){function e(){t(this,e)}return i(e,null,[{key:"register",value:function(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{ngModule:e,providers:[{provide:w,useValue:r},{provide:g,useValue:t},{provide:p,useFactory:k,deps:[g,u.PLATFORM_ID]},{provide:u.APP_INITIALIZER,useFactory:b,deps:[u.Injector,w,g,u.PLATFORM_ID],multi:!0}]}}}]),e}();return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=u.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=u.\u0275\u0275defineInjector({providers:[h,v]}),e}()}}])}();