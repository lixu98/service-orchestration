"use strict";(self.webpackChunkassc_crs=self.webpackChunkassc_crs||[]).push([[3574],{8852:function(e,t,n){n.d(t,{u:function(){return o},f:function(){return a}});var r=n(36535),i=n(42746);let o=(()=>{class e{constructor(e,t){this.elementRef=e,this.renderer=t,this.hidden=null,this.renderer.setAttribute(this.elementRef.nativeElement,"hidden","")}setHiddenAttribute(){this.hidden?this.renderer.setAttribute(this.elementRef.nativeElement,"hidden","string"==typeof this.hidden?this.hidden:""):this.renderer.removeAttribute(this.elementRef.nativeElement,"hidden")}ngOnChanges(){this.setHiddenAttribute()}ngAfterViewInit(){this.setHiddenAttribute()}}return e.\u0275fac=function(t){return new(t||e)(i.\u0275\u0275directiveInject(i.ElementRef),i.\u0275\u0275directiveInject(i.Renderer2))},e.\u0275dir=i.\u0275\u0275defineDirective({type:e,selectors:[["","dw-button",""],["dw-button-group"],["","dw-icon",""],["","dw-menu-item",""],["","dw-submenu",""],["dw-select-top-control"],["dw-select-placeholder"],["dw-input-group"]],inputs:{hidden:"hidden"},features:[i.\u0275\u0275NgOnChangesFeature]}),e})(),a=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=i.\u0275\u0275defineInjector({imports:[[r.PlatformModule]]}),e})()},96670:function(e,t,n){n.d(t,{uG:function(){return l},ln:function(){return c}});var r=n(36535),i=n(42746),o=n(88065);class a{constructor(e,t,n,i){this.triggerElement=e,this.ngZone=t,this.insertExtraNode=n,this.platformId=i,this.waveTransitionDuration=400,this.styleForPseudo=null,this.extraNode=null,this.lastTime=0,this.onClick=e=>{!this.triggerElement||!this.triggerElement.getAttribute||this.triggerElement.getAttribute("disabled")||"INPUT"===e.target.tagName||this.triggerElement.className.indexOf("disabled")>=0||this.fadeOutWave()},this.platform=new r.Platform(this.platformId),this.clickHandler=this.onClick.bind(this),this.bindTriggerEvent()}get waveAttributeName(){return this.insertExtraNode?"ant-click-animating":"ant-click-animating-without-extra-node"}bindTriggerEvent(){this.platform.isBrowser&&this.ngZone.runOutsideAngular(()=>{this.removeTriggerEvent(),this.triggerElement&&this.triggerElement.addEventListener("click",this.clickHandler,!0)})}removeTriggerEvent(){this.triggerElement&&this.triggerElement.removeEventListener("click",this.clickHandler,!0)}removeStyleAndExtraNode(){this.styleForPseudo&&document.body.contains(this.styleForPseudo)&&(document.body.removeChild(this.styleForPseudo),this.styleForPseudo=null),this.insertExtraNode&&this.triggerElement.contains(this.extraNode)&&this.triggerElement.removeChild(this.extraNode)}destroy(){this.removeTriggerEvent(),this.removeStyleAndExtraNode()}fadeOutWave(){const e=this.triggerElement,t=this.getWaveColor(e);e.setAttribute(this.waveAttributeName,"true"),!(Date.now()<this.lastTime+this.waveTransitionDuration)&&(this.isValidColor(t)&&(this.styleForPseudo||(this.styleForPseudo=document.createElement("style")),this.styleForPseudo.innerHTML=`\n      [ant-click-animating-without-extra-node='true']::after, .ant-click-animating-node {\n        --antd-wave-shadow-color: ${t};\n      }`,document.body.appendChild(this.styleForPseudo)),this.insertExtraNode&&(this.extraNode||(this.extraNode=document.createElement("div")),this.extraNode.className="ant-click-animating-node",e.appendChild(this.extraNode)),this.lastTime=Date.now(),this.runTimeoutOutsideZone(()=>{e.removeAttribute(this.waveAttributeName),this.removeStyleAndExtraNode()},this.waveTransitionDuration))}isValidColor(e){return!!e&&"#ffffff"!==e&&"rgb(255, 255, 255)"!==e&&this.isNotGrey(e)&&!/rgba\(\d*, \d*, \d*, 0\)/.test(e)&&"transparent"!==e}isNotGrey(e){const t=e.match(/rgba?\((\d*), (\d*), (\d*)(, [\.\d]*)?\)/);return!(t&&t[1]&&t[2]&&t[3]&&t[1]===t[2]&&t[2]===t[3])}getWaveColor(e){const t=getComputedStyle(e);return t.getPropertyValue("border-top-color")||t.getPropertyValue("border-color")||t.getPropertyValue("background-color")}runTimeoutOutsideZone(e,t){this.ngZone.runOutsideAngular(()=>setTimeout(e,t))}}const s={disabled:!1},d=new i.InjectionToken("dw-wave-global-options",{providedIn:"root",factory:function(){return s}});let l=(()=>{class e{constructor(e,t,n,r,i){this.ngZone=e,this.elementRef=t,this.config=n,this.animationType=r,this.platformId=i,this.dwWaveExtraNode=!1,this.waveDisabled=!1,this.waveDisabled=this.isConfigDisabled()}get disabled(){return this.waveDisabled}get rendererRef(){return this.waveRenderer}isConfigDisabled(){let e=!1;return this.config&&"boolean"==typeof this.config.disabled&&(e=this.config.disabled),"NoopAnimations"===this.animationType&&(e=!0),e}ngOnDestroy(){this.waveRenderer&&this.waveRenderer.destroy()}ngOnInit(){this.renderWaveIfEnabled()}renderWaveIfEnabled(){!this.waveDisabled&&this.elementRef.nativeElement&&(this.waveRenderer=new a(this.elementRef.nativeElement,this.ngZone,this.dwWaveExtraNode,this.platformId))}disable(){this.waveDisabled=!0,this.waveRenderer&&(this.waveRenderer.removeTriggerEvent(),this.waveRenderer.removeStyleAndExtraNode())}enable(){this.waveDisabled=this.isConfigDisabled()||!1,this.waveRenderer&&this.waveRenderer.bindTriggerEvent()}}return e.\u0275fac=function(t){return new(t||e)(i.\u0275\u0275directiveInject(i.NgZone),i.\u0275\u0275directiveInject(i.ElementRef),i.\u0275\u0275directiveInject(d,8),i.\u0275\u0275directiveInject(o.ANIMATION_MODULE_TYPE,8),i.\u0275\u0275directiveInject(i.PLATFORM_ID))},e.\u0275dir=i.\u0275\u0275defineDirective({type:e,selectors:[["","dw-wave",""],["button","dw-button","",3,"dwType","link",3,"dwType","text"]],inputs:{dwWaveExtraNode:"dwWaveExtraNode"},exportAs:["dwWave"]}),e})(),c=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=i.\u0275\u0275defineInjector({imports:[[r.PlatformModule]]}),e})()},93574:function(e,t,n){n.r(t),n.d(t,{DatagroupConfigurationModule:function(){return ee}});var r=n(55245),i=n(87974),o=n(51156),a=n(47372),s=n(65134),d=n(42746);let l=(()=>{class e{constructor(e,t){this.http=e,this.pctHttp=t}getTypeList(){return this.http.get("restful/service/autoSettings/DataGroup/DataGroupList").pipe((0,a.map)(e=>e))}createDataGroup(e){console.log(e);const t=this.createDwDataSet(e,"","C");return this.http.post("restful/service/autoSettings/DataGroup/Create",t)}modifyDataGroup(e,t){const n=this.createDwDataSet(e,t,"U");return this.http.put("restful/service/autoSettings/DataGroup/Modify",n)}deleteDataGroup(e){return this.http.delete("restful/service/autoSettings/DataGroup/DataGroup",{body:{id:e[0]}})}getDataGroupDetail(e){return this.http.get("restful/service/autoSettings/DataGroup/DataGroup?id="+e)}getCurrentSite(){return this.http.get("restful/service/autoSettings/DataGroup/ServiceSiteID")}getUserSiteType(){return this.pctHttp.get("restful/service/warehouse/Warehouse/UserSite")}createDwDataSet(e,t,n){const r={};return Object.assign(r,e),r.$state=n,t&&(r.data_group_id=t),{dataSet:{data_group:r}}}}return e.\u0275fac=function(t){return new(t||e)(d.\u0275\u0275inject(o.DwDapHttpClient),d.\u0275\u0275inject(s.k))},e.\u0275prov=d.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var c=n(83237),u=n(31441),p=n(66800),m=n(17494),g=n(80677),h=n(80419),w=n(29872),f=n(93761),v=n(96670),y=n(8852),b=n(37568),S=n(85277),C=n(83522),D=n(1020),_=n(53524),x=n(9682);let E=(()=>{class e{constructor(e,t){this.dwHttp=e,this.selectModalService=t}setConfig(e){this.config={modalTitle:"\u9009\u62e9\u670d\u52a1\u4eba\u5458",modalWidth:"50%",tableMultiSelect:!0,tableIdField:"employee_id",tableNameField:"employee_name",tablePageSize:10,tableColDefs:[{title:"\u7f16\u53f7",field:"employee_code"},{title:"\u59d3\u540d",field:"employee_name"}],returnFields:["employee_id","employee_code","employee_name"],tableCustomTag:e=>"("+e.employee_code+")"+e.employee_name,dataSource:new x.ApiServerPagingService(this.dwHttp,"restful/service/employee/Employee/List","employee",["employee_code","employee_name"]),initParams:this.getQueryCondition(e)}}open(e){return this.selectModalService.open(this.config,e)}getQueryCondition(e){const t=new _.DwQueryCondition;return t.addCondition(new _.DwQueryConditionInfo("service_site_id",String(e),_.DwQueryConditionOperator.EQUAL)),t.addCondition(new _.DwQueryConditionInfo("is_salesman","1",_.DwQueryConditionOperator.NOTEQUALS)),t}}return e.\u0275fac=function(t){return new(t||e)(d.\u0275\u0275inject(o.DwDapHttpClient),d.\u0275\u0275inject(x.DwSelectModalService))},e.\u0275prov=d.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac}),e})();var I=n(85773),M=n(35626),O=n(67280),P=n(62695);function T(e,t){1&e&&d.\u0275\u0275element(0,"dw-option",6),2&e&&d.\u0275\u0275property("dwLabel","\u670d\u52a1\u7ad9\u70b9")("dwValue","3")}function k(e,t){if(1&e){const e=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"tr"),d.\u0275\u0275elementStart(1,"td"),d.\u0275\u0275text(2),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(3,"td"),d.\u0275\u0275text(4),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(5,"td"),d.\u0275\u0275elementStart(6,"div",21),d.\u0275\u0275elementStart(7,"div",22),d.\u0275\u0275listener("click",function(){const t=d.\u0275\u0275restoreView(e).$implicit;return d.\u0275\u0275nextContext(2).deleteGrid(t.employee_id)}),d.\u0275\u0275element(8,"img",23),d.\u0275\u0275element(9,"img",24),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd()}if(2&e){const e=t.$implicit;d.\u0275\u0275advance(2),d.\u0275\u0275textInterpolate1(" ",e.employee_code," "),d.\u0275\u0275advance(2),d.\u0275\u0275textInterpolate1(" ",e.employee_name," ")}}function A(e,t){if(1&e){const e=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"form",2),d.\u0275\u0275elementStart(1,"dw-form-item"),d.\u0275\u0275elementStart(2,"dw-form-label",3),d.\u0275\u0275text(3,"\u7c7b\u578b"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(4,"dw-form-control",4),d.\u0275\u0275elementStart(5,"dw-select",5),d.\u0275\u0275element(6,"dw-option",6),d.\u0275\u0275element(7,"dw-option",6),d.\u0275\u0275template(8,T,1,2,"dw-option",7),d.\u0275\u0275element(9,"dw-option",6),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(10,"dw-form-item"),d.\u0275\u0275elementStart(11,"dw-form-label",3),d.\u0275\u0275text(12,"\u5206\u7ec4\u540d\u79f0"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(13,"dw-form-control",4),d.\u0275\u0275element(14,"input",8),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(15,"dw-form-item"),d.\u0275\u0275elementStart(16,"dw-form-label",3),d.\u0275\u0275text(17,"\u7f16\u53f7\u89c4\u5219"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(18,"dw-form-control",4),d.\u0275\u0275element(19,"input",9),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(20,"dw-form-item"),d.\u0275\u0275elementStart(21,"dw-form-label",4),d.\u0275\u0275text(22,"\u5907\u6ce8"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(23,"dw-form-control",4),d.\u0275\u0275element(24,"input",10),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(25,"dw-form-item"),d.\u0275\u0275elementStart(26,"dw-form-label",4),d.\u0275\u0275text(27,"\u670d\u52a1\u4eba\u5458"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(28,"dw-form-control",4),d.\u0275\u0275elementStart(29,"div",11),d.\u0275\u0275elementStart(30,"div",12),d.\u0275\u0275listener("click",function(){return d.\u0275\u0275restoreView(e),d.\u0275\u0275nextContext().openEmployee()}),d.\u0275\u0275element(31,"em",13),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(32,"dw-table",14,15),d.\u0275\u0275elementStart(34,"thead"),d.\u0275\u0275elementStart(35,"tr",16),d.\u0275\u0275elementStart(36,"th",17),d.\u0275\u0275elementStart(37,"span",18),d.\u0275\u0275text(38,"\u4eba\u5458\u7f16\u53f7"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(39,"th",17),d.\u0275\u0275elementStart(40,"span",18),d.\u0275\u0275text(41,"\u59d3\u540d"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(42,"th",19),d.\u0275\u0275elementStart(43,"span"),d.\u0275\u0275text(44,"\u64cd\u4f5c"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(45,"tbody"),d.\u0275\u0275template(46,k,10,2,"tr",20),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd()}if(2&e){const e=d.\u0275\u0275reference(33),t=d.\u0275\u0275nextContext();d.\u0275\u0275property("formGroup",t.form),d.\u0275\u0275advance(2),d.\u0275\u0275property("dwSm",5)("dwXs",24),d.\u0275\u0275advance(2),d.\u0275\u0275property("dwSm",17)("dwXs",24),d.\u0275\u0275advance(1),d.\u0275\u0275property("dwDisabled",t.typeDisabled),d.\u0275\u0275advance(1),d.\u0275\u0275property("dwLabel","\u4ea7\u54c1\u5206\u7c7b")("dwValue","1"),d.\u0275\u0275advance(1),d.\u0275\u0275property("dwLabel","\u5ba2\u6237\u6863\u6848")("dwValue","2"),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngIf","1"==t.service_site_type),d.\u0275\u0275advance(1),d.\u0275\u0275property("dwLabel","\u670d\u52a1\u533a\u57df")("dwValue","4"),d.\u0275\u0275advance(2),d.\u0275\u0275property("dwSm",5)("dwXs",24),d.\u0275\u0275advance(2),d.\u0275\u0275property("dwSm",17)("dwXs",24),d.\u0275\u0275advance(3),d.\u0275\u0275property("dwSm",5)("dwXs",24),d.\u0275\u0275advance(2),d.\u0275\u0275property("dwSm",17)("dwXs",24),d.\u0275\u0275advance(3),d.\u0275\u0275property("dwSm",5)("dwXs",24),d.\u0275\u0275advance(2),d.\u0275\u0275property("dwSm",17)("dwXs",24),d.\u0275\u0275advance(3),d.\u0275\u0275property("dwSm",5)("dwXs",24),d.\u0275\u0275advance(2),d.\u0275\u0275property("dwSm",17)("dwXs",24),d.\u0275\u0275advance(4),d.\u0275\u0275property("dwData",t.showEmployees)("dwPageSize",5),d.\u0275\u0275advance(14),d.\u0275\u0275property("ngForOf",e.data)}}const L=function(){return{height:"calc(100% - 55px)",overflow:"auto","padding-bottom":"24px"}};let N=(()=>{class e{constructor(e,t,n,r,i,o){this.fb=e,this.analytics=t,this.userService=n,this.datagroupConfigurationSrv=r,this.employeeOpenerService=i,this.message=o,this.employees=[],this.showEmployees=[],this.service_site_id=0,this.service_site_type="",this.visible=!1,this.visibleChanged=new d.EventEmitter,this.data_group_id="",this.typeDisabled=!1,this.userInfo={tenantId:"",userId:""},this.form=this.fb.group({type:["1",D.Validators.required],name:["",D.Validators.required],code_rule:["",D.Validators.required],remark:[""]})}initData(e,t){this.typeDisabled=t,null!=e?(this.data_group_id=e,this.datagroupConfigurationSrv.getDataGroupDetail(e).subscribe(e=>{this.form.setValue({type:e.data.data_group[0].type,name:e.data.data_group[0].name,code_rule:e.data.data_group[0].code_rule,remark:e.data.data_group[0].remark}),this.employees=e.data.data_group[0].child.data_group_users,this.employees.forEach(e=>{e.$state="U"}),this.showEmployees=this.employees.filter(e=>"D"!==e.$state)},e=>{e.hasOwnProperty("error")&&e.error.hasOwnProperty("errorMessage")&&e.error.errorMessage&&this.message.error(e.error.errorMessage)})):(this.form.setValue({type:"1",name:"",code_rule:"",remark:""}),this.form.get("name").reset(),this.form.get("code_rule").reset(),this.employees=[],this.showEmployees=[])}ngOnInit(){this.userInfo=this.userService.getUserInfo(),this.datagroupConfigurationSrv.getCurrentSite().subscribe(e=>{this.service_site_id=e},e=>{e.hasOwnProperty("error")&&e.error.hasOwnProperty("errorMessage")&&e.error.errorMessage&&this.message.error(e.error.errorMessage)}),this.datagroupConfigurationSrv.getUserSiteType().subscribe(e=>{this.service_site_type=e.data.data.service_site_type})}openEmployee(){this.employeeOpenerService.setConfig(this.service_site_id),this.employeeOpenerService.open([]).subscribe(e=>{if(!e.length)return;const t=[],n=[];this.employees.forEach(e=>{n.push(e),t.push(e.employee_id)}),e.forEach(e=>{t.indexOf(e.employee_id)<0?(e.$state="C",n.push(e)):n.forEach((t,r)=>{t.employee_id===e.employee_id&&"D"===t.$state&&(n[r].$state="U")})}),this.employees=n,this.showEmployees=this.employees.filter(e=>"D"!==e.$state)})}deleteGrid(e){const t=[];this.employees.forEach(e=>{t.push(e)}),t.forEach((n,r)=>{n.employee_id===e&&"D"!==n.$state&&("C"===n.$state?t.splice(r,1):t[r].$state="D")}),this.employees=t,this.showEmployees=this.employees.filter(e=>"D"!==e.$state)}close(e){this.visible=!1,this.visibleChanged.emit([this.visible,e])}handleOk(){this.form.get("name").setValue(this.form.get("name").value.trim()),this.form.get("code_rule").setValue(this.form.get("code_rule").value.trim()),this.form.get("name").value?this.form.get("code_rule").value?this.employees.length?"create"===this.type?this.create():this.modify():this.message.create("error","\u8bf7\u9009\u62e9\u670d\u52a1\u4eba\u5458"):this.message.create("error","\u8bf7\u8f93\u5165\u7f16\u53f7\u89c4\u5219"):this.message.create("error","\u8bf7\u8f93\u5165\u5206\u7ec4\u540d\u79f0")}create(){const e=[];this.employees.forEach(t=>{e.push(Object.assign(t,{$state:"C"}))});const t=Object.assign(this.form.value,{data_group_users:e});this.datagroupConfigurationSrv.createDataGroup(t).subscribe(e=>{this.close(!0),this.message.create("success","\u65b0\u5efa\u6210\u529f\uff01"),this.analytics.eventTrack.next({action:"\u65b0\u5efa-\u70b9\u51fb\u786e\u5b9a\u65b0\u5efa",properties:{category:"\u6570\u636e\u5206\u7ec4\u914d\u7f6e",label:this.userInfo.tenantId+","+this.userInfo.userId,value:0}})},e=>{e.hasOwnProperty("error")&&e.error.hasOwnProperty("errorMessage")&&e.error.errorMessage&&this.message.error(e.error.errorMessage)})}modify(){const e=[];this.employees.forEach(t=>{e.push(Object.assign(t,{data_group_id:this.data_group_id}))});const t=Object.assign(this.form.value,{data_group_users:e});this.datagroupConfigurationSrv.modifyDataGroup(t,this.data_group_id).subscribe(e=>{this.close(!0),this.message.create("success","\u64cd\u4f5c\u6210\u529f\uff01"),this.analytics.eventTrack.next({action:"\u4fee\u6539-\u70b9\u51fb\u786e\u5b9a\u4fee\u6539",properties:{category:"\u6570\u636e\u5206\u7ec4\u914d\u7f6e",label:this.userInfo.tenantId+","+this.userInfo.userId,value:0}})},e=>{e.hasOwnProperty("error")&&e.error.hasOwnProperty("errorMessage")&&e.error.errorMessage&&this.message.error(e.error.errorMessage)})}}return e.\u0275fac=function(t){return new(t||e)(d.\u0275\u0275directiveInject(D.FormBuilder),d.\u0275\u0275directiveInject(m.DwAnalytics),d.\u0275\u0275directiveInject(p.DwUserService),d.\u0275\u0275directiveInject(l),d.\u0275\u0275directiveInject(E),d.\u0275\u0275directiveInject(c.DwMessageService))},e.\u0275cmp=d.\u0275\u0275defineComponent({type:e,selectors:[["app-datagroup-configuration-modify"]],inputs:{type:"type",visible:"visible"},outputs:{visibleChanged:"visibleChanged"},features:[d.\u0275\u0275ProvidersFeature([E])],decls:2,vars:7,consts:[[3,"dwBodyStyle","dwMaskClosable","dwWidth","dwVisible","dwTitle","dwOkDisabled","dwVisibleChange","dwOnCancel","dwOnOk"],["dwModalContent",""],["dw-form","",3,"formGroup"],["dwRequired","",3,"dwSm","dwXs"],[3,"dwSm","dwXs"],["formControlName","type",2,"width","100%",3,"dwDisabled"],[3,"dwLabel","dwValue"],[3,"dwLabel","dwValue",4,"ngIf"],["dw-input","","maxlength","20","placeholder","\u8bf7\u8f93\u5165\u5206\u7ec4\u540d\u79f0","required","","formControlName","name"],["dw-input","","maxlength","50","required","","formControlName","code_rule","placeholder","\u8bf7\u8f93\u5165\u7f16\u53f7\u89c4\u5219\uff0c\u591a\u4e2a\u89c4\u5219\u8bf7\u7528\u82f1\u6587\u9017\u53f7\u9694\u5f00\uff08\u4f8b\uff1a01,02\uff09"],["dw-input","","maxlength","50","placeholder","","formControlName","remark"],[1,"cont-table"],[1,"plus-icon",3,"click"],["dw-icon","","dwType","plus","dwTheme","outline"],[3,"dwData","dwPageSize"],["dwTable2",""],["dw-tr",""],["dw-th",""],["translate",""],[1,"align-center"],[4,"ngFor","ngForOf"],[1,"action-grid"],["title","\u5220\u9664",3,"click"],["src","../../../../../../assets/img/icon_delete.png","alt","\u5220\u9664",1,"action-icon"],["src","../../../../../../assets/img/icon_delete_hover.png","alt","\u5220\u9664",1,"action-icon"]],template:function(e,t){1&e&&(d.\u0275\u0275elementStart(0,"dw-modal",0),d.\u0275\u0275listener("dwVisibleChange",function(e){return t.visible=e})("dwOnCancel",function(){return t.close(!1)})("dwOnOk",function(){return t.handleOk()}),d.\u0275\u0275template(1,A,47,32,"ng-template",1),d.\u0275\u0275elementEnd()),2&e&&d.\u0275\u0275property("dwBodyStyle",d.\u0275\u0275pureFunction0(6,L))("dwMaskClosable",!1)("dwWidth",620)("dwVisible",t.visible)("dwTitle","create"==t.type?"\u65b0\u5efa\u6570\u636e\u5206\u7ec4":"\u4fee\u6539\u6570\u636e\u5206\u7ec4")("dwOkDisabled",!t.form.valid)},directives:[u.DwModalComponent,u.DwModalContentDirective,D.\u0275NgNoValidate,D.NgControlStatusGroup,I.DwFormDirective,D.FormGroupDirective,w.DwRowDirective,I.DwFormItemComponent,w.DwColDirective,I.DwFormLabelComponent,I.DwFormControlComponent,M.DwSelectComponent,D.NgControlStatus,D.FormControlName,M.DwOptionComponent,r.NgIf,O.DwInputDirective,D.DefaultValueAccessor,D.MaxLengthValidator,D.RequiredValidator,y.u,S.DwIconDirective,P.DwTableComponent,P.DwTheadComponent,P.DwTrDirective,P.DwTableCellDirective,P.DwThMeasureDirective,C.TranslateDirective,P.DwTbodyComponent,r.NgForOf],styles:[".plus-icon[_ngcontent-%COMP%]{width:48px;height:32px;border:1px solid #d0d0d0;border-radius:4px;background:#f5f5f5;display:flex;align-items:center;justify-content:center;margin-bottom:16px;color:#999;font-size:20px;cursor:pointer}.plus-icon.in-grid[_ngcontent-%COMP%]{display:inline-block;margin:0;text-align:center}"]}),e})();var V=n(64840);function j(e,t){1&e&&(d.\u0275\u0275elementStart(0,"div",16),d.\u0275\u0275element(1,"img",17),d.\u0275\u0275text(2," \u4ea7\u54c1\u5206\u7c7b "),d.\u0275\u0275elementEnd())}function F(e,t){if(1&e){const e=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"div",18),d.\u0275\u0275listener("click",function(){const t=d.\u0275\u0275restoreView(e).$implicit;return d.\u0275\u0275nextContext().clickTab(t.data.data_group_id)}),d.\u0275\u0275text(1),d.\u0275\u0275elementEnd()}if(2&e){const e=t.$implicit,n=d.\u0275\u0275nextContext();d.\u0275\u0275classMap(e.data.data_group_id==n.groupId?"tab-act group-item":"group-item"),d.\u0275\u0275advance(1),d.\u0275\u0275textInterpolate1(" ",e.data.name," ")}}function R(e,t){1&e&&(d.\u0275\u0275elementStart(0,"div",16),d.\u0275\u0275element(1,"img",17),d.\u0275\u0275text(2," \u5ba2\u6237\u6863\u6848 "),d.\u0275\u0275elementEnd())}function G(e,t){if(1&e){const e=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"div",18),d.\u0275\u0275listener("click",function(){const t=d.\u0275\u0275restoreView(e).$implicit;return d.\u0275\u0275nextContext().clickTab(t.data.data_group_id)}),d.\u0275\u0275text(1),d.\u0275\u0275elementEnd()}if(2&e){const e=t.$implicit,n=d.\u0275\u0275nextContext();d.\u0275\u0275classMap(e.data.data_group_id==n.groupId?"tab-act group-item":"group-item"),d.\u0275\u0275advance(1),d.\u0275\u0275textInterpolate1(" ",e.data.name," ")}}function $(e,t){1&e&&(d.\u0275\u0275elementStart(0,"div",16),d.\u0275\u0275element(1,"img",17),d.\u0275\u0275text(2," \u670d\u52a1\u7ad9\u70b9 "),d.\u0275\u0275elementEnd())}function U(e,t){if(1&e){const e=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"div",18),d.\u0275\u0275listener("click",function(){const t=d.\u0275\u0275restoreView(e).$implicit;return d.\u0275\u0275nextContext().clickTab(t.data.data_group_id)}),d.\u0275\u0275text(1),d.\u0275\u0275elementEnd()}if(2&e){const e=t.$implicit,n=d.\u0275\u0275nextContext();d.\u0275\u0275classMap(e.data.data_group_id==n.groupId?"tab-act group-item":"group-item"),d.\u0275\u0275advance(1),d.\u0275\u0275textInterpolate1(" ",e.data.name," ")}}function z(e,t){1&e&&(d.\u0275\u0275elementStart(0,"div",16),d.\u0275\u0275element(1,"img",17),d.\u0275\u0275text(2," \u670d\u52a1\u533a\u57df "),d.\u0275\u0275elementEnd())}function W(e,t){if(1&e){const e=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"div",18),d.\u0275\u0275listener("click",function(){const t=d.\u0275\u0275restoreView(e).$implicit;return d.\u0275\u0275nextContext().clickTab(t.data.data_group_id)}),d.\u0275\u0275text(1),d.\u0275\u0275elementEnd()}if(2&e){const e=t.$implicit,n=d.\u0275\u0275nextContext();d.\u0275\u0275classMap(e.data.data_group_id==n.groupId?"tab-act group-item":"group-item"),d.\u0275\u0275advance(1),d.\u0275\u0275textInterpolate1(" ",e.data.name," ")}}function H(e,t){if(1&e&&(d.\u0275\u0275elementContainerStart(0),d.\u0275\u0275elementStart(1,"tr",37),d.\u0275\u0275elementStart(2,"td"),d.\u0275\u0275text(3),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(4,"td"),d.\u0275\u0275text(5),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementContainerEnd()),2&e){const e=t.$implicit;d.\u0275\u0275advance(3),d.\u0275\u0275textInterpolate1(" ",e.employee_code," "),d.\u0275\u0275advance(2),d.\u0275\u0275textInterpolate1(" ",e.employee_name," ")}}function X(e,t){if(1&e){const e=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"div",19),d.\u0275\u0275elementStart(1,"div",20),d.\u0275\u0275elementStart(2,"button",21),d.\u0275\u0275listener("dwClick",function(){d.\u0275\u0275restoreView(e);const t=d.\u0275\u0275nextContext(),n=d.\u0275\u0275reference(13);return t.modify(),n.initData(t.groupId,!0)}),d.\u0275\u0275element(3,"em",22),d.\u0275\u0275elementStart(4,"span",7),d.\u0275\u0275text(5,"\u7f16\u8f91"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(6,"button",23),d.\u0275\u0275listener("dwOnConfirm",function(){d.\u0275\u0275restoreView(e);const t=d.\u0275\u0275nextContext();return t.delete(t.groupId)}),d.\u0275\u0275pipe(7,"translate"),d.\u0275\u0275pipe(8,"translate"),d.\u0275\u0275pipe(9,"translate"),d.\u0275\u0275element(10,"em",24),d.\u0275\u0275elementStart(11,"span",7),d.\u0275\u0275text(12,"\u5220\u9664"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(13,"div",25),d.\u0275\u0275elementStart(14,"div",26),d.\u0275\u0275elementStart(15,"div",27),d.\u0275\u0275text(16,"\u7f16\u53f7\u89c4\u5219\uff1a"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(17,"div",28),d.\u0275\u0275text(18),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(19,"div",26),d.\u0275\u0275elementStart(20,"div",27),d.\u0275\u0275text(21,"\u5907\u6ce8\uff1a"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(22,"div",28),d.\u0275\u0275text(23),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(24,"div",29),d.\u0275\u0275text(25,"\u670d\u52a1\u4eba\u5458"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(26,"div",30),d.\u0275\u0275elementStart(27,"div",31),d.\u0275\u0275elementStart(28,"dw-form-item"),d.\u0275\u0275elementStart(29,"dw-form-control"),d.\u0275\u0275elementStart(30,"dw-table",32,33),d.\u0275\u0275elementStart(32,"thead"),d.\u0275\u0275elementStart(33,"tr",34),d.\u0275\u0275elementStart(34,"th",35),d.\u0275\u0275elementStart(35,"span",7),d.\u0275\u0275text(36,"\u4eba\u5458\u7f16\u53f7"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(37,"th",35),d.\u0275\u0275elementStart(38,"span",7),d.\u0275\u0275text(39,"\u59d3\u540d"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(40,"tbody"),d.\u0275\u0275template(41,H,6,2,"ng-container",36),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd()}if(2&e){const e=d.\u0275\u0275reference(31),t=d.\u0275\u0275nextContext();d.\u0275\u0275advance(2),d.\u0275\u0275propertyInterpolate("angularticsLabel",t.userInfo.tenantId+","+t.userInfo.userId),d.\u0275\u0275property("dwType","default")("dwActionId","modify")("dwDefaultAuthorized","disabled")("angularticsCategory","\u6570\u636e\u5206\u7ec4\u914d\u7f6e"),d.\u0275\u0275advance(4),d.\u0275\u0275property("dwType","default")("dwActionId","delete")("dwDefaultAuthorized","disabled")("dwPopconfirmTitle",d.\u0275\u0275pipeBind1(7,17,"\u662f\u5426\u5220\u9664"))("dwOkText",d.\u0275\u0275pipeBind1(8,19,"dw-determine"))("dwCancelText",d.\u0275\u0275pipeBind1(9,21,"dw-cancel"))("dwPopconfirmPlacement","topRight"),d.\u0275\u0275advance(12),d.\u0275\u0275textInterpolate(t.dataGroupInfo.code_rule),d.\u0275\u0275advance(5),d.\u0275\u0275textInterpolate(t.dataGroupInfo.remark),d.\u0275\u0275advance(7),d.\u0275\u0275property("dwData",t.data_group_users)("dwPageSize",10),d.\u0275\u0275advance(11),d.\u0275\u0275property("ngForOf",e.data)}}function B(e,t){1&e&&(d.\u0275\u0275elementStart(0,"div",38),d.\u0275\u0275element(1,"img",39),d.\u0275\u0275elementStart(2,"div"),d.\u0275\u0275text(3,"\u6682\u65e0\u6570\u636e\u5206\u7ec4"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd())}let Q=(()=>{class e{constructor(e,t,n,r,i){this.analytics=e,this.userService=t,this.datagroupConfigurationSrv=n,this.message=r,this.modalService=i,this.productList=[],this.customerList=[],this.serviceSiteList=[],this.serviceRegionList=[],this.groupId=0,this.dataGroupInfo={code_rule:"",remark:""},this.data_group_users=[],this.service_site_type="",this.userInfo={tenantId:"",userId:""}}ngOnInit(){this.userInfo=this.userService.getUserInfo(),this.datagroupConfigurationSrv.getUserSiteType().subscribe(e=>{this.service_site_type=e.data.data.service_site_type,this.loadData()})}loadData(){this.datagroupConfigurationSrv.getTypeList().subscribe(e=>{this.customerList=e.data.customer.rows||[],this.productList=e.data.product.rows||[],this.serviceSiteList=e.data.serviceSite.rows||[],this.serviceRegionList=e.data.serviceRegion.rows||[];let t=[];t=this.productList.concat(this.customerList).concat(this.serviceSiteList).concat(this.serviceRegionList),t.length&&(this.groupId=this.groupId?this.groupId:t[0].data.data_group_id,this.datagroupConfigurationSrv.getDataGroupDetail(this.groupId).subscribe(e=>{this.dataGroupInfo=e.data.data_group[0],this.data_group_users=e.data.data_group[0].child.data_group_users},e=>{e.hasOwnProperty("error")&&e.error.hasOwnProperty("errorMessage")&&e.error.errorMessage&&this.message.error(e.error.errorMessage)}))},e=>{e.hasOwnProperty("error")&&e.error.hasOwnProperty("errorMessage")&&e.error.errorMessage&&this.message.error(e.error.errorMessage)})}clickTab(e){this.groupId!==e&&(this.groupId=e,this.datagroupConfigurationSrv.getDataGroupDetail(this.groupId).subscribe(e=>{this.dataGroupInfo=e.data.data_group[0],this.data_group_users=e.data.data_group[0].child.data_group_users},e=>{e.hasOwnProperty("error")&&e.error.hasOwnProperty("errorMessage")&&e.error.errorMessage&&this.message.error(e.error.errorMessage)}))}create(){this.type="create",this.isVisible=!0}modify(){this.type="modify",this.isVisible=!0}changeVisible(e){this.isVisible=e[0],e[1]&&this.loadData()}delete(e){this.deleteMul([e])}deleteMul(e){e.length>0&&this.datagroupConfigurationSrv.deleteDataGroup(e).subscribe(e=>{this.message.create("success","\u64cd\u4f5c\u6210\u529f\uff01"),this.groupId=0,this.loadData(),this.analytics.eventTrack.next({action:"\u5220\u9664-\u70b9\u51fb\u786e\u5b9a\u5220\u9664",properties:{category:"\u6570\u636e\u5206\u7ec4\u914d\u7f6e",label:this.userInfo.tenantId+","+this.userInfo.userId,value:0}})},e=>{e.hasOwnProperty("error")&&e.error.hasOwnProperty("errorMessage")&&e.error.errorMessage&&this.message.error(e.error.errorMessage)})}}return e.\u0275fac=function(t){return new(t||e)(d.\u0275\u0275directiveInject(m.DwAnalytics),d.\u0275\u0275directiveInject(p.DwUserService),d.\u0275\u0275directiveInject(l),d.\u0275\u0275directiveInject(c.DwMessageService),d.\u0275\u0275directiveInject(u.DwModalService))},e.\u0275cmp=d.\u0275\u0275defineComponent({type:e,selectors:[["app-datagroup-configuration"]],decls:27,vars:17,consts:[[1,"dw-f-content-list","layoutClass","sales_layout"],[1,"issue_layout_head"],[1,"issue_layout_title"],["dw-row","",1,"dw-f-btn-bar-action"],["dw-col",""],["dw-button","","type","button","dwActionAuthorized","","angularticsAction","\u65b0\u5efa-\u8fdb\u5165\u65b0\u5efa\u9875\u9762","dw-analyticsOn","click",3,"dwType","dwActionId","dwDefaultAuthorized","angularticsCategory","angularticsLabel","dwClick"],["dw-icon","","dwType","plus","dwTheme","outline"],["translate",""],[3,"type","visible","visibleChanged"],["child",""],[1,"datagroup-configuration-box"],[1,"left"],["class","group-title",4,"ngIf"],[3,"class","click",4,"ngFor","ngForOf"],["class","right",4,"ngIf"],["class","noList",4,"ngIf"],[1,"group-title"],["src","../../../../../assets/img/icon_arrow.png","alt","\u5c55\u5f00"],[3,"click"],[1,"right"],[1,"btns"],["dw-button","","type","button","dwActionAuthorized","","dw-analyticsOn","click","angularticsAction","\u4fee\u6539-\u8fdb\u5165\u4fee\u6539\u9875\u9762",3,"dwType","dwActionId","dwDefaultAuthorized","angularticsCategory","angularticsLabel","dwClick"],["dw-icon","","dwType","edit","dwTheme","outline"],["dw-button","","type","button","dwActionAuthorized","","dw-popconfirm","",3,"dwType","dwActionId","dwDefaultAuthorized","dwPopconfirmTitle","dwOkText","dwCancelText","dwPopconfirmPlacement","dwOnConfirm"],["dw-icon","","dwType","delete","dwTheme","outline"],[1,"main-info"],[1,"one"],[1,"label"],[1,"text"],[1,"sub-title",2,"margin-left","24px"],["dw-row",""],["dw-col","","dwSpan","12",2,"margin-left","44px"],[3,"dwData","dwPageSize"],["dwTable",""],["dw-tr",""],["dw-th",""],[4,"ngFor","ngForOf"],["dw-tbody-tr",""],[1,"noList"],["src","../../../../../../assets/img/img_nodatagroup.png","alt","\u6682\u65e0\u6570\u636e\u5206\u7ec4"]],template:function(e,t){if(1&e){const e=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"dw-content",0),d.\u0275\u0275elementStart(1,"div",1),d.\u0275\u0275elementStart(2,"h2",2),d.\u0275\u0275elementStart(3,"span"),d.\u0275\u0275text(4,"\u6570\u636e\u5206\u7ec4\u914d\u7f6e"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275element(5,"dw-divider"),d.\u0275\u0275elementStart(6,"div",3),d.\u0275\u0275elementStart(7,"div",4),d.\u0275\u0275elementStart(8,"button",5),d.\u0275\u0275listener("dwClick",function(){d.\u0275\u0275restoreView(e);const n=d.\u0275\u0275reference(13);return t.create(),n.initData(null,!1)}),d.\u0275\u0275element(9,"em",6),d.\u0275\u0275elementStart(10,"span",7),d.\u0275\u0275text(11,"\u65b0\u5efa"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(12,"app-datagroup-configuration-modify",8,9),d.\u0275\u0275listener("visibleChanged",function(e){return t.changeVisible(e)}),d.\u0275\u0275elementEnd(),d.\u0275\u0275element(14,"dw-divider"),d.\u0275\u0275elementStart(15,"div",10),d.\u0275\u0275elementStart(16,"div",11),d.\u0275\u0275template(17,j,3,0,"div",12),d.\u0275\u0275template(18,F,2,3,"div",13),d.\u0275\u0275template(19,R,3,0,"div",12),d.\u0275\u0275template(20,G,2,3,"div",13),d.\u0275\u0275template(21,$,3,0,"div",12),d.\u0275\u0275template(22,U,2,3,"div",13),d.\u0275\u0275template(23,z,3,0,"div",12),d.\u0275\u0275template(24,W,2,3,"div",13),d.\u0275\u0275elementEnd(),d.\u0275\u0275template(25,X,42,23,"div",14),d.\u0275\u0275template(26,B,4,0,"div",15),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd()}2&e&&(d.\u0275\u0275advance(8),d.\u0275\u0275propertyInterpolate("angularticsLabel",t.userInfo.tenantId+","+t.userInfo.userId),d.\u0275\u0275property("dwType","primary")("dwActionId","add")("dwDefaultAuthorized","disabled")("angularticsCategory","\u6570\u636e\u5206\u7ec4\u914d\u7f6e"),d.\u0275\u0275advance(4),d.\u0275\u0275property("type",t.type)("visible",t.isVisible),d.\u0275\u0275advance(5),d.\u0275\u0275property("ngIf",t.productList.length),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngForOf",t.productList),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngIf",t.customerList.length),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngForOf",t.customerList),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngIf",t.serviceSiteList.length),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngForOf",t.serviceSiteList),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngIf",t.serviceRegionList.length),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngForOf",t.serviceRegionList),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngIf",t.productList.length||t.customerList.length||t.serviceSiteList.length||t.serviceRegionList.length),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngIf",!(t.productList.length||t.customerList.length||t.serviceSiteList.length||t.serviceRegionList.length)))},directives:[g.DwContentComponent,h.DwDividerComponent,w.DwRowDirective,w.DwColDirective,f.DwButtonComponent,v.uG,y.u,b.DwActionAuthorizedDirective,m.DwAnalyticsOn,S.DwIconDirective,C.TranslateDirective,N,r.NgIf,r.NgForOf,V.DwPopconfirmDirective,I.DwFormItemComponent,I.DwFormControlComponent,P.DwTableComponent,P.DwTheadComponent,P.DwTrDirective,P.DwTableCellDirective,P.DwThMeasureDirective,P.DwTbodyComponent],pipes:[C.TranslatePipe],styles:[".dw-f-btn-bar-action[_ngcontent-%COMP%]{padding:24px}.datagroup-configuration-box[_ngcontent-%COMP%]{display:flex;margin-top:-1px}.datagroup-configuration-box[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{width:160px;height:100%;background:#eaeaea;overflow-y:auto}.datagroup-configuration-box[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .group-title[_ngcontent-%COMP%]{height:48px;line-height:48px;color:#000;font-weight:bold;padding-left:16px}.datagroup-configuration-box[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .group-title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:12px;margin-right:6px}.datagroup-configuration-box[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .group-item[_ngcontent-%COMP%]{height:48px;line-height:48px;color:#666;padding-left:32px;cursor:pointer}.datagroup-configuration-box[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .group-item.tab-act[_ngcontent-%COMP%]{color:#333;font-weight:bold;background:#fff;border-right:4px solid #1890ff}.datagroup-configuration-box[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{flex:1;height:100%;overflow-y:auto}.datagroup-configuration-box[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .btns[_ngcontent-%COMP%]{text-align:right;margin:12px 12px 12px 0}.datagroup-configuration-box[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .main-info[_ngcontent-%COMP%]{margin:0 12px 0 24px;background:#f6f6f6;padding:16px}.datagroup-configuration-box[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .main-info[_ngcontent-%COMP%]   .one[_ngcontent-%COMP%]{display:flex}.datagroup-configuration-box[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .main-info[_ngcontent-%COMP%]   .one[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:#000;font-weight:bold}.datagroup-configuration-box[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .main-info[_ngcontent-%COMP%]   .one[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{flex:1;color:#000;white-space:wrap;word-wrap:break-word;word-break:break-all}.noList[_ngcontent-%COMP%]{margin:auto;padding-bottom:5%}.noList[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:120px;height:120px}.noList[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{text-align:center;font-size:16px;color:#000000a6;line-height:16px;margin-top:8px}"]}),e})();var Z=n(32276),q=n(51033);const J=[{path:"",pathMatch:"prefix",canActivate:[Z.DwAuthGuardService,q.L],data:{dwRouteData:{programId:"datagroup-configuration",dwAuthId:"datagroup-configuration"}},component:Q}];let Y=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=d.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=d.\u0275\u0275defineInjector({imports:[[i.RouterModule.forChild(J)],i.RouterModule]}),e})();var K=n(23938);let ee=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=d.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=d.\u0275\u0275defineInjector({imports:[[r.CommonModule,K.m,Y,c.DwMessageModule,u.DwModalModule,f.DwButtonModule,g.DwLayoutModule,h.DwDividerModule,I.DwFormModule,P.DwTableModule,w.DwGridModule,S.DwIconModule,V.DwPopconfirmModule,b.DwActionModule,C.TranslateModule,M.DwSelectModule,O.DwInputModule,D.ReactiveFormsModule]]}),e})()},51033:function(e,t,n){n.d(t,{L:function(){return c}}),n(87974);var r=n(32276),i=n(51156),o=n(66800),a=n(83237),s=n(31441),d=n(71049),l=n(42746);let c=(()=>{class e{constructor(e,t,n,r,i){this.http=e,this.authService=t,this.userService=n,this.message=r,this.modalService=i,this.uerId=""}canLoad(e){return!0}canActivateChild(e,t){return!0}canActivate(e,t){return new d.Observable(e=>{this.uerId=this.userService.getUser("userId"),this.uerId?this.http.get(`restful/service/employee/Employee/ValidateIamUser?userId=${this.uerId}`).subscribe(t=>{t.success?(sessionStorage.setItem("employeeInfo",JSON.stringify(t.data?t.data.data:{})),e.next(!0)):(this.modalService.warning({dwTitle:"\u63d0\u793a",dwContent:t.data,dwWidth:"400px",dwOnOk:()=>{this.authService.logout(),window.location.reload()}}),e.next(!1))},t=>{console.log(t),t.hasOwnProperty("error")&&t.error.hasOwnProperty("errorMessage")&&t.error.errorMessage&&this.message.error(t.error.errorMessage),e.next(!1)}):e.next(!0)})}}return e.\u0275fac=function(t){return new(t||e)(l.\u0275\u0275inject(i.DwDapHttpClient),l.\u0275\u0275inject(r.DwAuthService),l.\u0275\u0275inject(o.DwUserService),l.\u0275\u0275inject(a.DwMessageService),l.\u0275\u0275inject(s.DwModalService))},e.\u0275prov=l.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()}}]);