"use strict";(self.webpackChunkassc_crs=self.webpackChunkassc_crs||[]).push([[4047],{36454:function(e,t,n){n.r(t),n.d(t,{DwMenuAttributeService:function(){return pe},DwMenuConfigService:function(){return ge},DwMenuDrawerComponent:function(){return Ce},DwMenuExecuteService:function(){return fe},DwMenuLoadingMaskService:function(){return me},DwMenuService:function(){return he},DwMenusModule:function(){return ve},DwRecursiveMenuComponent:function(){return Se},DwRecursiveMenuService:function(){return we}});var i=n(42746),r=n(71049),s=n(47372),l=n(66800),o=n(32276),c=n(30469),a=n(32245),u=n(50437),d=n(24540),p=n(20033),m=n(68521),g=n(87974),h=n(29853),f=n(55245),w=n(93029),S=n(93353),C=n(43542),v=n(96677);function b(e,t){1&e&&i.\u0275\u0275elementContainer(0)}const M=function(e){return{$implicit:e}};function I(e,t){if(1&e){const e=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementStart(0,"li",8),i.\u0275\u0275listener("click",function(t){i.\u0275\u0275restoreView(e);const n=i.\u0275\u0275nextContext().$implicit;return i.\u0275\u0275nextContext(2).onClickItem(t,n)}),i.\u0275\u0275template(1,b,1,0,"ng-container",9),i.\u0275\u0275elementEnd()}if(2&e){const e=i.\u0275\u0275nextContext().$implicit;i.\u0275\u0275nextContext();const t=i.\u0275\u0275reference(4);i.\u0275\u0275property("dwPaddingLeft",24*e.level)("dwDisabled",e.disabled)("dwSelected",e.selected),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngTemplateOutlet",t)("ngTemplateOutletContext",i.\u0275\u0275pureFunction1(5,M,e))}}function y(e,t){1&e&&i.\u0275\u0275elementContainer(0)}function x(e,t){if(1&e){const e=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementStart(0,"li",8),i.\u0275\u0275listener("click",function(t){i.\u0275\u0275restoreView(e);const n=i.\u0275\u0275nextContext().$implicit;return i.\u0275\u0275nextContext(4).onClickItem(t,n)}),i.\u0275\u0275template(1,y,1,0,"ng-container",9),i.\u0275\u0275elementEnd()}if(2&e){const e=i.\u0275\u0275nextContext().$implicit;i.\u0275\u0275nextContext(3);const t=i.\u0275\u0275reference(4);i.\u0275\u0275property("dwPaddingLeft",24*e.level)("dwDisabled",e.disabled)("dwSelected",e.selected),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngTemplateOutlet",t)("ngTemplateOutletContext",i.\u0275\u0275pureFunction1(5,M,e))}}function L(e,t){1&e&&i.\u0275\u0275elementContainer(0)}function O(e,t){if(1&e){const e=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementStart(0,"li",8),i.\u0275\u0275listener("click",function(t){i.\u0275\u0275restoreView(e);const n=i.\u0275\u0275nextContext().$implicit;return i.\u0275\u0275nextContext(6).onClickItem(t,n)}),i.\u0275\u0275template(1,L,1,0,"ng-container",9),i.\u0275\u0275elementEnd()}if(2&e){const e=i.\u0275\u0275nextContext().$implicit;i.\u0275\u0275nextContext(5);const t=i.\u0275\u0275reference(4),n=i.\u0275\u0275nextContext();i.\u0275\u0275property("dwPaddingLeft",n.inlineCollapsed?24:24*e.level)("dwDisabled",e.disabled)("dwSelected",e.selected),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngTemplateOutlet",t)("ngTemplateOutletContext",i.\u0275\u0275pureFunction1(5,M,e))}}function T(e,t){1&e&&i.\u0275\u0275elementContainer(0)}function k(e,t){if(1&e){const e=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementStart(0,"li",8),i.\u0275\u0275listener("click",function(t){i.\u0275\u0275restoreView(e);const n=i.\u0275\u0275nextContext().$implicit;return i.\u0275\u0275nextContext(8).onClickItem(t,n)}),i.\u0275\u0275template(1,T,1,0,"ng-container",9),i.\u0275\u0275elementEnd()}if(2&e){const e=i.\u0275\u0275nextContext().$implicit;i.\u0275\u0275nextContext(7);const t=i.\u0275\u0275reference(4),n=i.\u0275\u0275nextContext();i.\u0275\u0275property("dwPaddingLeft",n.inlineCollapsed?24:24*e.level)("dwDisabled",e.disabled)("dwSelected",e.selected),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngTemplateOutlet",t)("ngTemplateOutletContext",i.\u0275\u0275pureFunction1(5,M,e))}}function D(e,t){if(1&e&&(i.\u0275\u0275elementContainerStart(0),i.\u0275\u0275template(1,k,2,7,"li",5),i.\u0275\u0275elementContainerEnd()),2&e){const e=t.$implicit;i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",0===e.child.length)}}function j(e,t){if(1&e){const e=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementStart(0,"li",10),i.\u0275\u0275listener("dwOpenChange",function(t){return i.\u0275\u0275restoreView(e),i.\u0275\u0275nextContext().$implicit.open=t})("click",function(t){i.\u0275\u0275restoreView(e);const n=i.\u0275\u0275nextContext().$implicit;return i.\u0275\u0275nextContext(6).onClickSubmenu(t,n)}),i.\u0275\u0275elementStart(1,"ul"),i.\u0275\u0275template(2,D,2,1,"ng-container",3),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd()}if(2&e){const e=i.\u0275\u0275nextContext().$implicit,t=i.\u0275\u0275reference(4);i.\u0275\u0275property("dwPaddingLeft",24*e.level)("dwTitle",t)("dwOpen",e.open)("dwDisabled",e.disabled),i.\u0275\u0275advance(2),i.\u0275\u0275property("ngForOf",e.child)}}function P(e,t){1&e&&i.\u0275\u0275elementContainer(0)}function E(e,t){if(1&e&&i.\u0275\u0275template(0,P,1,0,"ng-container",9),2&e){const e=i.\u0275\u0275nextContext().$implicit;i.\u0275\u0275nextContext(5);const t=i.\u0275\u0275reference(4);i.\u0275\u0275property("ngTemplateOutlet",t)("ngTemplateOutletContext",i.\u0275\u0275pureFunction1(2,M,e))}}function _(e,t){if(1&e&&(i.\u0275\u0275elementContainerStart(0),i.\u0275\u0275template(1,O,2,7,"li",5),i.\u0275\u0275template(2,j,3,5,"li",6),i.\u0275\u0275template(3,E,1,4,"ng-template",null,12,i.\u0275\u0275templateRefExtractor),i.\u0275\u0275elementContainerEnd()),2&e){const e=t.$implicit;i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",0===e.child.length),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",e.child.length>0)}}function $(e,t){if(1&e){const e=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementStart(0,"li",10),i.\u0275\u0275listener("dwOpenChange",function(t){return i.\u0275\u0275restoreView(e),i.\u0275\u0275nextContext().$implicit.open=t})("click",function(t){i.\u0275\u0275restoreView(e);const n=i.\u0275\u0275nextContext().$implicit;return i.\u0275\u0275nextContext(4).onClickSubmenu(t,n)}),i.\u0275\u0275elementStart(1,"ul"),i.\u0275\u0275template(2,_,5,2,"ng-container",3),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd()}if(2&e){const e=i.\u0275\u0275nextContext().$implicit,t=i.\u0275\u0275reference(4);i.\u0275\u0275property("dwPaddingLeft",24*e.level)("dwTitle",t)("dwOpen",e.open)("dwDisabled",e.disabled),i.\u0275\u0275advance(2),i.\u0275\u0275property("ngForOf",e.child)}}function N(e,t){1&e&&i.\u0275\u0275elementContainer(0)}function F(e,t){if(1&e&&i.\u0275\u0275template(0,N,1,0,"ng-container",9),2&e){const e=i.\u0275\u0275nextContext().$implicit;i.\u0275\u0275nextContext(3);const t=i.\u0275\u0275reference(4);i.\u0275\u0275property("ngTemplateOutlet",t)("ngTemplateOutletContext",i.\u0275\u0275pureFunction1(2,M,e))}}function J(e,t){if(1&e&&(i.\u0275\u0275elementContainerStart(0),i.\u0275\u0275template(1,x,2,7,"li",5),i.\u0275\u0275template(2,$,3,5,"li",6),i.\u0275\u0275template(3,F,1,4,"ng-template",null,11,i.\u0275\u0275templateRefExtractor),i.\u0275\u0275elementContainerEnd()),2&e){const e=t.$implicit;i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",0===e.child.length),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",e.child.length>0)}}function A(e,t){if(1&e){const e=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementStart(0,"li",10),i.\u0275\u0275listener("dwOpenChange",function(t){return i.\u0275\u0275restoreView(e),i.\u0275\u0275nextContext().$implicit.open=t})("click",function(t){i.\u0275\u0275restoreView(e);const n=i.\u0275\u0275nextContext().$implicit;return i.\u0275\u0275nextContext(2).onClickSubmenu(t,n)}),i.\u0275\u0275elementStart(1,"ul"),i.\u0275\u0275template(2,J,5,2,"ng-container",3),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd()}if(2&e){const e=i.\u0275\u0275nextContext().$implicit,t=i.\u0275\u0275reference(4);i.\u0275\u0275property("dwPaddingLeft",24*e.level)("dwTitle",t)("dwOpen",e.open)("dwDisabled",e.disabled),i.\u0275\u0275advance(2),i.\u0275\u0275property("ngForOf",e.child)}}function R(e,t){1&e&&i.\u0275\u0275elementContainer(0)}function V(e,t){if(1&e&&i.\u0275\u0275template(0,R,1,0,"ng-container",9),2&e){const e=i.\u0275\u0275nextContext().$implicit;i.\u0275\u0275nextContext();const t=i.\u0275\u0275reference(4);i.\u0275\u0275property("ngTemplateOutlet",t)("ngTemplateOutletContext",i.\u0275\u0275pureFunction1(2,M,e))}}function U(e,t){if(1&e&&(i.\u0275\u0275elementContainerStart(0),i.\u0275\u0275template(1,I,2,7,"li",5),i.\u0275\u0275template(2,A,3,5,"li",6),i.\u0275\u0275template(3,V,1,4,"ng-template",null,7,i.\u0275\u0275templateRefExtractor),i.\u0275\u0275elementContainerEnd()),2&e){const e=t.$implicit;i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",0===e.child.length),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",e.child.length>0)}}function B(e,t){1&e&&i.\u0275\u0275element(0,"i",17),2&e&&i.\u0275\u0275property("ngClass","dw-non-icon")}function K(e,t){if(1&e&&(i.\u0275\u0275elementStart(0,"div",13),i.\u0275\u0275element(1,"dw-icon-element",14),i.\u0275\u0275template(2,B,1,1,"i",15),i.\u0275\u0275elementStart(3,"span"),i.\u0275\u0275element(4,"dw-program-title",16),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd()),2&e){const e=t.$implicit,n=i.\u0275\u0275nextContext(2);i.\u0275\u0275advance(1),i.\u0275\u0275property("dwIconClass",e.iconClass),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",!e.iconClass),i.\u0275\u0275advance(2),i.\u0275\u0275property("titleKey",n.menuPre+e.id)("programId",e.programId)}}const z=function(e,t){return{en_US:e,zh_CN:t}};function W(e,t){if(1&e&&(i.\u0275\u0275elementContainerStart(0),i.\u0275\u0275elementStart(1,"ul",2),i.\u0275\u0275template(2,U,5,2,"ng-container",3),i.\u0275\u0275template(3,K,5,4,"ng-template",null,4,i.\u0275\u0275templateRefExtractor),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementContainerEnd()),2&e){const e=i.\u0275\u0275nextContext();i.\u0275\u0275advance(1),i.\u0275\u0275property("dwTheme",e.theme)("dwMode",e.mode)("dwInlineCollapsed",e.inlineCollapsed)("dwSelectable",e.selectable)("ngClass",i.\u0275\u0275pureFunction2(6,z,"en_US"===e.language,"zh_CN"===e.language)),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngForOf",e.menuList)}}function H(e,t){1&e&&i.\u0275\u0275elementContainer(0)}function q(e,t){1&e&&i.\u0275\u0275elementContainer(0)}const Y=function(e){return{"dw-f-action-disable":e}};function G(e,t){if(1&e){const e=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementStart(0,"div",9),i.\u0275\u0275listener("click",function(){i.\u0275\u0275restoreView(e);const t=i.\u0275\u0275nextContext(2).$implicit;return i.\u0275\u0275nextContext(2).onClickItem(t)}),i.\u0275\u0275elementStart(1,"a",10),i.\u0275\u0275template(2,q,1,0,"ng-container",2),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd()}if(2&e){const e=i.\u0275\u0275nextContext(2).$implicit;i.\u0275\u0275nextContext(2);const t=i.\u0275\u0275reference(6);i.\u0275\u0275advance(1),i.\u0275\u0275property("ngClass",i.\u0275\u0275pureFunction1(3,Y,e.disabled)),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngTemplateOutlet",t)("ngTemplateOutletContext",i.\u0275\u0275pureFunction1(5,M,e))}}function Q(e,t){1&e&&i.\u0275\u0275elementContainer(0)}function X(e,t){1&e&&i.\u0275\u0275elementContainer(0)}const Z=function(e){return{"padding-left":e}};function ee(e,t){if(1&e&&(i.\u0275\u0275elementStart(0,"div"),i.\u0275\u0275elementStart(1,"div",11),i.\u0275\u0275template(2,Q,1,0,"ng-container",2),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(3,"ul"),i.\u0275\u0275template(4,X,1,0,"ng-container",2),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd()),2&e){const e=i.\u0275\u0275nextContext(2).$implicit;i.\u0275\u0275nextContext(2);const t=i.\u0275\u0275reference(6),n=i.\u0275\u0275reference(4);i.\u0275\u0275advance(1),i.\u0275\u0275property("ngClass",i.\u0275\u0275pureFunction1(6,Y,e.disabled))("ngStyle",i.\u0275\u0275pureFunction1(8,Z,e.level>=3?"24px":"0px")),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngTemplateOutlet",t)("ngTemplateOutletContext",i.\u0275\u0275pureFunction1(10,M,e)),i.\u0275\u0275advance(2),i.\u0275\u0275property("ngTemplateOutlet",n)("ngTemplateOutletContext",i.\u0275\u0275pureFunction1(12,M,e.child))}}function te(e,t){if(1&e&&(i.\u0275\u0275elementContainerStart(0),i.\u0275\u0275elementStart(1,"div",7),i.\u0275\u0275template(2,G,3,7,"div",8),i.\u0275\u0275template(3,ee,5,14,"div",6),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementContainerEnd()),2&e){const e=i.\u0275\u0275nextContext().$implicit;i.\u0275\u0275advance(2),i.\u0275\u0275property("ngIf",0===e.child.length),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",e.child.length>0)}}function ne(e,t){1&e&&i.\u0275\u0275elementContainer(0)}function ie(e,t){if(1&e){const e=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementStart(0,"li",9),i.\u0275\u0275listener("click",function(){i.\u0275\u0275restoreView(e);const t=i.\u0275\u0275nextContext(2).$implicit;return i.\u0275\u0275nextContext(2).onClickItem(t)}),i.\u0275\u0275elementStart(1,"a",12),i.\u0275\u0275template(2,ne,1,0,"ng-container",2),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd()}if(2&e){const e=i.\u0275\u0275nextContext(2).$implicit;i.\u0275\u0275nextContext(2);const t=i.\u0275\u0275reference(6);i.\u0275\u0275advance(1),i.\u0275\u0275property("ngClass",i.\u0275\u0275pureFunction1(3,Y,e.disabled)),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngTemplateOutlet",t)("ngTemplateOutletContext",i.\u0275\u0275pureFunction1(5,M,e))}}function re(e,t){1&e&&i.\u0275\u0275elementContainer(0)}function se(e,t){1&e&&i.\u0275\u0275elementContainer(0)}function le(e,t){if(1&e&&(i.\u0275\u0275elementStart(0,"li"),i.\u0275\u0275elementStart(1,"a",13),i.\u0275\u0275template(2,re,1,0,"ng-container",2),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(3,"ul"),i.\u0275\u0275template(4,se,1,0,"ng-container",2),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd()),2&e){const e=i.\u0275\u0275nextContext(2).$implicit;i.\u0275\u0275nextContext(2);const t=i.\u0275\u0275reference(6),n=i.\u0275\u0275reference(4);i.\u0275\u0275advance(1),i.\u0275\u0275property("ngClass",i.\u0275\u0275pureFunction1(6,Y,e.disabled))("ngStyle",i.\u0275\u0275pureFunction1(8,Z,e.level>=3?"24px":"0px")),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngTemplateOutlet",t)("ngTemplateOutletContext",i.\u0275\u0275pureFunction1(10,M,e)),i.\u0275\u0275advance(2),i.\u0275\u0275property("ngTemplateOutlet",n)("ngTemplateOutletContext",i.\u0275\u0275pureFunction1(12,M,e.child))}}function oe(e,t){if(1&e&&(i.\u0275\u0275elementContainerStart(0),i.\u0275\u0275template(1,ie,3,7,"li",8),i.\u0275\u0275template(2,le,5,14,"li",6),i.\u0275\u0275elementContainerEnd()),2&e){const e=i.\u0275\u0275nextContext().$implicit;i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",0===e.child.length),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",e.child.length>0)}}function ce(e,t){if(1&e&&(i.\u0275\u0275elementContainerStart(0),i.\u0275\u0275template(1,te,4,2,"ng-container",6),i.\u0275\u0275template(2,oe,3,2,"ng-container",6),i.\u0275\u0275elementContainerEnd()),2&e){const e=t.$implicit;i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",1===e.level),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",1!==e.level)}}function ae(e,t){1&e&&i.\u0275\u0275template(0,ce,3,2,"ng-container",5),2&e&&i.\u0275\u0275property("ngForOf",t.$implicit)}function ue(e,t){1&e&&i.\u0275\u0275element(0,"i",12),2&e&&i.\u0275\u0275property("ngClass","dw-non-icon")}function de(e,t){if(1&e&&(i.\u0275\u0275element(0,"dw-icon-element",14),i.\u0275\u0275template(1,ue,1,1,"i",15),i.\u0275\u0275elementStart(2,"span",16),i.\u0275\u0275element(3,"dw-program-title",17),i.\u0275\u0275elementEnd()),2&e){const e=t.$implicit,n=i.\u0275\u0275nextContext();i.\u0275\u0275property("dwIconClass",e.iconClass),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",!e.iconClass),i.\u0275\u0275advance(2),i.\u0275\u0275property("titleKey",n.menuPre+e.id)("programId",e.programId)}}let pe=(()=>{class e{constructor(){}default(e,t){const n=e;n.level=t,n.hasOwnProperty("disabled")?void 0===n.disabled&&(n.disabled=!1):n.disabled=!1,n.hasOwnProperty("selected")?void 0===n.selected&&(n.selected=!1):n.selected=!1,n.hasOwnProperty("open")?void 0===n.open&&(n.open=!1):n.open=!1,n.hasOwnProperty("url")?void 0===n.url&&(n.url=""):n.url="",n.hasOwnProperty("iconClass")?void 0===n.iconClass&&(n.iconClass=""):n.iconClass="",n.hasOwnProperty("programId")?void 0===n.programId&&(n.programId=""):n.programId="",n.hasOwnProperty("parameter")?void 0===n.parameter&&(n.parameter=[]):n.parameter=[],n.hasOwnProperty("child")||(n.child=[])}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i.\u0275\u0275defineInjectable({factory:function(){return new e},token:e,providedIn:"root"}),e})(),me=(()=>{class e{constructor(e,t,n){this.dwLoadMaskHttp=e,this.dwLoadMaskDelay=t,this.dwLoadingMaskService=n,this.loadingList=[],this.loadingSubject=new r.BehaviorSubject(null),this.loadingSubjectNext()}auto(e,t,n){let i=null,r=this.dwLoadMaskHttp,s=this.dwLoadMaskDelay;return null!==e&&(r=e),r&&(null!=t&&(s=t),i=this.show(s,n)),i}show(e,t){const n=(new Date).getTime().toString()+"_"+Math.floor(1e4*Math.random()+1).toString(),i=this.dwLoadingMaskService.newConfig();null!=e&&(i.delay=e),null!=t&&(i.tip=t),i.spinning=!(i.delay>0);const r=this.dwLoadingMaskService.newLoadMaskItem();return r.id=n,r.config=i,this.loadingList.push(r),i.delay>0?setTimeout(()=>{this.reflash(n)},i.delay):this.loadingSubjectNext(r),n}reflash(e){const t=this.dwLoadingMaskService.newLoadMaskItem(),n=this.loadingList.length;if(0===n)this.loadingSubjectNext(t);else{if(""!==e)for(let t=n-1;t>=0;t--){const n=this.loadingList[t];if(e===n.id){n.config.spinning=!0,n.config.delay=0;break}}for(let e=n-1;e>=0;e--)if(this.loadingList[e].config.spinning){const n=this.loadingList[e];t.id=n.id,t.config=n.config,this.loadingSubjectNext(t);break}}}hide(e){if(e){const t=this.loadingList.length;if(t>0)for(let n=0;n<t;n++)if(e===this.loadingList[n].id){this.loadingList.splice(n,1),this.reflash("");break}}}getLoadingMask(){return this.loadingSubject.asObservable().pipe((0,s.filter)(e=>null!==e),(0,s.distinctUntilChanged)())}loadingSubjectNext(e){const t=this.dwLoadingMaskService.newLoadMaskItem();e&&(t.id=e.id,t.config=Object.assign({},e.config)),this.loadingSubject.next(t)}}return e.\u0275fac=function(t){return new(t||e)(i.\u0275\u0275inject(c.DW_LOAD_MASK_HTTP),i.\u0275\u0275inject(c.DW_LOAD_MASK_DELAY),i.\u0275\u0275inject(d.DwLoadingMaskService))},e.\u0275prov=i.\u0275\u0275defineInjectable({factory:function(){return new e(i.\u0275\u0275inject(c.DW_LOAD_MASK_HTTP),i.\u0275\u0275inject(c.DW_LOAD_MASK_DELAY),i.\u0275\u0275inject(d.DwLoadingMaskService))},token:e,providedIn:"root"}),e})(),ge=(()=>{class e{constructor(e,t,n,i,r,s,l){this.dwMenuJson=e,this.dwReportLangLoaderService=t,this.dwAuthPermissionInfoService=n,this.dwMenuAttributeService=i,this.dwMenuLoadingMaskService=r,this.dwTenantService=s,this.dwLanguageService=l}init(){this.menuList=null,this.menuConfigMapList=null,this.menu$=new r.BehaviorSubject(this.menuList),this.menuConfigMap$=new r.BehaviorSubject(this.menuConfigMapList);let e=!1;this.dwLanguageService.language$.subscribe(t=>{e&&this.dwReportLangLoaderService.init()},e=>{console.log(e)}),this.dwTenantService.isTokenValid$.subscribe(t=>{if(t){if(!e){e=!0,this.dwReportLangLoaderService.init(),this.menuList=[],this.menuConfigMapList={};const t=this.dwMenuLoadingMaskService.auto(null);this.menuAuthority().subscribe(e=>{let n=null;e&&(n=e),Array.isArray(n)||(n=[]),this.menuList=this.menuInit(n,this.menuConfigMapList,1),this.menu$.next(this.menuList),this.menuConfigMap$.next(Object.assign({},this.menuConfigMapList)),this.dwMenuLoadingMaskService.hide(t)},e=>{console.log(e),this.menu$.next(this.menuList),this.menuConfigMap$.next(Object.assign({},this.menuConfigMapList)),this.dwMenuLoadingMaskService.hide(t)})}}else e=!1,this.menuList=[],this.menuConfigMapList=null,this.menu$.next(this.menuList),this.menuConfigMap$.next(this.menuConfigMapList)})}menuAuthority(){return r.Observable.create(e=>{let t=[],n=JSON.parse(JSON.stringify(this.dwMenuJson));Array.isArray(n)||(n=[]),this.dwAuthPermissionInfoService.authorizedList$.subscribe(i=>{t=this.menuAuthorityFilter(n,i),e.next(t),e.complete()})})}menuAuthorityFilter(e,t){const n=[],i=e.length;for(let r=0;r<i;r++){const i=JSON.parse(JSON.stringify(e[r]));let s=!0;if("category"!==i.type&&(t[i.programId]||(s=!1,"externalUrl"===i.type&&!i.programId&&(s=!0))),s){i.hasOwnProperty("child")&&i.child.length>0&&(i.child=this.menuAuthorityFilter(i.child,t));let e=!0;"category"===i.type&&0===i.child.length&&(e=!1),e&&n.push(i)}}return n}getMenu(){return this.menu$.asObservable().pipe((0,s.filter)(e=>null!==e),(0,s.distinctUntilChanged)())}getMenuConfigMap(){return this.menuConfigMap$.asObservable().pipe((0,s.distinctUntilChanged)())}menuInit(e,t,n){const i=[],r=e.length;for(let s=0;s<r;s++){const r=JSON.parse(JSON.stringify(e[s]));this.dwMenuAttributeService.default(r,n),t[r.id]={type:r.type,iconClass:r.iconClass,open:r.open,disabled:r.disabled,selected:r.selected,programId:r.programId,url:r.url?r.url:"",openMode:r.openMode?r.openMode:"",parameter:r.parameter,level:r.level},r.child.length>0&&(r.child=this.menuInit(r.child,t,n+1)),i.push(r)}return i}}return e.\u0275fac=function(t){return new(t||e)(i.\u0275\u0275inject(c.DW_MENU_JSON),i.\u0275\u0275inject(u.DwFinereportLangLoaderService),i.\u0275\u0275inject(o.DwAuthPermissionInfoService),i.\u0275\u0275inject(pe),i.\u0275\u0275inject(me),i.\u0275\u0275inject(l.DwTenantService),i.\u0275\u0275inject(a.DwLanguageService))},e.\u0275prov=i.\u0275\u0275defineInjectable({factory:function(){return new e(i.\u0275\u0275inject(c.DW_MENU_JSON),i.\u0275\u0275inject(u.DwFinereportLangLoaderService),i.\u0275\u0275inject(o.DwAuthPermissionInfoService),i.\u0275\u0275inject(pe),i.\u0275\u0275inject(me),i.\u0275\u0275inject(l.DwTenantService),i.\u0275\u0275inject(a.DwLanguageService))},token:e,providedIn:"root"}),e})(),he=(()=>{class e{constructor(e){this.dwMenuConfigService=e,this.dwMenuConfigService.init()}menuAuthority(e){return this.dwMenuConfigService.menuAuthority()}getMenu(){return this.dwMenuConfigService.getMenu()}getMenuConfigMap(){return this.dwMenuConfigService.getMenuConfigMap()}}return e.\u0275fac=function(t){return new(t||e)(i.\u0275\u0275inject(ge))},e.\u0275prov=i.\u0275\u0275defineInjectable({factory:function(){return new e(i.\u0275\u0275inject(ge))},token:e,providedIn:"root"}),e})(),fe=(()=>{class e{constructor(e){this.dwProgramExecuteService=e}menuClick(e){let t="";const n={};switch(e.hasOwnProperty("programId")&&(t=e.programId),e.hasOwnProperty("parameter")&&e.parameter.forEach(e=>{n[e.name]=e.value}),e.hasOwnProperty("url")&&e.url&&(n.url=e.url),e.type){case"category":break;case"program":case"fineReport":this.dwProgramExecuteService.byMenu(e.type,e.id,t,n);break;case"externalUrl":"iframe"===e.openMode?this.dwProgramExecuteService.byMenu(e.type,e.id,t,n):""!==e.url&&window.open(e.url)}}}return e.\u0275fac=function(t){return new(t||e)(i.\u0275\u0275inject(m.DwProgramExecuteService))},e.\u0275prov=i.\u0275\u0275defineInjectable({factory:function(){return new e(i.\u0275\u0275inject(m.DwProgramExecuteService))},token:e,providedIn:"root"}),e})(),we=(()=>{class e{constructor(e,t){this.menuExecuteService=e,this.operationInfoService=t,this.inlineCollapsed=!1,this._routeSelectMenu=!1,this._menuList=[],this._$menuList=new r.BehaviorSubject(null)}set selectable(e){this._selectable=e||!1}get selectable(){return this._selectable}set routeSelectMenu(e){this._routeSelectMenu=e||!1}get routeSelectMenu(){return this._routeSelectMenu}set menuList(e){this._menuList=e,this._$menuList.next(this._menuList)}get menuList(){return this._menuList}get $menuList(){return this._$menuList.asObservable().pipe((0,s.filter)(e=>null!==e))}onClickItem(e){e.disabled||(this.selectable&&this.onSelect(e.id),this.menuExecuteService.menuClick(e))}onClickSubmenu(e){const t=this.openSubmenu(this._menuList,e.id,e.open);t.isChange&&(this.menuList=t.menuList)}onSelect(e,t){if(this.selectable){const n=this.onSelectChange(this._menuList,e,t);n.isChange&&(this.menuList=n.menuList)}}getMenuItemByProgramId(e,t,n){let i,r=!1;const s=e.length;for(let l=0;l<s;l++){const s=JSON.parse(JSON.stringify(e[l]));if(s.programId===t){if("fineReport"===s.type||"externalUrl"===s.type){const e={};s.parameter.forEach(t=>{const n=t.name;"dwMenuId"!==n&&(e[n]=t.value)}),r=this.operationInfoService.isParamEqual(n,e)}else r=!0;if(r){i=s;break}}if(s.child.length>0&&(i=this.getMenuItemByProgramId(s.child,t,n),i))break}return i}onSelectChange(e,t,n){const i=[],r=e.length,s={menuList:i,isFind:!1,isChange:!1};for(let l=0;l<r;l++){const r=JSON.parse(JSON.stringify(e[l]));let o=!1;if(t?r.id===t&&(o=!0):r.programId===n&&(o=!0),r.selected!==o&&(r.selected=o,s.isChange=!0),r.selected&&(s.isFind=!0),r.child.length>0){const e=this.onSelectChange(r.child,t,n);r.child=e.menuList,e.isFind&&(!1===this.inlineCollapsed&&(r.open=!0),s.isFind=!0),e.isChange&&(s.isChange=e.isChange)}i.push(r)}return s.menuList=i,s}openSubmenu(e,t,n){const i=[],r=e.length,s={menuList:i,isChange:!1};for(let l=0;l<r;l++){const r=JSON.parse(JSON.stringify(e[l]));if(t&&r.id===t&&!1===this.inlineCollapsed&&(r.open=n,s.isChange=!0),r.child.length>0){const e=this.openSubmenu(r.child,t,n);r.child=e.menuList,e.isChange&&(s.isChange=e.isChange)}i.push(r)}return s.menuList=i,s}}return e.\u0275fac=function(t){return new(t||e)(i.\u0275\u0275inject(fe),i.\u0275\u0275inject(p.DwOperationInfoService))},e.\u0275prov=i.\u0275\u0275defineInjectable({factory:function(){return new e(i.\u0275\u0275inject(fe),i.\u0275\u0275inject(p.DwOperationInfoService))},token:e,providedIn:"root"}),e})(),Se=(()=>{class e{constructor(e,t,n,i,r,s,l,o){this.menuService=e,this.languageService=t,this.recursiveMenuService=n,this.dwTabInfoService=i,this.activatedRoute=r,this.dwRouterInfoService=s,this.dwMenuLoadingMaskService=l,this.dwLanguagePreService=o,this.menuList=[],this.menuListTemp=null,this.selectable=!0,this._routeSelectMenu=!1,this.inlineCollapsed=this.recursiveMenuService.inlineCollapsed,this.language="",this.menuPre=this.dwLanguagePreService.menu,this.isCollapsedInit={isInit:!1,isCollapsedTemp:null},this.isInit=!1}set dwInlineCollapsed(e){this.isCollapsedInit.isInit?(this.isCollapsedInit.isInit=!0,this.inlineCollapsed=e||!1,this.recursiveMenuService.inlineCollapsed=this.inlineCollapsed):this.isCollapsedInit.isCollapsedTemp=e||!1,!1===this.inlineCollapsed&&null!==this.menuListTemp?(this.menuList=JSON.parse(JSON.stringify(this.menuListTemp)),this.menuListTemp=null):this.menuListTemp=JSON.parse(JSON.stringify(this.menuList))}set dwMode(e){this.mode=e||"inline"}set dwSelectable(e){this.selectable=e||!0}set routeSelectMenu(e){this._routeSelectMenu=e||!1}set dwStyle(e){this.style=e||""}set dwTheme(e){this.theme=e||"dark"}ngOnInit(){this.recursiveMenuService.selectable=this.selectable,this.recursiveMenuService.routeSelectMenu=this._routeSelectMenu,this.menuLoadingSubscription=this.dwMenuLoadingMaskService.getLoadingMask().subscribe(e=>{const t=Object.assign({},e.config);this.loadingMask=t}),this.menuInitSubscription=this.menuService.getMenu().subscribe(e=>{this.recursiveMenuService.menuList=e},e=>{console.log(e)}),this.menuListSubscription=this.recursiveMenuService.$menuList.subscribe(e=>{if(!0===this.inlineCollapsed){this.menuListTemp=JSON.parse(JSON.stringify(e));const t=this.unOpen(e);this.menuList=JSON.parse(JSON.stringify(t))}else{if(!this.isCollapsedInit.isInit&&null!==this.isCollapsedInit.isCollapsedTemp&&(this.menuListTemp=JSON.parse(JSON.stringify(e))),this.menuList=JSON.parse(JSON.stringify(e)),this.selectable&&this._routeSelectMenu&&!this.isInit&&this.menuList.length>0){this.isInit=!0;let e="";const t=this.dwTabInfoService.currentTabInfo;if(t&&t.hasOwnProperty("menuId")&&(e=t.menuId),e)this.recursiveMenuService.onSelect(e);else{const e=this.dwRouterInfoService.routerProgramId(this.activatedRoute);if(e){const t=this.recursiveMenuService.getMenuItemByProgramId(this.menuList,e,this.activatedRoute.snapshot.queryParams);t&&this.recursiveMenuService.onSelect(t.id)}}}!this.isCollapsedInit.isInit&&null!==this.isCollapsedInit.isCollapsedTemp&&setTimeout(()=>{this.isCollapsedInit.isInit=!0,this.inlineCollapsed=this.isCollapsedInit.isCollapsedTemp,this.recursiveMenuService.inlineCollapsed=this.inlineCollapsed},0)}},e=>{this.menuList=[],console.log(e)}),this.languageService.language$.subscribe(e=>{this.language=e})}ngOnDestroy(){this.isInit=!1,this.recursiveMenuService.inlineCollapsed=!1,this.menuInitSubscription&&this.menuInitSubscription.unsubscribe(),this.menuListSubscription&&this.menuListSubscription.unsubscribe(),this.menuLoadingSubscription&&this.menuLoadingSubscription.unsubscribe()}unOpen(e){const t=[],n=e.length;for(let i=0;i<n;i++){const n=JSON.parse(JSON.stringify(e[i]));n.open=!1,n.child.length>0&&(n.child=this.unOpen(n.child)),t.push(n)}return t}onClickItem(e,t){e.preventDefault(),e.stopPropagation(),this.recursiveMenuService.onClickItem(t)}onClickSubmenu(e,t){e.preventDefault(),e.stopPropagation(),setTimeout(()=>{this.recursiveMenuService.onClickSubmenu(t)},0)}}return e.\u0275fac=function(t){return new(t||e)(i.\u0275\u0275directiveInject(he),i.\u0275\u0275directiveInject(a.DwLanguageService),i.\u0275\u0275directiveInject(we),i.\u0275\u0275directiveInject(h.DwTabInfoService2),i.\u0275\u0275directiveInject(g.ActivatedRoute),i.\u0275\u0275directiveInject(p.DwRouterInfoService),i.\u0275\u0275directiveInject(me),i.\u0275\u0275directiveInject(m.DwLanguagePreService))},e.\u0275cmp=i.\u0275\u0275defineComponent({type:e,selectors:[["dw-recursive-menu"]],inputs:{dwInlineCollapsed:"dwInlineCollapsed",dwMode:"dwMode",dwSelectable:"dwSelectable",routeSelectMenu:"routeSelectMenu",dwStyle:"dwStyle",dwTheme:"dwTheme",template:"template"},decls:2,vars:5,consts:[[3,"dwSpinning","dwSize","dwTip","dwDelay"],[4,"ngIf"],["dw-menu","",1,"dw-f-menu-ul",3,"dwTheme","dwMode","dwInlineCollapsed","dwSelectable","ngClass"],[4,"ngFor","ngForOf"],["dwRecursiveMenuItemSpanTemplate",""],["dw-menu-item","",3,"dwPaddingLeft","dwDisabled","dwSelected","click",4,"ngIf"],["dw-submenu","",3,"dwPaddingLeft","dwTitle","dwOpen","dwDisabled","dwOpenChange","click",4,"ngIf"],["titleTpl1",""],["dw-menu-item","",3,"dwPaddingLeft","dwDisabled","dwSelected","click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["dw-submenu","",3,"dwPaddingLeft","dwTitle","dwOpen","dwDisabled","dwOpenChange","click"],["titleTpl2",""],["titleTpl3",""],[1,"dw-f-menu-title"],[3,"dwIconClass"],[3,"ngClass",4,"ngIf"],[3,"titleKey","programId"],[3,"ngClass"]],template:function(e,t){1&e&&(i.\u0275\u0275elementStart(0,"dw-spin",0),i.\u0275\u0275template(1,W,5,9,"ng-container",1),i.\u0275\u0275elementEnd()),2&e&&(i.\u0275\u0275property("dwSpinning",t.loadingMask.spinning)("dwSize","default")("dwTip",t.loadingMask.tip)("dwDelay",t.loadingMask.delay),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",null!==t.menuList))},directives:[w.DwSpinComponent,f.NgIf,S.DwMenuDirective,f.NgClass,f.NgForOf,S.DwMenuItemDirective,f.NgTemplateOutlet,S.DwSubMenuComponent,C.DwIconElementComponent,v.DwProgramTitleComponent],styles:[".ant-menu-vertical>.ant-menu-submenu>.ant-menu-submenu-title>.dw-f-menu-title>span, .ant-menu-vertical[_ngcontent-%COMP%] > .ant-menu-item[_ngcontent-%COMP%] > .dw-f-menu-title[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{display:inline-block;max-width:0;opacity:0}"]}),e})(),Ce=(()=>{class e{constructor(e,t,n,r,s,l,o,c,a){this.menuService=e,this.languageService=t,this.recursiveMenuService=n,this.dwTabInfoService=r,this.activatedRoute=s,this.dwRouterInfoService=l,this.dwMenuLoadingMaskService=o,this.dwLanguagePreService=c,this._usingTab=a,this.menuList=[],this.menuListTemp=[],this.selectable=!0,this._routeSelectMenu=!1,this.language="",this.menuPre=this.dwLanguagePreService.menu,this.afterClickMenu=new i.EventEmitter,this.isInit=!1}set dwInlineCollapsed(e){this.inlineCollapsed=e||!1,this._routeSelectMenu&&this._usingTab&&!1===this.inlineCollapsed&&(this.menuList=JSON.parse(JSON.stringify(this.menuListTemp)))}set dwMode(e){this.mode=e||"inline"}set dwSelectable(e){this.selectable=e||!0}set routeSelectMenu(e){this._routeSelectMenu=e||!1}set dwStyle(e){this.style=e||""}set dwTheme(e){this.theme=e||"dark"}ngOnInit(){this.recursiveMenuService.selectable=this.selectable,this.recursiveMenuService.routeSelectMenu=this._routeSelectMenu,this.menuLoadingSubscription=this.dwMenuLoadingMaskService.getLoadingMask().subscribe(e=>{const t=Object.assign({},e.config);this.loadingMask=t}),this.menuInitSubscription=this.menuService.getMenu().subscribe(e=>{this.recursiveMenuService.menuList=e},e=>{console.log(e)}),this.menuListSubscription=this.recursiveMenuService.$menuList.subscribe(e=>{if(this._routeSelectMenu&&this._usingTab&&(this.menuListTemp=JSON.parse(JSON.stringify(e))),(this._routeSelectMenu&&this._usingTab&&!1===this.inlineCollapsed||!this._routeSelectMenu||!this._usingTab)&&(this.menuList=e,this.selectable&&this._routeSelectMenu&&!this.isInit&&this.menuList.length>0)){this.isInit=!0;let e="";const t=this.dwTabInfoService.currentTabInfo;if(t&&t.hasOwnProperty("menuId")&&(e=t.menuId),e)this.recursiveMenuService.onSelect(e);else{const e=this.dwRouterInfoService.routerProgramId(this.activatedRoute);if(e){const t=this.recursiveMenuService.getMenuItemByProgramId(this.menuList,e,this.activatedRoute.snapshot.queryParams);t&&this.recursiveMenuService.onSelect(t.id)}}}},e=>{this.menuList=[],console.log(e)}),this.languageService.language$.subscribe(e=>{this.language=e})}ngOnDestroy(){this.isInit=!1,this.menuInitSubscription&&this.menuInitSubscription.unsubscribe(),this.menuListSubscription&&this.menuListSubscription.unsubscribe(),this.menuLoadingSubscription&&this.menuLoadingSubscription.unsubscribe()}onClickItem(e){this.recursiveMenuService.onClickItem(e),this.afterClickMenu.emit(e)}}return e.\u0275fac=function(t){return new(t||e)(i.\u0275\u0275directiveInject(he),i.\u0275\u0275directiveInject(a.DwLanguageService),i.\u0275\u0275directiveInject(we),i.\u0275\u0275directiveInject(h.DwTabInfoService2),i.\u0275\u0275directiveInject(g.ActivatedRoute),i.\u0275\u0275directiveInject(p.DwRouterInfoService),i.\u0275\u0275directiveInject(me),i.\u0275\u0275directiveInject(m.DwLanguagePreService),i.\u0275\u0275directiveInject(c.DW_USING_TAB))},e.\u0275cmp=i.\u0275\u0275defineComponent({type:e,selectors:[["dw-menu-drawer"]],inputs:{dwInlineCollapsed:"dwInlineCollapsed",dwMode:"dwMode",dwSelectable:"dwSelectable",routeSelectMenu:"routeSelectMenu",dwStyle:"dwStyle",dwTheme:"dwTheme",template:"template"},outputs:{afterClickMenu:"afterClickMenu"},decls:7,vars:8,consts:[[3,"dwSpinning","dwSize","dwTip","dwDelay"],[1,"dw-f-menu-drawer"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["recursiveListTmpl",""],["dwRecursiveMenuItemSpanTemplate",""],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"dw-f-menu-drawer-item"],[3,"click",4,"ngIf"],[3,"click"],[1,"dw-f-menu-drawer-title",3,"ngClass"],[1,"dw-f-menu-drawer-title",3,"ngClass","ngStyle"],[3,"ngClass"],["title","",3,"ngClass","ngStyle"],[3,"dwIconClass"],[3,"ngClass",4,"ngIf"],[1,"dw-f-menu-drawer-item-span"],[3,"titleKey","programId"]],template:function(e,t){if(1&e&&(i.\u0275\u0275elementStart(0,"dw-spin",0),i.\u0275\u0275elementStart(1,"div",1),i.\u0275\u0275template(2,H,1,0,"ng-container",2),i.\u0275\u0275elementEnd(),i.\u0275\u0275template(3,ae,1,1,"ng-template",null,3,i.\u0275\u0275templateRefExtractor),i.\u0275\u0275template(5,de,4,4,"ng-template",null,4,i.\u0275\u0275templateRefExtractor),i.\u0275\u0275elementEnd()),2&e){const e=i.\u0275\u0275reference(4);i.\u0275\u0275property("dwSpinning",t.loadingMask.spinning)("dwSize","default")("dwTip",t.loadingMask.tip)("dwDelay",t.loadingMask.delay),i.\u0275\u0275advance(2),i.\u0275\u0275property("ngTemplateOutlet",e)("ngTemplateOutletContext",i.\u0275\u0275pureFunction1(6,M,t.menuList))}},directives:[w.DwSpinComponent,f.NgTemplateOutlet,f.NgForOf,f.NgIf,f.NgClass,f.NgStyle,C.DwIconElementComponent,v.DwProgramTitleComponent],styles:[""]}),e})(),ve=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=i.\u0275\u0275defineInjector({imports:[[f.CommonModule,w.DwSpinModule,S.DwMenuModule,C.DwIconElementModule,v.DwProgramTitleModule]]}),e})()}}]);