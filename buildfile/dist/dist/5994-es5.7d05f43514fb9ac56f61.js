!function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(self.webpackChunkassc_crs=self.webpackChunkassc_crs||[]).push([[5994,1501],{5994:function(t,r,i){i.r(r),i.d(r,{DwTenantBlockComponent:function(){return y},DwTenantModule:function(){return D}});var a=i(42746),o=i(31441),l=i(83522),c=i(66800),d=i(68521),s=i(55245),p=i(85277),u=i(80376),m=i(52683);function w(e,t){if(1&e){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"span",2),a.\u0275\u0275listener("dwPopoverVisibleChange",function(e){return a.\u0275\u0275restoreView(n),a.\u0275\u0275nextContext().visibleFromTitle=e}),a.\u0275\u0275elementStart(1,"i",3),a.\u0275\u0275namespaceSVG(),a.\u0275\u0275elementStart(2,"svg",4),a.\u0275\u0275element(3,"path",5),a.\u0275\u0275element(4,"path",6),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275namespaceHTML(),a.\u0275\u0275elementStart(5,"span",7),a.\u0275\u0275text(6),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()}if(2&e){var r=a.\u0275\u0275nextContext(),i=a.\u0275\u0275reference(2);a.\u0275\u0275property("dwPopoverVisible",r.visibleFromTitle)("dwPopoverContent",i),a.\u0275\u0275advance(6),a.\u0275\u0275textInterpolate(r.userDetail.tenantName)}}function v(e,t){if(1&e&&(a.\u0275\u0275element(0,"i",11),a.\u0275\u0275text(1)),2&e){var n=a.\u0275\u0275nextContext(3);a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate1("",n.userDetail.tenantName," ")}}function f(e,t){if(1&e&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275elementStart(1,"dw-list",9),a.\u0275\u0275template(2,v,2,1,"ng-template",null,10,a.\u0275\u0275templateRefExtractor),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementContainerEnd()),2&e){var n=a.\u0275\u0275reference(3);a.\u0275\u0275advance(1),a.\u0275\u0275property("dwHeader",n)}}function h(e,t){1&e&&(a.\u0275\u0275element(0,"i",14),a.\u0275\u0275elementStart(1,"span",15),a.\u0275\u0275text(2,"dw-tenant-switch-tenant"),a.\u0275\u0275elementEnd())}function g(e,t){1&e&&a.\u0275\u0275element(0,"i",11)}function T(e,t){if(1&e){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275template(0,g,1,0,"i",18),a.\u0275\u0275elementStart(1,"a",19),a.\u0275\u0275listener("click",function(){a.\u0275\u0275restoreView(n);var e=a.\u0275\u0275nextContext().$implicit;return a.\u0275\u0275nextContext(3).changeTenant(e.tenantSid)}),a.\u0275\u0275text(2),a.\u0275\u0275elementEnd()}if(2&e){var r=a.\u0275\u0275nextContext().$implicit,i=a.\u0275\u0275nextContext(3);a.\u0275\u0275property("ngIf",i.userDetail.tenantSid===r.tenantSid),a.\u0275\u0275advance(2),a.\u0275\u0275textInterpolate(r.tenantName)}}function S(e,t){if(1&e&&(a.\u0275\u0275elementStart(0,"dw-list-item"),a.\u0275\u0275elementStart(1,"dw-list-item-meta",16),a.\u0275\u0275template(2,T,3,2,"ng-template",null,17,a.\u0275\u0275templateRefExtractor),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&e){var n=a.\u0275\u0275reference(3);a.\u0275\u0275advance(1),a.\u0275\u0275property("dwTitle",n)}}function x(e,t){if(1&e&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275elementStart(1,"dw-list",12),a.\u0275\u0275template(2,h,3,0,"ng-template",null,13,a.\u0275\u0275templateRefExtractor),a.\u0275\u0275template(4,S,4,1,"ng-template",null,1,a.\u0275\u0275templateRefExtractor),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementContainerEnd()),2&e){var n=a.\u0275\u0275reference(3),r=a.\u0275\u0275reference(5),i=a.\u0275\u0275nextContext(2);a.\u0275\u0275advance(1),a.\u0275\u0275property("dwDataSource",i.currTenantList)("dwHeader",n)("dwRenderItem",r)}}function C(e,t){if(1&e&&(a.\u0275\u0275template(0,f,4,1,"ng-container",8),a.\u0275\u0275template(1,x,6,3,"ng-container",8)),2&e){var n=a.\u0275\u0275nextContext();a.\u0275\u0275property("ngIf",1===n.currTenantList.length),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",n.currTenantList.length>1)}}var b,y=((b=function(){function t(n,r,i,a,o){e(this,t),this.userService=n,this.dwModalService=r,this.translateService=i,this.dwTenantService=a,this.defaultAppRouterService=o,this.userDetail={},this.currTenantList=[],this.userDetail=this.userService.getUserInfo()}return n(t,[{key:"ngOnDestroy",value:function(){this.tenantSubscription&&this.tenantSubscription.unsubscribe()}},{key:"ngOnInit",value:function(){var e=this;this.tenantSubscription=this.dwTenantService.currTenantList$.subscribe(function(t){e.currTenantList=t})}},{key:"changeTenant",value:function(e){var t=this;this.userDetail.tenantSid!==e&&this.dwModalService.confirm({dwIconType:"exclamation-circle",dwTitle:this.translateService.instant("dw-tenant-changeTenant-title"),dwContent:this.translateService.instant("dw-tenant-changeTenant-content"),dwOnOk:function(){t.visibleFromIcon=!1,t.visibleFromTitle=!1,t.dwTenantService.tokenRefreshTenant(e).subscribe(function(){t.defaultAppRouterService.defaultAppRouterLink$.subscribe(function(e){window.location.href=e})},function(e){e.hasOwnProperty("error")&&e.error.hasOwnProperty("errorMessage")&&e.error.errorMessage&&t.dwModalService.error({dwContent:e.error.errorMessage})})}})}}]),t}()).\u0275fac=function(e){return new(e||b)(a.\u0275\u0275directiveInject(c.DwUserService),a.\u0275\u0275directiveInject(o.DwModalService),a.\u0275\u0275directiveInject(l.TranslateService),a.\u0275\u0275directiveInject(c.DwTenantService),a.\u0275\u0275directiveInject(d.DwDefaultAppRouterService))},b.\u0275cmp=a.\u0275\u0275defineComponent({type:b,selectors:[["dw-tenant-block"]],decls:3,vars:1,consts:[["dw-popover","","dwPopoverTrigger","click","class","dw-f-header-item dw-f-text-link",3,"dwPopoverVisible","dwPopoverContent","dwPopoverVisibleChange",4,"ngIf"],["tenantListTemp",""],["dw-popover","","dwPopoverTrigger","click",1,"dw-f-header-item","dw-f-text-link",3,"dwPopoverVisible","dwPopoverContent","dwPopoverVisibleChange"],["dw-icon","",1,"dw-header-icon"],["xmlns","http://www.w3.org/2000/svg","height","1em","viewBox","0 0 22 22","width","1em","fill","currentColor"],["d","M0 0h24v24H0z","fill","none"],["d","M12 7V3H2v18h20V7H12zM6 19H4v-2h2v2zm0-4H4v-2h2v2zm0-4H4V9h2v2zm0-4H4V5h2v2zm4 12H8v-2h2v2zm0-4H8v-2h2v2zm0-4H8V9h2v2zm0-4H8V5h2v2zm10 12h-8v-2h2v-2h-2v-2h2v-2h-2V9h8v10zm-2-8h-2v2h2v-2zm0 4h-2v2h2v-2z"],["dw-tooltip","","dwTooltipPlacement","bottom"],[4,"ngIf"],["dwBordered","","dwSize","large",3,"dwHeader"],["headerOneTemp",""],["dw-icon","","dwType","check","dwTheme","outline"],["dwBordered","","dwSize","large",3,"dwDataSource","dwHeader","dwRenderItem"],["headerTemp",""],["dw-icon","","dwType","retweet","dwTheme","outline"],["translate",""],[3,"dwTitle"],["dwTitle",""],["dw-icon","","dwType","check","dwTheme","outline",4,"ngIf"],[3,"click"]],template:function(e,t){1&e&&(a.\u0275\u0275template(0,w,7,3,"span",0),a.\u0275\u0275template(1,C,2,2,"ng-template",null,1,a.\u0275\u0275templateRefExtractor)),2&e&&a.\u0275\u0275property("ngIf",t.currTenantList.length>0)},directives:[s.NgIf,m.DwPopoverDirective,p.DwIconDirective,u.DwListComponent,l.TranslateDirective,u.DwListItemComponent,u.DwListItemMetaComponent],styles:[""]}),b),D=function(){var t=n(function t(){e(this,t)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=a.\u0275\u0275defineInjector({imports:[[s.CommonModule,u.DwListModule,m.DwPopoverModule,l.TranslateModule,p.DwIconModule]]}),t}()}}])}();