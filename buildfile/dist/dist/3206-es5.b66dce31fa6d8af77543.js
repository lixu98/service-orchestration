!function(){"use strict";function e(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=r(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return l=e.done,e},e:function(e){d=!0,o=e},f:function(){try{l||null==n.return||n.return()}finally{if(d)throw o}}}}function t(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */t=function(){return e};var e={},n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function d(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(D){d=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),o=new b(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return E()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var l=_(o,n);if(l){if(l===m)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var d=s(e,t,n);if("normal"===d.type){if(r=n.done?"completed":"suspendedYield",d.arg===m)continue;return{value:d.arg,done:n.done}}"throw"===d.type&&(r="completed",n.method="throw",n.arg=d.arg)}}}(e,n,o),a}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(D){return{type:"throw",arg:D}}}e.wrap=c;var m={};function p(){}function u(){}function f(){}var v={};d(v,a,function(){return this});var g=Object.getPrototypeOf,h=g&&g(g(I([])));h&&h!==n&&r.call(h,a)&&(v=h);var w=f.prototype=p.prototype=Object.create(v);function y(e){["next","throw","return"].forEach(function(t){d(e,t,function(e){return this._invoke(t,e)})})}function x(e,t){function n(i,a,o,l){var d=s(e[i],e,a);if("throw"!==d.type){var c=d.arg,m=c.value;return m&&"object"==typeof m&&r.call(m,"__await")?t.resolve(m.__await).then(function(e){n("next",e,o,l)},function(e){n("throw",e,o,l)}):t.resolve(m).then(function(e){c.value=e,o(c)},function(e){return n("throw",e,o,l)})}l(d.arg)}var i;this._invoke=function(e,r){function a(){return new t(function(t,i){n(e,r,t,i)})}return i=i?i.then(a,a):a()}}function _(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method))return m;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var r=s(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,m;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function b(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function I(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:E}}function E(){return{value:void 0,done:!0}}return u.prototype=f,d(w,"constructor",f),d(f,"constructor",u),u.displayName=d(f,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===u||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,d(e,l,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},y(x.prototype),d(x.prototype,o,function(){return this}),e.AsyncIterator=x,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new x(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then(function(e){return e.done?e.value:o.next()})},y(w),d(w,l,"Generator"),d(w,a,function(){return this}),d(w,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=I,b.prototype={constructor:b,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),d=r.call(a,"finallyLoc");if(l&&d){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!d)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;S(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:I(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),m}},e}function n(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||r(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=o(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function o(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=m(e)););return e}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}function d(e,t){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=m(e);if(t){var i=m(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(self.webpackChunkassc_crs=self.webpackChunkassc_crs||[]).push([[3206,6769],{71452:function(e,t,r){r.d(t,{ee:function(){return yt},Y9:function(){return St},My:function(){return xt},KP:function(){return _t},Uw:function(){return Dt},at:function(){return bt},hb:function(){return gt},f1:function(){return Vt},xi:function(){return ht},QF:function(){return wt},Ct:function(){return Pt},T:function(){return Ft},b:function(){return Ot},BL:function(){return Mt},$2:function(){return kt},FH:function(){return It},R9:function(){return Et}});var i=r(42746),o=r(69252),d=r(16612),s=r(10952),u=r(71049),v=r(47372),g=r(62695),h=r(87442),w=r(83522),y=r(51156),x=r(30469),_=r(32698),C=r.n(_),S=r(43938),b=r(55245),I=r(1020),E=r(85277),D=r(35626),O=r(119),k=r(82542),M=r(41937),P=r(67280),F=r(37568),V=r(93353);function T(e,t){1&e&&i.\u0275\u0275elementContainer(0)}var L=function(e){return{$implicit:e}};function R(e,t){if(1&e&&(i.\u0275\u0275elementContainerStart(0),i.\u0275\u0275template(1,T,1,0,"ng-container",8),i.\u0275\u0275elementContainerEnd()),2&e){var n=i.\u0275\u0275nextContext(),r=i.\u0275\u0275reference(7);i.\u0275\u0275advance(1),i.\u0275\u0275property("ngTemplateOutlet",r)("ngTemplateOutletContext",i.\u0275\u0275pureFunction1(2,L,n.dwFilterInfo))}}function A(e,t){1&e&&i.\u0275\u0275elementContainer(0)}function N(e,t){if(1&e&&(i.\u0275\u0275elementContainerStart(0),i.\u0275\u0275template(1,A,1,0,"ng-container",8),i.\u0275\u0275elementContainerEnd()),2&e){var n=i.\u0275\u0275nextContext(),r=i.\u0275\u0275reference(13);i.\u0275\u0275advance(1),i.\u0275\u0275property("ngTemplateOutlet",r)("ngTemplateOutletContext",i.\u0275\u0275pureFunction1(2,L,n.dwFilterInfo))}}function j(e,t){1&e&&i.\u0275\u0275elementContainer(0)}function z(e,t){if(1&e&&(i.\u0275\u0275elementContainerStart(0),i.\u0275\u0275template(1,j,1,0,"ng-container",8),i.\u0275\u0275elementContainerEnd()),2&e){var n=i.\u0275\u0275nextContext(),r=i.\u0275\u0275reference(9);i.\u0275\u0275advance(1),i.\u0275\u0275property("ngTemplateOutlet",r)("ngTemplateOutletContext",i.\u0275\u0275pureFunction1(2,L,n.dwFilterInfo))}}function B(e,t){1&e&&i.\u0275\u0275elementContainer(0)}function $(e,t){if(1&e&&(i.\u0275\u0275elementContainerStart(0),i.\u0275\u0275template(1,B,1,0,"ng-container",8),i.\u0275\u0275elementContainerEnd()),2&e){var n=i.\u0275\u0275nextContext(),r=i.\u0275\u0275reference(11);i.\u0275\u0275advance(1),i.\u0275\u0275property("ngTemplateOutlet",r)("ngTemplateOutletContext",i.\u0275\u0275pureFunction1(2,L,n.dwFilterInfo))}}function q(e,t){if(1&e&&(i.\u0275\u0275element(0,"dw-option",14),i.\u0275\u0275pipe(1,"translate")),2&e){var n=t.$implicit;i.\u0275\u0275property("dwLabel",i.\u0275\u0275pipeBind1(1,2,n.label))("dwValue",n.value)}}function W(e,t){if(1&e){var n=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementContainerStart(0),i.\u0275\u0275elementStart(1,"dw-select",12),i.\u0275\u0275listener("ngModelChange",function(e){return i.\u0275\u0275restoreView(n),i.\u0275\u0275nextContext().$implicit.condition1.filter=e})("ngModelChange",function(){return i.\u0275\u0275restoreView(n),i.\u0275\u0275nextContext(2).modelChange()}),i.\u0275\u0275template(2,q,2,4,"dw-option",13),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementContainerEnd()}if(2&e){var r=i.\u0275\u0275nextContext().$implicit,a=i.\u0275\u0275nextContext();i.\u0275\u0275advance(1),i.\u0275\u0275property("ngModel",r.condition1.filter)("dwMode",a.dwFilterMultipleMode),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngForOf",a.dwFilterList)}}function G(e,t){if(1&e&&(i.\u0275\u0275elementContainerStart(0),i.\u0275\u0275element(1,"input",15),i.\u0275\u0275elementContainerEnd()),2&e){var n=i.\u0275\u0275nextContext(2);i.\u0275\u0275advance(1),i.\u0275\u0275property("value",n.strCondition)("disabled",!0)}}function U(e,t){if(1&e&&(i.\u0275\u0275elementStart(0,"div",9),i.\u0275\u0275elementStart(1,"div",10),i.\u0275\u0275template(2,W,3,3,"ng-container",11),i.\u0275\u0275template(3,G,2,2,"ng-container",11),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd()),2&e){var n=t.$implicit,r=i.\u0275\u0275nextContext();i.\u0275\u0275advance(2),i.\u0275\u0275property("ngIf",r.canEditModel(n,r.dwFilterList)),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",!r.canEditModel(n,r.dwFilterList))}}function H(e,t){if(1&e){var n=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementContainerStart(0),i.\u0275\u0275elementStart(1,"dw-date-picker",16),i.\u0275\u0275listener("ngModelChange",function(e){return i.\u0275\u0275restoreView(n),i.\u0275\u0275nextContext().$implicit.condition1.filter=e})("ngModelChange",function(){return i.\u0275\u0275restoreView(n),i.\u0275\u0275nextContext(2).modelChange()}),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementContainerEnd()}if(2&e){var r=i.\u0275\u0275nextContext().$implicit;i.\u0275\u0275advance(1),i.\u0275\u0275property("ngModel",r.condition1.filter)}}function X(e,t){if(1&e&&(i.\u0275\u0275elementContainerStart(0),i.\u0275\u0275element(1,"input",15),i.\u0275\u0275elementContainerEnd()),2&e){var n=i.\u0275\u0275nextContext(2);i.\u0275\u0275advance(1),i.\u0275\u0275property("value",n.strCondition)("disabled",!0)}}function Q(e,t){if(1&e&&(i.\u0275\u0275elementStart(0,"div",9),i.\u0275\u0275elementStart(1,"div",10),i.\u0275\u0275template(2,H,2,1,"ng-container",11),i.\u0275\u0275template(3,X,2,2,"ng-container",11),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd()),2&e){var n=t.$implicit,r=i.\u0275\u0275nextContext();i.\u0275\u0275advance(2),i.\u0275\u0275property("ngIf",r.canEditModel(n)),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",!r.canEditModel(n))}}function K(e,t){if(1&e){var n=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementStart(0,"i",21),i.\u0275\u0275listener("click",function(){return i.\u0275\u0275restoreView(n),i.\u0275\u0275nextContext(4).clear()}),i.\u0275\u0275elementEnd()}}function J(e,t){if(1&e&&i.\u0275\u0275template(0,K,1,0,"i",20),2&e){var n=i.\u0275\u0275nextContext(2).$implicit;i.\u0275\u0275property("ngIf",n.condition1.filter)}}function Z(e,t){if(1&e){var n=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementContainerStart(0),i.\u0275\u0275elementStart(1,"dw-input-group",17),i.\u0275\u0275elementStart(2,"input",18),i.\u0275\u0275listener("ngModelChange",function(e){return i.\u0275\u0275restoreView(n),i.\u0275\u0275nextContext().$implicit.condition1.filter=e})("ngModelChange",function(){return i.\u0275\u0275restoreView(n),i.\u0275\u0275nextContext(2).modelChange()}),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275template(3,J,1,1,"ng-template",null,19,i.\u0275\u0275templateRefExtractor),i.\u0275\u0275elementContainerEnd()}if(2&e){var r=i.\u0275\u0275reference(4),a=i.\u0275\u0275nextContext().$implicit;i.\u0275\u0275advance(1),i.\u0275\u0275property("dwSuffix",r),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngModel",a.condition1.filter)}}function Y(e,t){if(1&e&&(i.\u0275\u0275elementContainerStart(0),i.\u0275\u0275element(1,"input",15),i.\u0275\u0275elementContainerEnd()),2&e){var n=i.\u0275\u0275nextContext(2);i.\u0275\u0275advance(1),i.\u0275\u0275property("value",n.strCondition)("disabled",!0)}}function ee(e,t){if(1&e&&(i.\u0275\u0275elementStart(0,"div",9),i.\u0275\u0275elementStart(1,"div",10),i.\u0275\u0275template(2,Z,5,2,"ng-container",11),i.\u0275\u0275template(3,Y,2,2,"ng-container",11),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd()),2&e){var n=t.$implicit,r=i.\u0275\u0275nextContext();i.\u0275\u0275advance(2),i.\u0275\u0275property("ngIf",r.canEditModel(n)),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",!r.canEditModel(n))}}function te(e,t){if(1&e){var n=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementContainerStart(0),i.\u0275\u0275elementStart(1,"dw-input-number",16),i.\u0275\u0275listener("ngModelChange",function(e){return i.\u0275\u0275restoreView(n),i.\u0275\u0275nextContext().$implicit.condition1.filter=e})("ngModelChange",function(){return i.\u0275\u0275restoreView(n),i.\u0275\u0275nextContext(2).modelChange()}),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementContainerEnd()}if(2&e){var r=i.\u0275\u0275nextContext().$implicit;i.\u0275\u0275advance(1),i.\u0275\u0275property("ngModel",r.condition1.filter)}}function ne(e,t){if(1&e&&(i.\u0275\u0275elementContainerStart(0),i.\u0275\u0275element(1,"input",15),i.\u0275\u0275elementContainerEnd()),2&e){var n=i.\u0275\u0275nextContext(2);i.\u0275\u0275advance(1),i.\u0275\u0275property("value",n.strCondition)("disabled",!0)}}function re(e,t){if(1&e&&(i.\u0275\u0275elementStart(0,"div",9),i.\u0275\u0275elementStart(1,"div",10),i.\u0275\u0275template(2,te,2,1,"ng-container",11),i.\u0275\u0275template(3,ne,2,2,"ng-container",11),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd()),2&e){var n=t.$implicit,r=i.\u0275\u0275nextContext();i.\u0275\u0275advance(2),i.\u0275\u0275property("ngIf",r.canEditModel(n)),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",!r.canEditModel(n))}}var ie=["dwDropColumnsContent"],ae=["rightMenu"],oe=["emptyDataColumns"],le=["dwDropColumns",""];function de(e,t){1&e&&(i.\u0275\u0275elementStart(0,"td",11),i.\u0275\u0275text(1),i.\u0275\u0275pipe(2,"translate"),i.\u0275\u0275elementEnd()),2&e&&(i.\u0275\u0275advance(1),i.\u0275\u0275textInterpolate(i.\u0275\u0275pipeBind1(2,1,"dw-table-config-no-column-displayed")))}var ce=function(e){return{checked:e}};function se(e,t){if(1&e){var n=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementStart(0,"li",12),i.\u0275\u0275elementStart(1,"div",13),i.\u0275\u0275listener("click",function(e){var t=i.\u0275\u0275restoreView(n).$implicit;return i.\u0275\u0275nextContext().changeVisible(t,e)}),i.\u0275\u0275element(2,"span",14),i.\u0275\u0275text(3),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd()}if(2&e){var r=t.$implicit;i.\u0275\u0275advance(2),i.\u0275\u0275property("ngClass",i.\u0275\u0275pureFunction1(2,ce,r.visible)),i.\u0275\u0275advance(1),i.\u0275\u0275textInterpolate1(" ",r.columnName," ")}}function me(e,t){1&e&&(i.\u0275\u0275elementStart(0,"div"),i.\u0275\u0275elementStart(1,"span",5),i.\u0275\u0275text(2,"dw-table-config-floatingFilter-open"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd())}function pe(e,t){1&e&&(i.\u0275\u0275elementStart(0,"div"),i.\u0275\u0275elementStart(1,"span",5),i.\u0275\u0275text(2,"dw-table-config-floatingFilter-close"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd())}function ue(e,t){if(1&e){var n=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementStart(0,"li",4),i.\u0275\u0275listener("click",function(){return i.\u0275\u0275restoreView(n),i.\u0275\u0275nextContext().changeFloatingFilter()}),i.\u0275\u0275template(1,me,3,0,"div",15),i.\u0275\u0275template(2,pe,3,0,"div",15),i.\u0275\u0275elementEnd()}if(2&e){var r=i.\u0275\u0275nextContext();i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",!0!==r.dwFloatingFilter),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",!0===r.dwFloatingFilter)}}var fe=["*"],ve=["dwReorderColumnsContent"],ge=["dwReorderColumns",""];function he(e,t){1&e&&i.\u0275\u0275elementContainer(0)}function we(e,t){1&e&&i.\u0275\u0275elementContainer(0)}var ye=function(e,t){return{$implicit:e,selectVisiable:t}};function xe(e,t){if(1&e&&(i.\u0275\u0275elementContainerStart(0),i.\u0275\u0275template(1,we,1,0,"ng-container",1),i.\u0275\u0275elementContainerEnd()),2&e){var n=i.\u0275\u0275nextContext(),r=n.$implicit,a=n.filterVisiable;i.\u0275\u0275nextContext();var o=i.\u0275\u0275reference(5);i.\u0275\u0275advance(1),i.\u0275\u0275property("ngTemplateOutlet",o)("ngTemplateOutletContext",i.\u0275\u0275pureFunction2(2,ye,r,a))}}function _e(e,t){1&e&&i.\u0275\u0275elementContainer(0)}function Ce(e,t){if(1&e&&(i.\u0275\u0275elementContainerStart(0),i.\u0275\u0275template(1,_e,1,0,"ng-container",1),i.\u0275\u0275elementContainerEnd()),2&e){var n=i.\u0275\u0275nextContext().$implicit;i.\u0275\u0275nextContext();var r=i.\u0275\u0275reference(11);i.\u0275\u0275advance(1),i.\u0275\u0275property("ngTemplateOutlet",r)("ngTemplateOutletContext",i.\u0275\u0275pureFunction1(2,L,n))}}function Se(e,t){1&e&&i.\u0275\u0275elementContainer(0)}function be(e,t){if(1&e&&(i.\u0275\u0275elementContainerStart(0),i.\u0275\u0275template(1,Se,1,0,"ng-container",1),i.\u0275\u0275elementContainerEnd()),2&e){var n=i.\u0275\u0275nextContext().$implicit;i.\u0275\u0275nextContext();var r=i.\u0275\u0275reference(7);i.\u0275\u0275advance(1),i.\u0275\u0275property("ngTemplateOutlet",r)("ngTemplateOutletContext",i.\u0275\u0275pureFunction1(2,L,n))}}function Ie(e,t){1&e&&i.\u0275\u0275elementContainer(0)}function Ee(e,t){if(1&e&&(i.\u0275\u0275elementContainerStart(0),i.\u0275\u0275template(1,Ie,1,0,"ng-container",1),i.\u0275\u0275elementContainerEnd()),2&e){var n=i.\u0275\u0275nextContext().$implicit;i.\u0275\u0275nextContext();var r=i.\u0275\u0275reference(9);i.\u0275\u0275advance(1),i.\u0275\u0275property("ngTemplateOutlet",r)("ngTemplateOutletContext",i.\u0275\u0275pureFunction1(2,L,n))}}function De(e,t){if(1&e){var n=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementStart(0,"a",7),i.\u0275\u0275listener("dwVisibleChange",function(e){return i.\u0275\u0275restoreView(n).filterVisiable.value=e}),i.\u0275\u0275element(1,"i",8),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(2,"dw-dropdown-menu",null,9),i.\u0275\u0275elementStart(4,"div",10),i.\u0275\u0275elementStart(5,"div",11),i.\u0275\u0275elementContainerStart(6,12),i.\u0275\u0275template(7,xe,2,5,"ng-container",13),i.\u0275\u0275template(8,Ce,2,4,"ng-container",13),i.\u0275\u0275template(9,be,2,4,"ng-container",13),i.\u0275\u0275template(10,Ee,2,4,"ng-container",14),i.\u0275\u0275elementContainerEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(11,"div",15),i.\u0275\u0275elementStart(12,"button",16),i.\u0275\u0275listener("click",function(){var e=i.\u0275\u0275restoreView(n);return e.filter(e.$implicit)}),i.\u0275\u0275elementStart(13,"span",17),i.\u0275\u0275text(14,"dw-table-config-search"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(15,"button",16),i.\u0275\u0275listener("click",function(){return i.\u0275\u0275restoreView(n),i.\u0275\u0275nextContext().close()}),i.\u0275\u0275elementStart(16,"span",17),i.\u0275\u0275text(17,"dw-table-config-close"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd()}if(2&e){var r=t.filterVisiable,a=i.\u0275\u0275reference(3),o=i.\u0275\u0275nextContext();i.\u0275\u0275property("dwClickHide",!0)("dwDropdownMenu",a)("dwVisible",r.value),i.\u0275\u0275advance(1),i.\u0275\u0275property("dwType",o.dwFilterIcon?o.dwFilterIcon:"search")("dwTheme",o.dwIconTheme?o.dwIconTheme:"outline"),i.\u0275\u0275advance(5),i.\u0275\u0275property("ngSwitch",o.dwColumnFilter),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngSwitchCase","selectFilter"),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngSwitchCase","numberFilter"),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngSwitchCase","dateFilter")}}function Oe(e,t){if(1&e&&(i.\u0275\u0275element(0,"dw-option",25),i.\u0275\u0275pipe(1,"translate")),2&e){var n=i.\u0275\u0275nextContext().$implicit;i.\u0275\u0275property("dwValue",n.value)("dwLabel",i.\u0275\u0275pipeBind1(1,2,"dw-table-config-"+n.value))}}function ke(e,t){if(1&e&&(i.\u0275\u0275elementContainerStart(0),i.\u0275\u0275template(1,Oe,2,4,"dw-option",24),i.\u0275\u0275elementContainerEnd()),2&e){var n=t.$implicit;i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",n.supported.indexOf("select")>=0)}}function Me(e,t){if(1&e&&(i.\u0275\u0275element(0,"dw-option",28),i.\u0275\u0275pipe(1,"translate")),2&e){var n=t.$implicit;i.\u0275\u0275property("dwLabel",i.\u0275\u0275pipeBind1(1,2,n.label))("dwValue",n.value)}}function Pe(e,t){if(1&e){var n=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementStart(0,"dw-select",26),i.\u0275\u0275listener("ngModelChange",function(e){return i.\u0275\u0275restoreView(n),i.\u0275\u0275nextContext().$implicit.condition1.filter=e}),i.\u0275\u0275template(1,Me,2,4,"dw-option",27),i.\u0275\u0275elementEnd()}if(2&e){var r=i.\u0275\u0275nextContext().$implicit,a=i.\u0275\u0275nextContext();i.\u0275\u0275property("ngModel",r.condition1.filter)("dwMode",a.dwFilterMultipleMode),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngForOf",a.dwFilterList)}}function Fe(e,t){if(1&e&&(i.\u0275\u0275elementStart(0,"label",30),i.\u0275\u0275text(1),i.\u0275\u0275pipe(2,"translate"),i.\u0275\u0275elementEnd()),2&e){var n=t.$implicit;i.\u0275\u0275property("dwValue",n),i.\u0275\u0275advance(1),i.\u0275\u0275textInterpolate1(" ",i.\u0275\u0275pipeBind1(2,2,"dw-table-config-"+n)," ")}}function Ve(e,t){if(1&e&&(i.\u0275\u0275element(0,"dw-option",25),i.\u0275\u0275pipe(1,"translate")),2&e){var n=i.\u0275\u0275nextContext().$implicit;i.\u0275\u0275property("dwValue",n.value)("dwLabel",i.\u0275\u0275pipeBind1(1,2,"dw-table-config-"+n.value))}}function Te(e,t){if(1&e&&(i.\u0275\u0275elementContainerStart(0),i.\u0275\u0275template(1,Ve,2,4,"dw-option",24),i.\u0275\u0275elementContainerEnd()),2&e){var n=t.$implicit;i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",n.supported.indexOf("select")>=0)}}function Le(e,t){if(1&e&&(i.\u0275\u0275element(0,"dw-option",28),i.\u0275\u0275pipe(1,"translate")),2&e){var n=t.$implicit;i.\u0275\u0275property("dwLabel",i.\u0275\u0275pipeBind1(1,2,n.label))("dwValue",n.value)}}function Re(e,t){if(1&e){var n=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementStart(0,"dw-select",26),i.\u0275\u0275listener("ngModelChange",function(e){return i.\u0275\u0275restoreView(n),i.\u0275\u0275nextContext(2).$implicit.condition2.filter=e}),i.\u0275\u0275template(1,Le,2,4,"dw-option",27),i.\u0275\u0275elementEnd()}if(2&e){var r=i.\u0275\u0275nextContext(2).$implicit,a=i.\u0275\u0275nextContext();i.\u0275\u0275property("ngModel",r.condition2.filter)("dwMode",a.dwFilterMultipleMode),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngForOf",a.dwFilterList)}}function Ae(e,t){if(1&e){var n=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementContainerStart(0),i.\u0275\u0275elementStart(1,"div",19),i.\u0275\u0275elementStart(2,"dw-radio-group",20),i.\u0275\u0275listener("ngModelChange",function(e){return i.\u0275\u0275restoreView(n),i.\u0275\u0275nextContext().$implicit.operator=e}),i.\u0275\u0275template(3,Fe,3,4,"label",29),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(4,"div",19),i.\u0275\u0275elementStart(5,"dw-select",20),i.\u0275\u0275listener("ngModelChange",function(e){return i.\u0275\u0275restoreView(n),i.\u0275\u0275nextContext().$implicit.condition2.options=e}),i.\u0275\u0275template(6,Te,2,1,"ng-container",21),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(7,"div",19),i.\u0275\u0275template(8,Re,2,3,"dw-select",22),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementContainerEnd()}if(2&e){var r=i.\u0275\u0275nextContext(),a=r.$implicit,o=r.selectVisiable,l=i.\u0275\u0275nextContext();i.\u0275\u0275advance(2),i.\u0275\u0275property("ngModel",a.operator),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngForOf",l.dwFilterOperator),i.\u0275\u0275advance(2),i.\u0275\u0275property("ngModel",a.condition2.options),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngForOf",l.dwFilterOptions),i.\u0275\u0275advance(2),i.\u0275\u0275property("ngIf",o.value)}}function Ne(e,t){if(1&e){var n=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementStart(0,"div",18),i.\u0275\u0275elementStart(1,"div",19),i.\u0275\u0275elementStart(2,"dw-select",20),i.\u0275\u0275listener("ngModelChange",function(e){return i.\u0275\u0275restoreView(n).$implicit.condition1.options=e}),i.\u0275\u0275template(3,ke,2,1,"ng-container",21),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(4,"div",19),i.\u0275\u0275template(5,Pe,2,3,"dw-select",22),i.\u0275\u0275elementEnd(),i.\u0275\u0275template(6,Ae,9,5,"ng-container",23),i.\u0275\u0275elementEnd()}if(2&e){var r=t.$implicit,a=t.selectVisiable,o=i.\u0275\u0275nextContext();i.\u0275\u0275advance(2),i.\u0275\u0275property("ngModel",r.condition1.options),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngForOf",o.dwFilterOptions),i.\u0275\u0275advance(2),i.\u0275\u0275property("ngIf",a.value),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",r.condition1.filter)}}function je(e,t){if(1&e&&(i.\u0275\u0275element(0,"dw-option",25),i.\u0275\u0275pipe(1,"translate")),2&e){var n=i.\u0275\u0275nextContext().$implicit;i.\u0275\u0275property("dwValue",n.value)("dwLabel",i.\u0275\u0275pipeBind1(1,2,"dw-table-config-"+n.value))}}function ze(e,t){if(1&e&&(i.\u0275\u0275elementContainerStart(0),i.\u0275\u0275template(1,je,2,4,"dw-option",24),i.\u0275\u0275elementContainerEnd()),2&e){var n=t.$implicit;i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",n.supported.indexOf("date")>=0)}}function Be(e,t){if(1&e){var n=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementContainerStart(0),i.\u0275\u0275elementStart(1,"div",19),i.\u0275\u0275elementStart(2,"dw-date-picker",20),i.\u0275\u0275listener("ngModelChange",function(e){return i.\u0275\u0275restoreView(n),i.\u0275\u0275nextContext().$implicit.condition1.filterTo=e}),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementContainerEnd()}if(2&e){var r=i.\u0275\u0275nextContext().$implicit;i.\u0275\u0275advance(2),i.\u0275\u0275property("ngModel",r.condition1.filterTo)}}function $e(e,t){if(1&e&&(i.\u0275\u0275elementStart(0,"label",30),i.\u0275\u0275text(1),i.\u0275\u0275pipe(2,"translate"),i.\u0275\u0275elementEnd()),2&e){var n=t.$implicit;i.\u0275\u0275property("dwValue",n),i.\u0275\u0275advance(1),i.\u0275\u0275textInterpolate1(" ",i.\u0275\u0275pipeBind1(2,2,"dw-table-config-"+n)," ")}}function qe(e,t){if(1&e&&(i.\u0275\u0275element(0,"dw-option",25),i.\u0275\u0275pipe(1,"translate")),2&e){var n=i.\u0275\u0275nextContext().$implicit;i.\u0275\u0275property("dwValue",n.value)("dwLabel",i.\u0275\u0275pipeBind1(1,2,"dw-table-config-"+n.value))}}function We(e,t){if(1&e&&(i.\u0275\u0275elementContainerStart(0),i.\u0275\u0275template(1,qe,2,4,"dw-option",24),i.\u0275\u0275elementContainerEnd()),2&e){var n=t.$implicit;i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",n.supported.indexOf("date")>=0)}}function Ge(e,t){if(1&e){var n=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementContainerStart(0),i.\u0275\u0275elementStart(1,"div",19),i.\u0275\u0275elementStart(2,"dw-date-picker",20),i.\u0275\u0275listener("ngModelChange",function(e){return i.\u0275\u0275restoreView(n),i.\u0275\u0275nextContext(2).$implicit.condition2.filterTo=e}),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementContainerEnd()}if(2&e){var r=i.\u0275\u0275nextContext(2).$implicit;i.\u0275\u0275advance(2),i.\u0275\u0275property("ngModel",r.condition2.filterTo)}}function Ue(e,t){if(1&e){var n=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementContainerStart(0),i.\u0275\u0275elementStart(1,"div",19),i.\u0275\u0275elementStart(2,"dw-radio-group",20),i.\u0275\u0275listener("ngModelChange",function(e){return i.\u0275\u0275restoreView(n),i.\u0275\u0275nextContext().$implicit.operator=e}),i.\u0275\u0275template(3,$e,3,4,"label",29),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(4,"div",19),i.\u0275\u0275elementStart(5,"dw-select",20),i.\u0275\u0275listener("ngModelChange",function(e){return i.\u0275\u0275restoreView(n),i.\u0275\u0275nextContext().$implicit.condition2.options=e}),i.\u0275\u0275template(6,We,2,1,"ng-container",21),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(7,"div",19),i.\u0275\u0275elementStart(8,"dw-date-picker",20),i.\u0275\u0275listener("ngModelChange",function(e){return i.\u0275\u0275restoreView(n),i.\u0275\u0275nextContext().$implicit.condition2.filter=e}),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275template(9,Ge,3,1,"ng-container",23),i.\u0275\u0275elementContainerEnd()}if(2&e){var r=i.\u0275\u0275nextContext().$implicit,a=i.\u0275\u0275nextContext();i.\u0275\u0275advance(2),i.\u0275\u0275property("ngModel",r.operator),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngForOf",a.dwFilterOperator),i.\u0275\u0275advance(2),i.\u0275\u0275property("ngModel",r.condition2.options),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngForOf",a.dwFilterOptions),i.\u0275\u0275advance(2),i.\u0275\u0275property("ngModel",r.condition2.filter),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf","inRange"===r.condition2.options)}}function He(e,t){if(1&e){var n=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementStart(0,"div",18),i.\u0275\u0275elementStart(1,"div",19),i.\u0275\u0275elementStart(2,"dw-select",20),i.\u0275\u0275listener("ngModelChange",function(e){return i.\u0275\u0275restoreView(n).$implicit.condition1.options=e}),i.\u0275\u0275template(3,ze,2,1,"ng-container",21),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(4,"div",19),i.\u0275\u0275elementStart(5,"dw-date-picker",20),i.\u0275\u0275listener("ngModelChange",function(e){return i.\u0275\u0275restoreView(n).$implicit.condition1.filter=e}),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275template(6,Be,3,1,"ng-container",23),i.\u0275\u0275template(7,Ue,10,6,"ng-container",23),i.\u0275\u0275elementEnd()}if(2&e){var r=t.$implicit,a=i.\u0275\u0275nextContext();i.\u0275\u0275advance(2),i.\u0275\u0275property("ngModel",r.condition1.options),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngForOf",a.dwFilterOptions),i.\u0275\u0275advance(2),i.\u0275\u0275property("ngModel",r.condition1.filter),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf","inRange"===r.condition1.options),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf","inRange"!==r.condition1.options&&r.condition1.filter||"inRange"===r.condition1.options&&r.condition1.filter&&r.condition1.filterTo)}}function Xe(e,t){if(1&e&&(i.\u0275\u0275element(0,"dw-option",25),i.\u0275\u0275pipe(1,"translate")),2&e){var n=i.\u0275\u0275nextContext().$implicit;i.\u0275\u0275property("dwValue",n.value)("dwLabel",i.\u0275\u0275pipeBind1(1,2,"dw-table-config-"+n.value))}}function Qe(e,t){if(1&e&&(i.\u0275\u0275elementContainerStart(0),i.\u0275\u0275template(1,Xe,2,4,"dw-option",24),i.\u0275\u0275elementContainerEnd()),2&e){var n=t.$implicit;i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",n.supported.indexOf("text")>=0)}}function Ke(e,t){if(1&e){var n=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementStart(0,"i",35),i.\u0275\u0275listener("click",function(){return i.\u0275\u0275restoreView(n),i.\u0275\u0275nextContext(3).clear("condition1","filter")}),i.\u0275\u0275elementEnd()}}function Je(e,t){if(1&e&&i.\u0275\u0275template(0,Ke,1,0,"i",34),2&e){var n=i.\u0275\u0275nextContext().$implicit;i.\u0275\u0275property("ngIf",n.condition1.filter)}}function Ze(e,t){if(1&e&&(i.\u0275\u0275elementStart(0,"label",30),i.\u0275\u0275text(1),i.\u0275\u0275pipe(2,"translate"),i.\u0275\u0275elementEnd()),2&e){var n=t.$implicit;i.\u0275\u0275property("dwValue",n),i.\u0275\u0275advance(1),i.\u0275\u0275textInterpolate1(" ",i.\u0275\u0275pipeBind1(2,2,"dw-table-config-"+n)," ")}}function Ye(e,t){if(1&e&&(i.\u0275\u0275element(0,"dw-option",25),i.\u0275\u0275pipe(1,"translate")),2&e){var n=i.\u0275\u0275nextContext().$implicit;i.\u0275\u0275property("dwValue",n.value)("dwLabel",i.\u0275\u0275pipeBind1(1,2,"dw-table-config-"+n.value))}}function et(e,t){if(1&e&&(i.\u0275\u0275elementContainerStart(0),i.\u0275\u0275template(1,Ye,2,4,"dw-option",24),i.\u0275\u0275elementContainerEnd()),2&e){var n=t.$implicit;i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",n.supported.indexOf("text")>=0)}}function tt(e,t){if(1&e){var n=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementStart(0,"i",35),i.\u0275\u0275listener("click",function(){return i.\u0275\u0275restoreView(n),i.\u0275\u0275nextContext(4).clear("condition2","filter")}),i.\u0275\u0275elementEnd()}}function nt(e,t){if(1&e&&i.\u0275\u0275template(0,tt,1,0,"i",34),2&e){var n=i.\u0275\u0275nextContext(2).$implicit;i.\u0275\u0275property("ngIf",n.condition2.filter)}}function rt(e,t){if(1&e){var n=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementContainerStart(0),i.\u0275\u0275elementStart(1,"div",19),i.\u0275\u0275elementStart(2,"dw-radio-group",20),i.\u0275\u0275listener("ngModelChange",function(e){return i.\u0275\u0275restoreView(n),i.\u0275\u0275nextContext().$implicit.operator=e}),i.\u0275\u0275template(3,Ze,3,4,"label",29),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(4,"div",19),i.\u0275\u0275elementStart(5,"dw-select",20),i.\u0275\u0275listener("ngModelChange",function(e){return i.\u0275\u0275restoreView(n),i.\u0275\u0275nextContext().$implicit.condition2.options=e}),i.\u0275\u0275template(6,et,2,1,"ng-container",21),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(7,"div",19),i.\u0275\u0275elementStart(8,"dw-input-group",31),i.\u0275\u0275elementStart(9,"input",32),i.\u0275\u0275listener("ngModelChange",function(e){return i.\u0275\u0275restoreView(n),i.\u0275\u0275nextContext().$implicit.condition2.filter=e}),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275template(10,nt,1,1,"ng-template",null,36,i.\u0275\u0275templateRefExtractor),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementContainerEnd()}if(2&e){var r=i.\u0275\u0275reference(11),a=i.\u0275\u0275nextContext().$implicit,o=i.\u0275\u0275nextContext();i.\u0275\u0275advance(2),i.\u0275\u0275property("ngModel",a.operator),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngForOf",o.dwFilterOperator),i.\u0275\u0275advance(2),i.\u0275\u0275property("ngModel",a.condition2.options),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngForOf",o.dwFilterOptions),i.\u0275\u0275advance(2),i.\u0275\u0275property("dwSuffix",r),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngModel",a.condition2.filter)}}function it(e,t){if(1&e){var n=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementStart(0,"div",18),i.\u0275\u0275elementStart(1,"div",19),i.\u0275\u0275elementStart(2,"dw-select",20),i.\u0275\u0275listener("ngModelChange",function(e){return i.\u0275\u0275restoreView(n).$implicit.condition1.options=e}),i.\u0275\u0275template(3,Qe,2,1,"ng-container",21),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(4,"div",19),i.\u0275\u0275elementStart(5,"dw-input-group",31),i.\u0275\u0275elementStart(6,"input",32),i.\u0275\u0275listener("ngModelChange",function(e){return i.\u0275\u0275restoreView(n).$implicit.condition1.filter=e}),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275template(7,Je,1,1,"ng-template",null,33,i.\u0275\u0275templateRefExtractor),i.\u0275\u0275elementEnd(),i.\u0275\u0275template(9,rt,12,6,"ng-container",23),i.\u0275\u0275elementEnd()}if(2&e){var r=t.$implicit,a=i.\u0275\u0275reference(8),o=i.\u0275\u0275nextContext();i.\u0275\u0275advance(2),i.\u0275\u0275property("ngModel",r.condition1.options),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngForOf",o.dwFilterOptions),i.\u0275\u0275advance(2),i.\u0275\u0275property("dwSuffix",a),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngModel",r.condition1.filter),i.\u0275\u0275advance(3),i.\u0275\u0275property("ngIf",r.condition1.filter)}}function at(e,t){if(1&e&&(i.\u0275\u0275element(0,"dw-option",25),i.\u0275\u0275pipe(1,"translate")),2&e){var n=i.\u0275\u0275nextContext().$implicit;i.\u0275\u0275property("dwValue",n.value)("dwLabel",i.\u0275\u0275pipeBind1(1,2,"dw-table-config-"+n.value))}}function ot(e,t){if(1&e&&(i.\u0275\u0275elementContainerStart(0),i.\u0275\u0275template(1,at,2,4,"dw-option",24),i.\u0275\u0275elementContainerEnd()),2&e){var n=t.$implicit;i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",n.supported.indexOf("number")>=0)}}function lt(e,t){if(1&e){var n=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementContainerStart(0),i.\u0275\u0275elementStart(1,"div",19),i.\u0275\u0275elementStart(2,"dw-input-number",20),i.\u0275\u0275listener("ngModelChange",function(e){return i.\u0275\u0275restoreView(n),i.\u0275\u0275nextContext().$implicit.condition1.filterTo=e}),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementContainerEnd()}if(2&e){var r=i.\u0275\u0275nextContext().$implicit;i.\u0275\u0275advance(2),i.\u0275\u0275property("ngModel",r.condition1.filterTo)}}function dt(e,t){if(1&e&&(i.\u0275\u0275elementStart(0,"label",30),i.\u0275\u0275text(1),i.\u0275\u0275pipe(2,"translate"),i.\u0275\u0275elementEnd()),2&e){var n=t.$implicit;i.\u0275\u0275property("dwValue",n),i.\u0275\u0275advance(1),i.\u0275\u0275textInterpolate1(" ",i.\u0275\u0275pipeBind1(2,2,"dw-table-config-"+n)," ")}}function ct(e,t){if(1&e&&(i.\u0275\u0275element(0,"dw-option",25),i.\u0275\u0275pipe(1,"translate")),2&e){var n=i.\u0275\u0275nextContext().$implicit;i.\u0275\u0275property("dwValue",n.value)("dwLabel",i.\u0275\u0275pipeBind1(1,2,"dw-table-config-"+n.value))}}function st(e,t){if(1&e&&(i.\u0275\u0275elementContainerStart(0),i.\u0275\u0275template(1,ct,2,4,"dw-option",24),i.\u0275\u0275elementContainerEnd()),2&e){var n=t.$implicit;i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",n.supported.indexOf("number")>=0)}}function mt(e,t){if(1&e){var n=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementContainerStart(0),i.\u0275\u0275elementStart(1,"div",19),i.\u0275\u0275elementStart(2,"dw-input-number",20),i.\u0275\u0275listener("ngModelChange",function(e){return i.\u0275\u0275restoreView(n),i.\u0275\u0275nextContext(2).$implicit.condition2.filterTo=e}),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementContainerEnd()}if(2&e){var r=i.\u0275\u0275nextContext(2).$implicit;i.\u0275\u0275advance(2),i.\u0275\u0275property("ngModel",r.condition2.filterTo)}}function pt(e,t){if(1&e){var n=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementContainerStart(0),i.\u0275\u0275elementStart(1,"div",19),i.\u0275\u0275elementStart(2,"dw-radio-group",20),i.\u0275\u0275listener("ngModelChange",function(e){return i.\u0275\u0275restoreView(n),i.\u0275\u0275nextContext().$implicit.operator=e}),i.\u0275\u0275template(3,dt,3,4,"label",29),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(4,"div",19),i.\u0275\u0275elementStart(5,"dw-select",20),i.\u0275\u0275listener("ngModelChange",function(e){return i.\u0275\u0275restoreView(n),i.\u0275\u0275nextContext().$implicit.condition2.options=e}),i.\u0275\u0275template(6,st,2,1,"ng-container",21),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(7,"div",19),i.\u0275\u0275elementStart(8,"dw-input-number",20),i.\u0275\u0275listener("ngModelChange",function(e){return i.\u0275\u0275restoreView(n),i.\u0275\u0275nextContext().$implicit.condition2.filter=e}),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275template(9,mt,3,1,"ng-container",23),i.\u0275\u0275elementContainerEnd()}if(2&e){var r=i.\u0275\u0275nextContext().$implicit,a=i.\u0275\u0275nextContext();i.\u0275\u0275advance(2),i.\u0275\u0275property("ngModel",r.operator),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngForOf",a.dwFilterOperator),i.\u0275\u0275advance(2),i.\u0275\u0275property("ngModel",r.condition2.options),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngForOf",a.dwFilterOptions),i.\u0275\u0275advance(2),i.\u0275\u0275property("ngModel",r.condition2.filter),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf","inRange"===r.condition2.options)}}function ut(e,t){if(1&e){var n=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementStart(0,"div",18),i.\u0275\u0275elementStart(1,"div",19),i.\u0275\u0275elementStart(2,"dw-select",20),i.\u0275\u0275listener("ngModelChange",function(e){return i.\u0275\u0275restoreView(n).$implicit.condition1.options=e}),i.\u0275\u0275template(3,ot,2,1,"ng-container",21),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(4,"div",19),i.\u0275\u0275elementStart(5,"dw-input-number",20),i.\u0275\u0275listener("ngModelChange",function(e){return i.\u0275\u0275restoreView(n).$implicit.condition1.filter=e}),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275template(6,lt,3,1,"ng-container",23),i.\u0275\u0275template(7,pt,10,6,"ng-container",23),i.\u0275\u0275elementEnd()}if(2&e){var r=t.$implicit,a=i.\u0275\u0275nextContext();i.\u0275\u0275advance(2),i.\u0275\u0275property("ngModel",r.condition1.options),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngForOf",a.dwFilterOptions),i.\u0275\u0275advance(2),i.\u0275\u0275property("ngModel",r.condition1.filter),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf","inRange"===r.condition1.options),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf","inRange"!==r.condition1.options&&""!==r.condition1.filter&&null!==r.condition1.filter||"inRange"===r.condition1.options&&""!==r.condition1.filter&&null!==r.condition1.filter&&""!==r.condition1.filterTo&&null!==r.condition1.filterTo)}}var ft,vt=function(e,t,n){return{$implicit:e,filter:t,filterVisiable:n}},gt=((ft=function(){function e(){p(this,e)}return f(e,[{key:"saveTableConfig",value:function(e){return(0,u.of)(e)}}]),e}()).\u0275fac=function(e){return new(e||ft)},ft.\u0275prov=i.\u0275\u0275defineInjectable({factory:function(){return new ft},token:ft,providedIn:"root"}),ft),ht=function(){var e=function(){function e(t){p(this,e),this.http=t}return f(e,[{key:"getTableConfig",value:function(e,t){var n={tableId:e};return t&&Object.assign(n,{userId:t}),this.http.get("restful/service/DWSys/CustomColumn",{params:n}).pipe((0,v.map)(function(e){return e.data}))}},{key:"saveTableConfig",value:function(e,t,n){var r={tableId:e,config:t};return n&&Object.assign(r,{userId:n}),this.http.post("restful/service/DWSys/CustomColumn",{param:r})}},{key:"deleteTableConfig",value:function(e,t){var n={tableId:e};return t&&Object.assign(n,{userId:t}),this.http.delete("restful/service/DWSys/CustomColumn",{body:n})}},{key:"saveTenantConfig",value:function(e,t){return this.http.post("restful/service/DWSys/CustomColumn/Default",{param:{tableId:e,config:t}})}},{key:"deleteTenantConfig",value:function(e){return this.http.delete("restful/service/DWSys/CustomColumn/Default",{body:{tableId:e}})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.\u0275\u0275inject(y.DwDapHttpClient))},e.\u0275prov=i.\u0275\u0275defineInjectable({factory:function(){return new e(i.\u0275\u0275inject(y.DwDapHttpClient))},token:e,providedIn:"root"}),e}(),wt=function(){var e=function(){function e(t,n){p(this,e),this.dwTableConfigRepository=t,this.dwTableConfigExtraService=n,this.tableConfig=null,this.isGetConfig=!1,this.dwTableId=null,this.columnNameMap=new Map,this.dragSubject=new u.Subject,this.resizeSubject=new u.Subject,this.dragDisabledSubject=new u.Subject,this.columnConfigSubject=new u.BehaviorSubject(null),this.deleteConfigSubject=new u.Subject,this.configSubject=new u.Subject,this.visibleSubject=new u.Subject,this.filterSubject=new u.Subject,this.floatingFilterSubject=new u.Subject}return f(e,[{key:"dragSubject$",get:function(){return this.dragSubject.asObservable().pipe((0,v.filter)(function(e){return null!==e}))}},{key:"resizeSubject$",get:function(){return this.resizeSubject.asObservable().pipe((0,v.filter)(function(e){return null!==e}))}},{key:"dragDisabledSubject$",get:function(){return this.dragDisabledSubject.asObservable().pipe((0,v.filter)(function(e){return null!==e}))}},{key:"columnConfigSubject$",get:function(){return this.columnConfigSubject.asObservable().pipe((0,v.filter)(function(e){return null!==e}))}},{key:"deleteConfigSubject$",get:function(){return this.deleteConfigSubject.asObservable().pipe((0,v.filter)(function(e){return null!==e}))}},{key:"visibleSubject$",get:function(){return this.visibleSubject.asObservable().pipe((0,v.filter)(function(e){return null!==e}))}},{key:"filterSubject$",get:function(){return this.filterSubject.asObservable().pipe((0,v.filter)(function(e){return null!==e}))}},{key:"floatingFilterSubject$",get:function(){return this.floatingFilterSubject.asObservable().pipe((0,v.filter)(function(e){return null!==e}))}},{key:"dragInfo",value:function(e){this.dragSubject.next(e)}},{key:"resize",value:function(e){this.resizeSubject.next(e)}},{key:"dragDisabled",value:function(e){this.dragDisabledSubject.next(e)}},{key:"columnInfo",value:function(e,t){this.columnConfigSubject.next({event:e,tableConfig:t})}},{key:"deleteConfig",value:function(e){this.deleteConfigSubject.next(e)}},{key:"visibleChange",value:function(e){this.visibleSubject.next(e)}},{key:"filterChange",value:function(e){this.filterSubject.next(e)}},{key:"floatingFilterChange",value:function(e){this.floatingFilterSubject.next(e)}},{key:"setDwTableId",value:function(e){this.dwTableId=e}},{key:"getDwTableId",value:function(){return this.dwTableId}},{key:"setColumnConfig",value:function(e){this.tableConfig.hasOwnProperty("dwColumnConfig")||(this.tableConfig.dwColumnConfig=[]),this.tableConfig.dwColumnConfig=Object.assign([],e)}},{key:"getTableConfig",value:function(e){var t=this;return this.tableConfig?(0,u.of)(this.tableConfig):(this.isGetConfig||(this.isGetConfig=!0,this.getConfig(e).subscribe(function(e){t.isGetConfig=!1,t.configSubject.next(e)})),this.configSubject.asObservable())}},{key:"getConfig",value:function(e){var t=this;return this.dwTableConfigRepository.getTableConfig(this.dwTableId,e).pipe((0,v.map)(function(e){var t={},n=Object.assign(e.default_config,e.user_config);return n.hasOwnProperty("config")&&n.config.hasOwnProperty("dwColumnConfig")&&n.config.dwColumnConfig.length>0&&(n.config.dwColumnConfig.sort(function(e,t){return e.index-t.index}),t=n.config),t}),(0,v.tap)(function(e){t.columnInfo("getConfig",e),t.tableConfig=Object.assign({},e)}))}},{key:"saveTableConfig",value:function(e,t){var n=this;return this.dwTableConfigExtraService.saveTableConfig(this.tableConfig).pipe((0,v.switchMap)(function(r){return n.columnInfo(e,r),n.dwTableConfigRepository.saveTableConfig(n.dwTableId,r,t)}))}},{key:"saveTableConfigImmediately",value:function(e,t){this.saveTableConfig(e,t).subscribe()}},{key:"deleteTableConfig",value:function(e){return this.tableConfig=null,this.dwTableConfigRepository.deleteTableConfig(this.dwTableId,e)}},{key:"getTenantConfig",value:function(){return this.dwTableConfigRepository.getTableConfig(this.dwTableId).pipe((0,v.map)(function(e){var t={};return e.default_config.hasOwnProperty("config")&&(t=e.default_config.config),t}))}},{key:"saveTenantConfig",value:function(e){return this.dwTableConfigRepository.saveTenantConfig(this.dwTableId,{dwColumnConfig:e})}},{key:"deleteTenantConfig",value:function(){return this.dwTableConfigRepository.deleteTenantConfig(this.dwTableId)}},{key:"getColumnWidth",value:function(e){if(!e||!this.tableConfig||!this.tableConfig.dwColumnConfig||0===this.tableConfig.dwColumnConfig.length)return null;var t=this.tableConfig.dwColumnConfig.findIndex(function(t){return t.dwColumnId===e});return-1===t?null:this.tableConfig.dwColumnConfig[t].width}},{key:"setColumnWidth",value:function(e,t){if(e&&this.tableConfig&&this.tableConfig.dwColumnConfig&&0!==this.tableConfig.dwColumnConfig.length){var n=this.tableConfig.dwColumnConfig.findIndex(function(t){return t.dwColumnId===e});-1!==n&&(this.tableConfig.dwColumnConfig[n].width=t,this.saveTableConfigImmediately("widthChange"))}}},{key:"setColumnSort",value:function(e,t){if(e&&this.tableConfig&&this.tableConfig.dwColumnConfig&&0!==this.tableConfig.dwColumnConfig.length){var n=this.tableConfig.dwColumnConfig.findIndex(function(t){return t.dwColumnId===e});-1!==n&&(this.tableConfig.dwColumnConfig[n].sort=t,this.saveTableConfigImmediately("sortChange"))}}},{key:"getColumnSort",value:function(e){var t=void 0;if(!e||!this.tableConfig||!this.tableConfig.dwColumnConfig||0===this.tableConfig.dwColumnConfig.length)return t;var n=this.tableConfig.dwColumnConfig.findIndex(function(t){return t.dwColumnId===e});return-1===n?t:this.tableConfig.dwColumnConfig[n].sort}},{key:"setColumnVisible",value:function(e,t){if(e&&this.tableConfig&&this.tableConfig.dwColumnConfig&&0!==this.tableConfig.dwColumnConfig.length){var n=this.tableConfig.dwColumnConfig.findIndex(function(t){return t.dwColumnId===e});-1!==n&&(this.tableConfig.dwColumnConfig[n].visible=t)}}},{key:"getColumnVisible",value:function(e){var t=!0;if(!e||!this.tableConfig||!this.tableConfig.dwColumnConfig||0===this.tableConfig.dwColumnConfig.length)return t;var n=this.tableConfig.dwColumnConfig.findIndex(function(t){return t.dwColumnId===e});return-1===n||(t=this.tableConfig.dwColumnConfig[n].visible),t}},{key:"getVisibleColumns",value:function(){if(!this.tableConfig||!this.tableConfig.dwColumnConfig||0===this.tableConfig.dwColumnConfig.length)return[];var e=[];return this.tableConfig.dwColumnConfig.forEach(function(t){t.visible&&e.push(t)}),e}},{key:"setColumnName",value:function(e,t){this.columnNameMap.set(e,t)}},{key:"getColumnName",value:function(e){return this.columnNameMap.get(e)}},{key:"setColumnFilter",value:function(e,t){if(e&&this.tableConfig&&this.tableConfig.dwColumnConfig&&0!==this.tableConfig.dwColumnConfig.length){var n=this.tableConfig.dwColumnConfig.findIndex(function(t){return t.dwColumnId===e});-1!==n&&(this.tableConfig.dwColumnConfig[n].filter=t,this.saveTableConfigImmediately("filterChange"))}}},{key:"getColumnFilter",value:function(e){var t=null;if(!e||!this.tableConfig||!this.tableConfig.dwColumnConfig||0===this.tableConfig.dwColumnConfig.length)return t;var n=this.tableConfig.dwColumnConfig.findIndex(function(t){return t.dwColumnId===e});return-1===n||(t=this.tableConfig.dwColumnConfig[n].filter),t}},{key:"setFloatingFilter",value:function(e){!this.tableConfig||(this.tableConfig.dwFloatingFilter=e,this.saveTableConfigImmediately("floatingFilterChange"))}},{key:"getFloatingFilter",value:function(){var e=!1;return!this.tableConfig||!this.tableConfig.hasOwnProperty("dwFloatingFilter")||(e=this.tableConfig.dwFloatingFilter),e}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.\u0275\u0275inject(ht),i.\u0275\u0275inject(gt))},e.\u0275prov=i.\u0275\u0275defineInjectable({factory:function(){return new e(i.\u0275\u0275inject(ht),i.\u0275\u0275inject(gt))},token:e,providedIn:"root"}),e}(),yt=function(){var e=function(){function e(t,n,r){p(this,e),this.tableStyleService=t,this.dndService=n,this.elementRef=r,this.thPureArray=[],this.thColumnIdArray=[],this.thNoColumnIdArray=[],this.thOriColumnIdArray=[],this.dragableRef=[],this.elemDragRefMap=new Map,this.dropListRef=this.dndService.createDropList(this.elementRef),this.dropListRef.withOrientation("horizontal"),this.dropListRef.lockAxis="x"}return f(e,[{key:"setThNoColumnWidth",value:function(e,t){var n=this,r=this.thNoColumnIdArray.findIndex(function(t){return t.template===e});this.thNoColumnIdArray[r].width=t,setTimeout(function(){n.setTableWidthConfig()})}},{key:"setThColumnWidth",value:function(e,t,n,r,i,a){var o=this,l=this.thColumnIdArray.findIndex(function(t){return t.dwColumnId===e});this.thColumnIdArray[l].width=t,this.thColumnIdArray[l].dwDragDrop=n,this.thColumnIdArray[l].dwColumnFilter=r,this.thColumnIdArray[l].dwFilterList=i,this.thColumnIdArray[l].dwFilterMultiple=a,setTimeout(function(){o.setTableWidthConfig()})}},{key:"setThPureWidth",value:function(e,t){var n=this;this.thPureArray.push({dwColumnId:e,width:t}),setTimeout(function(){n.setTableWidthConfig()})}},{key:"appendThIdView",value:function(e,t){var n={dwColumnId:e,template:t};this.thColumnIdArray.push(n),this.thOriColumnIdArray.push(n)}},{key:"appendThNoIdView",value:function(e,t){this.thNoColumnIdArray.push({dwColumnId:e,template:t})}},{key:"appendThElement",value:function(e){var t=this.dndService.createDrag(e);this.dragableRef.push(t),this.elemDragRefMap.set(e,t),this.dropListRef.withItems(this.dragableRef)}},{key:"removeThElement",value:function(e){var t=this.elemDragRefMap.get(e),n=this.dragableRef.indexOf(t);this.dragableRef.splice(n,1),this.dropListRef.withItems(this.dragableRef),this.elemDragRefMap.delete(e)}},{key:"setTableWidthConfig",value:function(){}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.\u0275\u0275directiveInject(g.DwTableStyleService),i.\u0275\u0275directiveInject(o.DragDrop),i.\u0275\u0275directiveInject(i.ElementRef))},e.\u0275cmp=i.\u0275\u0275defineComponent({type:e,selectors:[["dw-drop-columns-base"]],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e}(),xt=function(){var e=function(){function e(t,n){p(this,e),this.dwDateFormat=t,this.dwTimeFormat=n,this.dwFilterMultiple=!1,this.dwFilterMultipleMode="default",this.dwFilterInfo={condition1:{options:"equals",filter:null,filterTo:null},condition2:{options:"equals",filter:null,filterTo:null},operator:"AND",filterType:"textFilter"}}return f(e,[{key:"onInit",value:function(){this.dwColumnFilter||(this.dwColumnFilter="textFilter"),this.dwFilterInfo.filterType=this.dwColumnFilter,"textFilter"===this.dwColumnFilter&&(this.dwFilterInfo.condition1.options="contains",this.dwFilterInfo.condition2.options="contains"),null==this.dwFilterMultiple&&(this.dwFilterMultiple=!0),!0===this.dwFilterMultiple&&(this.dwFilterMultipleMode="multiple")}},{key:"transStringToDate",value:function(e){var t=JSON.parse(JSON.stringify(e));return"dateFilter"!==this.dwColumnFilter||(e.condition1.filter&&"string"==typeof e.condition1.filter&&(t.condition1.filter=new Date(e.condition1.filter)),e.condition1.filterTo&&"string"==typeof e.condition1.filterTo&&(t.condition1.filterTo=new Date(e.condition1.filterTo)),e.condition2.filter&&"string"==typeof e.condition2.filter&&(t.condition2.filter=new Date(e.condition2.filter)),e.condition2.filterTo&&"string"==typeof e.condition2.filterTo&&(t.condition2.filterTo=new Date(e.condition2.filterTo))),t}},{key:"transDateToString",value:function(e){var t=JSON.parse(JSON.stringify(e));if("dateFilter"!==this.dwColumnFilter)return t;var n=this.dwDateFormat.concat(" ",this.dwTimeFormat);return e.condition1.filter&&e.condition1.filter instanceof Date&&(t.condition1.filter=C()(e.condition1.filter,n)),e.condition1.filterTo&&e.condition1.filterTo instanceof Date&&(t.condition1.filterTo=C()(e.condition1.filterTo,n)),e.condition2.filter&&e.condition2.filter instanceof Date&&(t.condition2.filter=C()(e.condition2.filter,n)),e.condition2.filterTo&&e.condition2.filterTo instanceof Date&&(t.condition2.filterTo=C()(e.condition2.filterTo,n)),t}},{key:"syncFilterToModel",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.tableConfig&&e.tableConfig.hasOwnProperty("dwColumnConfig")&&0!==e.tableConfig.dwColumnConfig.length){var r=JSON.parse(JSON.stringify(e.tableConfig)).dwColumnConfig.find(function(e){return e.dwColumnId===t.dwColumnId});if(r&&r.filter){var i=this.transStringToDate(r.filter);this.dwFilterInfo.condition1.filter=i.condition1.filter,this.dwFilterInfo.condition1.filterTo=i.condition1.filterTo,this.dwFilterInfo.condition2.filter=i.condition2.filter,this.dwFilterInfo.condition2.filterTo=i.condition2.filterTo,!0===n&&(this.dwFilterInfo.condition1.options=i.condition1.options,this.dwFilterInfo.condition2.options=i.condition2.options),this.dwFilterInfo.operator=i.operator}}}},{key:"checkEmpty",value:function(e){return null===e||""===e}},{key:"resetEmptyArray",value:function(e){return e.condition1.filter&&Array.isArray(e.condition1.filter)&&0===e.condition1.filter.length&&(e.condition1.filter=null),e.condition1.filterTo&&Array.isArray(e.condition1.filterTo)&&0===e.condition1.filterTo.length&&(e.condition1.filterTo=null),e.condition2.filter&&Array.isArray(e.condition2.filter)&&0===e.condition2.filter.length&&(e.condition2.filter=null),e.condition2.filterTo&&Array.isArray(e.condition2.filterTo)&&0===e.condition2.filterTo.length&&(e.condition2.filterTo=null),e}},{key:"validColumnFilter",value:function(e){"inRange"===e.condition1.options&&(this.checkEmpty(e.condition1.filter)||this.checkEmpty(e.condition1.filterTo))&&(e.condition1.filter=null,e.condition1.filterTo=null,e.condition2.filter=null,e.condition2.filterTo=null),this.checkEmpty(e.condition1.filter)&&(e.condition1.filter=null,e.condition1.filterTo=null,e.condition2.filter=null,e.condition2.filterTo=null),"inRange"!==e.condition1.options&&(e.condition1.filterTo=null),"inRange"===e.condition2.options&&(this.checkEmpty(e.condition2.filter)||this.checkEmpty(e.condition2.filterTo))&&(e.condition2.filter=null,e.condition2.filterTo=null),this.checkEmpty(e.condition2.filter)&&(e.condition2.filter=null,e.condition2.filterTo=null),"inRange"!==e.condition2.options&&(e.condition2.filterTo=null)}},{key:"cloneObject",value:function(e){var t={};for(var n in e)t[n]=null!==e[n]&&"object"==typeof e[n]?Array.isArray(e[n])?e[n]:Object.keys(e[n]).length>0?this.cloneObject(e[n]):e[n]:e[n];return t}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.\u0275\u0275directiveInject(x.APP_DATE_FORMAT),i.\u0275\u0275directiveInject(x.APP_TIME_FORMAT))},e.\u0275cmp=i.\u0275\u0275defineComponent({type:e,selectors:[["dw-filter-base"]],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e}(),_t=function(){var e=function(e){l(n,e);var t=c(n);function n(e,r,i,a,o){var l;return p(this,n),(l=t.call(this,a,o)).elementRef=e,l.dwTableConfigService=r,l.translateService=i,l.dwDateFormat=a,l.dwTimeFormat=o,l.timer=null,l.subscription=new u.Subscription,l.strCondition="",l}return f(n,[{key:"ngOnInit",value:function(){var e=this;a(m(n.prototype),"onInit",this).call(this),this.subscription.add(this.dwTableConfigService.columnConfigSubject$.subscribe(function(t){e.syncFilterToModel(t,!1)}))}},{key:"ngOnDestroy",value:function(){this.destroy()}},{key:"destroy",value:function(){this.subscription.unsubscribe()}},{key:"modelChange",value:function(){var e=this;this.timer&&clearTimeout(this.timer),this.timer=setTimeout(function(){e.emitFloatingFilterChange();var t=e.transDateToString(e.dwFilterInfo);e.resetEmptyArray(t),e.validColumnFilter(t),e.dwTableConfigService.setColumnFilter(e.dwColumnId,t),e.timer=null},500)}},{key:"clear",value:function(){this.dwFilterInfo.condition1.filter=null,this.emitFloatingFilterChange(),this.dwTableConfigService.setColumnFilter(this.dwColumnId,this.dwFilterInfo)}},{key:"emitFloatingFilterChange",value:function(){this.dwTableConfigService.floatingFilterChange({dwColumnId:this.dwColumnId,dwFilterInfo:this.dwFilterInfo})}},{key:"canEditModel",value:function(e,t){var n=this.transDateToString(e),r=[],i=[];if(this.strCondition="",!this.checkEmpty(e.condition1.filter))if("selectFilter"===n.filterType){var a;a=Array.isArray(e.condition1.filter)&&Array.isArray(t)?this.getSelectLabel(n.condition1.filter,t):this.getSelectLabel([n.condition1.filter],t),r.push(a)}else r.push(n.condition1.filter);if(this.checkEmpty(e.condition1.filterTo)||r.push(n.condition1.filterTo),!this.checkEmpty(e.condition2.filter))if("selectFilter"===n.filterType){var o;o=Array.isArray(e.condition2.filter)&&Array.isArray(t)?this.getSelectLabel(n.condition2.filter,t):this.getSelectLabel([n.condition2.filter],t),i.push(o)}else i.push(n.condition2.filter);if(this.checkEmpty(e.condition2.filterTo)||i.push(n.condition2.filterTo),r.length<=1&&0===i.length)return!0;if(this.strCondition=r.join("-"),i.length>0){var l=this.translateService.instant("dw-table-config-"+n.operator);this.strCondition+=" "+l+" "+i.join("-")}return!1}},{key:"getSelectLabel",value:function(e,t){var n=this,r=[];return!Array.isArray(t)||0===t.length||t.forEach(function(t){e.findIndex(function(e){return e===t.value})>=0&&r.push(n.translateService.instant(t.label))}),r}}]),n}(xt);return e.\u0275fac=function(t){return new(t||e)(i.\u0275\u0275directiveInject(i.ElementRef),i.\u0275\u0275directiveInject(wt),i.\u0275\u0275directiveInject(w.TranslateService),i.\u0275\u0275directiveInject(x.APP_DATE_FORMAT),i.\u0275\u0275directiveInject(x.APP_TIME_FORMAT))},e.\u0275cmp=i.\u0275\u0275defineComponent({type:e,selectors:[["dw-filter-input"]],features:[i.\u0275\u0275InheritDefinitionFeature],decls:14,vars:4,consts:[[1,"filter-input-block"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["dwSelectTpl",""],["dwDateTpl",""],["dwTextTpl",""],["dwNumberTpl",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"dwFilterTemplate"],[1,""],[4,"ngIf"],["dwAllowClear","","dwShowSearch","",3,"ngModel","dwMode","ngModelChange"],[3,"dwLabel","dwValue",4,"ngFor","ngForOf"],[3,"dwLabel","dwValue"],["type","text","dw-input","",3,"value","disabled"],[3,"ngModel","ngModelChange"],[3,"dwSuffix"],["type","text","dw-input","",3,"ngModel","ngModelChange"],["dwInputClearTpl",""],["dw-icon","","class","ant-input-clear-icon","dwTheme","fill","dwType","close-circle",3,"click",4,"ngIf"],["dw-icon","","dwTheme","fill","dwType","close-circle",1,"ant-input-clear-icon",3,"click"]],template:function(e,t){1&e&&(i.\u0275\u0275elementStart(0,"div",0),i.\u0275\u0275elementContainerStart(1,1),i.\u0275\u0275template(2,R,2,4,"ng-container",2),i.\u0275\u0275template(3,N,2,4,"ng-container",2),i.\u0275\u0275template(4,z,2,4,"ng-container",2),i.\u0275\u0275template(5,$,2,4,"ng-container",3),i.\u0275\u0275elementContainerEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275template(6,U,4,2,"ng-template",null,4,i.\u0275\u0275templateRefExtractor),i.\u0275\u0275template(8,Q,4,2,"ng-template",null,5,i.\u0275\u0275templateRefExtractor),i.\u0275\u0275template(10,ee,4,2,"ng-template",null,6,i.\u0275\u0275templateRefExtractor),i.\u0275\u0275template(12,re,4,2,"ng-template",null,7,i.\u0275\u0275templateRefExtractor)),2&e&&(i.\u0275\u0275advance(1),i.\u0275\u0275property("ngSwitch",t.dwColumnFilter),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngSwitchCase","selectFilter"),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngSwitchCase","numberFilter"),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngSwitchCase","dateFilter"))},directives:[b.NgSwitch,b.NgSwitchCase,b.NgSwitchDefault,b.NgTemplateOutlet,b.NgIf,D.DwSelectComponent,I.NgControlStatus,I.NgModel,b.NgForOf,D.DwOptionComponent,P.DwInputDirective,M.DwDatePickerComponent,P.DwInputGroupComponent,P.DwInputGroupWhitSuffixOrPrefixDirective,I.DefaultValueAccessor,E.DwIconDirective,O.DwInputNumberComponent],pipes:[w.TranslatePipe],styles:[".filter-input-block{display:block;max-width:70%;margin:0 auto}span.ant-input-suffix{width:14px;cursor:text}i.anticon.ant-input-clear-icon.anticon-close-circle{cursor:pointer}dw-input-group.ant-input-affix-wrapper{cursor:text}\n"],encapsulation:2}),e}(),Ct=[new d.ConnectionPositionPair({originX:"start",originY:"top"},{overlayX:"start",overlayY:"top"}),new d.ConnectionPositionPair({originX:"start",originY:"top"},{overlayX:"start",overlayY:"bottom"}),new d.ConnectionPositionPair({originX:"start",originY:"top"},{overlayX:"end",overlayY:"bottom"}),new d.ConnectionPositionPair({originX:"start",originY:"top"},{overlayX:"end",overlayY:"top"})],St=function(){var e=function(e){l(r,e);var t=c(r);function r(e,n,i,a,o,l,d,c,s,m,f){var v;return p(this,r),(v=t.call(this,n,i,a)).dwTableConfigService=e,v.tableStyleService=n,v.dndService=i,v.elementRef=a,v.contextMenuService=o,v.translateService=l,v.overlay=d,v.renderer=c,v.vcRef=s,v.cfResolver=m,v.cdr=f,v.dwColumnConfig=[],v.dwColumnConfig$=new u.Subject,v.dwFloatingFilter=null,v.showFloatingFilter=!1,v.destroy$=new u.Subject,v.overlayRef=null,v.isVisibleChange=!1,v.floatingElement=null,v.floatingComponentRef=[],v}return f(r,[{key:"ngOnInit",value:function(){var e=this;this.dwTableConfigService.getDwTableId()?(this.dwTableConfigService.dragSubject$.pipe((0,v.takeUntil)(this.destroy$)).subscribe(function(t){if(e.dwTableConfigService.getDwTableId()){e.moveView(t.previousIndex,t.currentIndex);var n=e.getViewOrder();e.dwTableConfigService.setColumnConfig(n),e.dwTableConfigService.saveTableConfigImmediately("columnChange"),e.setTableWidthConfig()}}),this.dwTableConfigService.resizeSubject$.pipe((0,v.takeUntil)(this.destroy$)).subscribe(function(t){!e.dwTableConfigService.getDwTableId()||e.setTableWidthConfig()}),this.dwTableConfigService.dragDisabledSubject$.pipe((0,v.takeUntil)(this.destroy$)).subscribe(function(t){e.dropListRef.disabled=t}),this.dropListRef.dropped.pipe((0,v.takeUntil)(this.destroy$)).subscribe(function(t){!e.dwTableConfigService.getDwTableId()||e.dwTableConfigService.dragInfo(t)}),this.elementRef.nativeElement.addEventListener("contextmenu",this.onContextmenu.bind(this))):console.warn(this.translateService.instant("dw-table-config-noTableId"))}},{key:"ngAfterViewInit",value:function(){this.initView()}},{key:"ngOnDestroy",value:function(){this.elementRef&&this.elementRef.nativeElement.removeEventListener("contextmenu",this.onContextmenu.bind(this)),this.destroy$.next(),this.destroy$.complete()}},{key:"onContextmenu",value:function(e){this.isVisibleChange=!1,this.showFloatingFilter=this.visiableFloatingFilter(),this.dwFloatingFilter=this.dwTableConfigService.getFloatingFilter(),e instanceof MouseEvent&&e.preventDefault(),this.getRightMenu(),this.createRightMenu(e)}},{key:"getRightMenu",value:function(){var e=this;this.contextmenuSubscription=this.dwTableConfigService.getTableConfig().subscribe(function(t){!t&&!t.dwColumnConfig&&0===t.dwColumnConfig.length||(e.dwColumnConfig=JSON.parse(JSON.stringify(t.dwColumnConfig)),e.dwColumnConfig.forEach(function(t){t.columnName=e.dwTableConfigService.getColumnName(t.dwColumnId)}),e.dwColumnConfig$.next(e.dwColumnConfig),e.contextmenuSubscription&&e.contextmenuSubscription.unsubscribe())})}},{key:"createRightMenu",value:function(e){var t=this,n=e.x,r=e.y,i=this.overlay.position().flexibleConnectedTo({x:n,y:r}).withPositions(Ct).withFlexibleDimensions(!1).withTransformOriginOn(".ant-dropdown");this.overlayRef=this.overlay.create({positionStrategy:i,hasBackdrop:!0,disposeOnNavigation:!0,panelClass:"dw-drop-columns-cm-panel",scrollStrategy:this.overlay.scrollStrategies.close()}),this.overlayRef.attach(new s.TemplatePortal(this.rightMenu.templateRef,this.rightMenu.viewContainerRef)),this.overlayRef.backdropElement.addEventListener("contextmenu",this.onBackdropContextmenu.bind(this)),this.backdropSubscription=this.overlayRef.backdropClick().pipe().subscribe(function(){t.closeOverlay()})}},{key:"onBackdropContextmenu",value:function(e){e.preventDefault(),this.closeOverlay()}},{key:"closeOverlay",value:function(){if(this.overlayRef.backdropElement&&this.overlayRef.backdropElement.removeEventListener("contextmenu",this.onContextmenu.bind(this)),this.backdropSubscription.unsubscribe(),this.overlayRef.detach(),this.overlayRef.dispose(),this.overlayRef=null,this.isVisibleChange){var e=this.getViewOrder();this.dwTableConfigService.setColumnConfig(e),this.dwTableConfigService.saveTableConfigImmediately("visibleChange")}}},{key:"createView",value:function(){var e=this;this.dwDropColumnsContent.length>0&&this.dwDropColumnsContent.clear();var t=this.thColumnIdArray.concat(this.thNoColumnIdArray),n=[];t.forEach(function(t,r){var i=e.dwTableConfigService.getColumnVisible(t.dwColumnId);t.template&&(e.dwDropColumnsContent.createEmbeddedView(t.template),i||n.push(r))}),setTimeout(function(){if(n.reverse().forEach(function(t){e.dwDropColumnsContent.remove(t)}),0===e.dwTableConfigService.getVisibleColumns().length)e.emptyDataColumnsViewRef=e.dwDropColumnsContent.createEmbeddedView(e.emptyDataColumns),e.cdr.markForCheck();else{var t=e.dwDropColumnsContent.indexOf(e.emptyDataColumnsViewRef);t>-1&&e.dwDropColumnsContent.remove(t)}})}},{key:"moveView",value:function(e,t){var r=this;if(0!==this.dwDropColumnsContent.length){var i=[];this.thColumnIdArray.forEach(function(e,t){void 0!==e.dwDragDrop&&r.dwTableConfigService.getColumnVisible(e.dwColumnId)&&i.push(e)}),(0,o.moveItemInArray)(i,e,t);for(var a=n(this.thColumnIdArray),l=0;l<a.length;l++)void 0!==a[l].dwDragDrop&&this.dwTableConfigService.getColumnVisible(a[l].dwColumnId)&&i.length&&(a[l]=i.shift());this.thColumnIdArray=a,setTimeout(function(){r.createView(),r.createFloatingFilter()})}}},{key:"initView",value:function(){var e=this;!this.dwTableConfigService.getDwTableId()||(this.dropListRef&&this.dropListRef.withScrollableParents(Array.from(document.querySelectorAll(".ant-table-content"))),this.initViewSubscription=this.dwTableConfigService.getTableConfig().subscribe(function(t){t&&t.dwColumnConfig&&t.dwColumnConfig.length>0?t.dwColumnConfig.forEach(function(t,n){var r=e.thColumnIdArray.findIndex(function(e){return e.dwColumnId===t.dwColumnId});-1!==r&&(!e.thColumnIdArray[n]||(0,o.moveItemInArray)(e.thColumnIdArray,r,n))}):e.thColumnIdArray=e.thOriColumnIdArray;var n=e.getViewOrder();e.dwTableConfigService.setColumnConfig(n),setTimeout(function(){e.createView(),e.createFloatingFilter()}),e.initViewSubscription&&e.initViewSubscription.unsubscribe()}))}},{key:"getViewOrder",value:function(){var e=this,t=[];return this.thColumnIdArray.forEach(function(n,r){var i=e.dwTableConfigService.getColumnWidth(n.dwColumnId)||n.width,a=e.dwTableConfigService.getColumnSort(n.dwColumnId),o=e.dwTableConfigService.getColumnVisible(n.dwColumnId),l=e.dwTableConfigService.getColumnFilter(n.dwColumnId);t.push({dwColumnId:n.dwColumnId,width:i,index:r,sort:a,visible:o,filter:l})}),t}},{key:"setTableWidthConfig",value:function(){var e=this,t=this.thPureArray.concat(this.thColumnIdArray,this.thNoColumnIdArray),n=[];t.filter(function(t){return e.dwTableConfigService.getColumnVisible(t.dwColumnId)}).forEach(function(t,r){if(e.dwTableConfigService.getColumnVisible(t.dwColumnId)){var i=e.dwTableConfigService.getColumnWidth(t.dwColumnId),a=Number.isInteger(i)?i+"px":t.width||"auto";n.push(a)}}),this.tableStyleService.setTableWidthConfig(n)}},{key:"setViewColumnWidth",value:function(e,t,n){if(0!==e.length&&t){var r=e.findIndex(function(e){return e.dwColumnId===t});return e[r].width=n,e}}},{key:"deleteConfig",value:function(){var e=this;this.dwTableConfigService.deleteTableConfig().pipe((0,v.takeUntil)(this.destroy$)).subscribe(function(){e.initView(),e.dwTableConfigService.deleteConfig(e.thOriColumnIdArray),e.closeOverlay()})}},{key:"saveTenantConfig",value:function(){var e=this,t=this.getViewOrder();this.dwTableConfigService.saveTenantConfig(t).pipe((0,v.takeUntil)(this.destroy$)).subscribe(function(){e.closeOverlay()})}},{key:"deleteTenantConfig",value:function(){var e=this;this.dwTableConfigService.deleteTenantConfig().pipe((0,v.takeUntil)(this.destroy$)).subscribe(function(){e.initView(),e.dwTableConfigService.deleteConfig(e.thOriColumnIdArray),e.closeOverlay()})}},{key:"changeVisible",value:function(e,t){t.preventDefault(),t.stopPropagation();var n=0;this.dwColumnConfig.forEach(function(e){e.visible&&n++}),(1!==n||!e.visible)&&(this.isVisibleChange=!0,e.visible=!e.visible,this.dwTableConfigService.setColumnVisible(e.dwColumnId,e.visible),this.initView(),this.dwTableConfigService.visibleChange(!0))}},{key:"createFloatingFilter",value:function(){var e=this;this.removeFloatingFilter(),!0===this.dwTableConfigService.getFloatingFilter()&&setTimeout(function(){var t=e.thPureArray.concat(e.thColumnIdArray,e.thNoColumnIdArray);0!==t.filter(function(t){return void 0!==t.dwColumnFilter&&e.dwTableConfigService.getColumnVisible(t.dwColumnId)}).length&&(e.floatingElement=document.createElement("tr"),e.elementRef.nativeElement.parentElement.appendChild(e.floatingElement),t.forEach(function(t){if(!0===e.dwTableConfigService.getColumnVisible(t.dwColumnId)){var n=document.createElement("th"),r=document.createElement("div");if(void 0===t.dwColumnFilter)e.renderer.appendChild(n,r);else{var i=e.cfResolver.resolveComponentFactory(_t),a=e.vcRef.createComponent(i);e.floatingComponentRef.push(a),e.renderer.appendChild(n,a.injector.get(_t).elementRef.nativeElement);var o=a.instance;o.dwColumnId=t.dwColumnId,o.dwColumnFilter=t.dwColumnFilter,o.dwFilterList=t.dwFilterList,o.dwFilterMultiple=t.dwFilterMultiple}e.renderer.setStyle(n,"background","#fafafa"),e.renderer.appendChild(e.floatingElement,n)}}))})}},{key:"removeFloatingFilter",value:function(){if(null!==this.floatingElement){this.elementRef.nativeElement.parentElement.removeChild(this.floatingElement),this.floatingElement=null;var e=this.floatingComponentRef.length;if(e>0)for(var t=e-1;t>=0;t-=1)this.floatingComponentRef[t].instance.destroy(),this.floatingComponentRef.splice(t,1)}}},{key:"changeFloatingFilter",value:function(){this.dwFloatingFilter=!this.dwFloatingFilter,this.dwTableConfigService.setFloatingFilter(this.dwFloatingFilter),this.createFloatingFilter(),this.closeOverlay()}},{key:"visiableFloatingFilter",value:function(){var e=!1;return this.thPureArray.concat(this.thColumnIdArray,this.thNoColumnIdArray).filter(function(e){return e.hasOwnProperty("dwColumnFilter")&&void 0!==e.dwColumnFilter}).length>0&&(e=!0),e}}]),r}(yt);return e.\u0275fac=function(t){return new(t||e)(i.\u0275\u0275directiveInject(wt),i.\u0275\u0275directiveInject(g.DwTableStyleService),i.\u0275\u0275directiveInject(o.DragDrop),i.\u0275\u0275directiveInject(i.ElementRef),i.\u0275\u0275directiveInject(h.DwContextMenuService),i.\u0275\u0275directiveInject(w.TranslateService),i.\u0275\u0275directiveInject(d.Overlay),i.\u0275\u0275directiveInject(i.Renderer2),i.\u0275\u0275directiveInject(i.ViewContainerRef),i.\u0275\u0275directiveInject(i.ComponentFactoryResolver),i.\u0275\u0275directiveInject(i.ChangeDetectorRef))},e.\u0275cmp=i.\u0275\u0275defineComponent({type:e,selectors:[["tr","dwDropColumns",""]],viewQuery:function(e,t){var n;(1&e&&(i.\u0275\u0275viewQuery(ie,7,i.ViewContainerRef),i.\u0275\u0275viewQuery(ae,7),i.\u0275\u0275viewQuery(oe,7)),2&e)&&(i.\u0275\u0275queryRefresh(n=i.\u0275\u0275loadQuery())&&(t.dwDropColumnsContent=n.first),i.\u0275\u0275queryRefresh(n=i.\u0275\u0275loadQuery())&&(t.rightMenu=n.first),i.\u0275\u0275queryRefresh(n=i.\u0275\u0275loadQuery())&&(t.emptyDataColumns=n.first))},features:[i.\u0275\u0275ProvidersFeature([{provide:yt,useExisting:(0,i.forwardRef)(function(){return e})}]),i.\u0275\u0275InheritDefinitionFeature],attrs:le,ngContentSelectors:fe,decls:23,vars:13,consts:[["dwDropColumnsContent",""],["emptyDataColumns",""],["rightMenu","dwDropdownMenu"],["dw-menu","",1,"dw-dc-context-menu"],["dw-menu-item","",3,"click"],["translate",""],["dw-submenu","","dwMenuClassName","dw-dc-sub-context-menu",3,"dwTitle"],[1,"dw-visible-submenu"],["dw-menu-item","",4,"ngFor","ngForOf"],["dw-menu-item","","dwActionAuthorized","",3,"dwAuthorizedId","dwActionId","dwDefaultAuthorized","dwClick"],["dw-menu-item","",3,"click",4,"ngIf"],[1,"no-column-displayed"],["dw-menu-item",""],[3,"click"],[1,"dw-visible-submenu-item",3,"ngClass"],[4,"ngIf"]],template:function(e,t){1&e&&(i.\u0275\u0275projectionDef(),i.\u0275\u0275projection(0),i.\u0275\u0275elementContainer(1,null,0),i.\u0275\u0275template(3,de,3,3,"ng-template",null,1,i.\u0275\u0275templateRefExtractor),i.\u0275\u0275elementStart(5,"dw-dropdown-menu",null,2),i.\u0275\u0275elementStart(7,"ul",3),i.\u0275\u0275elementStart(8,"li",4),i.\u0275\u0275listener("click",function(){return t.deleteConfig()}),i.\u0275\u0275elementStart(9,"span",5),i.\u0275\u0275text(10,"dw-table-config-userConfig-delete"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(11,"li",6),i.\u0275\u0275pipe(12,"translate"),i.\u0275\u0275elementStart(13,"ul",7),i.\u0275\u0275template(14,se,4,4,"li",8),i.\u0275\u0275pipe(15,"async"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(16,"li",9),i.\u0275\u0275listener("dwClick",function(){return t.saveTenantConfig()}),i.\u0275\u0275elementStart(17,"span",5),i.\u0275\u0275text(18,"dw-table-config-tenantConfig-save"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(19,"li",9),i.\u0275\u0275listener("dwClick",function(){return t.deleteTenantConfig()}),i.\u0275\u0275elementStart(20,"span",5),i.\u0275\u0275text(21,"dw-table-config-tenantConfig-delete"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275template(22,ue,3,2,"li",10),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd()),2&e&&(i.\u0275\u0275advance(11),i.\u0275\u0275property("dwTitle",i.\u0275\u0275pipeBind1(12,9,"dw-table-config-visibleChange")),i.\u0275\u0275advance(3),i.\u0275\u0275property("ngForOf",i.\u0275\u0275pipeBind1(15,11,t.dwColumnConfig$)),i.\u0275\u0275advance(2),i.\u0275\u0275property("dwAuthorizedId","dw-table-config")("dwActionId","save")("dwDefaultAuthorized","hidden"),i.\u0275\u0275advance(3),i.\u0275\u0275property("dwAuthorizedId","dw-table-config")("dwActionId","save")("dwDefaultAuthorized","hidden"),i.\u0275\u0275advance(3),i.\u0275\u0275property("ngIf",!0===t.showFloatingFilter))},directives:[h.DwDropdownMenuComponent,V.DwMenuDirective,V.DwMenuItemDirective,w.TranslateDirective,V.DwSubMenuComponent,b.NgForOf,F.DwActionAuthorizedDirective,b.NgIf,g.DwTableCellDirective,b.NgClass],pipes:[w.TranslatePipe,b.AsyncPipe],styles:['.ant-table-thead>tr>th:not(:last-child):not(.ant-table-selection-column):not(.ant-table-row-expand-icon-cell):not([colspan]):before{display:none}.ant-table-thead>tr>th:last-child .dw-resize-handler{display:none}.dw-resize-handler{width:8px;top:0;bottom:0;right:0;-webkit-user-select:none;-moz-user-select:none;user-select:none;position:absolute;cursor:col-resize}dw-resizer.active .dw-resize-handler-inner-box{width:2px;z-index:9;background:#c7c7c7}.ant-table-cell-fix-right .dw-resize-handler-inner-box{right:1px}.dw-resize-handler-inner-box{position:absolute;width:1px;height:60%;margin-top:12px;background:#e8e8e8;top:0;right:0;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:col-resize;display:block}th.dw-drag-drop-box.ant-table-cell{color:#000000de;box-sizing:border-box;font-size:14px;flex-grow:1;flex-basis:0}th.dw-drag-drop-box.ant-table-cell:not([dwshowfilter]):not([dwshowsort]){cursor:move}.cdk-drag-placeholder{opacity:0}.cdk-drag-preview{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drag-animating{transition:transform .25s cubic-bezier(0,0,.2,1)}.dw-drag-drop-box.cdk-drop-list-dragging .dw-drag-drop-box:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.dw-visible-submenu{overflow:auto;max-height:55vh}.dw-visible-submenu-item{width:16px;display:inline-block}.dw-visible-submenu-item.checked:before{content:"\\2714"}td.no-column-displayed{line-height:35px;padding-left:10px}.dw-drag-drop-box.cdk-drag-preview{padding:12px 8px;background:#efefef}.dw-drag-drop-box.cdk-drag-preview .ant-table-column-title{text-align:left}.dw-drag-drop-box.cdk-drag-preview>span{display:block;text-align:left}th.dw-drag-drop-box.ant-table-column-has-sorters.ant-table-cell{cursor:move}th.dw-drag-drop-box .ant-table-filter-column .ant-table-column-sorter{cursor:pointer;z-index:1}\n'],encapsulation:2,changeDetection:0}),e}(),bt=function(){var e=function(){function e(t){p(this,e),this.dwTableConfigService=t,this.destroy$=new u.Subject,this.tdIdArray=[],this.tdOriIdArray=[],this.tdNoIdArray=[]}return f(e,[{key:"ngOnInit",value:function(){var e=this;this.dwTableConfigService.dragSubject$.pipe((0,v.takeUntil)(this.destroy$)).subscribe(function(t){!e.dwTableConfigService.getDwTableId()||e.moveView()}),this.dwTableConfigService.deleteConfigSubject$.pipe((0,v.takeUntil)(this.destroy$)).subscribe(function(t){!e.dwTableConfigService.getDwTableId()||(e.orderView(t,e.tdOriIdArray),e.moveView())}),this.dwTableConfigService.visibleSubject$.pipe((0,v.takeUntil)(this.destroy$)).subscribe(function(t){!e.dwTableConfigService.getDwTableId()||e.moveView()})}},{key:"ngAfterViewInit",value:function(){this.moveView()}},{key:"ngOnDestroy",value:function(){this.destroy$.next(),this.destroy$.complete()}},{key:"createView",value:function(){var e=this;this.dwReorderColumnsContent.length>0&&this.dwReorderColumnsContent.clear(),this.tdIdArray.concat(this.tdNoIdArray).forEach(function(t,n){var r=e.dwTableConfigService.getColumnVisible(t.dwColumnId);t.template&&!1!==r&&e.dwReorderColumnsContent.createEmbeddedView(t.template)})}},{key:"appendTDIdView",value:function(e,t){var n={dwColumnId:e,template:t};this.tdIdArray.push(n),this.tdOriIdArray.push(n)}},{key:"appendTDNoIdView",value:function(e,t){this.tdNoIdArray.push({dwColumnId:e,template:t})}},{key:"moveView",value:function(){var e=this;!this.dwTableConfigService.getDwTableId()||(this.moveViewSubscription=this.dwTableConfigService.getTableConfig().subscribe(function(t){t&&t.dwColumnConfig&&t.dwColumnConfig.length>0?e.orderView(t.dwColumnConfig,e.tdIdArray):e.tdIdArray=e.tdOriIdArray,setTimeout(function(){e.createView()}),e.moveViewSubscription&&e.moveViewSubscription.unsubscribe()}))}},{key:"orderView",value:function(e,t){var n=[];e.forEach(function(e,r){-1!==t.findIndex(function(t){return t.dwColumnId===e.dwColumnId})&&n.push(e)}),n.forEach(function(e,n){var r=t.findIndex(function(t){return t.dwColumnId===e.dwColumnId});-1!==r&&(!t[n]||(0,o.moveItemInArray)(t,r,n))})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.\u0275\u0275directiveInject(wt))},e.\u0275cmp=i.\u0275\u0275defineComponent({type:e,selectors:[["tr","dwReorderColumns",""]],viewQuery:function(e,t){var n;(1&e&&i.\u0275\u0275viewQuery(ve,7,i.ViewContainerRef),2&e)&&(i.\u0275\u0275queryRefresh(n=i.\u0275\u0275loadQuery())&&(t.dwReorderColumnsContent=n.first))},attrs:ge,ngContentSelectors:fe,decls:3,vars:0,consts:[["dwReorderColumnsContent",""]],template:function(e,t){1&e&&(i.\u0275\u0275projectionDef(),i.\u0275\u0275projection(0),i.\u0275\u0275elementContainer(1,null,0))},encapsulation:2}),e}(),It=["AND","OR"],Et=[{value:"equals",supported:["text","number","date","select"]},{value:"contains",supported:["text"]},{value:"startsWith",supported:["text"]},{value:"lessThan",supported:["number","date"]},{value:"lessThanOrEqual",supported:["number"]},{value:"greaterThan",supported:["number","date"]},{value:"greaterThanOrEqual",supported:["number"]},{value:"inRange",supported:["number","date"]}],Dt=function(){var e=function(e){l(n,e);var t=c(n);function n(e,r,i,a){var o;return p(this,n),(o=t.call(this,i,a)).elementRef=e,o.dwTableConfigService=r,o.dwDateFormat=i,o.dwTimeFormat=a,o.destroy$=new u.Subject,o.menuVisiable={value:!1},o.onFilter=function(e,t){t&&t(e);var n=e;o.dwFilterTemplate||(n=o.transDateToString(e),o.resetEmptyArray(n),o.validColumnFilter(n)),o.dwTableConfigService.setColumnFilter(o.dwColumnId,n)},o.dwFilterOperator=It,o.dwFilterOptions=Et,o}return f(n,[{key:"mouseDown",value:function(e){e.preventDefault(),e.stopPropagation()}},{key:"mouseUp",value:function(e){e.preventDefault(),e.stopPropagation()}},{key:"click",value:function(e){e.preventDefault(),e.stopPropagation()}},{key:"contextmenu",value:function(e){e.preventDefault(),e.stopPropagation()}},{key:"ngOnInit",value:function(){var e=this;a(m(n.prototype),"onInit",this).call(this),this.dwTableConfigService.columnConfigSubject$.pipe((0,v.takeUntil)(this.destroy$)).subscribe(function(t){e.syncFilterToModel(t,!0),("getConfig"===t.event||!e.modalFilterInfo)&&(e.modalFilterInfo=e.cloneObject(e.dwFilterInfo))}),this.dwTableConfigService.floatingFilterSubject$.pipe((0,v.takeUntil)(this.destroy$)).subscribe(function(t){e.dwColumnId===t.dwColumnId&&(e.modalFilterInfo=e.cloneObject(t.dwFilterInfo))})}},{key:"ngOnDestroy",value:function(){this.destroy$.next(),this.destroy$.complete()}},{key:"clear",value:function(e,t){this.dwFilterInfo[e][t]=null,this.modalFilterInfo[e][t]=null}},{key:"close",value:function(){this.menuVisiable.value=!1}}]),n}(xt);return e.\u0275fac=function(t){return new(t||e)(i.\u0275\u0275directiveInject(i.ElementRef),i.\u0275\u0275directiveInject(wt),i.\u0275\u0275directiveInject(x.APP_DATE_FORMAT),i.\u0275\u0275directiveInject(x.APP_TIME_FORMAT))},e.\u0275cmp=i.\u0275\u0275defineComponent({type:e,selectors:[["dw-filter-modal"]],hostBindings:function(e,t){1&e&&i.\u0275\u0275listener("mousedown",function(e){return t.mouseDown(e)})("mouseup",function(e){return t.mouseUp(e)})("click",function(e){return t.click(e)})("contextmenu",function(e){return t.contextmenu(e)})},features:[i.\u0275\u0275InheritDefinitionFeature],decls:12,vars:6,consts:[[1,"filter-modal-block"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["defaultDropdownTpl",""],["dwSelectTpl",""],["dwDateTpl",""],["dwTextTpl",""],["dwNumberTpl",""],["dw-dropdown","","dwTrigger","click",3,"dwClickHide","dwDropdownMenu","dwVisible","dwVisibleChange"],["dw-icon","",1,"filter-modal-icon",3,"dwType","dwTheme"],["dwDropdownTpl",""],[1,"filter-modal-dropdown"],[1,"filter-modal-dropdown-input"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"filter-modal-dropdown-button"],["dw-button","","dwType","'primary'",3,"click"],["translate",""],[1,"dwFilterTemplate"],[1,""],[3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],["dwAllowClear","","dwShowSearch","",3,"ngModel","dwMode","ngModelChange",4,"ngIf"],[4,"ngIf"],[3,"dwValue","dwLabel",4,"ngIf"],[3,"dwValue","dwLabel"],["dwAllowClear","","dwShowSearch","",3,"ngModel","dwMode","ngModelChange"],[3,"dwLabel","dwValue",4,"ngFor","ngForOf"],[3,"dwLabel","dwValue"],["dw-radio","",3,"dwValue",4,"ngFor","ngForOf"],["dw-radio","",3,"dwValue"],[3,"dwSuffix"],["type","text","dw-input","",3,"ngModel","ngModelChange"],["dwInputFilterClearTpl",""],["dw-icon","","class","ant-input-clear-icon","dwTheme","fill","dwType","close-circle",3,"click",4,"ngIf"],["dw-icon","","dwTheme","fill","dwType","close-circle",1,"ant-input-clear-icon",3,"click"],["dwInputFilterToClearTpl",""]],template:function(e,t){if(1&e&&(i.\u0275\u0275elementStart(0,"div",0),i.\u0275\u0275template(1,he,1,0,"ng-container",1),i.\u0275\u0275template(2,De,18,9,"ng-template",null,2,i.\u0275\u0275templateRefExtractor),i.\u0275\u0275elementEnd(),i.\u0275\u0275template(4,Ne,7,4,"ng-template",null,3,i.\u0275\u0275templateRefExtractor),i.\u0275\u0275template(6,He,8,5,"ng-template",null,4,i.\u0275\u0275templateRefExtractor),i.\u0275\u0275template(8,it,10,5,"ng-template",null,5,i.\u0275\u0275templateRefExtractor),i.\u0275\u0275template(10,ut,8,5,"ng-template",null,6,i.\u0275\u0275templateRefExtractor)),2&e){var n=i.\u0275\u0275reference(3);i.\u0275\u0275advance(1),i.\u0275\u0275property("ngTemplateOutlet",t.dwFilterTemplate?t.dwFilterTemplate:n)("ngTemplateOutletContext",i.\u0275\u0275pureFunction3(2,vt,t.modalFilterInfo,t.onFilter,t.menuVisiable))}},directives:[b.NgTemplateOutlet,h.DwDropDownADirective,h.DwDropDownDirective,E.DwIconDirective,h.DwDropdownMenuComponent,b.NgSwitch,b.NgSwitchCase,b.NgSwitchDefault,w.TranslateDirective,D.DwSelectComponent,I.NgControlStatus,I.NgModel,b.NgForOf,b.NgIf,D.DwOptionComponent,k.DwRadioGroupComponent,k.DwRadioComponent,M.DwDatePickerComponent,P.DwInputGroupComponent,P.DwInputGroupWhitSuffixOrPrefixDirective,P.DwInputDirective,I.DefaultValueAccessor,O.DwInputNumberComponent],pipes:[w.TranslatePipe],styles:[".filter-modal-block{display:inline-block}.filter-modal-dropdown{padding:10px;background-color:#e8e8e8;border:1px solid #ccc}.dwFilterTemplate dw-select,.dwFilterTemplate dw-input-number,.dwFilterTemplate input,.dwFilterTemplate dw-date-picker{width:100%}\n"],encapsulation:2}),e}(),Ot=function(){var e=function(){function e(t,n,r){p(this,e),this.templateRef=t,this.dwDropColumnsBaseComponent=n,this.dwReorderColumnsComponent=r}return f(e,[{key:"ngOnInit",value:function(){this.dwDropColumnsBaseComponent&&this.templateRef&&(this.dwColumnId?this.dwDropColumnsBaseComponent.appendThIdView(this.dwColumnId,this.templateRef):this.dwDropColumnsBaseComponent.appendThNoIdView(this.dwColumnId,this.templateRef)),this.dwReorderColumnsComponent&&this.templateRef&&(this.dwColumnId?this.dwReorderColumnsComponent.appendTDIdView(this.dwColumnId,this.templateRef):this.dwReorderColumnsComponent.appendTDNoIdView(this.dwColumnId,this.templateRef))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.\u0275\u0275directiveInject(i.TemplateRef,8),i.\u0275\u0275directiveInject(yt,8),i.\u0275\u0275directiveInject(bt,8))},e.\u0275dir=i.\u0275\u0275defineDirective({type:e,selectors:[["","dwColumnId",""]],inputs:{dwColumnId:"dwColumnId"}}),e}(),kt=function(){var e=function(){function e(t,n,r){p(this,e),this.element=t,this.dwDropColumnsBaseComponent=n,this.dwThColumnIdDirective=r,this.allowDrag=!0}return f(e,[{key:"dwLeft",set:function(e){this.allowDrag=!1}},{key:"dwRight",set:function(e){this.allowDrag=!1}},{key:"ngOnInit",value:function(){!this.dwThColumnIdDirective||!this.dwThColumnIdDirective.dwColumnId||!1!==this.allowDrag&&this.dwThColumnIdDirective.templateRef&&(this.dwDropColumnsBaseComponent.appendThElement(this.element),this.element.nativeElement.classList.add("dw-drag-drop-box"))}},{key:"ngOnDestroy",value:function(){this.dwDropColumnsBaseComponent.removeThElement(this.element)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.\u0275\u0275directiveInject(i.ElementRef),i.\u0275\u0275directiveInject(yt,8),i.\u0275\u0275directiveInject(Ot,8))},e.\u0275dir=i.\u0275\u0275defineDirective({type:e,selectors:[["th","dwDragDrop",""]],inputs:{allowDrag:"allowDrag",dwLeft:"dwLeft",dwRight:"dwRight"}}),e}(),Mt=function(){var e=function(){function e(t,n,r,i,a,o,l,d){p(this,e),this.dwThColumnIdDirective=t,this.dwTableConfigService=n,this.dwDropColumnsBaseComponent=r,this.element=i,this.resizableService=a,this.ngZone=o,this.thAddOnComponent=l,this.renderer=d,this.dwRight=void 0,this.dwLeft=void 0,this.destroy$=new u.Subject}return f(e,[{key:"ngOnInit",value:function(){!this.dwDropColumnsBaseComponent||(this.dwDragDrop=void 0===this.dwLeft&&void 0===this.dwRight?this.dwDragDrop:void 0,this.setColumnSort(),this.setColumnWidth(),this.createResizer(),this.setColumnFilter(),this.renderer.addClass(this.element.nativeElement,"dw-filter-box"))}},{key:"ngAfterViewInit",value:function(){this.setColumnName()}},{key:"setColumnSort",value:function(){var e=this;if(this.thAddOnComponent&&this.dwThColumnIdDirective&&this.dwThColumnIdDirective.dwColumnId&&this.dwThColumnIdDirective.templateRef){var t=this.dwTableConfigService.getColumnSort(this.dwThColumnIdDirective.dwColumnId);this.thAddOnComponent.dwColumnKey=this.dwThColumnIdDirective.dwColumnId,void 0!==t&&(this.thAddOnComponent.dwSortOrder=t,this.thAddOnComponent.sortOrder=t),this.sortChangeSubscription=this.thAddOnComponent.dwSortOrderChange.subscribe(function(t){e.dwTableConfigService.getDwTableId()&&e.dwThColumnIdDirective.dwColumnId&&e.dwTableConfigService.setColumnSort(e.dwThColumnIdDirective.dwColumnId,t)})}}},{key:"setColumnWidth",value:function(){this.dwThColumnIdDirective&&this.dwThColumnIdDirective.templateRef?this.dwThColumnIdDirective.dwColumnId?this.dwDropColumnsBaseComponent.setThColumnWidth(this.dwThColumnIdDirective.dwColumnId,this.dwWidth,this.dwDragDrop,this.dwColumnFilter,this.dwFilterList,this.dwFilterMultiple):this.dwDropColumnsBaseComponent.setThNoColumnWidth(this.dwThColumnIdDirective.templateRef,this.dwWidth):this.dwDropColumnsBaseComponent.setThPureWidth(this.dwColumnId,this.dwWidth)}},{key:"createResizer",value:function(){if(this.dwThColumnIdDirective&&this.dwThColumnIdDirective.dwColumnId&&this.dwThColumnIdDirective.templateRef){this.elRect=this.element.nativeElement.getBoundingClientRect(),this.el=document.createElement("dw-resizer");var e=document.createElement("dw-resizer-inner");e.classList.add("dw-resize-handler-inner-box"),this.el.appendChild(e),this.el.classList.add("dw-resize-handler"),this.element.nativeElement.appendChild(this.el),this.el.addEventListener("mousedown",this.onMouseDown.bind(this)),this.el.addEventListener("mouseup",this.onMouseUp.bind(this)),this.el.addEventListener("click",this.onMouseUp.bind(this))}}},{key:"setColumnFilter",value:function(){!this.thAddOnComponent||!this.dwThColumnIdDirective||!this.dwThColumnIdDirective.dwColumnId||!this.dwThColumnIdDirective.templateRef||(this.thAddOnComponent.dwColumnKey=this.dwThColumnIdDirective.dwColumnId,this.filterChangeSubscription=this.thAddOnComponent.dwFilterChange.subscribe(function(e){}))}},{key:"onMouseDown",value:function(e){var t=this;e.preventDefault(),e.stopPropagation(),this.renderer.addClass(this.el,"active"),this.dwTableConfigService.dragDisabled(!0),this.origWidth=this.element.nativeElement.clientWidth,this.elRect=this.element.nativeElement.getBoundingClientRect(),this.resizableService.startResizing(e);var n=0;this.mouseUpSubscription=this.resizableService.documentMouseUp$.pipe((0,v.takeUntil)(this.destroy$)).subscribe(function(e){t.origWidth=t.origWidth+n,t.ngZone.run(function(){t.dwTableConfigService.getDwTableId()&&t.dwThColumnIdDirective.dwColumnId&&(t.dwTableConfigService.setColumnWidth(t.dwThColumnIdDirective.dwColumnId,t.origWidth),t.dwTableConfigService.resize(!0)),t.el.style.right="0",t.renderer.removeClass(t.el,"active"),t.mouseUpSubscription.unsubscribe(),t.mouseMoveSubscription.unsubscribe(),t.dwTableConfigService.dragDisabled(!1)})}),this.mouseMoveSubscription=this.resizableService.documentMouseMove$.pipe((0,v.takeUntil)(this.destroy$)).subscribe(function(e){var r=e.clientX-t.elRect.left-t.elRect.width+t.el.clientWidth/2;n=Math.ceil(r),t.el.style.right=-r+"px"})}},{key:"onMouseUp",value:function(e){e.preventDefault(),e.stopPropagation(),this.resizableService.documentMouseUp$.next(e)}},{key:"setColumnName",value:function(){!this.dwThColumnIdDirective||!this.dwThColumnIdDirective.dwColumnId||!this.dwThColumnIdDirective.templateRef||this.dwTableConfigService.setColumnName(this.dwThColumnIdDirective.dwColumnId,this.element.nativeElement.innerText)}},{key:"ngOnDestroy",value:function(){this.el&&(this.el.removeEventListener("mousedown",this.onMouseDown.bind(this)),this.el.removeEventListener("mouseup",this.onMouseUp.bind(this)),this.el.removeEventListener("click",this.onMouseUp.bind(this))),this.sortChangeSubscription&&this.sortChangeSubscription.unsubscribe(),this.filterChangeSubscription&&this.filterChangeSubscription.unsubscribe(),this.destroy$.next(),this.destroy$.complete()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.\u0275\u0275directiveInject(Ot,8),i.\u0275\u0275directiveInject(wt),i.\u0275\u0275directiveInject(yt,8),i.\u0275\u0275directiveInject(i.ElementRef),i.\u0275\u0275directiveInject(S.DwResizableService,8),i.\u0275\u0275directiveInject(i.NgZone),i.\u0275\u0275directiveInject(g.DwThAddOnComponent,8),i.\u0275\u0275directiveInject(i.Renderer2))},e.\u0275dir=i.\u0275\u0275defineDirective({type:e,selectors:[["th"]],inputs:{dwRight:"dwRight",dwLeft:"dwLeft",dwDragDrop:"dwDragDrop",dwWidth:"dwWidth",dwColumnId:"dwColumnId",dwColumnFilter:"dwColumnFilter",dwFilterList:"dwFilterList",dwFilterMultiple:"dwFilterMultiple"},features:[i.\u0275\u0275ProvidersFeature([S.DwResizableService])]}),e}(),Pt=function(){var e=function(){function e(t){p(this,e),this.dwTableConfigService=t}return f(e,[{key:"ngOnInit",value:function(){!this.dwTableId||(this.dwTableConfigService.setDwTableId(this.dwTableId),this.dwTableConfigService.getTableConfig().subscribe())}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.\u0275\u0275directiveInject(wt))},e.\u0275dir=i.\u0275\u0275defineDirective({type:e,selectors:[["dw-table"]],inputs:{dwTableId:"dwTableId"},features:[i.\u0275\u0275ProvidersFeature([wt])]}),e}(),Ft=function(){var e=function(){function e(t,n,r,i,a){p(this,e),this.dwThColumnIdDirective=t,this.element=n,this.vcRef=r,this.cfResolver=i,this.renderer=a}return f(e,[{key:"ngOnInit",value:function(){this.createFilterModal()}},{key:"createFilterModal",value:function(){var e=this.cfResolver.resolveComponentFactory(Dt),t=this.vcRef.createComponent(e);this.renderer.appendChild(this.element.nativeElement,t.injector.get(Dt).elementRef.nativeElement);var n=t.instance;n.dwColumnId=this.dwThColumnIdDirective.dwColumnId,n.dwColumnFilter=this.dwColumnFilter,n.dwFilterTemplate=this.dwFilterTemplate,n.dwFilterIcon=this.dwFilterIcon,n.dwIconTheme=this.dwIconTheme,n.dwFilterList=this.dwFilterList,n.dwFilterMultiple=this.dwFilterMultiple}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.\u0275\u0275directiveInject(Ot,8),i.\u0275\u0275directiveInject(i.ElementRef),i.\u0275\u0275directiveInject(i.ViewContainerRef),i.\u0275\u0275directiveInject(i.ComponentFactoryResolver),i.\u0275\u0275directiveInject(i.Renderer2))},e.\u0275dir=i.\u0275\u0275defineDirective({type:e,selectors:[["th","dwColumnFilter",""]],inputs:{dwColumnFilter:"dwColumnFilter",dwFilterIcon:"dwFilterIcon",dwIconTheme:"dwIconTheme",dwFilterTemplate:"dwFilterTemplate",dwFilterList:"dwFilterList",dwFilterMultiple:"dwFilterMultiple"}}),e}(),Vt=function(){var e=f(function e(){p(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=i.\u0275\u0275defineInjector({imports:[[b.CommonModule,w.TranslateModule,I.FormsModule,F.DwActionModule,E.DwIconModule,g.DwTableModule,S.DwResizableModule,h.DwDropDownModule,D.DwSelectModule,O.DwInputNumberModule,k.DwRadioModule,M.DwDatePickerModule,P.DwInputModule]]}),e}()},8852:function(e,t,n){n.d(t,{u:function(){return o},f:function(){return l}});var r,i=n(36535),a=n(42746),o=((r=function(){function e(t,n){p(this,e),this.elementRef=t,this.renderer=n,this.hidden=null,this.renderer.setAttribute(this.elementRef.nativeElement,"hidden","")}return f(e,[{key:"setHiddenAttribute",value:function(){this.hidden?this.renderer.setAttribute(this.elementRef.nativeElement,"hidden","string"==typeof this.hidden?this.hidden:""):this.renderer.removeAttribute(this.elementRef.nativeElement,"hidden")}},{key:"ngOnChanges",value:function(){this.setHiddenAttribute()}},{key:"ngAfterViewInit",value:function(){this.setHiddenAttribute()}}]),e}()).\u0275fac=function(e){return new(e||r)(a.\u0275\u0275directiveInject(a.ElementRef),a.\u0275\u0275directiveInject(a.Renderer2))},r.\u0275dir=a.\u0275\u0275defineDirective({type:r,selectors:[["","dw-button",""],["dw-button-group"],["","dw-icon",""],["","dw-menu-item",""],["","dw-submenu",""],["dw-select-top-control"],["dw-select-placeholder"],["dw-input-group"]],inputs:{hidden:"hidden"},features:[a.\u0275\u0275NgOnChangesFeature]}),r),l=function(){var e=f(function e(){p(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=a.\u0275\u0275defineInjector({imports:[[i.PlatformModule]]}),e}()},96670:function(e,t,n){n.d(t,{uG:function(){return s},ln:function(){return m}});var r,i=n(36535),a=n(42746),o=n(88065),l=function(){function e(t,n,r,a){var o=this;p(this,e),this.triggerElement=t,this.ngZone=n,this.insertExtraNode=r,this.platformId=a,this.waveTransitionDuration=400,this.styleForPseudo=null,this.extraNode=null,this.lastTime=0,this.onClick=function(e){!o.triggerElement||!o.triggerElement.getAttribute||o.triggerElement.getAttribute("disabled")||"INPUT"===e.target.tagName||o.triggerElement.className.indexOf("disabled")>=0||o.fadeOutWave()},this.platform=new i.Platform(this.platformId),this.clickHandler=this.onClick.bind(this),this.bindTriggerEvent()}return f(e,[{key:"waveAttributeName",get:function(){return this.insertExtraNode?"ant-click-animating":"ant-click-animating-without-extra-node"}},{key:"bindTriggerEvent",value:function(){var e=this;this.platform.isBrowser&&this.ngZone.runOutsideAngular(function(){e.removeTriggerEvent(),e.triggerElement&&e.triggerElement.addEventListener("click",e.clickHandler,!0)})}},{key:"removeTriggerEvent",value:function(){this.triggerElement&&this.triggerElement.removeEventListener("click",this.clickHandler,!0)}},{key:"removeStyleAndExtraNode",value:function(){this.styleForPseudo&&document.body.contains(this.styleForPseudo)&&(document.body.removeChild(this.styleForPseudo),this.styleForPseudo=null),this.insertExtraNode&&this.triggerElement.contains(this.extraNode)&&this.triggerElement.removeChild(this.extraNode)}},{key:"destroy",value:function(){this.removeTriggerEvent(),this.removeStyleAndExtraNode()}},{key:"fadeOutWave",value:function(){var e=this,t=this.triggerElement,n=this.getWaveColor(t);t.setAttribute(this.waveAttributeName,"true"),!(Date.now()<this.lastTime+this.waveTransitionDuration)&&(this.isValidColor(n)&&(this.styleForPseudo||(this.styleForPseudo=document.createElement("style")),this.styleForPseudo.innerHTML="\n      [ant-click-animating-without-extra-node='true']::after, .ant-click-animating-node {\n        --antd-wave-shadow-color: ".concat(n,";\n      }"),document.body.appendChild(this.styleForPseudo)),this.insertExtraNode&&(this.extraNode||(this.extraNode=document.createElement("div")),this.extraNode.className="ant-click-animating-node",t.appendChild(this.extraNode)),this.lastTime=Date.now(),this.runTimeoutOutsideZone(function(){t.removeAttribute(e.waveAttributeName),e.removeStyleAndExtraNode()},this.waveTransitionDuration))}},{key:"isValidColor",value:function(e){return!!e&&"#ffffff"!==e&&"rgb(255, 255, 255)"!==e&&this.isNotGrey(e)&&!/rgba\(\d*, \d*, \d*, 0\)/.test(e)&&"transparent"!==e}},{key:"isNotGrey",value:function(e){var t=e.match(/rgba?\((\d*), (\d*), (\d*)(, [\.\d]*)?\)/);return!(t&&t[1]&&t[2]&&t[3]&&t[1]===t[2]&&t[2]===t[3])}},{key:"getWaveColor",value:function(e){var t=getComputedStyle(e);return t.getPropertyValue("border-top-color")||t.getPropertyValue("border-color")||t.getPropertyValue("background-color")}},{key:"runTimeoutOutsideZone",value:function(e,t){this.ngZone.runOutsideAngular(function(){return setTimeout(e,t)})}}]),e}(),d={disabled:!1},c=new a.InjectionToken("dw-wave-global-options",{providedIn:"root",factory:function(){return d}}),s=((r=function(){function e(t,n,r,i,a){p(this,e),this.ngZone=t,this.elementRef=n,this.config=r,this.animationType=i,this.platformId=a,this.dwWaveExtraNode=!1,this.waveDisabled=!1,this.waveDisabled=this.isConfigDisabled()}return f(e,[{key:"disabled",get:function(){return this.waveDisabled}},{key:"rendererRef",get:function(){return this.waveRenderer}},{key:"isConfigDisabled",value:function(){var e=!1;return this.config&&"boolean"==typeof this.config.disabled&&(e=this.config.disabled),"NoopAnimations"===this.animationType&&(e=!0),e}},{key:"ngOnDestroy",value:function(){this.waveRenderer&&this.waveRenderer.destroy()}},{key:"ngOnInit",value:function(){this.renderWaveIfEnabled()}},{key:"renderWaveIfEnabled",value:function(){!this.waveDisabled&&this.elementRef.nativeElement&&(this.waveRenderer=new l(this.elementRef.nativeElement,this.ngZone,this.dwWaveExtraNode,this.platformId))}},{key:"disable",value:function(){this.waveDisabled=!0,this.waveRenderer&&(this.waveRenderer.removeTriggerEvent(),this.waveRenderer.removeStyleAndExtraNode())}},{key:"enable",value:function(){this.waveDisabled=this.isConfigDisabled()||!1,this.waveRenderer&&this.waveRenderer.bindTriggerEvent()}}]),e}()).\u0275fac=function(e){return new(e||r)(a.\u0275\u0275directiveInject(a.NgZone),a.\u0275\u0275directiveInject(a.ElementRef),a.\u0275\u0275directiveInject(c,8),a.\u0275\u0275directiveInject(o.ANIMATION_MODULE_TYPE,8),a.\u0275\u0275directiveInject(a.PLATFORM_ID))},r.\u0275dir=a.\u0275\u0275defineDirective({type:r,selectors:[["","dw-wave",""],["button","dw-button","",3,"dwType","link",3,"dwType","text"]],inputs:{dwWaveExtraNode:"dwWaveExtraNode"},exportAs:["dwWave"]}),r),m=function(){var e=f(function e(){p(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=a.\u0275\u0275defineInjector({imports:[[i.PlatformModule]]}),e}()},16511:function(e,t,n){n.d(t,{R:function(){return i}});var r,i=((r=f(function e(){p(this,e)})).product_file=[{fieldName:"\u7f16\u7801",fieldKey:"product_file_code",fieldType:"INPUT",isRequired:!0,isTurnOn:!0},{fieldName:"\u540d\u79f0",fieldKey:"product_file_name",fieldType:"INPUT",isRequired:!0,isTurnOn:!0},{fieldName:"\u4ea7\u54c1\u5206\u7c7b",fieldKey:"item_group",fieldType:"SELECT",isRequired:!0,isTurnOn:!0},{fieldName:"\u578b\u53f7",fieldKey:"model",fieldType:"INPUT",isRequired:!1,isTurnOn:!0},{fieldName:"\u89c4\u683c",fieldKey:"specification",fieldType:"INPUT",isRequired:!1,isTurnOn:!0},{fieldName:"\u5e8f\u5217\u53f7",fieldKey:"sn",fieldType:"INPUT",isRequired:!0,isTurnOn:!0},{fieldName:"\u5ba2\u6237",fieldKey:"customer",fieldType:"OPENER",isRequired:!0,isTurnOn:!0},{fieldName:"\u4f7f\u7528\u5730\u70b9",fieldKey:"location",fieldType:"INPUT",isRequired:!1,isTurnOn:!0},{fieldName:"\u670d\u52a1\u7ad9\u70b9",fieldKey:"service_site",fieldType:"OPENER",isRequired:!1,isTurnOn:!0},{fieldName:"\u670d\u52a1\u4eba\u5458",fieldKey:"employee",fieldType:"OPENER",isRequired:!1,isTurnOn:!0},{fieldName:"\u51fa\u5e93\u65e5\u671f",fieldKey:"delivery_date",fieldType:"DATEPICKER",isRequired:!0,isTurnOn:!0},{fieldName:"\u5b89\u88c5\u65e5\u671f",fieldKey:"installation_date_range",fieldType:"DATERANGEPICKER",isRequired:!0,isTurnOn:!0},{fieldName:"\u8c03\u8bd5\u4eba\u5458",fieldKey:"commissioning_person",fieldType:"INPUT",isRequired:!1,isTurnOn:!0},{fieldName:"\u9644\u4ef6",fieldKey:"attachment",fieldType:"ATTACHMENT",isRequired:!1,isTurnOn:!0},{fieldName:"\u7ef4\u62a4\u4fdd\u517b",fieldKey:"enable_maintain",fieldType:"CHECKBOX",isRequired:!1,isTurnOn:!0},{fieldName:"\u4ea7\u54c1\u6863\u6848\u7167\u7247",fieldKey:"file",fieldType:"PICTURE",isRequired:!1,isTurnOn:!0},{fieldName:"\u63cf\u8ff0",fieldKey:"product_description",fieldType:"TEXTAREA",isRequired:!1,isTurnOn:!0},{fieldName:"\u4fdd\u4fee\u622a\u6b62\u65e5\u671f",fieldKey:"expiry_date",fieldType:"DATEPICKER",isRequired:!0,isTurnOn:!0},{fieldName:"\u9a8c\u6536\u65e5\u671f",fieldKey:"acceptance_date",fieldType:"DATEPICKER",isRequired:!1,isTurnOn:!0},{fieldName:"\u9a8c\u6536\u4eba\u5458",fieldKey:"acceptance_person",fieldType:"INPUT",isRequired:!1,isTurnOn:!0},{fieldName:"\u7ef4\u4fee\u6b21\u6570",fieldKey:"maintenance_count",fieldType:"INPUT",isRequired:!1,isTurnOn:!0},{fieldName:"\u5907\u6ce8",fieldKey:"remark",fieldType:"INPUT",isRequired:!1,isTurnOn:!0}],r)},53771:function(e,t,n){n.d(t,{v:function(){return d}});var r,i=n(51156),a=n(47372),o=n(65134),l=n(42746),d=((r=function(){function e(t,n){p(this,e),this.http=t,this.pctHttp=n}return f(e,[{key:"getCustomerList",value:function(e,t){return this.http.get("restful/service/customer/Customer/Customer?code=".concat(e,"&name=").concat(t)).pipe((0,a.map)(function(e){return e}))}},{key:"deleteCustomer",value:function(e){return this.http.delete("restful/service/customer/Customer/BathRemove",{body:{ids:e.join(",")}})}},{key:"getQuery",value:function(e){return this.http.get("restful/service/customer/Customer/CustomerSearch?param=".concat(e)).pipe((0,a.map)(function(e){return e}))}},{key:"getIntegratedEnableStatus",value:function(){return this.pctHttp.get("restful/service/integratedSettings/IntegratedSettings/IntegratedEnableStatus")}}]),e}()).\u0275fac=function(e){return new(e||r)(l.\u0275\u0275inject(i.DwDapHttpClient),l.\u0275\u0275inject(o.k))},r.\u0275prov=l.\u0275\u0275defineInjectable({token:r,factory:r.\u0275fac,providedIn:"root"}),r)},48005:function(e,n,r){r.d(n,{w:function(){return Ln}});var i=r(64762),a=r(42746),o=r(87974),l=r(53524),d=r(33795),c=r(18843),s=r(66800),m=r(99487),u=r(83237),v=r(16511),g=r(45890),h=r(9201),w=r(55245),y=r(1020),x=r(14025),_=r(31441),C=r(85773),S=r(29872),b=r(67280),I=r(8852),E=r(41937),D=r(93761),O=r(96670),k=r(85277);function M(e,t){1&e&&(a.\u0275\u0275elementStart(0,"div",7),a.\u0275\u0275text(1,"\u5e8f\u5217\u53f7:"),a.\u0275\u0275elementEnd())}function P(e,t){1&e&&(a.\u0275\u0275elementStart(0,"div",7),a.\u0275\u0275text(1,"\u9879\u76ee\u53f7:"),a.\u0275\u0275elementEnd())}function F(e,t){if(1&e){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"em",22),a.\u0275\u0275listener("click",function(){return a.\u0275\u0275restoreView(n),a.\u0275\u0275nextContext(3).clear()}),a.\u0275\u0275elementEnd()}}function V(e,t){if(1&e){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275template(0,F,1,0,"em",19),a.\u0275\u0275elementStart(1,"button",20),a.\u0275\u0275listener("click",function(){return a.\u0275\u0275restoreView(n),a.\u0275\u0275nextContext(2).openCustomer()}),a.\u0275\u0275element(2,"em",21),a.\u0275\u0275elementEnd()}if(2&e){var r=a.\u0275\u0275nextContext(2);a.\u0275\u0275property("ngIf",r.form.value.new_customer_name)}}function T(e,t){if(1&e&&(a.\u0275\u0275elementStart(0,"form",2),a.\u0275\u0275elementStart(1,"div",3),a.\u0275\u0275elementStart(2,"div",4),a.\u0275\u0275element(3,"div",5),a.\u0275\u0275elementStart(4,"div",6),a.\u0275\u0275elementStart(5,"div",7),a.\u0275\u0275text(6,"\u54c1\u53f7:"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(7,"div",8),a.\u0275\u0275text(8),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(9,"div",6),a.\u0275\u0275elementStart(10,"div",7),a.\u0275\u0275text(11,"\u54c1\u540d:"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(12,"div",8),a.\u0275\u0275text(13),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(14,"div",6),a.\u0275\u0275elementStart(15,"div",7),a.\u0275\u0275text(16,"\u89c4\u683c:"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(17,"div",8),a.\u0275\u0275text(18),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(19,"div",4),a.\u0275\u0275element(20,"div",5),a.\u0275\u0275elementStart(21,"div",6),a.\u0275\u0275elementStart(22,"div",7),a.\u0275\u0275text(23,"\u578b\u53f7:"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(24,"div",8),a.\u0275\u0275text(25),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(26,"div",9),a.\u0275\u0275template(27,M,2,0,"div",10),a.\u0275\u0275template(28,P,2,0,"div",10),a.\u0275\u0275elementStart(29,"div",8),a.\u0275\u0275text(30),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(31,"dw-form-item"),a.\u0275\u0275elementStart(32,"dw-form-label",11),a.\u0275\u0275text(33,"\u539f\u5ba2\u6237"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(34,"dw-form-control",12),a.\u0275\u0275element(35,"input",13),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(36,"dw-form-item"),a.\u0275\u0275elementStart(37,"dw-form-label",11),a.\u0275\u0275text(38,"\u65b0\u5ba2\u6237"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(39,"dw-form-control",12),a.\u0275\u0275elementStart(40,"dw-input-group",14),a.\u0275\u0275element(41,"input",15),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(42,V,3,1,"ng-template",null,16,a.\u0275\u0275templateRefExtractor),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(44,"dw-form-item"),a.\u0275\u0275elementStart(45,"dw-form-label",12),a.\u0275\u0275text(46,"\u8fc7\u6237\u65e5\u671f"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(47,"dw-form-control",12),a.\u0275\u0275element(48,"dw-date-picker",17),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(49,"dw-form-item"),a.\u0275\u0275elementStart(50,"dw-form-label",12),a.\u0275\u0275text(51,"\u5907\u6ce8"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(52,"dw-form-control",12),a.\u0275\u0275element(53,"textarea",18),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&e){var n=a.\u0275\u0275reference(43),r=a.\u0275\u0275nextContext();a.\u0275\u0275property("formGroup",r.form),a.\u0275\u0275advance(8),a.\u0275\u0275textInterpolate(r.productInfo.product_file_code),a.\u0275\u0275advance(5),a.\u0275\u0275textInterpolate(r.productInfo.product_file_name),a.\u0275\u0275advance(5),a.\u0275\u0275textInterpolate(r.productInfo.specification),a.\u0275\u0275advance(7),a.\u0275\u0275textInterpolate(r.productInfo.model),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngIf","1"===r.file_type),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf","2"===r.file_type),a.\u0275\u0275advance(2),a.\u0275\u0275textInterpolate(r.productInfo.sn),a.\u0275\u0275advance(2),a.\u0275\u0275property("dwSm",4)("dwXs",24),a.\u0275\u0275advance(2),a.\u0275\u0275property("dwSm",16)("dwXs",24),a.\u0275\u0275advance(3),a.\u0275\u0275property("dwSm",4)("dwXs",24),a.\u0275\u0275advance(2),a.\u0275\u0275property("dwSm",16)("dwXs",24),a.\u0275\u0275advance(1),a.\u0275\u0275property("dwSuffix",n),a.\u0275\u0275advance(5),a.\u0275\u0275property("dwSm",4)("dwXs",24),a.\u0275\u0275advance(2),a.\u0275\u0275property("dwSm",16)("dwXs",24),a.\u0275\u0275advance(1),a.\u0275\u0275property("dwDisabledDate",r.disabledDate),a.\u0275\u0275advance(2),a.\u0275\u0275property("dwSm",4)("dwXs",24),a.\u0275\u0275advance(2),a.\u0275\u0275property("dwSm",16)("dwXs",24)}}var L,R=function(){return{height:"calc(100% - 55px)",overflow:"auto","padding-bottom":"24px","padding-top":"0"}},A=((L=function(){function e(t,n,r,i){var o=this;p(this,e),this.fb=t,this.productFileService=n,this.newCustomerService=r,this.message=i,this.file_type="1",this.visibleChanged=new a.EventEmitter,this.productInfo={product_file_code:"2222222",product_file_name:"\u6ce8\u5851\u673a",specification:"SDSDFS32342",model:"DF333333",sn:"3333333333333333333333"},this.lastTransferDate="",this.disabledDate=function(e){return(0,x.differenceInCalendarDays)(e,new Date)>0||(0,x.differenceInCalendarDays)(e,new Date(o.lastTransferDate))<=0},this.form=this.fb.group({product_file_id:["",y.Validators.required],original_customer_id:[""],original_customer_code:[""],original_customer_name:["",y.Validators.required],new_customer_id:[""],new_customer_code:[""],new_customer_name:["",y.Validators.required],transfer_date:["",y.Validators.required],remark:[""]})}return f(e,[{key:"initData",value:function(e,t){this.file_type=t,this.form.get("product_file_id").setValue(e.toString()),this.form.get("new_customer_name").reset(),this.form.get("new_customer_id").setValue(0),this.form.get("new_customer_code").setValue(""),this.form.get("transfer_date").setValue(new Date),this.form.get("remark").setValue(""),this.getProductInfo()}},{key:"ngOnInit",value:function(){}},{key:"getProductInfo",value:function(){var e=this;this.productFileService.getProductInfo(this.form.value.product_file_id).subscribe(function(t){t.success?(e.productInfo=t.data[0],e.form.get("original_customer_id").setValue(t.data[0].customer_id.toString()),e.form.get("original_customer_code").setValue(t.data[0].customer_code),e.form.get("original_customer_name").setValue(t.data[0].customer_name),e.lastTransferDate=t.data[0].transfer_date||""):e.message.create("error",t.message)})}},{key:"openCustomer",value:function(){var e=this;this.newCustomerService.setConfig(this.form.value.original_customer_id,!1),this.newCustomerService.open([]).subscribe(function(t){null==t||0===t.length||(e.form.get("new_customer_id").setValue(t[0].customer_id.toString()),e.form.get("new_customer_code").setValue(t[0].customer_code),e.form.get("new_customer_name").setValue(t[0].customer_name))})}},{key:"clear",value:function(){this.form.get("new_customer_id").setValue(0),this.form.get("new_customer_code").setValue(""),this.form.get("new_customer_name").setValue("")}},{key:"handleOk",value:function(){var e=this;this.productFileService.transfer(this.form.value).subscribe(function(t){e.handleCancel(),e.message.create("success","\u8fc7\u6237\u6210\u529f\uff01")},function(t){t.hasOwnProperty("error")&&t.error.hasOwnProperty("errorMessage")&&t.error.errorMessage&&e.message.error(t.error.errorMessage)})}},{key:"handleCancel",value:function(){this.visibleChanged.emit(!1)}}]),e}()).\u0275fac=function(e){return new(e||L)(a.\u0275\u0275directiveInject(y.FormBuilder),a.\u0275\u0275directiveInject(d.U),a.\u0275\u0275directiveInject(h.N),a.\u0275\u0275directiveInject(u.DwMessageService))},L.\u0275cmp=a.\u0275\u0275defineComponent({type:L,selectors:[["app-product-transfer"]],inputs:{visible:"visible"},outputs:{visibleChanged:"visibleChanged"},features:[a.\u0275\u0275ProvidersFeature([h.N])],decls:2,vars:8,consts:[[3,"dwBodyStyle","dwMaskClosable","dwWidth","dwVisible","dwTitle","dwOkDisabled","dwOkText","dwVisibleChange","dwOnCancel","dwOnOk"],["dwModalContent",""],["dw-form","",3,"formGroup"],[1,"item-wrap"],["dw-row",""],["dw-col","","dwSpan","1"],["dw-col","","dwSpan","7",1,"flex-box"],[1,"label"],[1,"info"],["dw-col","","dwSpan","14",1,"flex-box"],["class","label",4,"ngIf"],["dwRequired","",3,"dwSm","dwXs"],[3,"dwSm","dwXs"],["dw-input","","readonly","","required","","placeholder","\u8bf7\u8f93\u5165\u539f\u5ba2\u6237","formControlName","original_customer_name","maxlength","40",1,"ant-input","ng-untouched","ng-pristine","ng-invalid"],["dwSearch","",3,"dwSuffix"],["dw-input","","type","text","readonly","","dw-input","","formControlName","new_customer_name"],["suffixCustomerData",""],["formControlName","transfer_date",3,"dwDisabledDate"],["formControlName","remark","dw-input","","maxlength","50","placeholder","50\u5b57\u4ee5\u5185"],["dw-icon","","class","ant-input-clear-icon","dwTheme","fill","dwType","close-circle",3,"click",4,"ngIf"],["dw-button","","dwType","primary","dwSearch","","type","button",3,"click"],["dw-icon","","dwType","search"],["dw-icon","","dwTheme","fill","dwType","close-circle",1,"ant-input-clear-icon",3,"click"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"dw-modal",0),a.\u0275\u0275listener("dwVisibleChange",function(e){return t.visible=e})("dwOnCancel",function(){return t.handleCancel()})("dwOnOk",function(){return t.handleOk()}),a.\u0275\u0275template(1,T,54,26,"ng-template",1),a.\u0275\u0275elementEnd()),2&e&&a.\u0275\u0275property("dwBodyStyle",a.\u0275\u0275pureFunction0(7,R))("dwMaskClosable",!0)("dwWidth",720)("dwVisible",t.visible)("dwTitle","\u8fc7\u6237")("dwOkDisabled",!t.form.valid)("dwOkText","\u4fdd\u5b58")},directives:[_.DwModalComponent,_.DwModalContentDirective,y.\u0275NgNoValidate,y.NgControlStatusGroup,C.DwFormDirective,y.FormGroupDirective,S.DwRowDirective,S.DwColDirective,w.NgIf,C.DwFormItemComponent,C.DwFormLabelComponent,C.DwFormControlComponent,b.DwInputDirective,y.DefaultValueAccessor,y.RequiredValidator,y.NgControlStatus,y.FormControlName,y.MaxLengthValidator,I.u,b.DwInputGroupComponent,b.DwInputGroupWhitSuffixOrPrefixDirective,E.DwDatePickerComponent,D.DwButtonComponent,O.uG,k.DwIconDirective],styles:[".item-wrap[_ngcontent-%COMP%]{border-bottom:1px solid #d9d9d9;padding:20px 0;margin-bottom:24px}"]}),L),N=function(){return{minRows:3,maxRows:3}};function j(e,t){if(1&e&&(a.\u0275\u0275elementStart(0,"form",2),a.\u0275\u0275elementStart(1,"dw-form-item"),a.\u0275\u0275elementStart(2,"dw-form-label",3),a.\u0275\u0275text(3,"\u56de\u6536\u539f\u56e0"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(4,"dw-form-control",4),a.\u0275\u0275element(5,"textarea",5),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&e){var n=a.\u0275\u0275nextContext();a.\u0275\u0275property("formGroup",n.form),a.\u0275\u0275advance(2),a.\u0275\u0275property("dwSm",5)("dwXs",24),a.\u0275\u0275advance(2),a.\u0275\u0275property("dwSm",18)("dwXs",24),a.\u0275\u0275advance(1),a.\u0275\u0275property("dwAutosize",a.\u0275\u0275pureFunction0(6,N))}}var z=function(){return{height:"calc(100% - 55px)",overflow:"auto","padding-bottom":"24px"}},B=function(){var e=function(){function e(t,n,r,i){p(this,e),this.fb=t,this.productFileService=n,this.newCustomerService=r,this.message=i,this.visibleChanged=new a.EventEmitter,this.form=this.fb.group({product_file_id:["",y.Validators.required],recycled_reason:["",y.Validators.required]})}return f(e,[{key:"initData",value:function(e){this.form.get("product_file_id").setValue(e.toString()),this.form.get("recycled_reason").reset()}},{key:"ngOnInit",value:function(){}},{key:"handleOk",value:function(){var e=this;this.productFileService.recycle(this.form.value).subscribe(function(t){e.visibleChanged.emit(!0),e.message.create("success","\u56de\u6536\u6210\u529f\uff01\u53ef\u81f3\u5df2\u56de\u6536\u8bbe\u5907\u4e2d\u8fdb\u884c\u67e5\u770b")},function(t){t.hasOwnProperty("error")&&t.error.hasOwnProperty("errorMessage")&&t.error.errorMessage&&e.message.error(t.error.errorMessage)})}},{key:"handleCancel",value:function(){this.visibleChanged.emit(!1)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(a.\u0275\u0275directiveInject(y.FormBuilder),a.\u0275\u0275directiveInject(d.U),a.\u0275\u0275directiveInject(h.N),a.\u0275\u0275directiveInject(u.DwMessageService))},e.\u0275cmp=a.\u0275\u0275defineComponent({type:e,selectors:[["app-product-recycle"]],inputs:{visible:"visible"},outputs:{visibleChanged:"visibleChanged"},decls:2,vars:8,consts:[[3,"dwBodyStyle","dwMaskClosable","dwWidth","dwVisible","dwTitle","dwOkDisabled","dwOkText","dwVisibleChange","dwOnCancel","dwOnOk"],["dwModalContent",""],["dw-form","",3,"formGroup"],["dwRequired","",3,"dwSm","dwXs"],[3,"dwSm","dwXs"],["formControlName","recycled_reason","dw-input","","maxlength","255","placeholder","\u8bf7\u586b\u5199\u8bbe\u5907\u56e0\u4f55\u79cd\u539f\u56e0\u9000\u56de\u5de5\u5382\uff0c\u5982\uff1a\u8fc7\u5ea6\u8425\u9500\u3001\u6362\u8d27\u3001\u591a\u6b21\u7ef4\u4fee\u4e0d\u597d\uff0c\u5ba2\u6237\u4e0d\u4e88\u9a8c\u6536\u7b49",3,"dwAutosize"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"dw-modal",0),a.\u0275\u0275listener("dwVisibleChange",function(e){return t.visible=e})("dwOnCancel",function(){return t.handleCancel()})("dwOnOk",function(){return t.handleOk()}),a.\u0275\u0275template(1,j,6,7,"ng-template",1),a.\u0275\u0275elementEnd()),2&e&&a.\u0275\u0275property("dwBodyStyle",a.\u0275\u0275pureFunction0(7,z))("dwMaskClosable",!0)("dwWidth",420)("dwVisible",t.visible)("dwTitle","\u4ea7\u54c1\u56de\u6536")("dwOkDisabled",!t.form.valid)("dwOkText","\u4fdd\u5b58")},directives:[_.DwModalComponent,_.DwModalContentDirective,y.\u0275NgNoValidate,y.NgControlStatusGroup,C.DwFormDirective,y.FormGroupDirective,S.DwRowDirective,C.DwFormItemComponent,S.DwColDirective,C.DwFormLabelComponent,C.DwFormControlComponent,y.DefaultValueAccessor,b.DwInputDirective,b.DwAutosizeDirective,y.NgControlStatus,y.FormControlName,y.MaxLengthValidator],styles:[""]}),e}(),$=r(37568),q=r(17494),W=r(78169),G=r(67733),U=r(62695),H=r(71452),X=r(83522),Q=r(41430);function K(e,t){if(1&e){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"div",10),a.\u0275\u0275listener("click",function(){a.\u0275\u0275restoreView(n);var e=a.\u0275\u0275nextContext(2),t=a.\u0275\u0275reference(2);return e.isVisible=!0,t.initData(e.id,e.product_file[0].file_type)}),a.\u0275\u0275text(1," \u8fc7\u6237 "),a.\u0275\u0275elementEnd()}if(2&e){var r=a.\u0275\u0275nextContext(2);a.\u0275\u0275propertyInterpolate("angularticsLabel",r.userInfo.tenantId+","+r.userInfo.userId),a.\u0275\u0275property("dwActionId","transfer")("dwDefaultAuthorized","disabled")("angularticsCategory","\u4ea7\u54c1\u6863\u6848")}}function J(e,t){if(1&e){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"div",11),a.\u0275\u0275listener("click",function(){a.\u0275\u0275restoreView(n);var e=a.\u0275\u0275nextContext(2),t=a.\u0275\u0275reference(4);return e.isRecycleVisible=!0,t.initData(e.id)}),a.\u0275\u0275text(1," \u56de\u6536 "),a.\u0275\u0275elementEnd()}if(2&e){var r=a.\u0275\u0275nextContext(2);a.\u0275\u0275propertyInterpolate("angularticsLabel",r.userInfo.tenantId+","+r.userInfo.userId),a.\u0275\u0275property("dwActionId","recycle")("dwDefaultAuthorized","disabled")("angularticsCategory","\u4ea7\u54c1\u6863\u6848")}}function Z(e,t){if(1&e&&(a.\u0275\u0275elementStart(0,"div",5),a.\u0275\u0275element(1,"em",6),a.\u0275\u0275elementStart(2,"div",7),a.\u0275\u0275template(3,K,2,4,"div",8),a.\u0275\u0275template(4,J,2,4,"div",9),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&e){var n=a.\u0275\u0275nextContext();a.\u0275\u0275advance(3),a.\u0275\u0275property("ngIf","1"==n.userSite),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf","1"===n.product_file[0].service_status)}}function Y(e,t){if(1&e&&(a.\u0275\u0275elementStart(0,"div",17),a.\u0275\u0275elementStart(1,"div",18),a.\u0275\u0275text(2,"\u7f16\u7801\uff1a"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(3,"div",24),a.\u0275\u0275text(4),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&e){var n=a.\u0275\u0275nextContext(2);a.\u0275\u0275advance(4),a.\u0275\u0275textInterpolate(n.product_file[0].product_file_code)}}function ee(e,t){if(1&e&&(a.\u0275\u0275elementStart(0,"div",17),a.\u0275\u0275elementStart(1,"div",18),a.\u0275\u0275text(2,"\u540d\u79f0\uff1a"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(3,"div",24),a.\u0275\u0275text(4),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&e){var n=a.\u0275\u0275nextContext(2);a.\u0275\u0275advance(4),a.\u0275\u0275textInterpolate(n.product_file[0].product_file_name)}}function te(e,t){1&e&&(a.\u0275\u0275elementStart(0,"span",32),a.\u0275\u0275text(1,"\u6b63\u5e38"),a.\u0275\u0275elementEnd())}function ne(e,t){1&e&&(a.\u0275\u0275elementStart(0,"span",33),a.\u0275\u0275text(1,"\u62a5\u4fee\u4e2d"),a.\u0275\u0275elementEnd())}function re(e,t){1&e&&(a.\u0275\u0275elementStart(0,"span",34),a.\u0275\u0275text(1,"\u5df2\u56de\u6536"),a.\u0275\u0275elementEnd())}function ie(e,t){1&e&&a.\u0275\u0275element(0,"img",42)}function ae(e,t){if(1&e&&a.\u0275\u0275element(0,"img",43),2&e){var n=a.\u0275\u0275nextContext(3);a.\u0275\u0275property("src",n.product_file[0].url,a.\u0275\u0275sanitizeUrl)}}function oe(e,t){if(1&e&&(a.\u0275\u0275elementStart(0,"div",35),a.\u0275\u0275elementStart(1,"div",36),a.\u0275\u0275template(2,ie,1,0,"img",37),a.\u0275\u0275template(3,ae,1,1,"img",38),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(4,"div",39),a.\u0275\u0275elementStart(5,"div",40),a.\u0275\u0275elementStart(6,"div"),a.\u0275\u0275text(7),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(8,"div"),a.\u0275\u0275text(9),a.\u0275\u0275pipe(10,"date"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(11,"div",41),a.\u0275\u0275text(12),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&e){var n=a.\u0275\u0275nextContext(2);a.\u0275\u0275advance(2),a.\u0275\u0275property("ngIf",!n.product_file[0].recycler_file_id),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",n.product_file[0].recycler_file_id),a.\u0275\u0275advance(4),a.\u0275\u0275textInterpolate(n.product_file[0].recycler_name),a.\u0275\u0275advance(2),a.\u0275\u0275textInterpolate(a.\u0275\u0275pipeBind2(10,5,n.product_file[0].recycled_date,"yyyy-MM-dd HH:mm:ss")),a.\u0275\u0275advance(3),a.\u0275\u0275textInterpolate(n.product_file[0].recycled_reason)}}function le(e,t){if(1&e&&(a.\u0275\u0275elementStart(0,"div",17),a.\u0275\u0275elementStart(1,"div",18),a.\u0275\u0275text(2,"\u4ea7\u54c1\u5206\u7c7b\uff1a"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(3,"div",24),a.\u0275\u0275text(4),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&e){var n=a.\u0275\u0275nextContext(2);a.\u0275\u0275advance(4),a.\u0275\u0275textInterpolate(n.product_file[0].item_group_name)}}function de(e,t){if(1&e&&(a.\u0275\u0275elementStart(0,"div",17),a.\u0275\u0275elementStart(1,"div",18),a.\u0275\u0275text(2,"\u578b\u53f7\uff1a"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(3,"div",24),a.\u0275\u0275text(4),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&e){var n=a.\u0275\u0275nextContext(2);a.\u0275\u0275advance(4),a.\u0275\u0275textInterpolate(n.product_file[0].model)}}function ce(e,t){if(1&e&&(a.\u0275\u0275elementStart(0,"div",17),a.\u0275\u0275elementStart(1,"div",18),a.\u0275\u0275text(2,"\u89c4\u683c\uff1a"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(3,"div",24),a.\u0275\u0275text(4),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&e){var n=a.\u0275\u0275nextContext(2);a.\u0275\u0275advance(4),a.\u0275\u0275textInterpolate(n.product_file[0].specification)}}function se(e,t){1&e&&(a.\u0275\u0275elementStart(0,"div",18),a.\u0275\u0275text(1,"\u5e8f\u5217\u53f7\uff1a"),a.\u0275\u0275elementEnd())}function me(e,t){1&e&&(a.\u0275\u0275elementStart(0,"div",18),a.\u0275\u0275text(1,"\u9879\u76ee\u53f7\uff1a"),a.\u0275\u0275elementEnd())}function pe(e,t){if(1&e&&(a.\u0275\u0275elementStart(0,"div",17),a.\u0275\u0275template(1,se,2,0,"div",44),a.\u0275\u0275template(2,me,2,0,"div",44),a.\u0275\u0275elementStart(3,"div",24),a.\u0275\u0275text(4),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&e){var n=a.\u0275\u0275nextContext(2);a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf","1"===n.product_file[0].file_type),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf","2"===n.product_file[0].file_type),a.\u0275\u0275advance(2),a.\u0275\u0275textInterpolate(n.product_file[0].sn)}}function ue(e,t){if(1&e&&(a.\u0275\u0275elementStart(0,"div",17),a.\u0275\u0275elementStart(1,"div",18),a.\u0275\u0275text(2,"\u5ba2\u6237\uff1a"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(3,"div",24),a.\u0275\u0275text(4),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&e){var n=a.\u0275\u0275nextContext(2);a.\u0275\u0275advance(4),a.\u0275\u0275textInterpolate(n.product_file[0].customer_name)}}function fe(e,t){if(1&e&&(a.\u0275\u0275elementStart(0,"div",17),a.\u0275\u0275elementStart(1,"div",18),a.\u0275\u0275text(2,"\u51fa\u5382\u5ba2\u6237\uff1a"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(3,"div",24),a.\u0275\u0275text(4),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&e){var n=a.\u0275\u0275nextContext(2);a.\u0275\u0275advance(4),a.\u0275\u0275textInterpolate(n.product_file[0].exfactory_customer_name)}}function ve(e,t){if(1&e&&(a.\u0275\u0275elementStart(0,"div",17),a.\u0275\u0275elementStart(1,"div",18),a.\u0275\u0275text(2,"\u4f7f\u7528\u5730\u70b9\uff1a"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(3,"div",24),a.\u0275\u0275text(4),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&e){var n=a.\u0275\u0275nextContext(2);a.\u0275\u0275advance(4),a.\u0275\u0275textInterpolate(n.product_file[0].location)}}function ge(e,t){if(1&e&&(a.\u0275\u0275elementStart(0,"div",17),a.\u0275\u0275elementStart(1,"div",18),a.\u0275\u0275text(2,"\u670d\u52a1\u7ad9\u70b9\uff1a"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(3,"div",24),a.\u0275\u0275text(4),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&e){var n=a.\u0275\u0275nextContext(2);a.\u0275\u0275advance(4),a.\u0275\u0275textInterpolate(n.product_file[0].service_site_name)}}function he(e,t){if(1&e&&(a.\u0275\u0275elementStart(0,"div",17),a.\u0275\u0275elementStart(1,"div",18),a.\u0275\u0275text(2,"\u670d\u52a1\u4eba\u5458\uff1a"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(3,"div",24),a.\u0275\u0275text(4),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&e){var n=a.\u0275\u0275nextContext(2);a.\u0275\u0275advance(4),a.\u0275\u0275textInterpolate(n.product_file[0].employee_name)}}function we(e,t){if(1&e&&(a.\u0275\u0275elementStart(0,"div",17),a.\u0275\u0275elementStart(1,"div",18),a.\u0275\u0275text(2,"\u51fa\u5e93\u65e5\u671f\uff1a"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(3,"div",24),a.\u0275\u0275text(4),a.\u0275\u0275pipe(5,"date"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&e){var n=a.\u0275\u0275nextContext(2);a.\u0275\u0275advance(4),a.\u0275\u0275textInterpolate(a.\u0275\u0275pipeBind2(5,1,n.product_file[0].delivery_date,"yyyy-MM-dd"))}}function ye(e,t){if(1&e&&(a.\u0275\u0275elementStart(0,"div"),a.\u0275\u0275text(1),a.\u0275\u0275pipe(2,"date"),a.\u0275\u0275pipe(3,"date"),a.\u0275\u0275elementEnd()),2&e){var n=a.\u0275\u0275nextContext(3);a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate2(" ",a.\u0275\u0275pipeBind2(2,2,n.product_file[0].installation_date,"yyyy-MM-dd"),"~",a.\u0275\u0275pipeBind2(3,5,n.product_file[0].installation_date_end,"yyyy-MM-dd")," ")}}function xe(e,t){if(1&e&&(a.\u0275\u0275elementStart(0,"div"),a.\u0275\u0275text(1),a.\u0275\u0275pipe(2,"date"),a.\u0275\u0275elementEnd()),2&e){var n=a.\u0275\u0275nextContext(3);a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate1(" ",a.\u0275\u0275pipeBind2(2,1,n.product_file[0].installation_date,"yyyy-MM-dd")," ")}}function _e(e,t){if(1&e&&(a.\u0275\u0275elementStart(0,"div",17),a.\u0275\u0275elementStart(1,"div",18),a.\u0275\u0275text(2,"\u5b89\u88c5\u65e5\u671f\uff1a"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(3,"div",24),a.\u0275\u0275template(4,ye,4,8,"div",25),a.\u0275\u0275template(5,xe,3,4,"div",25),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&e){var n=a.\u0275\u0275nextContext(2);a.\u0275\u0275advance(4),a.\u0275\u0275property("ngIf",n.product_file[0].installation_date&&n.product_file[0].installation_date_end),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",!n.product_file[0].installation_date_end)}}function Ce(e,t){if(1&e&&(a.\u0275\u0275elementStart(0,"div",17),a.\u0275\u0275elementStart(1,"div",18),a.\u0275\u0275text(2,"\u9a8c\u6536\u65e5\u671f\uff1a"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(3,"div",24),a.\u0275\u0275text(4),a.\u0275\u0275pipe(5,"date"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&e){var n=a.\u0275\u0275nextContext(2);a.\u0275\u0275advance(4),a.\u0275\u0275textInterpolate(a.\u0275\u0275pipeBind2(5,1,n.product_file[0].acceptance_date,"yyyy-MM-dd"))}}function Se(e,t){if(1&e&&(a.\u0275\u0275elementStart(0,"div",17),a.\u0275\u0275elementStart(1,"div",18),a.\u0275\u0275text(2,"\u4fdd\u4fee\u622a\u6b62\u65e5\u671f\uff1a"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(3,"div",24),a.\u0275\u0275text(4),a.\u0275\u0275pipe(5,"date"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&e){var n=a.\u0275\u0275nextContext(2);a.\u0275\u0275advance(4),a.\u0275\u0275textInterpolate(a.\u0275\u0275pipeBind2(5,1,n.product_file[0].expiry_date,"yyyy-MM-dd"))}}function be(e,t){if(1&e&&(a.\u0275\u0275elementStart(0,"div",17),a.\u0275\u0275elementStart(1,"div",18),a.\u0275\u0275text(2,"\u8c03\u8bd5\u4eba\u5458\uff1a"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(3,"div",24),a.\u0275\u0275text(4),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&e){var n=a.\u0275\u0275nextContext(2);a.\u0275\u0275advance(4),a.\u0275\u0275textInterpolate(n.product_file[0].commissioning_person)}}function Ie(e,t){if(1&e&&(a.\u0275\u0275elementStart(0,"div",17),a.\u0275\u0275elementStart(1,"div",18),a.\u0275\u0275text(2,"\u9a8c\u6536\u4eba\u5458\uff1a"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(3,"div",24),a.\u0275\u0275text(4),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&e){var n=a.\u0275\u0275nextContext(2);a.\u0275\u0275advance(4),a.\u0275\u0275textInterpolate(n.product_file[0].acceptance_person)}}function Ee(e,t){1&e&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275text(1," \u5f00\u542f "),a.\u0275\u0275elementContainerEnd())}function De(e,t){1&e&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275text(1," \u5173\u95ed "),a.\u0275\u0275elementContainerEnd())}function Oe(e,t){if(1&e&&(a.\u0275\u0275elementStart(0,"div",17),a.\u0275\u0275elementStart(1,"div",18),a.\u0275\u0275text(2,"\u7ef4\u62a4\u5f00\u59cb\u65e5\u671f\uff1a"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(3,"div",24),a.\u0275\u0275text(4),a.\u0275\u0275pipe(5,"date"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&e){var n=a.\u0275\u0275nextContext(2);a.\u0275\u0275advance(4),a.\u0275\u0275textInterpolate(a.\u0275\u0275pipeBind2(5,1,n.product_file[0].maintain_begin_date,"yyyy-MM-dd"))}}function ke(e,t){if(1&e&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275text(1),a.\u0275\u0275elementContainerEnd()),2&e){var n=a.\u0275\u0275nextContext(3);a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate1(" ",n.product_file[0].maintain_period," \u6708 ")}}function Me(e,t){if(1&e&&(a.\u0275\u0275elementStart(0,"div",17),a.\u0275\u0275elementStart(1,"div",18),a.\u0275\u0275text(2,"\u7ef4\u62a4\u5468\u671f\uff1a"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(3,"div",24),a.\u0275\u0275template(4,ke,2,1,"ng-container",25),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&e){var n=a.\u0275\u0275nextContext(2);a.\u0275\u0275advance(4),a.\u0275\u0275property("ngIf","1"===n.product_file[0].enable_maintain)}}function Pe(e,t){if(1&e&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275text(1),a.\u0275\u0275elementContainerEnd()),2&e){var n=a.\u0275\u0275nextContext(3);a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate1(" ",n.product_file[0].maintain_period," \u9700\u4fdd\u517b ")}}function Fe(e,t){if(1&e&&(a.\u0275\u0275elementStart(0,"div",17),a.\u0275\u0275elementStart(1,"div",18),a.\u0275\u0275text(2,"\u6bcf\u6284\u8868\u8fbe\uff1a"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(3,"div",24),a.\u0275\u0275template(4,Pe,2,1,"ng-container",25),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&e){var n=a.\u0275\u0275nextContext(2);a.\u0275\u0275advance(4),a.\u0275\u0275property("ngIf","1"===n.product_file[0].enable_maintain)}}function Ve(e,t){if(1&e&&(a.\u0275\u0275elementStart(0,"div",24),a.\u0275\u0275text(1),a.\u0275\u0275pipe(2,"date"),a.\u0275\u0275elementEnd()),2&e){var n=a.\u0275\u0275nextContext(3);a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate1(" ",a.\u0275\u0275pipeBind2(2,1,n.product_file[0].recently_maintain_date,"yyyy-MM-dd")," ")}}function Te(e,t){if(1&e&&(a.\u0275\u0275elementStart(0,"div",24),a.\u0275\u0275text(1),a.\u0275\u0275pipe(2,"date"),a.\u0275\u0275elementEnd()),2&e){var n=a.\u0275\u0275nextContext(3);a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate1(" ",a.\u0275\u0275pipeBind2(2,1,n.product_file[0].next_maintain_date,"yyyy-MM-dd")," ")}}function Le(e,t){if(1&e&&(a.\u0275\u0275elementStart(0,"div",17),a.\u0275\u0275elementStart(1,"div",18),a.\u0275\u0275text(2,"\u7ef4\u4fee\u6b21\u6570\uff1a"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(3,"div",24),a.\u0275\u0275text(4),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&e){var n=a.\u0275\u0275nextContext(3);a.\u0275\u0275advance(4),a.\u0275\u0275textInterpolate1(" ",n.product_file[0].maintenance_count," ")}}function Re(e,t){if(1&e&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275elementStart(1,"div",17),a.\u0275\u0275elementStart(2,"div",18),a.\u0275\u0275text(3,"\u6700\u8fd1\u7ef4\u62a4\u65e5\u671f\uff1a"),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(4,Ve,3,4,"div",45),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(5,"div",17),a.\u0275\u0275elementStart(6,"div",18),a.\u0275\u0275text(7,"\u4e0b\u6b21\u7ef4\u62a4\u65e5\u671f\uff1a"),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(8,Te,3,4,"div",45),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(9,Le,5,1,"div",16),a.\u0275\u0275elementContainerEnd()),2&e){var n=a.\u0275\u0275nextContext(2);a.\u0275\u0275advance(4),a.\u0275\u0275property("ngIf","1"===n.product_file[0].enable_maintain),a.\u0275\u0275advance(4),a.\u0275\u0275property("ngIf","1"===n.product_file[0].enable_maintain),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",n.formConfigList.indexOf("maintenance_count")>=0)}}function Ae(e,t){if(1&e&&(a.\u0275\u0275elementStart(0,"div",24),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&e){var n=a.\u0275\u0275nextContext(3);a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate1(" ",n.product_file[0].recently_maintain_readingmeter," ")}}function Ne(e,t){if(1&e&&(a.\u0275\u0275elementStart(0,"div",24),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&e){var n=a.\u0275\u0275nextContext(3);a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate1(" ",n.product_file[0].next_maintain_readingmeter," ")}}function je(e,t){if(1&e&&(a.\u0275\u0275elementStart(0,"div",17),a.\u0275\u0275elementStart(1,"div",18),a.\u0275\u0275text(2,"\u7ef4\u4fee\u6b21\u6570\uff1a"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(3,"div",24),a.\u0275\u0275text(4),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&e){var n=a.\u0275\u0275nextContext(3);a.\u0275\u0275advance(4),a.\u0275\u0275textInterpolate1(" ",n.product_file[0].maintenance_count," ")}}function ze(e,t){if(1&e&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275elementStart(1,"div",17),a.\u0275\u0275elementStart(2,"div",18),a.\u0275\u0275text(3,"\u6700\u8fd1\u4fdd\u517b\u6284\u8868\u6570\uff1a"),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(4,Ae,2,1,"div",45),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(5,"div",17),a.\u0275\u0275elementStart(6,"div",18),a.\u0275\u0275text(7,"\u4e0b\u6b21\u4fdd\u517b\u6284\u8868\u6570\uff1a"),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(8,Ne,2,1,"div",45),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(9,je,5,1,"div",16),a.\u0275\u0275elementContainerEnd()),2&e){var n=a.\u0275\u0275nextContext(2);a.\u0275\u0275advance(4),a.\u0275\u0275property("ngIf","1"===n.product_file[0].enable_maintain),a.\u0275\u0275advance(4),a.\u0275\u0275property("ngIf","1"===n.product_file[0].enable_maintain),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",n.formConfigList.indexOf("maintenance_count")>=0)}}function Be(e,t){if(1&e&&(a.\u0275\u0275elementStart(0,"div",46),a.\u0275\u0275elementStart(1,"div",18),a.\u0275\u0275text(2,"\u63cf\u8ff0\uff1a"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(3,"div",24),a.\u0275\u0275text(4),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&e){var n=a.\u0275\u0275nextContext(2);a.\u0275\u0275advance(4),a.\u0275\u0275textInterpolate(n.product_file[0].product_description)}}function $e(e,t){if(1&e&&(a.\u0275\u0275elementStart(0,"div",46),a.\u0275\u0275elementStart(1,"div",18),a.\u0275\u0275text(2,"\u5907\u6ce8\uff1a"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(3,"div",24),a.\u0275\u0275text(4),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&e){var n=a.\u0275\u0275nextContext(2);a.\u0275\u0275advance(4),a.\u0275\u0275textInterpolate(n.product_file[0].remark)}}var qe=function(){return{width:"100%"}};function We(e,t){if(1&e&&a.\u0275\u0275element(0,"img",53),2&e){var n=a.\u0275\u0275nextContext(3);a.\u0275\u0275property("src",n.previewImage,a.\u0275\u0275sanitizeUrl)("ngStyle",a.\u0275\u0275pureFunction0(2,qe))}}function Ge(e,t){if(1&e){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"div",46),a.\u0275\u0275elementStart(1,"div",18),a.\u0275\u0275text(2,"\u4ea7\u54c1\u6863\u6848\u56fe\u7247\uff1a"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(3,"div",24),a.\u0275\u0275elementStart(4,"div",47),a.\u0275\u0275elementStart(5,"dw-upload",48),a.\u0275\u0275listener("dwFileListChange",function(e){return a.\u0275\u0275restoreView(n),a.\u0275\u0275nextContext(2).fileList=e}),a.\u0275\u0275element(6,"em",49),a.\u0275\u0275elementStart(7,"div",50),a.\u0275\u0275text(8,"Upload"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(9,"dw-modal",51),a.\u0275\u0275listener("dwOnCancel",function(){return a.\u0275\u0275restoreView(n),a.\u0275\u0275nextContext(2).previewVisible=!1}),a.\u0275\u0275template(10,We,1,3,"ng-template",null,52,a.\u0275\u0275templateRefExtractor),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()}if(2&e){var r=a.\u0275\u0275reference(11),i=a.\u0275\u0275nextContext(2);a.\u0275\u0275advance(5),a.\u0275\u0275property("dwFileList",i.fileList)("dwShowButton",!1)("dwShowUploadList",i.showUploadList)("dwPreview",i.handlePreview),a.\u0275\u0275advance(4),a.\u0275\u0275property("dwVisible",i.previewVisible)("dwContent",r)("dwFooter",null)}}function Ue(e,t){1&e&&a.\u0275\u0275element(0,"img",64)}function He(e,t){1&e&&a.\u0275\u0275element(0,"img",65)}function Xe(e,t){1&e&&a.\u0275\u0275element(0,"img",66)}function Qe(e,t){1&e&&a.\u0275\u0275element(0,"img",67)}function Ke(e,t){1&e&&a.\u0275\u0275element(0,"img",68)}function Je(e,t){if(1&e){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"div",56),a.\u0275\u0275template(1,Ue,1,0,"img",57),a.\u0275\u0275template(2,He,1,0,"img",58),a.\u0275\u0275template(3,Xe,1,0,"img",59),a.\u0275\u0275template(4,Qe,1,0,"img",60),a.\u0275\u0275template(5,Ke,1,0,"img",61),a.\u0275\u0275elementStart(6,"div",40),a.\u0275\u0275text(7),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(8,"div",62),a.\u0275\u0275listener("click",function(){var e=a.\u0275\u0275restoreView(n).$implicit;return a.\u0275\u0275nextContext(3).downloadFile(e.uid)}),a.\u0275\u0275element(9,"em",63),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()}if(2&e){var r=t.$implicit;a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",r.name.indexOf(".xls")>=0),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",r.name.indexOf(".doc")>=0),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",r.name.indexOf(".pdf")>=0),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",r.name.indexOf(".ppt")>=0),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",r.name.indexOf(".png")>=0||r.name.indexOf(".jpg")>=0),a.\u0275\u0275advance(2),a.\u0275\u0275textInterpolate(r.name)}}function Ze(e,t){if(1&e&&(a.\u0275\u0275elementStart(0,"div",46),a.\u0275\u0275elementStart(1,"div",18),a.\u0275\u0275text(2,"\u9644\u4ef6\uff1a"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(3,"div",24),a.\u0275\u0275elementStart(4,"div",54),a.\u0275\u0275template(5,Je,10,6,"div",55),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&e){var n=a.\u0275\u0275nextContext(2);a.\u0275\u0275advance(5),a.\u0275\u0275property("ngForOf",n.attachmentsList)}}function Ye(e,t){1&e&&(a.\u0275\u0275elementStart(0,"th",79),a.\u0275\u0275elementStart(1,"span",80),a.\u0275\u0275text(2,"\u8bbe\u5907\u7f16\u53f7"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd())}function et(e,t){1&e&&(a.\u0275\u0275elementStart(0,"th",79),a.\u0275\u0275elementStart(1,"span",80),a.\u0275\u0275text(2,"\u8bbe\u5907\u540d\u79f0"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd())}function tt(e,t){1&e&&(a.\u0275\u0275elementStart(0,"th",81),a.\u0275\u0275elementStart(1,"span",80),a.\u0275\u0275text(2,"\u89c4\u683c"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd())}function nt(e,t){1&e&&(a.\u0275\u0275elementStart(0,"th",81),a.\u0275\u0275elementStart(1,"span",80),a.\u0275\u0275text(2,"\u578b\u53f7"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd())}function rt(e,t){1&e&&(a.\u0275\u0275elementStart(0,"th",81),a.\u0275\u0275elementStart(1,"span",80),a.\u0275\u0275text(2,"\u5206\u7c7b"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd())}function it(e,t){1&e&&(a.\u0275\u0275elementStart(0,"th",82),a.\u0275\u0275elementStart(1,"span",80),a.\u0275\u0275text(2,"\u5e8f\u5217\u53f7"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd())}function at(e,t){1&e&&(a.\u0275\u0275elementStart(0,"th",83),a.\u0275\u0275elementStart(1,"span",80),a.\u0275\u0275text(2,"\u6570\u91cf"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd())}function ot(e,t){1&e&&(a.\u0275\u0275elementStart(0,"th",79),a.\u0275\u0275elementStart(1,"span",80),a.\u0275\u0275text(2,"\u5907\u6ce8"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd())}function lt(e,t){if(1&e&&(a.\u0275\u0275elementStart(0,"td"),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&e){var n=a.\u0275\u0275nextContext().$implicit;a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate1(" ",n.code," ")}}function dt(e,t){if(1&e&&(a.\u0275\u0275elementStart(0,"td"),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&e){var n=a.\u0275\u0275nextContext().$implicit;a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate1(" ",n.name," ")}}function ct(e,t){if(1&e&&(a.\u0275\u0275elementStart(0,"td"),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&e){var n=a.\u0275\u0275nextContext().$implicit;a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate1(" ",n.specification," ")}}function st(e,t){if(1&e&&(a.\u0275\u0275elementStart(0,"td"),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&e){var n=a.\u0275\u0275nextContext().$implicit;a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate1(" ",n.model," ")}}function mt(e,t){if(1&e&&(a.\u0275\u0275elementStart(0,"td"),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&e){var n=a.\u0275\u0275nextContext().$implicit;a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate1(" ",n.item_group_name," ")}}function pt(e,t){if(1&e&&(a.\u0275\u0275elementStart(0,"td"),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&e){var n=a.\u0275\u0275nextContext().$implicit;a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate1(" ",n.sn," ")}}function ut(e,t){if(1&e&&(a.\u0275\u0275elementStart(0,"td",87),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&e){var n=a.\u0275\u0275nextContext().$implicit;a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate1(" ",n.quantity," ")}}function ft(e,t){if(1&e&&(a.\u0275\u0275elementStart(0,"td"),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&e){var n=a.\u0275\u0275nextContext().$implicit;a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate1(" ",n.remark," ")}}function vt(e,t){1&e&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275elementStart(1,"tr",84),a.\u0275\u0275template(2,lt,2,1,"td",85),a.\u0275\u0275template(3,dt,2,1,"td",85),a.\u0275\u0275template(4,ct,2,1,"td",85),a.\u0275\u0275template(5,st,2,1,"td",85),a.\u0275\u0275template(6,mt,2,1,"td",85),a.\u0275\u0275template(7,pt,2,1,"td",85),a.\u0275\u0275template(8,ut,2,1,"td",86),a.\u0275\u0275template(9,ft,2,1,"td",85),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementContainerEnd()),2&e&&(a.\u0275\u0275advance(2),a.\u0275\u0275property("dwColumnId","code"),a.\u0275\u0275advance(1),a.\u0275\u0275property("dwColumnId","name"),a.\u0275\u0275advance(1),a.\u0275\u0275property("dwColumnId","specification"),a.\u0275\u0275advance(1),a.\u0275\u0275property("dwColumnId","model"),a.\u0275\u0275advance(1),a.\u0275\u0275property("dwColumnId","item_group_name"),a.\u0275\u0275advance(1),a.\u0275\u0275property("dwColumnId","sn"),a.\u0275\u0275advance(1),a.\u0275\u0275property("dwColumnId","quantity"),a.\u0275\u0275advance(1),a.\u0275\u0275property("dwColumnId","remark"))}var gt=function(){return{x:"1000px"}};function ht(e,t){if(1&e){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"dw-tab",69),a.\u0275\u0275elementStart(1,"div",15),a.\u0275\u0275elementStart(2,"div",70),a.\u0275\u0275elementStart(3,"dw-form-item"),a.\u0275\u0275elementStart(4,"dw-form-control"),a.\u0275\u0275elementStart(5,"dw-table",71,72),a.\u0275\u0275listener("dwPageIndexChange",function(e){return a.\u0275\u0275restoreView(n),a.\u0275\u0275nextContext(2).search2.pageIndex=e})("dwPageSizeChange",function(e){return a.\u0275\u0275restoreView(n),a.\u0275\u0275nextContext(2).search2.pageSize=e})("dwPageSizeOptionsChange",function(e){return a.\u0275\u0275restoreView(n),a.\u0275\u0275nextContext(2).search2.pageSizeOptions=e}),a.\u0275\u0275elementStart(7,"thead"),a.\u0275\u0275elementStart(8,"tr",73),a.\u0275\u0275template(9,Ye,3,0,"th",74),a.\u0275\u0275template(10,et,3,0,"th",74),a.\u0275\u0275template(11,tt,3,0,"th",75),a.\u0275\u0275template(12,nt,3,0,"th",75),a.\u0275\u0275template(13,rt,3,0,"th",75),a.\u0275\u0275template(14,it,3,0,"th",76),a.\u0275\u0275template(15,at,3,0,"th",77),a.\u0275\u0275template(16,ot,3,0,"th",74),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(17,"tbody"),a.\u0275\u0275template(18,vt,10,8,"ng-container",78),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()}if(2&e){var r=a.\u0275\u0275reference(6),i=a.\u0275\u0275nextContext(2);a.\u0275\u0275advance(5),a.\u0275\u0275property("dwPageIndex",i.search2.pageIndex)("dwData",i.product_equipment_list)("dwPageSize",i.search2.pageSize)("dwPageSizeOptions",i.search2.pageSizeOptions)("dwScroll",a.\u0275\u0275pureFunction0(14,gt)),a.\u0275\u0275advance(4),a.\u0275\u0275property("dwColumnId","code"),a.\u0275\u0275advance(1),a.\u0275\u0275property("dwColumnId","name"),a.\u0275\u0275advance(1),a.\u0275\u0275property("dwColumnId","specification"),a.\u0275\u0275advance(1),a.\u0275\u0275property("dwColumnId","model"),a.\u0275\u0275advance(1),a.\u0275\u0275property("dwColumnId","item_group_name"),a.\u0275\u0275advance(1),a.\u0275\u0275property("dwColumnId","sn"),a.\u0275\u0275advance(1),a.\u0275\u0275property("dwColumnId","quantity"),a.\u0275\u0275advance(1),a.\u0275\u0275property("dwColumnId","remark"),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngForOf",r.data)}}function wt(e,t){1&e&&(a.\u0275\u0275elementStart(0,"th",94),a.\u0275\u0275elementStart(1,"span",80),a.\u0275\u0275text(2,"\u8bbe\u5907"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd())}function yt(e,t){1&e&&(a.\u0275\u0275elementStart(0,"th",94),a.\u0275\u0275elementStart(1,"span",80),a.\u0275\u0275text(2,"\u8bbe\u5907\u5e8f\u5217\u53f7"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd())}function xt(e,t){1&e&&(a.\u0275\u0275elementStart(0,"th",95),a.\u0275\u0275elementStart(1,"span",80),a.\u0275\u0275text(2,"\u914d\u4ef6\u7f16\u53f7"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd())}function _t(e,t){1&e&&(a.\u0275\u0275elementStart(0,"th",81),a.\u0275\u0275elementStart(1,"span",80),a.\u0275\u0275text(2,"\u914d\u4ef6\u540d\u79f0"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd())}function Ct(e,t){1&e&&(a.\u0275\u0275elementStart(0,"th",96),a.\u0275\u0275elementStart(1,"span",80),a.\u0275\u0275text(2,"\u89c4\u683c"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd())}function St(e,t){1&e&&(a.\u0275\u0275elementStart(0,"th",81),a.\u0275\u0275elementStart(1,"span",80),a.\u0275\u0275text(2,"\u578b\u53f7"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd())}function bt(e,t){1&e&&(a.\u0275\u0275elementStart(0,"th",82),a.\u0275\u0275elementStart(1,"span",80),a.\u0275\u0275text(2,"\u5e8f\u5217\u53f7"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd())}function It(e,t){1&e&&(a.\u0275\u0275elementStart(0,"th",97),a.\u0275\u0275elementStart(1,"span",80),a.\u0275\u0275text(2,"\u5355\u4f4d"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd())}function Et(e,t){1&e&&(a.\u0275\u0275elementStart(0,"th",96),a.\u0275\u0275elementStart(1,"span",80),a.\u0275\u0275text(2,"\u5355\u4f4d\u6570\u91cf"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd())}function Dt(e,t){1&e&&(a.\u0275\u0275elementStart(0,"th",96),a.\u0275\u0275elementStart(1,"span",80),a.\u0275\u0275text(2,"\u7c7b\u578b"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd())}function Ot(e,t){1&e&&(a.\u0275\u0275elementStart(0,"th",81),a.\u0275\u0275elementStart(1,"span",80),a.\u0275\u0275text(2,"\u4fdd\u4fee\u622a\u6b62\u65e5\u671f"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd())}function kt(e,t){1&e&&(a.\u0275\u0275elementStart(0,"th",81),a.\u0275\u0275elementStart(1,"span",80),a.\u0275\u0275text(2,"\u5230\u671f\u66f4\u6362\u65e5\u671f"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd())}function Mt(e,t){1&e&&(a.\u0275\u0275elementStart(0,"th",79),a.\u0275\u0275elementStart(1,"span",80),a.\u0275\u0275text(2,"\u5907\u6ce8"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd())}var Pt=function(e){return{display:e}};function Ft(e,t){if(1&e&&(a.\u0275\u0275elementStart(0,"td",99),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&e){var n=a.\u0275\u0275nextContext().index,r=a.\u0275\u0275nextContext().$implicit;a.\u0275\u0275property("ngStyle",a.\u0275\u0275pureFunction1(3,Pt,0===n?"":"none")),a.\u0275\u0275attribute("rowspan",r.child.product_part.length),a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate1(" ",r.name," ")}}function Vt(e,t){if(1&e&&(a.\u0275\u0275elementStart(0,"td",99),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&e){var n=a.\u0275\u0275nextContext().index,r=a.\u0275\u0275nextContext().$implicit;a.\u0275\u0275property("ngStyle",a.\u0275\u0275pureFunction1(3,Pt,0===n?"":"none")),a.\u0275\u0275attribute("rowspan",r.child.product_part.length),a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate1(" ",r.sn," ")}}function Tt(e,t){1&e&&(a.\u0275\u0275elementStart(0,"span",101),a.\u0275\u0275element(1,"em",102),a.\u0275\u0275elementEnd())}function Lt(e,t){if(1&e&&(a.\u0275\u0275elementStart(0,"td"),a.\u0275\u0275template(1,Tt,2,0,"span",100),a.\u0275\u0275text(2),a.\u0275\u0275elementEnd()),2&e){var n=a.\u0275\u0275nextContext().$implicit;a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",n.quickwear_part),a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate1(" ",n.material_code," ")}}function Rt(e,t){if(1&e&&(a.\u0275\u0275elementStart(0,"td"),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&e){var n=a.\u0275\u0275nextContext().$implicit;a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate1(" ",n.material_name," ")}}function At(e,t){if(1&e&&(a.\u0275\u0275elementStart(0,"td"),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&e){var n=a.\u0275\u0275nextContext().$implicit;a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate1(" ",n.specification," ")}}function Nt(e,t){if(1&e&&(a.\u0275\u0275elementStart(0,"td"),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&e){var n=a.\u0275\u0275nextContext().$implicit;a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate1(" ",n.model," ")}}function jt(e,t){if(1&e&&(a.\u0275\u0275elementStart(0,"td"),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&e){var n=a.\u0275\u0275nextContext().$implicit;a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate1(" ",n.sn," ")}}function zt(e,t){if(1&e&&(a.\u0275\u0275elementStart(0,"td"),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&e){var n=a.\u0275\u0275nextContext().$implicit;a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate1(" ",n.unit," ")}}function Bt(e,t){if(1&e&&(a.\u0275\u0275elementStart(0,"td",87),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&e){var n=a.\u0275\u0275nextContext().$implicit;a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate1(" ",n.unit_qty," ")}}function $t(e,t){if(1&e&&(a.\u0275\u0275elementStart(0,"td"),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&e){var n=a.\u0275\u0275nextContext().$implicit;a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate1(" ",n.item_group_name," ")}}function qt(e,t){if(1&e&&(a.\u0275\u0275elementStart(0,"td"),a.\u0275\u0275text(1),a.\u0275\u0275pipe(2,"date"),a.\u0275\u0275elementEnd()),2&e){var n=a.\u0275\u0275nextContext().$implicit;a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate1(" ",a.\u0275\u0275pipeBind2(2,1,n.expiry_date,"yyyy-MM-dd")," ")}}function Wt(e,t){if(1&e&&(a.\u0275\u0275elementStart(0,"td"),a.\u0275\u0275text(1),a.\u0275\u0275pipe(2,"date"),a.\u0275\u0275elementEnd()),2&e){var n=a.\u0275\u0275nextContext().$implicit;a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate1(" ",a.\u0275\u0275pipeBind2(2,1,n.replacement_date,"yyyy-MM-dd")," ")}}function Gt(e,t){if(1&e&&(a.\u0275\u0275elementStart(0,"td"),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&e){var n=a.\u0275\u0275nextContext().$implicit;a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate1(" ",n.remark," ")}}function Ut(e,t){1&e&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275elementStart(1,"tr",84),a.\u0275\u0275template(2,Ft,2,5,"td",98),a.\u0275\u0275template(3,Vt,2,5,"td",98),a.\u0275\u0275template(4,Lt,3,2,"td",85),a.\u0275\u0275template(5,Rt,2,1,"td",85),a.\u0275\u0275template(6,At,2,1,"td",85),a.\u0275\u0275template(7,Nt,2,1,"td",85),a.\u0275\u0275template(8,jt,2,1,"td",85),a.\u0275\u0275template(9,zt,2,1,"td",85),a.\u0275\u0275template(10,Bt,2,1,"td",86),a.\u0275\u0275template(11,$t,2,1,"td",85),a.\u0275\u0275template(12,qt,3,4,"td",85),a.\u0275\u0275template(13,Wt,3,4,"td",85),a.\u0275\u0275template(14,Gt,2,1,"td",85),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementContainerEnd()),2&e&&(a.\u0275\u0275advance(2),a.\u0275\u0275property("dwColumnId","equipment_name"),a.\u0275\u0275advance(1),a.\u0275\u0275property("dwColumnId","equipment_sn"),a.\u0275\u0275advance(1),a.\u0275\u0275property("dwColumnId","material_code"),a.\u0275\u0275advance(1),a.\u0275\u0275property("dwColumnId","material_name"),a.\u0275\u0275advance(1),a.\u0275\u0275property("dwColumnId","specification"),a.\u0275\u0275advance(1),a.\u0275\u0275property("dwColumnId","model"),a.\u0275\u0275advance(1),a.\u0275\u0275property("dwColumnId","sn"),a.\u0275\u0275advance(1),a.\u0275\u0275property("dwColumnId","unit"),a.\u0275\u0275advance(1),a.\u0275\u0275property("dwColumnId","unit_qty"),a.\u0275\u0275advance(1),a.\u0275\u0275property("dwColumnId","item_group_name"),a.\u0275\u0275advance(1),a.\u0275\u0275property("dwColumnId","expiry_date"),a.\u0275\u0275advance(1),a.\u0275\u0275property("dwColumnId","replacement_date"),a.\u0275\u0275advance(1),a.\u0275\u0275property("dwColumnId","remark"))}function Ht(e,t){if(1&e&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275template(1,Ut,15,13,"ng-container",78),a.\u0275\u0275elementContainerEnd()),2&e){var n=t.$implicit;a.\u0275\u0275advance(1),a.\u0275\u0275property("ngForOf",n.child.product_part)}}var Xt=function(){return{x:"1200px"}};function Qt(e,t){if(1&e){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"dw-tab",88),a.\u0275\u0275elementStart(1,"div",15),a.\u0275\u0275elementStart(2,"div",70),a.\u0275\u0275elementStart(3,"dw-form-item"),a.\u0275\u0275elementStart(4,"dw-form-control"),a.\u0275\u0275elementStart(5,"dw-table",89,72),a.\u0275\u0275listener("dwPageIndexChange",function(e){return a.\u0275\u0275restoreView(n),a.\u0275\u0275nextContext(2).search.pageIndex=e})("dwPageSizeChange",function(e){return a.\u0275\u0275restoreView(n),a.\u0275\u0275nextContext(2).search.pageSize=e})("dwPageSizeOptionsChange",function(e){return a.\u0275\u0275restoreView(n),a.\u0275\u0275nextContext(2).search.pageSizeOptions=e}),a.\u0275\u0275elementStart(7,"thead"),a.\u0275\u0275elementStart(8,"tr",73),a.\u0275\u0275template(9,wt,3,0,"th",90),a.\u0275\u0275template(10,yt,3,0,"th",90),a.\u0275\u0275template(11,xt,3,0,"th",91),a.\u0275\u0275template(12,_t,3,0,"th",75),a.\u0275\u0275template(13,Ct,3,0,"th",92),a.\u0275\u0275template(14,St,3,0,"th",75),a.\u0275\u0275template(15,bt,3,0,"th",76),a.\u0275\u0275template(16,It,3,0,"th",93),a.\u0275\u0275template(17,Et,3,0,"th",92),a.\u0275\u0275template(18,Dt,3,0,"th",92),a.\u0275\u0275template(19,Ot,3,0,"th",75),a.\u0275\u0275template(20,kt,3,0,"th",75),a.\u0275\u0275template(21,Mt,3,0,"th",74),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(22,"tbody"),a.\u0275\u0275template(23,Ht,2,1,"ng-container",78),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()}if(2&e){var r=a.\u0275\u0275reference(6),i=a.\u0275\u0275nextContext(2);a.\u0275\u0275advance(5),a.\u0275\u0275property("dwPageIndex",i.search.pageIndex)("dwData",i.product_part)("dwPageSize",i.search.pageSize)("dwPageSizeOptions",i.search.pageSizeOptions)("dwScroll",a.\u0275\u0275pureFunction0(19,Xt)),a.\u0275\u0275advance(4),a.\u0275\u0275property("dwColumnId","equipment_name"),a.\u0275\u0275advance(1),a.\u0275\u0275property("dwColumnId","equipment_sn"),a.\u0275\u0275advance(1),a.\u0275\u0275property("dwColumnId","material_code"),a.\u0275\u0275advance(1),a.\u0275\u0275property("dwColumnId","material_name"),a.\u0275\u0275advance(1),a.\u0275\u0275property("dwColumnId","specification"),a.\u0275\u0275advance(1),a.\u0275\u0275property("dwColumnId","model"),a.\u0275\u0275advance(1),a.\u0275\u0275property("dwColumnId","sn"),a.\u0275\u0275advance(1),a.\u0275\u0275property("dwColumnId","unit"),a.\u0275\u0275advance(1),a.\u0275\u0275property("dwColumnId","unit_qty"),a.\u0275\u0275advance(1),a.\u0275\u0275property("dwColumnId","item_group_name"),a.\u0275\u0275advance(1),a.\u0275\u0275property("dwColumnId","expiry_date"),a.\u0275\u0275advance(1),a.\u0275\u0275property("dwColumnId","replacement_date"),a.\u0275\u0275advance(1),a.\u0275\u0275property("dwColumnId","remark"),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngForOf",r.data)}}function Kt(e,t){1&e&&(a.\u0275\u0275elementStart(0,"th",79),a.\u0275\u0275elementStart(1,"span",80),a.\u0275\u0275text(2,"\u914d\u4ef6\u7f16\u53f7"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd())}function Jt(e,t){1&e&&(a.\u0275\u0275elementStart(0,"th",79),a.\u0275\u0275elementStart(1,"span",80),a.\u0275\u0275text(2,"\u914d\u4ef6\u540d\u79f0"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd())}function Zt(e,t){1&e&&(a.\u0275\u0275elementStart(0,"th",81),a.\u0275\u0275elementStart(1,"span",80),a.\u0275\u0275text(2,"\u89c4\u683c"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd())}function Yt(e,t){1&e&&(a.\u0275\u0275elementStart(0,"th",81),a.\u0275\u0275elementStart(1,"span",80),a.\u0275\u0275text(2,"\u578b\u53f7"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd())}function en(e,t){1&e&&(a.\u0275\u0275elementStart(0,"th",82),a.\u0275\u0275elementStart(1,"span",80),a.\u0275\u0275text(2,"\u5e8f\u5217\u53f7"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd())}function tn(e,t){1&e&&(a.\u0275\u0275elementStart(0,"th",97),a.\u0275\u0275elementStart(1,"span",80),a.\u0275\u0275text(2,"\u5355\u4f4d"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd())}function nn(e,t){1&e&&(a.\u0275\u0275elementStart(0,"th",105),a.\u0275\u0275elementStart(1,"span",80),a.\u0275\u0275text(2,"\u5355\u4f4d\u6570\u91cf"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd())}function rn(e,t){1&e&&(a.\u0275\u0275elementStart(0,"th",81),a.\u0275\u0275elementStart(1,"span",80),a.\u0275\u0275text(2,"\u7c7b\u578b"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd())}function an(e,t){1&e&&(a.\u0275\u0275elementStart(0,"th",81),a.\u0275\u0275elementStart(1,"span",80),a.\u0275\u0275text(2,"\u4fdd\u4fee\u622a\u6b62\u65e5\u671f"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd())}function on(e,t){1&e&&(a.\u0275\u0275elementStart(0,"th",81),a.\u0275\u0275elementStart(1,"span",80),a.\u0275\u0275text(2,"\u5230\u671f\u66f4\u6362\u65e5\u671f"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd())}function ln(e,t){1&e&&(a.\u0275\u0275elementStart(0,"th",79),a.\u0275\u0275elementStart(1,"span",80),a.\u0275\u0275text(2,"\u5907\u6ce8"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd())}function dn(e,t){1&e&&(a.\u0275\u0275elementStart(0,"span",101),a.\u0275\u0275element(1,"em",102),a.\u0275\u0275elementEnd())}function cn(e,t){if(1&e&&(a.\u0275\u0275elementStart(0,"td"),a.\u0275\u0275template(1,dn,2,0,"span",100),a.\u0275\u0275text(2),a.\u0275\u0275elementEnd()),2&e){var n=a.\u0275\u0275nextContext().$implicit;a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",n.quickwear_part),a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate1(" ",n.material_code," ")}}function sn(e,t){if(1&e&&(a.\u0275\u0275elementStart(0,"td"),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&e){var n=a.\u0275\u0275nextContext().$implicit;a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate1(" ",n.material_name," ")}}function mn(e,t){if(1&e&&(a.\u0275\u0275elementStart(0,"td"),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&e){var n=a.\u0275\u0275nextContext().$implicit;a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate1(" ",n.specification," ")}}function pn(e,t){if(1&e&&(a.\u0275\u0275elementStart(0,"td"),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&e){var n=a.\u0275\u0275nextContext().$implicit;a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate1(" ",n.model," ")}}function un(e,t){if(1&e&&(a.\u0275\u0275elementStart(0,"td"),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&e){var n=a.\u0275\u0275nextContext().$implicit;a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate1(" ",n.sn," ")}}function fn(e,t){if(1&e&&(a.\u0275\u0275elementStart(0,"td",107),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&e){var n=a.\u0275\u0275nextContext().$implicit;a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate1(" ",n.unit," ")}}function vn(e,t){if(1&e&&(a.\u0275\u0275elementStart(0,"td",87),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&e){var n=a.\u0275\u0275nextContext().$implicit;a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate1(" ",n.unit_qty," ")}}function gn(e,t){if(1&e&&(a.\u0275\u0275elementStart(0,"td"),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&e){var n=a.\u0275\u0275nextContext().$implicit;a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate1(" ",n.item_group_name," ")}}function hn(e,t){if(1&e&&(a.\u0275\u0275elementStart(0,"td"),a.\u0275\u0275text(1),a.\u0275\u0275pipe(2,"date"),a.\u0275\u0275elementEnd()),2&e){var n=a.\u0275\u0275nextContext().$implicit;a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate1(" ",a.\u0275\u0275pipeBind2(2,1,n.expiry_date,"yyyy-MM-dd")," ")}}function wn(e,t){if(1&e&&(a.\u0275\u0275elementStart(0,"td"),a.\u0275\u0275text(1),a.\u0275\u0275pipe(2,"date"),a.\u0275\u0275elementEnd()),2&e){var n=a.\u0275\u0275nextContext().$implicit;a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate1(" ",a.\u0275\u0275pipeBind2(2,1,n.replacement_date,"yyyy-MM-dd")," ")}}function yn(e,t){if(1&e&&(a.\u0275\u0275elementStart(0,"td"),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&e){var n=a.\u0275\u0275nextContext().$implicit;a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate1(" ",n.remark," ")}}function xn(e,t){1&e&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275elementStart(1,"tr",84),a.\u0275\u0275template(2,cn,3,2,"td",85),a.\u0275\u0275template(3,sn,2,1,"td",85),a.\u0275\u0275template(4,mn,2,1,"td",85),a.\u0275\u0275template(5,pn,2,1,"td",85),a.\u0275\u0275template(6,un,2,1,"td",85),a.\u0275\u0275template(7,fn,2,1,"td",106),a.\u0275\u0275template(8,vn,2,1,"td",86),a.\u0275\u0275template(9,gn,2,1,"td",85),a.\u0275\u0275template(10,hn,3,4,"td",85),a.\u0275\u0275template(11,wn,3,4,"td",85),a.\u0275\u0275template(12,yn,2,1,"td",85),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementContainerEnd()),2&e&&(a.\u0275\u0275advance(2),a.\u0275\u0275property("dwColumnId","material_code"),a.\u0275\u0275advance(1),a.\u0275\u0275property("dwColumnId","material_name"),a.\u0275\u0275advance(1),a.\u0275\u0275property("dwColumnId","specification"),a.\u0275\u0275advance(1),a.\u0275\u0275property("dwColumnId","model"),a.\u0275\u0275advance(1),a.\u0275\u0275property("dwColumnId","sn"),a.\u0275\u0275advance(1),a.\u0275\u0275property("dwColumnId","unit"),a.\u0275\u0275advance(1),a.\u0275\u0275property("dwColumnId","unit_qty"),a.\u0275\u0275advance(1),a.\u0275\u0275property("dwColumnId","item_group_name"),a.\u0275\u0275advance(1),a.\u0275\u0275property("dwColumnId","expiry_date"),a.\u0275\u0275advance(1),a.\u0275\u0275property("dwColumnId","replacement_date"),a.\u0275\u0275advance(1),a.\u0275\u0275property("dwColumnId","remark"))}var _n=function(){return{x:"1080px"}};function Cn(e,t){if(1&e){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"dw-tab",88),a.\u0275\u0275elementStart(1,"div",15),a.\u0275\u0275elementStart(2,"div",70),a.\u0275\u0275elementStart(3,"dw-form-item"),a.\u0275\u0275elementStart(4,"dw-form-control"),a.\u0275\u0275elementStart(5,"dw-table",103,72),a.\u0275\u0275listener("dwPageIndexChange",function(e){return a.\u0275\u0275restoreView(n),a.\u0275\u0275nextContext(2).search.pageIndex=e})("dwPageSizeChange",function(e){return a.\u0275\u0275restoreView(n),a.\u0275\u0275nextContext(2).search.pageSize=e})("dwPageSizeOptionsChange",function(e){return a.\u0275\u0275restoreView(n),a.\u0275\u0275nextContext(2).search.pageSizeOptions=e}),a.\u0275\u0275elementStart(7,"thead"),a.\u0275\u0275elementStart(8,"tr",73),a.\u0275\u0275template(9,Kt,3,0,"th",74),a.\u0275\u0275template(10,Jt,3,0,"th",74),a.\u0275\u0275template(11,Zt,3,0,"th",75),a.\u0275\u0275template(12,Yt,3,0,"th",75),a.\u0275\u0275template(13,en,3,0,"th",76),a.\u0275\u0275template(14,tn,3,0,"th",93),a.\u0275\u0275template(15,nn,3,0,"th",104),a.\u0275\u0275template(16,rn,3,0,"th",75),a.\u0275\u0275template(17,an,3,0,"th",75),a.\u0275\u0275template(18,on,3,0,"th",75),a.\u0275\u0275template(19,ln,3,0,"th",74),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(20,"tbody"),a.\u0275\u0275template(21,xn,13,11,"ng-container",78),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()}if(2&e){var r=a.\u0275\u0275reference(6),i=a.\u0275\u0275nextContext(2);a.\u0275\u0275advance(5),a.\u0275\u0275property("dwPageIndex",i.search.pageIndex)("dwData",i.product_part)("dwPageSize",i.search.pageSize)("dwPageSizeOptions",i.search.pageSizeOptions)("dwScroll",a.\u0275\u0275pureFunction0(17,_n)),a.\u0275\u0275advance(4),a.\u0275\u0275property("dwColumnId","material_code"),a.\u0275\u0275advance(1),a.\u0275\u0275property("dwColumnId","material_name"),a.\u0275\u0275advance(1),a.\u0275\u0275property("dwColumnId","specification"),a.\u0275\u0275advance(1),a.\u0275\u0275property("dwColumnId","model"),a.\u0275\u0275advance(1),a.\u0275\u0275property("dwColumnId","sn"),a.\u0275\u0275advance(1),a.\u0275\u0275property("dwColumnId","unit"),a.\u0275\u0275advance(1),a.\u0275\u0275property("dwColumnId","unit_qty"),a.\u0275\u0275advance(1),a.\u0275\u0275property("dwColumnId","item_group_name"),a.\u0275\u0275advance(1),a.\u0275\u0275property("dwColumnId","expiry_date"),a.\u0275\u0275advance(1),a.\u0275\u0275property("dwColumnId","replacement_date"),a.\u0275\u0275advance(1),a.\u0275\u0275property("dwColumnId","remark"),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngForOf",r.data)}}function Sn(e,t){if(1&e&&(a.\u0275\u0275elementStart(0,"div",24),a.\u0275\u0275text(1),a.\u0275\u0275pipe(2,"date"),a.\u0275\u0275elementEnd()),2&e){var n=a.\u0275\u0275nextContext().$implicit;a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate(a.\u0275\u0275pipeBind2(2,1,n.field_value,"yyyy-MM-dd"))}}function bn(e,t){if(1&e&&(a.\u0275\u0275elementStart(0,"div",24),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&e){var n=a.\u0275\u0275nextContext().$implicit;a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate(n.field_value)}}function In(e,t){if(1&e&&(a.\u0275\u0275elementStart(0,"div",111),a.\u0275\u0275elementStart(1,"div",18),a.\u0275\u0275text(2),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(3,Sn,3,4,"div",45),a.\u0275\u0275template(4,bn,2,1,"div",45),a.\u0275\u0275elementEnd()),2&e){var n=t.$implicit;a.\u0275\u0275advance(2),a.\u0275\u0275textInterpolate1("",n.field_label,"\uff1a"),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf","DATEPICKER"===n.field_type),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf","DATEPICKER"!==n.field_type)}}function En(e,t){if(1&e&&(a.\u0275\u0275elementStart(0,"div",24),a.\u0275\u0275text(1),a.\u0275\u0275pipe(2,"date"),a.\u0275\u0275elementEnd()),2&e){var n=a.\u0275\u0275nextContext().$implicit;a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate(a.\u0275\u0275pipeBind2(2,1,n.field_value,"yyyy-MM-dd"))}}function Dn(e,t){if(1&e&&(a.\u0275\u0275elementStart(0,"div",24),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),2&e){var n=a.\u0275\u0275nextContext().$implicit;a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate(n.field_value)}}function On(e,t){if(1&e&&(a.\u0275\u0275elementStart(0,"div",111),a.\u0275\u0275elementStart(1,"div",18),a.\u0275\u0275text(2),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(3,En,3,4,"div",45),a.\u0275\u0275template(4,Dn,2,1,"div",45),a.\u0275\u0275elementEnd()),2&e){var n=t.$implicit;a.\u0275\u0275advance(2),a.\u0275\u0275textInterpolate1("",n.field_label,"\uff1a"),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf","DATEPICKER"===n.field_type),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf","DATEPICKER"!==n.field_type)}}function kn(e,t){if(1&e&&(a.\u0275\u0275elementStart(0,"dw-tab",108),a.\u0275\u0275elementStart(1,"div",109),a.\u0275\u0275template(2,In,5,3,"div",110),a.\u0275\u0275template(3,On,5,3,"div",110),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&e){var n=a.\u0275\u0275nextContext(2);a.\u0275\u0275advance(2),a.\u0275\u0275property("ngForOf",n.custFieldsLeft),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngForOf",n.custFieldsRight)}}function Mn(e,t){if(1&e&&(a.\u0275\u0275elementStart(0,"div",113),a.\u0275\u0275text(1," \u60a8\u53ef\u5c06\u6b64\u4e8c\u7ef4\u7801\u8d34\u5728\u8bbe\u5907\u673a\u8eab\u4e0a\uff0c\u7528\u6237\u53ef\u626b\u7801\u8fdb\u884c\u5feb\u6377\u62a5\u4fee\u3002 "),a.\u0275\u0275element(2,"img",114),a.\u0275\u0275elementEnd()),2&e){var n=a.\u0275\u0275nextContext(3);a.\u0275\u0275advance(2),a.\u0275\u0275property("src",n.product_file[0].qrCodeContext,a.\u0275\u0275sanitizeUrl)}}function Pn(e,t){1&e&&(a.\u0275\u0275elementStart(0,"div",113),a.\u0275\u0275text(1," \u8be5\u8bbe\u5907\u6682\u65e0\u4e8c\u7ef4\u7801 "),a.\u0275\u0275elementEnd())}function Fn(e,t){if(1&e&&(a.\u0275\u0275template(0,Mn,3,1,"div",112),a.\u0275\u0275template(1,Pn,2,0,"div",112)),2&e){var n=a.\u0275\u0275nextContext(2);a.\u0275\u0275property("ngIf",n.product_file[0].qrCodeContext),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",!n.product_file[0].qrCodeContext)}}var Vn=function(){return{height:"calc(100% - 55px)",overflow:"auto","padding-bottom":"24px"}};function Tn(e,t){if(1&e){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"form",12),a.\u0275\u0275elementStart(1,"dw-tabset",13),a.\u0275\u0275elementStart(2,"dw-tab",14),a.\u0275\u0275elementStart(3,"div",15),a.\u0275\u0275template(4,Y,5,1,"div",16),a.\u0275\u0275template(5,ee,5,1,"div",16),a.\u0275\u0275elementStart(6,"div",17),a.\u0275\u0275elementStart(7,"div",18),a.\u0275\u0275text(8,"\u552e\u540e\u72b6\u6001\uff1a"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(9,"div",19),a.\u0275\u0275template(10,te,2,0,"span",20),a.\u0275\u0275template(11,ne,2,0,"span",21),a.\u0275\u0275template(12,re,2,0,"span",22),a.\u0275\u0275template(13,oe,13,8,"div",23),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(14,le,5,1,"div",16),a.\u0275\u0275template(15,de,5,1,"div",16),a.\u0275\u0275template(16,ce,5,1,"div",16),a.\u0275\u0275template(17,pe,5,3,"div",16),a.\u0275\u0275template(18,ue,5,1,"div",16),a.\u0275\u0275template(19,fe,5,1,"div",16),a.\u0275\u0275template(20,ve,5,1,"div",16),a.\u0275\u0275template(21,ge,5,1,"div",16),a.\u0275\u0275template(22,he,5,1,"div",16),a.\u0275\u0275template(23,we,6,4,"div",16),a.\u0275\u0275template(24,_e,6,2,"div",16),a.\u0275\u0275template(25,Ce,6,4,"div",16),a.\u0275\u0275template(26,Se,6,4,"div",16),a.\u0275\u0275template(27,be,5,1,"div",16),a.\u0275\u0275template(28,Ie,5,1,"div",16),a.\u0275\u0275elementStart(29,"div",17),a.\u0275\u0275elementStart(30,"div",18),a.\u0275\u0275text(31,"\u7ef4\u62a4\u4fdd\u517b\uff1a"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(32,"div",24),a.\u0275\u0275template(33,Ee,2,0,"ng-container",25),a.\u0275\u0275template(34,De,2,0,"ng-container",25),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(35,Oe,6,4,"div",16),a.\u0275\u0275template(36,Me,5,1,"div",16),a.\u0275\u0275template(37,Fe,5,1,"div",16),a.\u0275\u0275template(38,Re,10,3,"ng-container",25),a.\u0275\u0275template(39,ze,10,3,"ng-container",25),a.\u0275\u0275template(40,Be,5,1,"div",26),a.\u0275\u0275template(41,$e,5,1,"div",26),a.\u0275\u0275template(42,Ge,12,7,"div",26),a.\u0275\u0275template(43,Ze,6,1,"div",26),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(44,ht,19,15,"dw-tab",27),a.\u0275\u0275template(45,Qt,24,20,"dw-tab",28),a.\u0275\u0275template(46,Cn,22,18,"dw-tab",28),a.\u0275\u0275template(47,kn,4,2,"dw-tab",29),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(48,"dw-modal",30),a.\u0275\u0275listener("dwVisibleChange",function(e){return a.\u0275\u0275restoreView(n),a.\u0275\u0275nextContext().isShowQrcode=e})("dwOnCancel",function(){return a.\u0275\u0275restoreView(n),a.\u0275\u0275nextContext().handleCancel()})("dwOnOk",function(){return a.\u0275\u0275restoreView(n),a.\u0275\u0275nextContext().handleOk()}),a.\u0275\u0275template(49,Fn,2,2,"ng-template",31),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()}if(2&e){var r=a.\u0275\u0275nextContext();a.\u0275\u0275advance(1),a.\u0275\u0275property("dwTabPosition","top")("dwType","line")("dwAnimated",!1),a.\u0275\u0275advance(3),a.\u0275\u0275property("ngIf",r.formConfigList.indexOf("product_file_code")>=0),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",r.formConfigList.indexOf("product_file_name")>=0),a.\u0275\u0275advance(5),a.\u0275\u0275property("ngIf","1"===r.product_file[0].service_status),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf","2"===r.product_file[0].service_status),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf","3"===r.product_file[0].service_status),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf","3"===r.product_file[0].service_status&&r.product_file[0].recycler),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",r.formConfigList.indexOf("item_group")>=0),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",r.formConfigList.indexOf("model")>=0),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",r.formConfigList.indexOf("specification")>=0),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",r.formConfigList.indexOf("sn")>=0),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",r.formConfigList.indexOf("customer")>=0),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",r.formConfigList.indexOf("customer")>=0),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",r.formConfigList.indexOf("location")>=0),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",r.formConfigList.indexOf("service_site")>=0),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",r.formConfigList.indexOf("employee")>=0),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",r.formConfigList.indexOf("delivery_date")>=0),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",r.formConfigList.indexOf("installation_date")>=0),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",r.formConfigList.indexOf("acceptance_date")>=0),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",r.formConfigList.indexOf("expiry_date")>=0),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",r.formConfigList.indexOf("commissioning_person")>=0),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",r.formConfigList.indexOf("acceptance_person")>=0),a.\u0275\u0275advance(5),a.\u0275\u0275property("ngIf","1"===r.product_file[0].enable_maintain),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf","0"===r.product_file[0].enable_maintain),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf","1"===r.basis_of_maintain),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf","1"===r.basis_of_maintain),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf","2"===r.basis_of_maintain),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf","1"===r.basis_of_maintain),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf","2"===r.basis_of_maintain),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",r.formConfigList.indexOf("product_description")>=0),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",r.formConfigList.indexOf("remark")>=0),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",r.formConfigList.indexOf("file")>=0),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",r.formConfigList.indexOf("attachment")>=0),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf","2"===r.fileType),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf","2"===r.fileType),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf","1"===r.fileType),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",r.productFileHasCustomizeField),a.\u0275\u0275advance(1),a.\u0275\u0275property("dwBodyStyle",a.\u0275\u0275pureFunction0(44,Vn))("dwMaskClosable",!0)("dwWidth",500)("dwVisible",r.isShowQrcode)("dwOkDisabled",!r.product_file[0].qrCodeContext)}}var Ln=function(){var e=function(){function e(n,r,o,l,d,c,s){var m=this;p(this,e),this.activeRoute=n,this.dwRoutingMessageSrv=r,this.doc=o,this.userService=l,this.productFileSrv=d,this.commonHttpService=c,this.message=s,this.visibleChanged=new a.EventEmitter,this.formConfigList=[],this.product_file=[],this.product_part=[],this.product_equipment_list=[],this.custFields=[],this.custFieldsLeft=[],this.custFieldsRight=[],this.showUploadList={showPreviewIcon:!0,showRemoveIcon:!1,showDownloadIcon:!1},this.id="",this.fileType="",this.type="",this.search={pageIndex:1,pageSize:10,pageSizeOptions:[10,20,30]},this.search2={pageIndex:1,pageSize:10,pageSizeOptions:[10,20,30]},this.displayData=[],this.itemGroupList=[],this.isShowQrcode=!1,this.userSite="",this.attachmentsList=[],this.userInfo={tenantId:"",userId:""},this.productFileHasCustomizeField=!1,this.basis_of_maintain="1",this.isVisible=!1,this.isRecycleVisible=!1,this.product_picture="",this.fileList=[],this.previewImage="",this.previewVisible=!1,this.handlePreview=function(e){return(0,i.mG)(m,void 0,void 0,t().mark(function n(){return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=!e.url&&!e.preview,!t.t0){t.next=5;break}return t.next=4,this.getBase64(e.originFileObj);case 4:e.preview=t.sent;case 5:this.previewImage=e.url||e.preview,this.previewVisible=!0;case 7:case"end":return t.stop()}},n,this)}))}}return f(e,[{key:"ngOnInit",value:function(){this.userInfo=this.userService.getUserInfo()}},{key:"initData",value:function(e,t){var n=this;console.log(e),this.commonHttpService.get("restful/service/autoSettings/CustomView/CustomView?viewId=product_file").subscribe(function(e){var t=[];e.data.config&&e.data.config.formConfig&&e.data.config.formConfig.length?(t=e.data.config.formConfig,v.R.product_file.length!==e.data.config.formConfig.length&&(t=v.R.product_file).forEach(function(t){e.data.config.formConfig.forEach(function(e){e.fieldKey===t.fieldKey&&(t.isTurnOn=e.isTurnOn)})})):t=v.R.product_file;var r=[];t.forEach(function(e){e.isTurnOn&&r.push(e.fieldKey)}),n.formConfigList=r},function(e){e.hasOwnProperty("error")&&e.error.hasOwnProperty("errorMessage")&&e.error.errorMessage&&n.message.error(e.error.errorMessage)}),this.search.pageIndex=1,this.search2.pageIndex=1,this.product_file=[],this.product_part=[],this.product_equipment_list=[],this.attachmentsList=[],this.custFields=[],this.custFieldsLeft=[],this.custFieldsRight=[],this.id=e,this.fileType=t,this.productFileSrv.getProductFileDetail(e,t).subscribe(function(e){var t=e.data;if(n.product_file=t.product_file,n.product_part=t.product_file[0].child.product_part||[],n.product_equipment_list=t.product_file[0].child.product_equipment_list||[],"2"===n.product_file[0].file_type){var r=[];n.product_equipment_list.forEach(function(e){e.child.product_part&&e.child.product_part.forEach(function(e){r.push(Object.assign({},e))})}),n.product_part=r.length?JSON.parse(JSON.stringify(n.product_equipment_list)):[]}n.product_picture=t.product_file[0].product_picture,t.product_file[0].product_picture?n.fileList=[{uid:n.product_picture,name:t.product_file[0].file_name,status:"done",url:t.product_file[0].file_context}]:(n.fileList=[],n.previewImage=""),t.product_file[0].child.attachments.forEach(function(e){n.attachmentsList.push(e)}),n.attachmentsList.forEach(function(e){e.name=e.attachment_name,e.uid=e.attachment_id,e.state=""});var i=t.$custFieldsConfig?t.$custFieldsConfig.product_file:[],a=t.product_file[0].cust_field?JSON.parse(t.product_file[0].cust_field):null;if(console.log(i),console.log(a),i.length){var o=[];i.forEach(function(e){if(o.push({field_type:e.field_type,field_label:e.field_label,field_value:null}),a)for(var t in a)e.field_id===t&&(o[o.length-1].field_value=a[t])});for(var l=Math.ceil(o.length/2),d=[],c=0;c<l;c++)d.push(2*c+1===o.length?[o[2*c]]:[o[2*c],o[2*c+1]]);n.custFields=d,d.forEach(function(e){n.custFieldsLeft.push(e[0]),e.length>1&&n.custFieldsRight.push(e[1])})}n.productFileSrv.getItemGroupList("","","1").subscribe(function(e){n.itemGroupList=e||[];var t=n.itemGroupList.filter(function(e){return e.item_group_id===n.product_file[0].item_group_id});n.basis_of_maintain=t.length&&t[0].basis_of_maintain||"1"},function(e){e.hasOwnProperty("error")&&e.error.hasOwnProperty("errorMessage")&&e.error.errorMessage&&n.message.error(e.error.errorMessage)})},function(e){e.hasOwnProperty("error")&&e.error.hasOwnProperty("errorMessage")&&e.error.errorMessage&&n.message.error(e.error.errorMessage)}),this.productFileSrv.getUserSite().subscribe(function(e){n.userSite=e.data.data.service_site_type},function(e){e.hasOwnProperty("error")&&e.error.hasOwnProperty("errorMessage")&&e.error.errorMessage&&n.message.error(e.error.errorMessage)}),this.productFileSrv.getProductFileHasCustomizeField("product_file").subscribe(function(e){n.productFileHasCustomizeField="true"===e.data},function(e){e.hasOwnProperty("error")&&e.error.hasOwnProperty("errorMessage")&&e.error.errorMessage&&n.message.error(e.error.errorMessage)})}},{key:"showQrcode",value:function(){this.isShowQrcode=!0}},{key:"downloadImg",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"qrCode.png",n=document.createElement("a");n.download=t,n.href=e;var r=document.createEvent("MouseEvents");r.initEvent("click",!0,!0),n.dispatchEvent(r)}},{key:"handleOk",value:function(){this.downloadImg(this.product_file[0].qrCodeContext,this.product_file[0].qrCodeName)}},{key:"dataURLtoBlob",value:function(e){for(var t=e.split(","),n=t[0].match(/:(.*?);/)[1],r=atob(t[1]),i=r.length,a=new Uint8Array(i);i--;)a[i]=r.charCodeAt(i);return new Blob([a],{type:n})}},{key:"changeVisible",value:function(e){this.isVisible=e,this.initData(this.id,this.fileType)}},{key:"changeRecycleVisible",value:function(e){this.isRecycleVisible=!1,e&&this.visibleChanged.emit(!0)}},{key:"handleCancel",value:function(){this.isShowQrcode=!1}},{key:"saving",value:function(){return!0}},{key:"saved",value:function(e){}},{key:"getBase64",value:function(e){return new Promise(function(t,n){var r=new FileReader;r.readAsDataURL(e),r.onload=function(){return t(r.result)},r.onerror=function(e){return n(e)}})}},{key:"downloadFile",value:function(e){var t=this;this.productFileSrv.download({attachment_id:e}).subscribe(function(e){if(e)switch(e.type){case m.HttpEventType.Response:var t=URL.createObjectURL(e.body),n=document.createElement("a");n.href=t,n.style="visibility:hidden";var r=e.headers.get("Content-disposition").split("filename=")[1];n.download=decodeURI(r),document.body.appendChild(n),n.click(),document.body.removeChild(n)}},function(e){e.hasOwnProperty("error")&&e.error.hasOwnProperty("errorMessage")&&e.error.errorMessage&&t.message.error(e.error.errorMessage)})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(a.\u0275\u0275directiveInject(o.ActivatedRoute),a.\u0275\u0275directiveInject(c.DwRoutingMessageService),a.\u0275\u0275directiveInject(l.DwDocument),a.\u0275\u0275directiveInject(s.DwUserService),a.\u0275\u0275directiveInject(d.U),a.\u0275\u0275directiveInject(g.$),a.\u0275\u0275directiveInject(u.DwMessageService))},e.\u0275cmp=a.\u0275\u0275defineComponent({type:e,selectors:[["app-product-file-detail"]],outputs:{visibleChanged:"visibleChanged"},features:[a.\u0275\u0275ProvidersFeature([l.DwDocument,h.N])],decls:6,vars:4,consts:[["class","sub_act",4,"ngIf"],[3,"visible","visibleChanged"],["child2",""],["child3",""],["dw-form","","style","margin-top: -12px;",4,"ngIf"],[1,"sub_act"],["dw-icon","","dwType","ellipsis","dwTheme","outline"],[1,"pub-btns"],["dwActionAuthorized","","angularticsAction","\u8be6\u60c5-\u70b9\u51fb\u8fc7\u6237","dw-analyticsOn","click",3,"dwActionId","dwDefaultAuthorized","angularticsCategory","angularticsLabel","click",4,"ngIf"],["dwActionAuthorized","","angularticsAction","\u8be6\u60c5-\u70b9\u51fb\u56de\u6536","dw-analyticsOn","click",3,"dwActionId","dwDefaultAuthorized","angularticsCategory","angularticsLabel","click",4,"ngIf"],["dwActionAuthorized","","angularticsAction","\u8be6\u60c5-\u70b9\u51fb\u8fc7\u6237","dw-analyticsOn","click",3,"dwActionId","dwDefaultAuthorized","angularticsCategory","angularticsLabel","click"],["dwActionAuthorized","","angularticsAction","\u8be6\u60c5-\u70b9\u51fb\u56de\u6536","dw-analyticsOn","click",3,"dwActionId","dwDefaultAuthorized","angularticsCategory","angularticsLabel","click"],["dw-form","",2,"margin-top","-12px"],[1,"my-tab",3,"dwTabPosition","dwType","dwAnimated"],["dwTitle","\u57fa\u672c\u4fe1\u606f"],["dw-row",""],["dw-col","","dwSpan","8","class","flex-box",4,"ngIf"],["dw-col","","dwSpan","8",1,"flex-box"],[1,"label"],[1,"info","status_info",2,"flex","none","width","64px","position","relative"],["class","state_tip",4,"ngIf"],["class","state_tip zise",4,"ngIf"],["class","state_tip gray",4,"ngIf"],["class","recycle_info",4,"ngIf"],[1,"info"],[4,"ngIf"],["dw-col","","dwSpan","24","class","flex-box",4,"ngIf"],["dwTitle","\u8bbe\u5907\u4fe1\u606f",4,"ngIf"],["dwTitle","\u914d\u4ef6\u4fe1\u606f",4,"ngIf"],["dwTitle","\u9644\u52a0\u4fe1\u606f",4,"ngIf"],["dwTitle","\u8bbe\u5907\u62a5\u4fee\u4e8c\u7ef4\u7801","dwOkText","\u4e0b\u8f7d\u4e8c\u7ef4\u7801",3,"dwBodyStyle","dwMaskClosable","dwWidth","dwVisible","dwOkDisabled","dwVisibleChange","dwOnCancel","dwOnOk"],["dwModalContent",""],[1,"state_tip"],[1,"state_tip","zise"],[1,"state_tip","gray"],[1,"recycle_info"],[1,"left"],["src","../../../../../../assets/img/user-head.png","alt","\u5934\u50cf",4,"ngIf"],["alt","\u5934\u50cf",3,"src",4,"ngIf"],[1,"right"],[1,"name"],[1,"reason"],["src","../../../../../../assets/img/user-head.png","alt","\u5934\u50cf"],["alt","\u5934\u50cf",3,"src"],["class","label",4,"ngIf"],["class","info",4,"ngIf"],["dw-col","","dwSpan","24",1,"flex-box"],[1,"clearfix"],["dwListType","picture-card",3,"dwFileList","dwShowButton","dwShowUploadList","dwPreview","dwFileListChange"],["dw-icon","","dwType","plus"],[1,"ant-upload-text"],[3,"dwVisible","dwContent","dwFooter","dwOnCancel"],["modalContent",""],["alt","\u4ea7\u54c1\u6863\u6848",3,"src","ngStyle"],[1,"files"],["class","file",4,"ngFor","ngForOf"],[1,"file"],["src","../../../../../../assets/img/icon_excel.png","alt","excel",4,"ngIf"],["src","../../../../../../assets/img/icon_word.png","alt","word",4,"ngIf"],["src","../../../../../../assets/img/icon_pdf.png","alt","pdf",4,"ngIf"],["src","../../../../../../assets/img/icon_ppt.png","alt","ppt",4,"ngIf"],["src","../../../../../../assets/img/icon_picture.png","alt","pic",4,"ngIf"],[1,"download",3,"click"],["dw-icon","","dwType","download","dwTheme","outline"],["src","../../../../../../assets/img/icon_excel.png","alt","excel"],["src","../../../../../../assets/img/icon_word.png","alt","word"],["src","../../../../../../assets/img/icon_pdf.png","alt","pdf"],["src","../../../../../../assets/img/icon_ppt.png","alt","ppt"],["src","../../../../../../assets/img/icon_picture.png","alt","pic"],["dwTitle","\u8bbe\u5907\u4fe1\u606f"],["dw-col","","dwSpan","24"],["dwTableId","crs-product-equipment-detail-list",3,"dwPageIndex","dwData","dwPageSize","dwPageSizeOptions","dwScroll","dwPageIndexChange","dwPageSizeChange","dwPageSizeOptionsChange"],["dwTable",""],["dw-tr","","dwDropColumns",""],["dw-th","","dwDragDrop","","dwWidth","140px",4,"dwColumnId"],["dw-th","","dwDragDrop","","dwWidth","110px",4,"dwColumnId"],["dw-th","","dwDragDrop","","dwWidth","120px",4,"dwColumnId"],["dw-th","","dwDragDrop","","dwWidth","96px","class","align-right",4,"dwColumnId"],[4,"ngFor","ngForOf"],["dw-th","","dwDragDrop","","dwWidth","140px"],["translate",""],["dw-th","","dwDragDrop","","dwWidth","110px"],["dw-th","","dwDragDrop","","dwWidth","120px"],["dw-th","","dwDragDrop","","dwWidth","96px",1,"align-right"],["dw-tbody-tr","","dwReorderColumns",""],[4,"dwColumnId"],["width","96","class","align-right",4,"dwColumnId"],["width","96",1,"align-right"],["dwTitle","\u914d\u4ef6\u4fe1\u606f"],["dwTableId","crs-equipment-part-detail-list",3,"dwPageIndex","dwData","dwPageSize","dwPageSizeOptions","dwScroll","dwPageIndexChange","dwPageSizeChange","dwPageSizeOptionsChange"],["dw-th","","dwWidth","140px",4,"dwColumnId"],["dw-th","","dwDragDrop","","dwWidth","140px","dwWidth","140px",4,"dwColumnId"],["dw-th","","dwDragDrop","","dwWidth","100px",4,"dwColumnId"],["dw-th","","dwDragDrop","","dwWidth","80px",4,"dwColumnId"],["dw-th","","dwWidth","140px"],["dw-th","","dwDragDrop","","dwWidth","140px","dwWidth","140px"],["dw-th","","dwDragDrop","","dwWidth","100px"],["dw-th","","dwDragDrop","","dwWidth","80px"],[3,"ngStyle",4,"dwColumnId"],[3,"ngStyle"],["dw-tooltip","","dwTooltipTitle","\u6613\u635f\u4ef6","class","quickPart",4,"ngIf"],["dw-tooltip","","dwTooltipTitle","\u6613\u635f\u4ef6",1,"quickPart"],[1,"point"],["dwTableId","crs-product-part-detail-list",3,"dwPageIndex","dwData","dwPageSize","dwPageSizeOptions","dwScroll","dwPageIndexChange","dwPageSizeChange","dwPageSizeOptionsChange"],["dw-th","","dwWidth","96px","class","align-right","dwDragDrop","",4,"dwColumnId"],["dw-th","","dwWidth","96px","dwDragDrop","",1,"align-right"],["width","72",4,"dwColumnId"],["width","72"],["dwTitle","\u9644\u52a0\u4fe1\u606f"],[1,"flex-list"],["dwSpan","11","class","flex-box",4,"ngFor","ngForOf"],["dwSpan","11",1,"flex-box"],["class","qr-wrap",4,"ngIf"],[1,"qr-wrap"],["alt","\u4e8c\u7ef4\u7801",3,"src"]],template:function(e,t){1&e&&(a.\u0275\u0275template(0,Z,5,2,"div",0),a.\u0275\u0275elementStart(1,"app-product-transfer",1,2),a.\u0275\u0275listener("visibleChanged",function(){return t.changeVisible(!1)}),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(3,"app-product-recycle",1,3),a.\u0275\u0275listener("visibleChanged",function(e){return t.changeRecycleVisible(e)}),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(5,Tn,50,45,"form",4)),2&e&&(a.\u0275\u0275property("ngIf",t.product_file[0]&&"3"!==t.product_file[0].service_status&&("1"==t.userSite||"1"===t.product_file[0].service_status)),a.\u0275\u0275advance(1),a.\u0275\u0275property("visible",t.isVisible),a.\u0275\u0275advance(2),a.\u0275\u0275property("visible",t.isRecycleVisible),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngIf",t.product_file[0]))},directives:[w.NgIf,A,B,I.u,k.DwIconDirective,$.DwActionAuthorizedDirective,q.DwAnalyticsOn,y.\u0275NgNoValidate,y.NgControlStatusGroup,y.NgForm,C.DwFormDirective,W.DwTabSetComponent,W.DwTabComponent,S.DwRowDirective,S.DwColDirective,_.DwModalComponent,_.DwModalContentDirective,G.DwUploadComponent,w.NgStyle,w.NgForOf,C.DwFormItemComponent,C.DwFormControlComponent,U.DwTableComponent,H.Ct,U.DwTheadComponent,U.DwTrDirective,H.Y9,H.b,U.DwTbodyComponent,U.DwTableCellDirective,U.DwThMeasureDirective,H.BL,H.$2,X.TranslateDirective,H.at,Q.DwTooltipDirective],pipes:[w.DatePipe],styles:[".sub-title[_ngcontent-%COMP%]{margin-left:0}.sub-title[_ngcontent-%COMP%]:first-of-type{margin-top:0;position:relative}.sub_act[_ngcontent-%COMP%]{position:fixed;top:56px;right:28px;width:28px;height:30px;line-height:30px;text-align:center;white-space:nowrap;font-weight:normal;z-index:999}.sub_act[_ngcontent-%COMP%]:hover{cursor:pointer}.sub_act[_ngcontent-%COMP%]:hover   em[_ngcontent-%COMP%]{color:#009bf2}.sub_act[_ngcontent-%COMP%]:hover   .pub-btns[_ngcontent-%COMP%]{display:flex}.pub-btns[_ngcontent-%COMP%]{width:68px;position:absolute;top:30px;right:-8px;z-index:1999;background:#fff;display:none;flex-direction:column}.pub-btns[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{text-align:left;padding-left:12px;border:1px solid #e9e9e9;border-top:0}.pub-btns[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{border-top:1px solid #e9e9e9}.pub-btns[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:hover{background:#f1f1f1;cursor:pointer}.flex-box[_ngcontent-%COMP%]{display:flex;line-height:30px}.info[_ngcontent-%COMP%]{flex:1;word-break:break-all;word-wrap:break-word;padding-right:20px}.state_tip[_ngcontent-%COMP%]{display:block;width:64px;height:26px;line-height:26px;text-align:center;border-radius:15px;color:#fff;font-size:13px;margin-top:2px;background:#29cc8d}.state_tip.zise[_ngcontent-%COMP%]{background:#5c64d1}.state_tip.gray[_ngcontent-%COMP%]{background:#5c5c5c;cursor:pointer}.qr-wrap[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.qr-wrap[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:280px;margin:8px 0 -10px}.file[_ngcontent-%COMP%]{width:368px;height:34px;display:flex;align-items:center;padding:0 10px;margin-top:10px;margin-bottom:10px;border:1px solid #dadada;border-radius:3px}.file[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:26px;height:26px;margin-right:6px}.file[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{color:#333;font-size:14px;width:314px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.file[_ngcontent-%COMP%]   .download[_ngcontent-%COMP%]{width:22px;text-align:right;color:#999;font-size:14px;cursor:pointer}.file[_ngcontent-%COMP%]   .download[_ngcontent-%COMP%]:hover{color:#40a9ff}.file[_ngcontent-%COMP%]   .download[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]{font-size:22px}.status_info[_ngcontent-%COMP%]:hover   .recycle_info[_ngcontent-%COMP%]{top:32px}.recycle_info[_ngcontent-%COMP%]{position:absolute;top:-9999px;right:-64px;width:300px;background:rgba(0,0,0,.75);padding:16px;display:flex;border-radius:2px;z-index:9}.recycle_info[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{width:40px;height:40px;margin-right:12px;font-size:0}.recycle_info[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%}.recycle_info[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{flex:1;line-height:20px}.recycle_info[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;color:#fff;font-size:12px;margin-bottom:8px}.recycle_info[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-of-type{font-size:14px;font-weight:bold}.recycle_info[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .reason[_ngcontent-%COMP%]{color:#fff;font-size:12px}.flex-list[_ngcontent-%COMP%]{display:flex;align-items:flex-start;flex-wrap:wrap;padding-right:24px;width:100%;overflow-x:hidden}.flex-list[_ngcontent-%COMP%]   .flex-box[_ngcontent-%COMP%]{width:50%;padding-right:20px}.quickPart[_ngcontent-%COMP%]   .point[_ngcontent-%COMP%]{display:inline-block;width:6px;height:6px;border-radius:3px;background-color:#ffbe68;margin-bottom:3px}"]}),e}()},6769:function(r,i,a){a.r(i),a.d(i,{ProductFileModule:function(){return Xl}});var o,d=a(55245),s=a(87974),m=a(42746),u=((o=function(){function e(){p(this,e)}return f(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||o)},o.\u0275cmp=m.\u0275\u0275defineComponent({type:o,selectors:[["app-product-file"]],decls:1,vars:0,template:function(e,t){1&e&&m.\u0275\u0275element(0,"router-outlet")},directives:[s.RouterOutlet],styles:[""]}),o),v=a(1020),g=a(33795),h=a(83237),w=a(31441),y=a(61937),x=a(53771),_=a(17494),C=a(66800),S=a(9201),b=a(71049),I=a(45890),E=a(48005),D=a(97834),O=a(53460),k=a(62695),M=a(71452),P=a(74591),F=a(83522);function V(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"th",12),m.\u0275\u0275elementStart(1,"span",13),m.\u0275\u0275text(2),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd()),2&e){var n=t.$implicit;m.\u0275\u0275property("width",n.width)("dwColumnKey",n.field),m.\u0275\u0275advance(2),m.\u0275\u0275textInterpolate(n.title)}}function T(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"th",14),m.\u0275\u0275elementStart(1,"span",13),m.\u0275\u0275text(2),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275nextContext(2);m.\u0275\u0275property("dwColumnKey","item_group"===n.modify_obj.modify_item_label||"service_site"===n.modify_obj.modify_item_label||"employee"===n.modify_obj.modify_item_label?n.modify_obj.modify_item_label+"_name":n.modify_obj.modify_item_label)("dwAlign","enable_maintain"===n.modify_obj.modify_item_label?"center":"left"),m.\u0275\u0275advance(2),m.\u0275\u0275textInterpolate(n.modify_obj.modify_item_name)}}function L(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"td"),m.\u0275\u0275text(1),m.\u0275\u0275elementEnd()),2&e){var n=t.$implicit,r=m.\u0275\u0275nextContext().$implicit;m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" ",r[n.field]," ")}}function R(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"td"),m.\u0275\u0275text(1),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275nextContext(2).$implicit,r=m.\u0275\u0275nextContext(2);m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" ",n[r.modify_obj.modify_item_label+"_name"]," ")}}function A(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"td"),m.\u0275\u0275text(1),m.\u0275\u0275pipe(2,"date"),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275nextContext(2).$implicit,r=m.\u0275\u0275nextContext(2);m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" ",m.\u0275\u0275pipeBind2(2,1,n[r.modify_obj.modify_item_label],"yyyy-MM-dd")," ")}}function N(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"td",18),m.\u0275\u0275element(1,"label",19),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275nextContext(2).$implicit,r=m.\u0275\u0275nextContext(2);m.\u0275\u0275advance(1),m.\u0275\u0275property("dwChecked","1"===n[r.modify_obj.modify_item_label])}}function j(e,t){if(1&e&&(m.\u0275\u0275elementContainerStart(0),m.\u0275\u0275template(1,R,2,1,"td",16),m.\u0275\u0275template(2,A,3,4,"td",16),m.\u0275\u0275template(3,N,2,1,"td",17),m.\u0275\u0275elementContainerEnd()),2&e){var n=m.\u0275\u0275nextContext(3);m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf","item_group"===n.modify_obj.modify_item_label||"service_site"===n.modify_obj.modify_item_label||"employee"===n.modify_obj.modify_item_label),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf","delivery_date"===n.modify_obj.modify_item_label||"expiry_date"===n.modify_obj.modify_item_label),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf","enable_maintain"===n.modify_obj.modify_item_label)}}function z(e,t){if(1&e){var n=m.\u0275\u0275getCurrentView();m.\u0275\u0275elementStart(0,"tr"),m.\u0275\u0275elementStart(1,"td"),m.\u0275\u0275elementStart(2,"label",15),m.\u0275\u0275listener("ngModelChange",function(e){return m.\u0275\u0275restoreView(n).$implicit.checked=e})("ngModelChange",function(){return m.\u0275\u0275restoreView(n),m.\u0275\u0275nextContext(2).updateSingleChecked()}),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275template(3,L,2,1,"td",11),m.\u0275\u0275template(4,j,4,3,"ng-container",16),m.\u0275\u0275elementEnd()}if(2&e){var r=t.$implicit,i=m.\u0275\u0275nextContext(2);m.\u0275\u0275advance(2),m.\u0275\u0275property("ngModel",r.checked),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngForOf",i.configObj.tableColDefs),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf","preview"===i.dataType)}}function B(e,t){if(1&e){var n=m.\u0275\u0275getCurrentView();m.\u0275\u0275elementStart(0,"dw-table",3,4),m.\u0275\u0275elementStart(2,"thead",5),m.\u0275\u0275listener("dwSortOrderChange",function(e){return m.\u0275\u0275restoreView(n),m.\u0275\u0275nextContext().order(e)}),m.\u0275\u0275elementStart(3,"tr",6),m.\u0275\u0275elementStart(4,"th",7),m.\u0275\u0275elementStart(5,"label",8),m.\u0275\u0275listener("ngModelChange",function(e){return m.\u0275\u0275restoreView(n),m.\u0275\u0275nextContext().allChecked=e})("ngModelChange",function(){return m.\u0275\u0275restoreView(n),m.\u0275\u0275nextContext().updateAllChecked()}),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275template(6,V,3,3,"th",9),m.\u0275\u0275template(7,T,3,3,"th",10),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(8,"tbody"),m.\u0275\u0275template(9,z,5,3,"tr",11),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd()}if(2&e){var r=m.\u0275\u0275reference(1),i=m.\u0275\u0275nextContext(),a=m.\u0275\u0275reference(3);m.\u0275\u0275property("dwData",i.dataList)("dwShowTotal",a),m.\u0275\u0275advance(5),m.\u0275\u0275property("ngModel",i.allChecked)("dwIndeterminate",i.indeterminate),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngForOf",i.configObj.tableColDefs),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf","preview"===i.dataType),m.\u0275\u0275advance(2),m.\u0275\u0275property("ngForOf",r.data)}}function $(e,t){if(1&e&&m.\u0275\u0275text(0),2&e){var n=m.\u0275\u0275nextContext();m.\u0275\u0275textInterpolate1("\u5171 ",n.dataList.length," \u6761")}}var q=function(){return{height:"calc(100% - 24px)",overflow:"auto"}},W=function(){var t=function(){function t(e,n){p(this,t),this.http=e,this.message=n,this.dataList=[],this.allChecked=!1,this.indeterminate=!1,this.chosen_id="0",this.chosen_name="\u5168\u90e8",this.configObj={},this.modify_obj={},this.visibleChanged=new m.EventEmitter}return f(t,[{key:"ngOnInit",value:function(){}},{key:"initData",value:function(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this.dataType=t,this.configObj=r,"preview"===t?(this.allChecked=!0,this.indeterminate=!1,this.modify_obj=a,this.http.post(r.dataSourceUrl,{params:r.paramData}).subscribe(function(e){n.dataList=e||[],n.updateAllChecked()},function(e){e.hasOwnProperty("error")&&e.error.hasOwnProperty("errorMessage")&&e.error.errorMessage&&n.message.error(e.error.errorMessage)})):(this.allChecked=!1,this.indeterminate=!1,this.http.get(r.dataSourceUrl).subscribe(function(r){if(n.dataList=r||[],null!=i)if(n.allChecked="0"===i,n.allChecked)n.updateAllChecked();else{var a,o=i.split(","),l=e(n.dataList);try{for(l.s();!(a=l.n()).done;){var d=a.value,c=o.indexOf(d["".concat(t,"_id")].toString());d.checked=c>=0}}catch(s){l.e(s)}finally{l.f()}n.updateSingleChecked()}},function(e){e.hasOwnProperty("error")&&e.error.hasOwnProperty("errorMessage")&&e.error.errorMessage&&n.message.error(e.error.errorMessage)}))}},{key:"updateAllChecked",value:function(){this.indeterminate=!1,this.dataList=this.dataList.map(this.allChecked?function(e){return Object.assign(Object.assign({},e),{checked:!0})}:function(e){return Object.assign(Object.assign({},e),{checked:!1})}),this.updateChosen()}},{key:"updateSingleChecked",value:function(){this.dataList.every(function(e){return!e.checked})?(this.allChecked=!1,this.indeterminate=!1):this.dataList.every(function(e){return e.checked})?(this.allChecked=!0,this.indeterminate=!1):(this.allChecked=!1,this.indeterminate=!0),this.updateChosen()}},{key:"updateChosen",value:function(){var e=this;if(this.allChecked){var t=[];("service_type"===this.dataType||"employee"===this.dataType||"preview"===this.dataType)&&this.dataList.forEach(function(n){n.checked&&t.push(n["".concat("preview"===e.dataType?"product_file":e.dataType,"_id")])}),this.chosen_id=t.join(","),this.chosen_name="\u5168\u90e8"}else{var n=[],r=[];this.dataList.forEach(function(t){t.checked&&(n.push(t["".concat("preview"===e.dataType?"product_file":e.dataType,"_id")]),r.push(t["".concat("preview"===e.dataType?"product_file":e.dataType,"_name")]))}),this.chosen_id=n.join(","),this.chosen_name=r.join(",")}}},{key:"handleCancel",value:function(){this.visibleChanged.emit(null)}},{key:"handleOk",value:function(){this.dataList.filter(function(e){return e.checked}).length?this.visibleChanged.emit(Object.assign({type:this.dataType,chosen_id:this.chosen_id,chosen_name:this.chosen_name},this.modify_obj)):this.message.create("error","\u8bf7\u81f3\u5c11\u9009\u62e9\u4e00\u9879")}},{key:"order",value:function(e){var t=e.key;switch(e.value){case"ascend":this.dataList=y.l.order(this.dataList,[t]);break;case"descend":this.dataList=y.l.order(this.dataList,[t,-1])}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(m.\u0275\u0275directiveInject(O.DwDapHttpClient),m.\u0275\u0275directiveInject(h.DwMessageService))},t.\u0275cmp=m.\u0275\u0275defineComponent({type:t,selectors:[["app-multy-all-select-opener"]],inputs:{visible:"visible"},outputs:{visibleChanged:"visibleChanged"},decls:4,vars:7,consts:[[3,"dwBodyStyle","dwMaskClosable","dwWidth","dwVisible","dwTitle","dwOkText","dwVisibleChange","dwOnCancel","dwOnOk"],["dwModalContent",""],["totalTemplate",""],[3,"dwData","dwShowTotal"],["dwTable",""],[3,"dwSortOrderChange"],["dw-tr",""],["dw-th","","width","40"],["dw-checkbox","",2,"width","100%",3,"ngModel","dwIndeterminate","ngModelChange"],["dw-th","","dwShowSort","",3,"width","dwColumnKey",4,"ngFor","ngForOf"],["dw-th","","width","140","dwShowSort","",3,"dwColumnKey","dwAlign",4,"ngIf"],[4,"ngFor","ngForOf"],["dw-th","","dwShowSort","",3,"width","dwColumnKey"],["translate",""],["dw-th","","width","140","dwShowSort","",3,"dwColumnKey","dwAlign"],["dw-checkbox","",2,"width","100%",3,"ngModel","ngModelChange"],[4,"ngIf"],["dwAlign","center",4,"ngIf"],["dwAlign","center"],["dwDisabled","","dw-checkbox","",3,"dwChecked"]],template:function(e,t){1&e&&(m.\u0275\u0275elementStart(0,"dw-modal",0),m.\u0275\u0275listener("dwVisibleChange",function(e){return t.visible=e})("dwOnCancel",function(){return t.handleCancel()})("dwOnOk",function(){return t.handleOk()}),m.\u0275\u0275template(1,B,10,7,"ng-template",1),m.\u0275\u0275elementEnd(),m.\u0275\u0275template(2,$,1,1,"ng-template",null,2,m.\u0275\u0275templateRefExtractor)),2&e&&m.\u0275\u0275property("dwBodyStyle",m.\u0275\u0275pureFunction0(6,q))("dwMaskClosable",!1)("dwWidth","preview"===t.dataType?960:620)("dwVisible",t.visible)("dwTitle",t.configObj.modalTitle)("dwOkText","preview"===t.dataType?"\u7acb\u5373\u4fee\u6539":"\u786e\u5b9a")},directives:[w.DwModalComponent,w.DwModalContentDirective,k.DwTableComponent,M.Ct,k.DwTheadComponent,k.DwTrDirective,k.DwTableCellDirective,k.DwThMeasureDirective,M.BL,P.DwCheckboxComponent,v.NgControlStatus,v.NgModel,d.NgForOf,d.NgIf,k.DwTbodyComponent,k.DwThAddOnComponent,F.TranslateDirective,k.DwCellAlignDirective],pipes:[d.DatePipe],styles:[""]}),t}(),G=a(29872),U=a(85773),H=a(35626),X=a(93761),Q=a(67280),K=a(85277),J=a(39288),Z=a(41937),Y=a(59970),ee=a(47372),te=function(){var e=function(){function e(t){p(this,e),this.commonHttpService=t,this.diffSubject=new b.Subject}return f(e,[{key:"diffSubject$",get:function(){return this.diffSubject.asObservable().pipe((0,ee.filter)(function(e){return null!==e}))}},{key:"getCustomView",value:function(){return this.commonHttpService.get("restful/service/autoSettings/CustomView/FormSetting?viewId=product_file")}},{key:"isDiff",value:function(e){var t={};e.forEach(function(e,n){t[e.dwColumnId]=n});var n=!1;return this.getCustomView().pipe((0,ee.switchMap)(function(e){for(var r in e)if(t.hasOwnProperty(r)&&!e[r]){n=!0;break}for(var i in e)if(!t.hasOwnProperty(i)&&e[i]){n=!0;break}return(0,b.of)(n)}))}},{key:"isDeleteConfigDiff",value:function(e){var t=this;this.isDiff(e).subscribe(function(e){e&&t.diffSubject.next(!0)})}},{key:"saveTableConfig",value:function(e){var t=this;return new b.Observable(function(n){t.isDiff(e.dwColumnConfig).subscribe(function(r){r?(t.diffSubject.next(!0),n.error(e),n.complete()):(n.next(e),n.complete())})})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(m.\u0275\u0275inject(I.$))},e.\u0275prov=m.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac}),e}(),ne=a(99487),re=a(80677),ie=a(8852),ae=a(96670),oe=a(37568),le=a(51156);function de(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"th",10),m.\u0275\u0275elementStart(1,"span",11),m.\u0275\u0275text(2),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd()),2&e){var n=t.$implicit;m.\u0275\u0275property("width",n.width)("dwColumnKey",n.field),m.\u0275\u0275advance(2),m.\u0275\u0275textInterpolate(n.title)}}function ce(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"td"),m.\u0275\u0275text(1),m.\u0275\u0275elementEnd()),2&e){var n=t.$implicit,r=m.\u0275\u0275nextContext().$implicit;m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" ",r[n.field]," ")}}function se(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"td"),m.\u0275\u0275text(1),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275nextContext().$implicit,r=m.\u0275\u0275nextContext();m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" ",n[r.modify_obj.modify_item_label+"_name"]," ")}}function me(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"td"),m.\u0275\u0275text(1),m.\u0275\u0275pipe(2,"date"),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275nextContext().$implicit,r=m.\u0275\u0275nextContext();m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" ",m.\u0275\u0275pipeBind2(2,1,n[r.modify_obj.modify_item_label],"yyyy-MM-dd")," ")}}function pe(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"td",15),m.\u0275\u0275element(1,"label",16),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275nextContext().$implicit,r=m.\u0275\u0275nextContext();m.\u0275\u0275advance(1),m.\u0275\u0275property("dwChecked","1"===n[r.modify_obj.modify_item_label])}}function ue(e,t){if(1&e){var n=m.\u0275\u0275getCurrentView();m.\u0275\u0275elementStart(0,"tr"),m.\u0275\u0275elementStart(1,"td"),m.\u0275\u0275elementStart(2,"label",12),m.\u0275\u0275listener("ngModelChange",function(e){return m.\u0275\u0275restoreView(n).$implicit.checked=e})("ngModelChange",function(){return m.\u0275\u0275restoreView(n),m.\u0275\u0275nextContext().updateSingleChecked()}),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275template(3,ce,2,1,"td",8),m.\u0275\u0275elementContainerStart(4),m.\u0275\u0275template(5,se,2,1,"td",13),m.\u0275\u0275template(6,me,3,4,"td",13),m.\u0275\u0275template(7,pe,2,1,"td",14),m.\u0275\u0275elementContainerEnd(),m.\u0275\u0275elementEnd()}if(2&e){var r=t.$implicit,i=m.\u0275\u0275nextContext();m.\u0275\u0275advance(2),m.\u0275\u0275property("ngModel",r.checked),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngForOf",i.tableColDefs),m.\u0275\u0275advance(2),m.\u0275\u0275property("ngIf","item_group"===i.modify_obj.modify_item_label||"service_site"===i.modify_obj.modify_item_label||"employee"===i.modify_obj.modify_item_label),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf","delivery_date"===i.modify_obj.modify_item_label||"expiry_date"===i.modify_obj.modify_item_label),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf","enable_maintain"===i.modify_obj.modify_item_label)}}function fe(e,t){if(1&e&&m.\u0275\u0275text(0),2&e){var n=m.\u0275\u0275nextContext();m.\u0275\u0275textInterpolate1("\u5171 ",n.dataList.length," \u6761")}}var ve=function(){var e=function(){function e(t,n){p(this,e),this.http=t,this.message=n,this.dataList=[],this.allChecked=!1,this.indeterminate=!1,this.modify_obj={},this.tableColDefs=[{title:"\u7f16\u53f7",field:"product_file_code",width:"140"},{title:"\u540d\u79f0",field:"product_file_name",width:"140"},{title:"\u89c4\u683c",field:"specification",width:"150"},{title:"\u5e8f\u5217\u53f7",field:"sn",width:"140"},{title:"\u578b\u53f7",field:"model",width:"140"}]}return f(e,[{key:"ngOnInit",value:function(){}},{key:"initData",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.modify_obj=n,this.allChecked=!0,this.indeterminate=!1,this.http.post("restful/service/productFile/ProductFile/ProductFileListForBatchModify",{params:t}).subscribe(function(t){e.dataList=t||[],e.updateAllChecked()},function(t){t.hasOwnProperty("error")&&t.error.hasOwnProperty("errorMessage")&&t.error.errorMessage&&e.message.error(t.error.errorMessage)})}},{key:"updateAllChecked",value:function(){this.indeterminate=!1,this.dataList=this.dataList.map(this.allChecked?function(e){return Object.assign(Object.assign({},e),{checked:!0})}:function(e){return Object.assign(Object.assign({},e),{checked:!1})}),this.updateChosen()}},{key:"updateSingleChecked",value:function(){this.dataList.every(function(e){return!e.checked})?(this.allChecked=!1,this.indeterminate=!1):this.dataList.every(function(e){return e.checked})?(this.allChecked=!0,this.indeterminate=!1):(this.allChecked=!1,this.indeterminate=!0),this.updateChosen()}},{key:"updateChosen",value:function(){if(this.allChecked){var e=[];this.dataList.forEach(function(t){t.checked&&e.push(t.product_file_id)})}else{var t=[],n=[];this.dataList.forEach(function(e){e.checked&&(t.push(e.product_file_id),n.push(e.product_file_name))})}}},{key:"reset",value:function(){this.dataList=[],this.allChecked=!1,this.indeterminate=!1}},{key:"order",value:function(e){var t=e.key;switch(e.value){case"ascend":this.dataList=y.l.order(this.dataList,[t]);break;case"descend":this.dataList=y.l.order(this.dataList,[t,-1])}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(m.\u0275\u0275directiveInject(le.DwDapHttpClient),m.\u0275\u0275directiveInject(h.DwMessageService))},e.\u0275cmp=m.\u0275\u0275defineComponent({type:e,selectors:[["app-multy-all-select"]],decls:13,vars:9,consts:[[3,"dwData","dwShowTotal"],["dwTable",""],[3,"dwSortOrderChange"],["dw-tr",""],["dw-th","","width","40"],["dw-checkbox","",2,"width","100%",3,"ngModel","dwIndeterminate","ngModelChange"],["dw-th","","dwShowSort","",3,"width","dwColumnKey",4,"ngFor","ngForOf"],["dw-th","","width","140","dwShowSort","",3,"dwColumnKey","dwAlign"],[4,"ngFor","ngForOf"],["totalTemplate",""],["dw-th","","dwShowSort","",3,"width","dwColumnKey"],["translate",""],["dw-checkbox","",2,"width","100%",3,"ngModel","ngModelChange"],[4,"ngIf"],["dwAlign","center",4,"ngIf"],["dwAlign","center"],["dwDisabled","","dw-checkbox","",3,"dwChecked"]],template:function(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"dw-table",0,1),m.\u0275\u0275elementStart(2,"thead",2),m.\u0275\u0275listener("dwSortOrderChange",function(e){return t.order(e)}),m.\u0275\u0275elementStart(3,"tr",3),m.\u0275\u0275elementStart(4,"th",4),m.\u0275\u0275elementStart(5,"label",5),m.\u0275\u0275listener("ngModelChange",function(e){return t.allChecked=e})("ngModelChange",function(){return t.updateAllChecked()}),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275template(6,de,3,3,"th",6),m.\u0275\u0275elementStart(7,"th",7),m.\u0275\u0275text(8),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(9,"tbody"),m.\u0275\u0275template(10,ue,8,5,"tr",8),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275template(11,fe,1,1,"ng-template",null,9,m.\u0275\u0275templateRefExtractor)),2&e){var n=m.\u0275\u0275reference(1),r=m.\u0275\u0275reference(12);m.\u0275\u0275property("dwData",t.dataList)("dwShowTotal",r),m.\u0275\u0275advance(5),m.\u0275\u0275property("ngModel",t.allChecked)("dwIndeterminate",t.indeterminate),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngForOf",t.tableColDefs),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnKey","item_group"===t.modify_obj.modify_item_label||"service_site"===t.modify_obj.modify_item_label||"employee"===t.modify_obj.modify_item_label?t.modify_obj.modify_item_label+"_name":t.modify_obj.modify_item_label)("dwAlign","enable_maintain"===t.modify_obj.modify_item_label?"center":"left"),m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" ",t.modify_obj.modify_item_name," "),m.\u0275\u0275advance(2),m.\u0275\u0275property("ngForOf",n.data)}},directives:[k.DwTableComponent,M.Ct,k.DwTheadComponent,k.DwTrDirective,k.DwTableCellDirective,k.DwThMeasureDirective,M.BL,P.DwCheckboxComponent,v.NgControlStatus,v.NgModel,d.NgForOf,k.DwThAddOnComponent,k.DwCellAlignDirective,k.DwTbodyComponent,F.TranslateDirective,d.NgIf],pipes:[d.DatePipe],styles:[""]}),e}(),ge=["child2"];function he(e,t){if(1&e){var n=m.\u0275\u0275getCurrentView();m.\u0275\u0275elementStart(0,"button",30),m.\u0275\u0275listener("click",function(){m.\u0275\u0275restoreView(n);var e=m.\u0275\u0275nextContext(2);return m.\u0275\u0275reference(3).initData("item_group",e.getConfigValue("item_group",!0),e.form.value.item_group_id),e.openDataWin("item_group")}),m.\u0275\u0275element(1,"em",31),m.\u0275\u0275elementEnd()}}function we(e,t){if(1&e){var n=m.\u0275\u0275getCurrentView();m.\u0275\u0275elementStart(0,"button",30),m.\u0275\u0275listener("click",function(){m.\u0275\u0275restoreView(n);var e=m.\u0275\u0275nextContext(2);return m.\u0275\u0275reference(3).initData("customer",e.getConfigValue("customer",!1),e.form.value.customer_id),e.openDataWin("customer")}),m.\u0275\u0275element(1,"em",31),m.\u0275\u0275elementEnd()}}function ye(e,t){if(1&e){var n=m.\u0275\u0275getCurrentView();m.\u0275\u0275elementStart(0,"button",30),m.\u0275\u0275listener("click",function(){m.\u0275\u0275restoreView(n);var e=m.\u0275\u0275nextContext(2);return m.\u0275\u0275reference(3).initData("service_site",e.getConfigValue("service_site",!1),e.form.value.service_site_id),e.openDataWin("service_site")}),m.\u0275\u0275element(1,"em",31),m.\u0275\u0275elementEnd()}}function xe(e,t){if(1&e){var n=m.\u0275\u0275getCurrentView();m.\u0275\u0275elementStart(0,"button",30),m.\u0275\u0275listener("click",function(){m.\u0275\u0275restoreView(n);var e=m.\u0275\u0275nextContext(2);return m.\u0275\u0275reference(3).initData("employee",e.getConfigValue("employee",!0),e.form.value.employee_id),e.openDataWin("employee")}),m.\u0275\u0275element(1,"em",31),m.\u0275\u0275elementEnd()}}function _e(e,t){1&e&&(m.\u0275\u0275elementContainerStart(0),m.\u0275\u0275elementStart(1,"div",6),m.\u0275\u0275elementStart(2,"div",7),m.\u0275\u0275elementStart(3,"div",8),m.\u0275\u0275text(4,"\u51fa\u5e93\u65e5\u671f"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(5,"dw-form-item",9),m.\u0275\u0275elementStart(6,"dw-form-control"),m.\u0275\u0275elementStart(7,"div",32),m.\u0275\u0275element(8,"dw-date-picker",33),m.\u0275\u0275elementStart(9,"span",34),m.\u0275\u0275text(10,"-"),m.\u0275\u0275elementEnd(),m.\u0275\u0275element(11,"dw-date-picker",35),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(12,"div",7),m.\u0275\u0275elementStart(13,"div",8),m.\u0275\u0275text(14,"\u4fdd\u4fee\u622a\u6b62\u65e5\u671f"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(15,"dw-form-item",9),m.\u0275\u0275elementStart(16,"dw-form-control"),m.\u0275\u0275elementStart(17,"div",32),m.\u0275\u0275element(18,"dw-date-picker",36),m.\u0275\u0275elementStart(19,"span",34),m.\u0275\u0275text(20,"-"),m.\u0275\u0275elementEnd(),m.\u0275\u0275element(21,"dw-date-picker",37),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementContainerEnd())}function Ce(e,t){if(1&e){var n=m.\u0275\u0275getCurrentView();m.\u0275\u0275elementStart(0,"button",30),m.\u0275\u0275listener("click",function(){m.\u0275\u0275restoreView(n);var e=m.\u0275\u0275reference(3),t=m.\u0275\u0275nextContext(3);return e.initData(t.getConfigValue(t.modify_item,!1))}),m.\u0275\u0275element(1,"em",31),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(2,"app-opener-frontend",39,40),m.\u0275\u0275listener("selectedChanged",function(e){return m.\u0275\u0275restoreView(n),m.\u0275\u0275nextContext(3).openSelect2(e)}),m.\u0275\u0275elementEnd()}}function Se(e,t){if(1&e){var n=m.\u0275\u0275getCurrentView();m.\u0275\u0275elementStart(0,"dw-form-control"),m.\u0275\u0275elementStart(1,"dw-input-group",10),m.\u0275\u0275elementStart(2,"input",38),m.\u0275\u0275listener("ngModelChange",function(e){return m.\u0275\u0275restoreView(n),m.\u0275\u0275nextContext(2).modify_value.name=e}),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275template(3,Ce,4,0,"ng-template",null,12,m.\u0275\u0275templateRefExtractor),m.\u0275\u0275elementEnd()}if(2&e){var r=m.\u0275\u0275reference(4),i=m.\u0275\u0275nextContext(2);m.\u0275\u0275advance(1),m.\u0275\u0275property("dwSuffix",r),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngModel",i.modify_value.name)}}function be(e,t){if(1&e){var n=m.\u0275\u0275getCurrentView();m.\u0275\u0275elementStart(0,"dw-form-control"),m.\u0275\u0275elementStart(1,"div",32),m.\u0275\u0275elementStart(2,"dw-date-picker",41),m.\u0275\u0275listener("ngModelChange",function(e){return m.\u0275\u0275restoreView(n),m.\u0275\u0275nextContext(2).modify_value=e}),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd()}if(2&e){var r=m.\u0275\u0275nextContext(2);m.\u0275\u0275advance(2),m.\u0275\u0275property("ngModel",r.modify_value)}}function Ie(e,t){if(1&e){var n=m.\u0275\u0275getCurrentView();m.\u0275\u0275elementStart(0,"dw-form-control"),m.\u0275\u0275elementStart(1,"div",32),m.\u0275\u0275elementStart(2,"label",42),m.\u0275\u0275listener("ngModelChange",function(e){return m.\u0275\u0275restoreView(n),m.\u0275\u0275nextContext(2).modify_value=e}),m.\u0275\u0275text(3),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd()}if(2&e){var r=m.\u0275\u0275nextContext(2);m.\u0275\u0275advance(2),m.\u0275\u0275property("ngModel",r.modify_value),m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" ",r.modify_value?"\u5f00\u542f":"\u5173\u95ed"," ")}}function Ee(e,t){if(1&e){var n=m.\u0275\u0275getCurrentView();m.\u0275\u0275elementStart(0,"div",4),m.\u0275\u0275text(1,"\u67e5\u8be2\u6761\u4ef6"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(2,"form",5),m.\u0275\u0275elementStart(3,"div",6),m.\u0275\u0275elementStart(4,"div",7),m.\u0275\u0275elementStart(5,"div",8),m.\u0275\u0275text(6,"\u4ea7\u54c1\u5206\u7c7b"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(7,"dw-form-item",9),m.\u0275\u0275elementStart(8,"dw-form-control"),m.\u0275\u0275elementStart(9,"dw-input-group",10),m.\u0275\u0275element(10,"input",11),m.\u0275\u0275elementEnd(),m.\u0275\u0275template(11,he,2,0,"ng-template",null,12,m.\u0275\u0275templateRefExtractor),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(13,"div",7),m.\u0275\u0275elementStart(14,"div",8),m.\u0275\u0275text(15,"\u5ba2\u6237"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(16,"dw-form-item",9),m.\u0275\u0275elementStart(17,"dw-form-control"),m.\u0275\u0275elementStart(18,"dw-input-group",10),m.\u0275\u0275element(19,"input",13),m.\u0275\u0275elementEnd(),m.\u0275\u0275template(20,we,2,0,"ng-template",null,14,m.\u0275\u0275templateRefExtractor),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(22,"div",15),m.\u0275\u0275elementStart(23,"button",16),m.\u0275\u0275listener("click",function(){return m.\u0275\u0275restoreView(n),m.\u0275\u0275nextContext().searchData()}),m.\u0275\u0275text(24),m.\u0275\u0275pipe(25,"translate"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(26,"button",16),m.\u0275\u0275listener("click",function(){return m.\u0275\u0275restoreView(n),m.\u0275\u0275nextContext().resetSearch()}),m.\u0275\u0275text(27),m.\u0275\u0275pipe(28,"translate"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(29,"div",17),m.\u0275\u0275listener("click",function(){return m.\u0275\u0275restoreView(n),m.\u0275\u0275nextContext().isShowSearchExpand()}),m.\u0275\u0275text(30),m.\u0275\u0275element(31,"em",18),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(32,"div",6),m.\u0275\u0275elementStart(33,"div",7),m.\u0275\u0275elementStart(34,"div",8),m.\u0275\u0275text(35,"\u670d\u52a1\u7ad9\u70b9"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(36,"dw-form-item",9),m.\u0275\u0275elementStart(37,"dw-form-control"),m.\u0275\u0275elementStart(38,"dw-input-group",10),m.\u0275\u0275element(39,"input",19),m.\u0275\u0275elementEnd(),m.\u0275\u0275template(40,ye,2,0,"ng-template",null,20,m.\u0275\u0275templateRefExtractor),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(42,"div",7),m.\u0275\u0275elementStart(43,"div",8),m.\u0275\u0275text(44,"\u670d\u52a1\u4eba\u5458"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(45,"dw-form-item",9),m.\u0275\u0275elementStart(46,"dw-form-control"),m.\u0275\u0275elementStart(47,"dw-input-group",10),m.\u0275\u0275element(48,"input",21),m.\u0275\u0275elementEnd(),m.\u0275\u0275template(49,xe,2,0,"ng-template",null,22,m.\u0275\u0275templateRefExtractor),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275template(51,_e,22,0,"ng-container",23),m.\u0275\u0275elementEnd(),m.\u0275\u0275element(52,"hr",24),m.\u0275\u0275elementStart(53,"div",4),m.\u0275\u0275text(54,"\u4fee\u6539\u680f\u4f4d"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(55,"div",25),m.\u0275\u0275elementStart(56,"div",7),m.\u0275\u0275elementStart(57,"div",8),m.\u0275\u0275text(58,"\u4fee\u6539\u680f\u4f4d"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(59,"dw-form-item",9),m.\u0275\u0275elementStart(60,"dw-form-control"),m.\u0275\u0275elementStart(61,"dw-select",26),m.\u0275\u0275listener("ngModelChange",function(e){return m.\u0275\u0275restoreView(n),m.\u0275\u0275nextContext().modify_item=e})("ngModelChange",function(e){return m.\u0275\u0275restoreView(n),m.\u0275\u0275nextContext().bindPickerChange(e)}),m.\u0275\u0275element(62,"dw-option",27),m.\u0275\u0275element(63,"dw-option",27),m.\u0275\u0275element(64,"dw-option",27),m.\u0275\u0275element(65,"dw-option",27),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(66,"div",7),m.\u0275\u0275elementStart(67,"div",8),m.\u0275\u0275text(68,"\u8d4b\u503c"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(69,"dw-form-item",9),m.\u0275\u0275template(70,Se,5,2,"dw-form-control",23),m.\u0275\u0275template(71,be,3,1,"dw-form-control",23),m.\u0275\u0275template(72,Ie,4,2,"dw-form-control",23),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(73,"div",28),m.\u0275\u0275element(74,"app-multy-all-select",null,29),m.\u0275\u0275elementEnd()}if(2&e){var r=m.\u0275\u0275reference(12),i=m.\u0275\u0275reference(21),a=m.\u0275\u0275reference(41),o=m.\u0275\u0275reference(50),l=m.\u0275\u0275nextContext();m.\u0275\u0275advance(2),m.\u0275\u0275property("formGroup",l.form),m.\u0275\u0275advance(7),m.\u0275\u0275property("dwSuffix",r),m.\u0275\u0275advance(9),m.\u0275\u0275property("dwSuffix",i),m.\u0275\u0275advance(5),m.\u0275\u0275property("dwType","primary"),m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" ",m.\u0275\u0275pipeBind1(25,24,"\u67e5\u8be2")," "),m.\u0275\u0275advance(2),m.\u0275\u0275property("dwType","defult"),m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" ",m.\u0275\u0275pipeBind1(28,26,"\u91cd\u7f6e")," "),m.\u0275\u0275advance(3),m.\u0275\u0275textInterpolate1(" ",l.showMore?"\u6536\u8d77":"\u5c55\u5f00"," "),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwType",l.showMore?"up":"down"),m.\u0275\u0275advance(7),m.\u0275\u0275property("dwSuffix",a),m.\u0275\u0275advance(9),m.\u0275\u0275property("dwSuffix",o),m.\u0275\u0275advance(4),m.\u0275\u0275property("ngIf",l.showMore),m.\u0275\u0275advance(10),m.\u0275\u0275property("ngModel",l.modify_item),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwLabel","\u4ea7\u54c1\u5206\u7c7b")("dwValue","item_group"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwLabel","\u670d\u52a1\u7ad9\u70b9")("dwValue","service_site"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwLabel","\u670d\u52a1\u4eba\u5458")("dwValue","employee"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwLabel","\u7ef4\u62a4\u4fdd\u517b")("dwValue","enable_maintain"),m.\u0275\u0275advance(5),m.\u0275\u0275property("ngIf","item_group"===l.modify_item||"service_site"===l.modify_item||"employee"===l.modify_item),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf","delivery_date"===l.modify_item||"expiry_date"===l.modify_item),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf","enable_maintain"===l.modify_item)}}var De=function(){return{height:"calc(100% - 24px)",overflow:"auto","padding-left":"16px"}},Oe=function(){var e=function(){function e(t,n,r,i){p(this,e),this.fb=t,this.http=n,this.message=r,this.datePipe=i,this.visibleChanged=new m.EventEmitter,this.showMultyAllOpener=!1,this.showMore=!1,this.modify_item="item_group",this.modify_value="",this.modify_obj={item_group:"\u4ea7\u54c1\u5206\u7c7b",service_site:"\u670d\u52a1\u7ad9\u70b9",employee:"\u670d\u52a1\u4eba\u5458",delivery_date:"\u51fa\u5e93\u65e5\u671f",expiry_date:"\u4fdd\u4fee\u622a\u6b62\u65e5\u671f",enable_maintain:"\u7ef4\u62a4\u4fdd\u517b"},this.form=this.fb.group({item_group_id:[""],item_group_name:["\u5168\u90e8"],customer_id:[""],customer_name:["\u5168\u90e8"],service_site_id:[""],service_site_name:["\u5168\u90e8"],employee_id:[""],employee_name:["\u5168\u90e8"],delivery_date_start:[""],delivery_date_end:[""],expiry_date_start:[""],expiry_date_end:[""]})}return f(e,[{key:"ngOnInit",value:function(){}},{key:"initData",value:function(){this.showMore=!1,this.resetData(),this.getOpenerIds()}},{key:"getOpenerIds",value:function(){for(var e=this,t=[],n=[{label:"service_site",url:"restful/service/productFile/ProductFile/ServiceSiteForBatchModify"},{label:"employee",url:"restful/service/productFile/ProductFile/ServiceEmployeeForBatchModify?serviceSiteId=".concat(this.form.value.service_site_id)}],r=function(){var n=a[i];t.push(new Promise(function(t,r){e.http.get(n.url).subscribe(function(e){var r=[];e.forEach(function(e){r.push(e[n.label+"_id"]+"")}),t(r.join(","))},function(n){n.hasOwnProperty("error")&&n.error.hasOwnProperty("errorMessage")&&n.error.errorMessage&&e.message.error(n.error.errorMessage),t("")})}))},i=0,a=n;i<a.length;i++)r();Promise.all(t).then(function(t){console.log("\u6240\u6709id",t),e.form.get("service_site_id").setValue(t[0]),e.form.get("employee_id").setValue(t[1]),e.child2.modify_obj={modify_item_label:e.modify_item,modify_item_name:e.modify_obj[e.modify_item],modify_item_value:e.modify_value}})}},{key:"openDataWin",value:function(e){this.showMultyAllOpener=!0}},{key:"getConfigValue",value:function(e,t){return"item_group"===e?{modalTitle:"\u8bf7\u9009\u62e9\u4ea7\u54c1\u5206\u7c7b",modalWidth:"50%",multiSelect:t,tableIdField:"item_group_id",tableNameField:"item_group_name",returnFields:["item_group_id","item_group_name"],tablePageSize:10,tableColDefs:[{title:"\u5206\u7c7b\u7f16\u53f7",field:"item_group_code",width:"220"},{title:"\u5206\u7c7b\u540d\u79f0",field:"item_group_name",width:"310"}],tableCustomTag:function(e){return"("+e.item_group_code+")"+e.item_group_name},dataSourceUrl:"restful/service/itemGroup/ItemGroup/ItemGroup?code=&name=&type=1",dwHttp:this.http}:"customer"===e?{modalTitle:"\u8bf7\u9009\u62e9\u5ba2\u6237",modalWidth:"50%",multiSelect:t,tableIdField:"customer_id",tableNameField:"customer_name",tablePageSize:10,returnFields:["customer_id","customer_name"],tableColDefs:[{title:"\u5ba2\u6237\u7f16\u53f7",field:"customer_code",width:"220"},{title:"\u5ba2\u6237\u540d\u79f0",field:"customer_name",width:"310"}],tableCustomTag:function(e){return"("+e.customer_code+")"+e.customer_name},dataSourceUrl:"restful/service/productFile/ProductFile/CustomerForBatchModify",dwHttp:this.http}:"service_site"===e?{modalTitle:"\u8bf7\u9009\u62e9\u670d\u52a1\u7ad9\u70b9",modalWidth:"50%",multiSelect:t,tableIdField:"service_site_id",tableNameField:"service_site_name",tablePageSize:10,returnFields:["service_site_id","service_site_name"],tableColDefs:[{title:"\u7f16\u53f7",field:"service_site_code",width:"220"},{title:"\u540d\u79f0",field:"service_site_name",width:"310"}],tableCustomTag:function(e){return"("+e.service_site_code+")"+e.service_site_name},dataSourceUrl:"restful/service/productFile/ProductFile/ServiceSiteForBatchModify",dwHttp:this.http}:{modalTitle:"\u8bf7\u9009\u62e9\u670d\u52a1\u4eba\u5458",modalWidth:"50%",multiSelect:t,tableIdField:"employee_id",tableNameField:"employee_name",tablePageSize:10,returnFields:["employee_id","employee_name"],tableColDefs:[{title:"\u4eba\u5458\u7f16\u53f7",field:"employee_code",width:"220"},{title:"\u4eba\u5458\u59d3\u540d",field:"employee_name",width:"310"}],tableCustomTag:function(e){return"("+e.employee_code+")"+e.employee_name},dataSourceUrl:"restful/service/productFile/ProductFile/ServiceEmployeeForBatchModify?serviceSiteId=".concat(this.form.value.service_site_id),dwHttp:this.http}}},{key:"openSelect",value:function(e){console.log(e),this.showMultyAllOpener=!1,e&&(this.form.get("".concat(e.type,"_id")).setValue(e.chosen_id),this.form.get("".concat(e.type,"_name")).setValue(e.chosen_name))}},{key:"isShowSearchExpand",value:function(){this.showMore=!this.showMore}},{key:"openSelect2",value:function(e){e&&(this.modify_value={id:e[0]["".concat(this.modify_item,"_id")]+"",code:e[0]["".concat(this.modify_item,"_code")],name:e[0]["".concat(this.modify_item,"_name")]})}},{key:"bindPickerChange",value:function(e){this.modify_value="enable_maintain"!==e&&"",this.child2.modify_obj={modify_item_label:this.modify_item,modify_item_name:this.modify_obj[this.modify_item],modify_item_value:this.modify_value}}},{key:"handleOk",value:function(){var e=this.form.value;if(e.delivery_date_start&&e.delivery_date_end&&new Date(e.delivery_date_start)>new Date(e.delivery_date_end))this.message.error("\u51fa\u5e93\u8d77\u59cb\u65e5\u671f\u4e0d\u53ef\u5927\u4e8e\u51fa\u5e93\u7ed3\u675f\u65e5\u671f");else if(e.expiry_date_start&&e.expiry_date_end&&new Date(e.expiry_date_start)>new Date(e.expiry_date_end))this.message.error("\u4fdd\u4fee\u622a\u6b62\u8d77\u59cb\u65e5\u671f\u4e0d\u53ef\u5927\u4e8e\u4fdd\u4fee\u622a\u6b62\u7ed3\u675f\u65e5\u671f");else if("enable_maintain"===this.modify_item||this.modify_value){var t=this.child2.dataList.filter(function(e){return e.checked});if(t.length){var n=[];t.forEach(function(e){n.push(e.product_file_id+"")});var r={valueName:this.modify_value.name?this.modify_value.name:"",productFileIds:n,modifyColumn:"item_group"===this.modify_item||"service_site"===this.modify_item||"employee"===this.modify_item?this.modify_item+"_id":this.modify_item,modifyValue:this.modify_value.id?this.modify_value.id:this.modify_item.indexOf("_date")>=0?this.datePipe.transform(this.modify_value,"yyyy-MM-dd"):this.modify_value};r.modifyValue=!0===r.modifyValue?"1":!1===r.modifyValue?"0":r.modifyValue,this.visibleChanged.emit(r)}else this.message.create("error","\u6ca1\u6709\u9700\u4fee\u6539\u7684\u6570\u636e\uff0c\u8bf7\u5148\u4f7f\u7528\u3010\u67e5\u8be2\u3011\u786e\u8ba4\u8981\u4fee\u6539\u7684\u6570\u636e\u8303\u56f4\uff0c\u518d\u8fdb\u884c\u4fee\u6539\uff01")}else this.message.error("\u8d4b\u503c\u4e0d\u53ef\u4e3a\u7a7a")}},{key:"handleCancel",value:function(){this.visibleChanged.emit(null)}},{key:"resetData",value:function(){this.form.reset({item_group_id:"",item_group_name:"\u5168\u90e8",customer_id:"",customer_name:"\u5168\u90e8",service_site_id:"",service_site_name:"\u5168\u90e8",employee_id:"",employee_name:"\u5168\u90e8",delivery_date_start:"",delivery_date_end:"",expiry_date_start:"",expiry_date_end:""}),this.modify_item="item_group",this.modify_value=""}},{key:"searchData",value:function(){var e={itemGroups:this.form.value.item_group_id?this.form.value.item_group_id.split(","):[],customers:this.form.value.customer_id?this.form.value.customer_id.split(","):[],serviceSites:this.form.value.service_site_id?this.form.value.service_site_id.split(","):[],employees:this.form.value.employee_id?this.form.value.employee_id.split(","):[],deliveryDateStart:this.datePipe.transform(this.form.value.delivery_date_start,"yyyy-MM-dd")||"",deliveryDateEnd:this.datePipe.transform(this.form.value.delivery_date_end,"yyyy-MM-dd")||"",expiryDateStart:this.datePipe.transform(this.form.value.expiry_date_start,"yyyy-MM-dd")||"",expiryDateEnd:this.datePipe.transform(this.form.value.expiry_date_end,"yyyy-MM-dd")||""};this.child2.initData(e,{modify_item_label:this.modify_item,modify_item_name:this.modify_obj[this.modify_item],modify_item_value:this.modify_value})}},{key:"resetSearch",value:function(){this.form.reset({item_group_id:"",item_group_name:"\u5168\u90e8",customer_id:"",customer_name:"\u5168\u90e8",service_site_id:"",service_site_name:"\u5168\u90e8",employee_id:"",employee_name:"\u5168\u90e8",delivery_date_start:"",delivery_date_end:"",expiry_date_start:"",expiry_date_end:""}),this.getOpenerIds(),this.child2.reset()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(m.\u0275\u0275directiveInject(v.FormBuilder),m.\u0275\u0275directiveInject(O.DwDapHttpClient),m.\u0275\u0275directiveInject(h.DwMessageService),m.\u0275\u0275directiveInject(d.DatePipe))},e.\u0275cmp=m.\u0275\u0275defineComponent({type:e,selectors:[["app-multy-modify-step1"]],viewQuery:function(e,t){var n;(1&e&&m.\u0275\u0275viewQuery(ge,5),2&e)&&(m.\u0275\u0275queryRefresh(n=m.\u0275\u0275loadQuery())&&(t.child2=n.first))},inputs:{visible:"visible"},outputs:{visibleChanged:"visibleChanged"},decls:4,vars:8,consts:[[3,"dwBodyStyle","dwMaskClosable","dwWidth","dwVisible","dwTitle","dwOkText","dwVisibleChange","dwOnCancel","dwOnOk"],["dwModalContent",""],[3,"visible","visibleChanged"],["child",""],[1,"sub-title",2,"margin-left","8px"],["dw-form","",2,"margin-left","-6px",3,"formGroup"],["dw-row","",1,"search-form-box"],[1,"search-input"],[1,"label"],[1,"form-input"],["dwSearch","",3,"dwSuffix"],["dw-input","","type","text","readonly","","dw-input","","formControlName","item_group_name"],["suffixcodeData",""],["dw-input","","type","text","readonly","","dw-input","","formControlName","customer_name"],["suffixcustomerData",""],[1,"search-input",2,"width","172px"],["dw-button","",3,"dwType","click"],[1,"isExpand",3,"click"],["dw-icon","","dwTheme","outline",3,"dwType"],["dw-input","","type","text","readonly","","dw-input","","formControlName","service_site_name"],["suffixsiteData",""],["dw-input","","type","text","readonly","","dw-input","","formControlName","employee_name"],["suffixemployeeData",""],[4,"ngIf"],["color","#e5e5e5"],["dw-row","",1,"search-form-box",2,"margin-left","-6px"],[2,"width","100%",3,"ngModel","ngModelChange"],[3,"dwLabel","dwValue"],[2,"margin-left","18px"],["child2",""],["dw-button","","dwType","primary","dwSearch","","type","button",3,"click"],["dw-icon","","dwType","search","dwTheme","outline"],[2,"display","flex","align-items","center"],["formControlName","delivery_date_start"],[2,"margin","0 8px"],["formControlName","delivery_date_end"],["formControlName","expiry_date_start"],["formControlName","expiry_date_end"],["dw-input","","type","text","readonly","","dw-input","",3,"ngModel","ngModelChange"],[3,"selectedChanged"],["selectOpener",""],[3,"ngModel","ngModelChange"],["dw-checkbox","",2,"color","rgba(0,0,0,0.85)","align-items","center",3,"ngModel","ngModelChange"]],template:function(e,t){1&e&&(m.\u0275\u0275elementStart(0,"dw-modal",0),m.\u0275\u0275listener("dwVisibleChange",function(e){return t.visible=e})("dwOnCancel",function(){return t.handleCancel()})("dwOnOk",function(){return t.handleOk()}),m.\u0275\u0275template(1,Ee,76,28,"ng-template",1),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(2,"app-multy-all-select-opener",2,3),m.\u0275\u0275listener("visibleChanged",function(e){return t.openSelect(e)}),m.\u0275\u0275elementEnd()),2&e&&(m.\u0275\u0275property("dwBodyStyle",m.\u0275\u0275pureFunction0(7,De))("dwMaskClosable",!1)("dwWidth",1e3)("dwVisible",t.visible)("dwTitle","\u6279\u91cf\u4fee\u6539\u4ea7\u54c1\u6863\u6848")("dwOkText","\u7acb\u5373\u4fee\u6539"),m.\u0275\u0275advance(2),m.\u0275\u0275property("visible",t.showMultyAllOpener))},directives:[w.DwModalComponent,w.DwModalContentDirective,W,v.\u0275NgNoValidate,v.NgControlStatusGroup,U.DwFormDirective,v.FormGroupDirective,G.DwRowDirective,U.DwFormItemComponent,G.DwColDirective,U.DwFormControlComponent,ie.u,Q.DwInputGroupComponent,Q.DwInputGroupWhitSuffixOrPrefixDirective,Q.DwInputDirective,v.DefaultValueAccessor,v.NgControlStatus,v.FormControlName,X.DwButtonComponent,ae.uG,K.DwIconDirective,d.NgIf,H.DwSelectComponent,v.NgModel,H.DwOptionComponent,ve,Z.DwDatePickerComponent,J.R,P.DwCheckboxComponent],pipes:[F.TranslatePipe],styles:[".search-form-box[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{width:calc((100% - 2 * 24px - 172px) / 2)}.search-form-box[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{width:82px;text-align:right}.search-form-box[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{flex:1}.sub-title[_ngcontent-%COMP%]{padding-left:8px}.isExpand[_ngcontent-%COMP%]{width:46px;white-space:nowrap;color:#1890ff;margin-left:16px;cursor:pointer}"]}),e}(),ke=a(88059),Me=a(82542),Pe=a(64840),Fe=["child"],Ve=["childStep2"],Te=["childPreview"],Le=["dwTableMulty"],Re=["dwTable"];function Ae(e,t){if(1&e){var n=m.\u0275\u0275getCurrentView();m.\u0275\u0275elementStart(0,"button",50),m.\u0275\u0275listener("click",function(){return m.\u0275\u0275restoreView(n),m.\u0275\u0275nextContext().query()}),m.\u0275\u0275element(1,"em",51),m.\u0275\u0275elementEnd()}}function Ne(e,t){if(1&e){var n=m.\u0275\u0275getCurrentView();m.\u0275\u0275elementStart(0,"em",54),m.\u0275\u0275listener("click",function(){return m.\u0275\u0275restoreView(n),m.\u0275\u0275nextContext(2).clear("customer")}),m.\u0275\u0275elementEnd()}}function je(e,t){if(1&e){var n=m.\u0275\u0275getCurrentView();m.\u0275\u0275template(0,Ne,1,0,"em",52),m.\u0275\u0275elementStart(1,"button",53),m.\u0275\u0275listener("click",function(){return m.\u0275\u0275restoreView(n),m.\u0275\u0275nextContext().openCustomer()}),m.\u0275\u0275element(2,"em",51),m.\u0275\u0275elementEnd()}if(2&e){var r=m.\u0275\u0275nextContext();m.\u0275\u0275property("ngIf",r.searchForm.value.customer_name),m.\u0275\u0275advance(1),m.\u0275\u0275propertyInterpolate("angularticsLabel",r.userInfo.tenantId+","+r.userInfo.userId),m.\u0275\u0275property("angularticsCategory","\u4ea7\u54c1\u6863\u6848")}}function ze(e,t){if(1&e){var n=m.\u0275\u0275getCurrentView();m.\u0275\u0275elementStart(0,"div",11),m.\u0275\u0275elementStart(1,"div"),m.\u0275\u0275text(2,"\xa0\xa0\xa0\xa0\u7c7b\u578b\xa0\xa0\xa0\xa0"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(3,"dw-form-item",13),m.\u0275\u0275elementStart(4,"dw-form-control"),m.\u0275\u0275elementStart(5,"dw-radio-group",60),m.\u0275\u0275listener("ngModelChange",function(){return m.\u0275\u0275restoreView(n),m.\u0275\u0275nextContext(2).radioChange()}),m.\u0275\u0275elementStart(6,"label",61),m.\u0275\u0275text(7,"\u5168\u90e8"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(8,"label",61),m.\u0275\u0275text(9,"\u4ea7\u7ebf/\u9879\u76ee"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(10,"label",61),m.\u0275\u0275text(11,"\u5355\u673a"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd()}2&e&&(m.\u0275\u0275advance(6),m.\u0275\u0275property("dwValue",""),m.\u0275\u0275advance(2),m.\u0275\u0275property("dwValue","2"),m.\u0275\u0275advance(2),m.\u0275\u0275property("dwValue","1"))}function Be(e,t){if(1&e){var n=m.\u0275\u0275getCurrentView();m.\u0275\u0275elementStart(0,"div"),m.\u0275\u0275elementStart(1,"div",10),m.\u0275\u0275elementStart(2,"div",11),m.\u0275\u0275elementStart(3,"div",12),m.\u0275\u0275text(4,"\u552e\u540e\u72b6\u6001"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(5,"dw-form-item",13),m.\u0275\u0275elementStart(6,"dw-form-control"),m.\u0275\u0275elementStart(7,"dw-select",55),m.\u0275\u0275listener("ngModelChange",function(e){return m.\u0275\u0275restoreView(n),m.\u0275\u0275nextContext().onOpenRange3(e)}),m.\u0275\u0275element(8,"dw-option",56),m.\u0275\u0275element(9,"dw-option",56),m.\u0275\u0275element(10,"dw-option",56),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(11,"div",11),m.\u0275\u0275elementStart(12,"div",12),m.\u0275\u0275text(13,"\u4e0b\u6b21\u7ef4\u62a4\u65e5\u671f"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(14,"dw-form-item",13),m.\u0275\u0275elementStart(15,"dw-form-control"),m.\u0275\u0275elementStart(16,"dw-date-picker",57),m.\u0275\u0275listener("ngModelChange",function(){return m.\u0275\u0275restoreView(n),m.\u0275\u0275nextContext().onOpenRange2()}),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275template(17,ze,12,3,"div",58),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(18,"div",10),m.\u0275\u0275elementStart(19,"div",11),m.\u0275\u0275elementStart(20,"div",12),m.\u0275\u0275text(21,"\u914d\u4ef6\u5e8f\u5217\u53f7"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(22,"dw-form-item",13),m.\u0275\u0275elementStart(23,"dw-form-control"),m.\u0275\u0275elementStart(24,"dw-input-group"),m.\u0275\u0275element(25,"input",59),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd()}if(2&e){var r=m.\u0275\u0275nextContext();m.\u0275\u0275advance(8),m.\u0275\u0275property("dwLabel","\u5168\u90e8")("dwValue",""),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwLabel","\u6b63\u5e38")("dwValue","1"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwLabel","\u62a5\u4fee\u4e2d")("dwValue","2"),m.\u0275\u0275advance(7),m.\u0275\u0275property("ngIf","0"===r.fileType)}}function $e(e,t){1&e&&(m.\u0275\u0275elementStart(0,"th",68),m.\u0275\u0275elementStart(1,"span",30),m.\u0275\u0275text(2,"\u7f16\u7801"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd())}function qe(e,t){1&e&&(m.\u0275\u0275elementContainerStart(0),m.\u0275\u0275template(1,$e,3,0,"th",67),m.\u0275\u0275elementContainerEnd()),2&e&&(m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","product_file_code"))}function We(e,t){1&e&&(m.\u0275\u0275elementStart(0,"th",70),m.\u0275\u0275elementStart(1,"span",30),m.\u0275\u0275text(2,"\u540d\u79f0"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd())}function Ge(e,t){1&e&&(m.\u0275\u0275elementContainerStart(0),m.\u0275\u0275template(1,We,3,0,"th",69),m.\u0275\u0275elementContainerEnd()),2&e&&(m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","product_file_name"))}function Ue(e,t){1&e&&(m.\u0275\u0275elementStart(0,"th",72),m.\u0275\u0275elementStart(1,"span",30),m.\u0275\u0275text(2,"\u4ea7\u54c1\u5206\u7c7b"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd())}function He(e,t){1&e&&(m.\u0275\u0275elementContainerStart(0),m.\u0275\u0275template(1,Ue,3,0,"th",71),m.\u0275\u0275elementContainerEnd()),2&e&&(m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","item_group_name"))}function Xe(e,t){1&e&&(m.\u0275\u0275elementStart(0,"th",74),m.\u0275\u0275elementStart(1,"span",30),m.\u0275\u0275text(2,"\u7c7b\u578b"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd())}function Qe(e,t){1&e&&(m.\u0275\u0275elementContainerStart(0),m.\u0275\u0275template(1,Xe,3,0,"th",73),m.\u0275\u0275elementContainerEnd()),2&e&&(m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","file_type_name"))}function Ke(e,t){1&e&&(m.\u0275\u0275elementStart(0,"span",30),m.\u0275\u0275text(1,"\u5e8f\u5217\u53f7"),m.\u0275\u0275elementEnd())}function Je(e,t){1&e&&(m.\u0275\u0275elementStart(0,"span",30),m.\u0275\u0275text(1,"\u9879\u76ee\u53f7"),m.\u0275\u0275elementEnd())}function Ze(e,t){1&e&&(m.\u0275\u0275elementStart(0,"span",30),m.\u0275\u0275text(1,"\u5e8f\u5217\u53f7/\u9879\u76ee\u53f7"),m.\u0275\u0275elementEnd())}function Ye(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"th",74),m.\u0275\u0275template(1,Ke,2,0,"span",75),m.\u0275\u0275template(2,Je,2,0,"span",75),m.\u0275\u0275template(3,Ze,2,0,"span",75),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275nextContext(3);m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf","1"===n.fileType),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf","2"===n.fileType),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf","0"===n.fileType)}}function et(e,t){1&e&&(m.\u0275\u0275elementContainerStart(0),m.\u0275\u0275template(1,Ye,4,3,"th",73),m.\u0275\u0275elementContainerEnd()),2&e&&(m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","sn"))}function tt(e,t){1&e&&(m.\u0275\u0275elementStart(0,"th",77),m.\u0275\u0275elementStart(1,"span",30),m.\u0275\u0275text(2,"\u89c4\u683c"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd())}function nt(e,t){1&e&&(m.\u0275\u0275elementContainerStart(0),m.\u0275\u0275template(1,tt,3,0,"th",76),m.\u0275\u0275elementContainerEnd()),2&e&&(m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","specification"))}function rt(e,t){1&e&&(m.\u0275\u0275elementStart(0,"th",74),m.\u0275\u0275elementStart(1,"span",30),m.\u0275\u0275text(2,"\u578b\u53f7"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd())}function it(e,t){1&e&&(m.\u0275\u0275elementContainerStart(0),m.\u0275\u0275template(1,rt,3,0,"th",73),m.\u0275\u0275elementContainerEnd()),2&e&&(m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","model"))}function at(e,t){1&e&&(m.\u0275\u0275elementStart(0,"th",79),m.\u0275\u0275elementStart(1,"span",30),m.\u0275\u0275text(2,"\u4f7f\u7528\u5730\u70b9"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd())}function ot(e,t){1&e&&(m.\u0275\u0275elementContainerStart(0),m.\u0275\u0275template(1,at,3,0,"th",78),m.\u0275\u0275elementContainerEnd()),2&e&&(m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","location"))}function lt(e,t){1&e&&(m.\u0275\u0275elementStart(0,"th",79),m.\u0275\u0275elementStart(1,"span",30),m.\u0275\u0275text(2,"\u670d\u52a1\u7ad9\u70b9"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd())}function dt(e,t){1&e&&(m.\u0275\u0275elementContainerStart(0),m.\u0275\u0275template(1,lt,3,0,"th",78),m.\u0275\u0275elementContainerEnd()),2&e&&(m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","service_site_name"))}function ct(e,t){1&e&&(m.\u0275\u0275elementStart(0,"th",81),m.\u0275\u0275elementStart(1,"span",30),m.\u0275\u0275text(2,"\u670d\u52a1\u4eba\u5458"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd())}function st(e,t){1&e&&(m.\u0275\u0275elementContainerStart(0),m.\u0275\u0275template(1,ct,3,0,"th",80),m.\u0275\u0275elementContainerEnd()),2&e&&(m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","employee_name"))}function mt(e,t){1&e&&(m.\u0275\u0275elementStart(0,"th",83),m.\u0275\u0275elementStart(1,"span",30),m.\u0275\u0275text(2,"\u5ba2\u6237"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd())}function pt(e,t){1&e&&(m.\u0275\u0275elementContainerStart(0),m.\u0275\u0275template(1,mt,3,0,"th",82),m.\u0275\u0275elementContainerEnd()),2&e&&(m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","customer_name"))}function ut(e,t){1&e&&(m.\u0275\u0275elementStart(0,"th",85),m.\u0275\u0275elementStart(1,"span",30),m.\u0275\u0275text(2,"\u51fa\u5e93\u65e5\u671f"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd())}function ft(e,t){1&e&&(m.\u0275\u0275elementContainerStart(0),m.\u0275\u0275template(1,ut,3,0,"th",84),m.\u0275\u0275elementContainerEnd()),2&e&&(m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","delivery_date"))}function vt(e,t){1&e&&(m.\u0275\u0275elementStart(0,"th",87),m.\u0275\u0275elementStart(1,"span",30),m.\u0275\u0275text(2,"\u5b89\u88c5\u65e5\u671f"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd())}function gt(e,t){1&e&&(m.\u0275\u0275elementContainerStart(0),m.\u0275\u0275template(1,vt,3,0,"th",86),m.\u0275\u0275elementContainerEnd()),2&e&&(m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","installation_date"))}function ht(e,t){1&e&&(m.\u0275\u0275elementStart(0,"th",85),m.\u0275\u0275elementStart(1,"span",30),m.\u0275\u0275text(2,"\u9a8c\u6536\u65e5\u671f"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd())}function wt(e,t){1&e&&(m.\u0275\u0275elementContainerStart(0),m.\u0275\u0275template(1,ht,3,0,"th",84),m.\u0275\u0275elementContainerEnd()),2&e&&(m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","acceptance_date"))}function yt(e,t){1&e&&(m.\u0275\u0275elementStart(0,"th",85),m.\u0275\u0275elementStart(1,"span",30),m.\u0275\u0275text(2,"\u4fdd\u4fee\u622a\u81f3\u65e5\u671f"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd())}function xt(e,t){1&e&&(m.\u0275\u0275elementContainerStart(0),m.\u0275\u0275template(1,yt,3,0,"th",84),m.\u0275\u0275elementContainerEnd()),2&e&&(m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","expiry_date"))}function _t(e,t){1&e&&(m.\u0275\u0275elementStart(0,"th",74),m.\u0275\u0275elementStart(1,"span",30),m.\u0275\u0275text(2,"\u63cf\u8ff0"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd())}function Ct(e,t){1&e&&(m.\u0275\u0275elementContainerStart(0),m.\u0275\u0275template(1,_t,3,0,"th",73),m.\u0275\u0275elementContainerEnd()),2&e&&(m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","product_description"))}function St(e,t){1&e&&(m.\u0275\u0275elementStart(0,"th",89),m.\u0275\u0275elementStart(1,"span",30),m.\u0275\u0275text(2,"\u7ef4\u4fee\u6b21\u6570"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd()),2&e&&m.\u0275\u0275property("dwAlign","right")}function bt(e,t){1&e&&(m.\u0275\u0275elementContainerStart(0),m.\u0275\u0275template(1,St,3,1,"th",88),m.\u0275\u0275elementContainerEnd()),2&e&&(m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","maintenance_count"))}function It(e,t){1&e&&(m.\u0275\u0275elementStart(0,"th",91),m.\u0275\u0275elementStart(1,"span",30),m.\u0275\u0275text(2,"\u552e\u540e\u72b6\u6001"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd()),2&e&&m.\u0275\u0275property("dwAlign","center")}function Et(e,t){1&e&&(m.\u0275\u0275elementContainerStart(0),m.\u0275\u0275template(1,It,3,1,"th",90),m.\u0275\u0275elementContainerEnd()),2&e&&(m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","service_status"))}function Dt(e,t){1&e&&(m.\u0275\u0275elementStart(0,"th",91),m.\u0275\u0275elementStart(1,"span",30),m.\u0275\u0275text(2,"\u4ea7\u54c1\u5c65\u5386"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd()),2&e&&m.\u0275\u0275property("dwAlign","center")}function Ot(e,t){1&e&&(m.\u0275\u0275elementContainerStart(0),m.\u0275\u0275template(1,Dt,3,1,"th",90),m.\u0275\u0275elementContainerEnd()),2&e&&(m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","product_resume"))}function kt(e,t){1&e&&(m.\u0275\u0275elementStart(0,"th",91),m.\u0275\u0275elementStart(1,"span",30),m.\u0275\u0275text(2,"\u64cd\u4f5c"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd()),2&e&&m.\u0275\u0275property("dwAlign","center")}function Mt(e,t){1&e&&(m.\u0275\u0275elementContainerStart(0),m.\u0275\u0275template(1,kt,3,1,"th",90),m.\u0275\u0275elementContainerEnd()),2&e&&(m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","operation"))}function Pt(e,t){if(1&e){var n=m.\u0275\u0275getCurrentView();m.\u0275\u0275elementStart(0,"td",94),m.\u0275\u0275elementStart(1,"a",95),m.\u0275\u0275listener("click",function(){m.\u0275\u0275restoreView(n);var e=m.\u0275\u0275nextContext(2).$implicit;return m.\u0275\u0275nextContext(2).detail(e)}),m.\u0275\u0275text(2),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd()}if(2&e){var r=m.\u0275\u0275nextContext(2).$implicit,i=m.\u0275\u0275nextContext(2);m.\u0275\u0275advance(1),m.\u0275\u0275propertyInterpolate("angularticsLabel",i.userInfo.tenantId+","+i.userInfo.userId),m.\u0275\u0275property("angularticsCategory","\u4ea7\u54c1\u6863\u6848"),m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate(r.product_file_code)}}function Ft(e,t){1&e&&(m.\u0275\u0275elementContainerStart(0),m.\u0275\u0275template(1,Pt,3,3,"td",93),m.\u0275\u0275elementContainerEnd()),2&e&&(m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","product_file_code"))}function Vt(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"td",97),m.\u0275\u0275text(1),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275nextContext(2).$implicit;m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" ",n.product_file_name," ")}}function Tt(e,t){1&e&&(m.\u0275\u0275elementContainerStart(0),m.\u0275\u0275template(1,Vt,2,1,"td",96),m.\u0275\u0275elementContainerEnd()),2&e&&(m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","product_file_name"))}function Lt(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"td",99),m.\u0275\u0275text(1),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275nextContext(2).$implicit;m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" ",n.item_group_name," ")}}function Rt(e,t){1&e&&(m.\u0275\u0275elementContainerStart(0),m.\u0275\u0275template(1,Lt,2,1,"td",98),m.\u0275\u0275elementContainerEnd()),2&e&&(m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","item_group_name"))}function At(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"td",101),m.\u0275\u0275text(1),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275nextContext(2).$implicit;m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" ","1"===n.file_type?"\u5355\u673a":"\u4ea7\u7ebf/\u9879\u76ee"," ")}}function Nt(e,t){1&e&&(m.\u0275\u0275elementContainerStart(0),m.\u0275\u0275template(1,At,2,1,"td",100),m.\u0275\u0275elementContainerEnd()),2&e&&(m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","file_type_name"))}function jt(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"td",99),m.\u0275\u0275text(1),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275nextContext(2).$implicit;m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" ",n.sn," ")}}function zt(e,t){1&e&&(m.\u0275\u0275elementContainerStart(0),m.\u0275\u0275template(1,jt,2,1,"td",98),m.\u0275\u0275elementContainerEnd()),2&e&&(m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","sn"))}function Bt(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"td",97),m.\u0275\u0275text(1),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275nextContext(2).$implicit;m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" ",n.specification," ")}}function $t(e,t){1&e&&(m.\u0275\u0275elementContainerStart(0),m.\u0275\u0275template(1,Bt,2,1,"td",96),m.\u0275\u0275elementContainerEnd()),2&e&&(m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","specification"))}function qt(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"td",99),m.\u0275\u0275text(1),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275nextContext(2).$implicit;m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" ",n.model," ")}}function Wt(e,t){1&e&&(m.\u0275\u0275elementContainerStart(0),m.\u0275\u0275template(1,qt,2,1,"td",98),m.\u0275\u0275elementContainerEnd()),2&e&&(m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","model"))}function Gt(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"td",103),m.\u0275\u0275text(1),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275nextContext(2).$implicit;m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" ",n.location," ")}}function Ut(e,t){1&e&&(m.\u0275\u0275elementContainerStart(0),m.\u0275\u0275template(1,Gt,2,1,"td",102),m.\u0275\u0275elementContainerEnd()),2&e&&(m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","location"))}function Ht(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"td",103),m.\u0275\u0275text(1),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275nextContext(2).$implicit;m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" ",n.service_site_name," ")}}function Xt(e,t){1&e&&(m.\u0275\u0275elementContainerStart(0),m.\u0275\u0275template(1,Ht,2,1,"td",102),m.\u0275\u0275elementContainerEnd()),2&e&&(m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","service_site_name"))}function Qt(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"td",105),m.\u0275\u0275text(1),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275nextContext(2).$implicit;m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" ",n.employee_name," ")}}function Kt(e,t){1&e&&(m.\u0275\u0275elementContainerStart(0),m.\u0275\u0275template(1,Qt,2,1,"td",104),m.\u0275\u0275elementContainerEnd()),2&e&&(m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","employee_name"))}function Jt(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"td",107),m.\u0275\u0275text(1),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275nextContext(2).$implicit;m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" ",n.customer_name," ")}}function Zt(e,t){1&e&&(m.\u0275\u0275elementContainerStart(0),m.\u0275\u0275template(1,Jt,2,1,"td",106),m.\u0275\u0275elementContainerEnd()),2&e&&(m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","customer_name"))}function Yt(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"td",109),m.\u0275\u0275text(1),m.\u0275\u0275pipe(2,"date"),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275nextContext(2).$implicit;m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" ",m.\u0275\u0275pipeBind2(2,1,n.delivery_date,"yyyy/MM/dd")," ")}}function en(e,t){1&e&&(m.\u0275\u0275elementContainerStart(0),m.\u0275\u0275template(1,Yt,3,4,"td",108),m.\u0275\u0275elementContainerEnd()),2&e&&(m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","delivery_date"))}function tn(e,t){if(1&e&&(m.\u0275\u0275elementContainerStart(0),m.\u0275\u0275text(1),m.\u0275\u0275pipe(2,"date"),m.\u0275\u0275pipe(3,"date"),m.\u0275\u0275elementContainerEnd()),2&e){var n=m.\u0275\u0275nextContext(3).$implicit;m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate2(" ",m.\u0275\u0275pipeBind2(2,2,n.installation_date,"yyyy/MM/dd"),"~",m.\u0275\u0275pipeBind2(3,5,n.installation_date_end,"yyyy/MM/dd")," ")}}function nn(e,t){if(1&e&&(m.\u0275\u0275elementContainerStart(0),m.\u0275\u0275text(1),m.\u0275\u0275pipe(2,"date"),m.\u0275\u0275elementContainerEnd()),2&e){var n=m.\u0275\u0275nextContext(3).$implicit;m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" ",m.\u0275\u0275pipeBind2(2,1,n.installation_date,"yyyy/MM/dd")," ")}}function rn(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"td",111),m.\u0275\u0275template(1,tn,4,8,"ng-container",24),m.\u0275\u0275template(2,nn,3,4,"ng-container",24),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275nextContext(2).$implicit;m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",n.installation_date&&n.installation_date_end),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",!n.installation_date_end)}}function an(e,t){1&e&&(m.\u0275\u0275elementContainerStart(0),m.\u0275\u0275template(1,rn,3,2,"td",110),m.\u0275\u0275elementContainerEnd()),2&e&&(m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","installation_date"))}function on(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"td",109),m.\u0275\u0275text(1),m.\u0275\u0275pipe(2,"date"),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275nextContext(2).$implicit;m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" ",m.\u0275\u0275pipeBind2(2,1,n.acceptance_date,"yyyy/MM/dd")," ")}}function ln(e,t){1&e&&(m.\u0275\u0275elementContainerStart(0),m.\u0275\u0275template(1,on,3,4,"td",108),m.\u0275\u0275elementContainerEnd()),2&e&&(m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","acceptance_date"))}function dn(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"td",109),m.\u0275\u0275text(1),m.\u0275\u0275pipe(2,"date"),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275nextContext(2).$implicit;m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" ",m.\u0275\u0275pipeBind2(2,1,n.expiry_date,"yyyy/MM/dd")," ")}}function cn(e,t){1&e&&(m.\u0275\u0275elementContainerStart(0),m.\u0275\u0275template(1,dn,3,4,"td",108),m.\u0275\u0275elementContainerEnd()),2&e&&(m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","expiry_date"))}function sn(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"td",99),m.\u0275\u0275text(1),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275nextContext(2).$implicit;m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" ",n.product_description," ")}}function mn(e,t){1&e&&(m.\u0275\u0275elementContainerStart(0),m.\u0275\u0275template(1,sn,2,1,"td",98),m.\u0275\u0275elementContainerEnd()),2&e&&(m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","product_description"))}function pn(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"td",113),m.\u0275\u0275text(1),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275nextContext(2).$implicit;m.\u0275\u0275property("dwAlign","right"),m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" ",n.maintenance_count," ")}}function un(e,t){1&e&&(m.\u0275\u0275elementContainerStart(0),m.\u0275\u0275template(1,pn,2,2,"td",112),m.\u0275\u0275elementContainerEnd()),2&e&&(m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","maintenance_count"))}function fn(e,t){1&e&&(m.\u0275\u0275elementStart(0,"span",117),m.\u0275\u0275text(1,"\u6b63\u5e38"),m.\u0275\u0275elementEnd())}function vn(e,t){1&e&&(m.\u0275\u0275elementStart(0,"span",118),m.\u0275\u0275text(1,"\u62a5\u4fee\u4e2d"),m.\u0275\u0275elementEnd())}function gn(e,t){1&e&&(m.\u0275\u0275elementStart(0,"span",119),m.\u0275\u0275text(1,"\u5df2\u56de\u6536"),m.\u0275\u0275elementEnd())}function hn(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"td",91),m.\u0275\u0275template(1,fn,2,0,"span",114),m.\u0275\u0275template(2,vn,2,0,"span",115),m.\u0275\u0275template(3,gn,2,0,"span",116),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275nextContext(2).$implicit;m.\u0275\u0275property("dwAlign","center"),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf","1"===n.service_status),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf","2"===n.service_status),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf","3"===n.service_status)}}function wn(e,t){1&e&&(m.\u0275\u0275elementContainerStart(0),m.\u0275\u0275template(1,hn,4,4,"td",90),m.\u0275\u0275elementContainerEnd()),2&e&&(m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","service_status"))}function yn(e,t){if(1&e){var n=m.\u0275\u0275getCurrentView();m.\u0275\u0275elementStart(0,"td",121),m.\u0275\u0275elementStart(1,"a",122),m.\u0275\u0275listener("dwClick",function(){m.\u0275\u0275restoreView(n);var e=m.\u0275\u0275nextContext(2).$implicit;return m.\u0275\u0275nextContext(2).goProductResume(e)}),m.\u0275\u0275text(2," \u67e5\u770b "),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd()}if(2&e){var r=m.\u0275\u0275nextContext(4);m.\u0275\u0275property("dwAlign","center"),m.\u0275\u0275advance(1),m.\u0275\u0275propertyInterpolate("angularticsLabel",r.userInfo.tenantId+","+r.userInfo.userId),m.\u0275\u0275property("dwActionId","resume")("dwDefaultAuthorized","disabled")("angularticsCategory","\u4ea7\u54c1\u6863\u6848")}}function xn(e,t){1&e&&(m.\u0275\u0275elementContainerStart(0),m.\u0275\u0275template(1,yn,3,5,"td",120),m.\u0275\u0275elementContainerEnd()),2&e&&(m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","product_resume"))}function _n(e,t){if(1&e){var n=m.\u0275\u0275getCurrentView();m.\u0275\u0275elementStart(0,"div",128),m.\u0275\u0275elementStart(1,"a",129),m.\u0275\u0275listener("dwOnConfirm",function(){m.\u0275\u0275restoreView(n);var e=m.\u0275\u0275nextContext(3).$implicit;return m.\u0275\u0275nextContext(2).delete(e.product_file_id)}),m.\u0275\u0275pipe(2,"translate"),m.\u0275\u0275pipe(3,"translate"),m.\u0275\u0275pipe(4,"translate"),m.\u0275\u0275elementStart(5,"a",130),m.\u0275\u0275element(6,"img",131),m.\u0275\u0275element(7,"img",132),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd()}2&e&&(m.\u0275\u0275property("dwActionId","delete")("dwDefaultAuthorized","disabled"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwPopconfirmTitle",m.\u0275\u0275pipeBind1(2,6,"\u662f\u5426\u5220\u9664"))("dwOkText",m.\u0275\u0275pipeBind1(3,8,"dw-determine"))("dwCancelText",m.\u0275\u0275pipeBind1(4,10,"dw-cancel"))("dwPopconfirmPlacement","topRight"))}function Cn(e,t){if(1&e){var n=m.\u0275\u0275getCurrentView();m.\u0275\u0275elementStart(0,"td",91),m.\u0275\u0275elementStart(1,"div",123),m.\u0275\u0275elementStart(2,"div",124),m.\u0275\u0275listener("click",function(){m.\u0275\u0275restoreView(n);var e=m.\u0275\u0275nextContext(2).$implicit;return m.\u0275\u0275nextContext(2).modify(e)}),m.\u0275\u0275element(3,"img",125),m.\u0275\u0275element(4,"img",126),m.\u0275\u0275elementEnd(),m.\u0275\u0275template(5,_n,8,12,"div",127),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd()}if(2&e){var r=m.\u0275\u0275nextContext(2).$implicit,i=m.\u0275\u0275nextContext(2);m.\u0275\u0275property("dwAlign","center"),m.\u0275\u0275advance(2),m.\u0275\u0275propertyInterpolate("angularticsLabel",i.userInfo.tenantId+","+i.userInfo.userId),m.\u0275\u0275property("dwActionId","modify")("dwDefaultAuthorized","disabled")("angularticsCategory","\u4ea7\u54c1\u6863\u6848"),m.\u0275\u0275advance(3),m.\u0275\u0275property("ngIf","1"===r.source)}}function Sn(e,t){1&e&&(m.\u0275\u0275elementContainerStart(0),m.\u0275\u0275template(1,Cn,6,6,"td",90),m.\u0275\u0275elementContainerEnd()),2&e&&(m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","operation"))}function bn(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"tr",92),m.\u0275\u0275template(1,Ft,2,1,"ng-container",24),m.\u0275\u0275template(2,Tt,2,1,"ng-container",24),m.\u0275\u0275template(3,Rt,2,1,"ng-container",24),m.\u0275\u0275template(4,Nt,2,1,"ng-container",24),m.\u0275\u0275template(5,zt,2,1,"ng-container",24),m.\u0275\u0275template(6,$t,2,1,"ng-container",24),m.\u0275\u0275template(7,Wt,2,1,"ng-container",24),m.\u0275\u0275template(8,Ut,2,1,"ng-container",24),m.\u0275\u0275template(9,Xt,2,1,"ng-container",24),m.\u0275\u0275template(10,Kt,2,1,"ng-container",24),m.\u0275\u0275template(11,Zt,2,1,"ng-container",24),m.\u0275\u0275template(12,en,2,1,"ng-container",24),m.\u0275\u0275template(13,an,2,1,"ng-container",24),m.\u0275\u0275template(14,ln,2,1,"ng-container",24),m.\u0275\u0275template(15,cn,2,1,"ng-container",24),m.\u0275\u0275template(16,mn,2,1,"ng-container",24),m.\u0275\u0275template(17,un,2,1,"ng-container",24),m.\u0275\u0275template(18,wn,2,1,"ng-container",24),m.\u0275\u0275template(19,xn,2,1,"ng-container",24),m.\u0275\u0275template(20,Sn,2,1,"ng-container",24),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275nextContext(2);m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",n.showFile),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",n.showFile),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",n.showFile),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf","0"===n.fileType),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",n.showFile),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",n.showFile&&n.specification_enable),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",n.showFile&&n.model_enable),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",n.showFile&&n.location_enable),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",n.showFile&&n.service_site_name_enable),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",n.showFile&&n.employee_name_enable),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",n.showFile),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",n.showFile),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",n.showFile),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",n.showFile&&n.acceptance_date_enable),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",n.showFile),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",n.showFile&&n.product_description_enable),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",n.showFile&&n.maintenance_count_enable),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",n.showFile),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",n.showFile),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",n.showFile)}}var In=function(){return{x:"2000px",y:"calc(100vh - 171px - 130px)"}};function En(e,t){if(1&e){var n=m.\u0275\u0275getCurrentView();m.\u0275\u0275elementContainerStart(0),m.\u0275\u0275elementStart(1,"dw-table",62,63),m.\u0275\u0275listener("dwPageIndexChange",function(e){return m.\u0275\u0275restoreView(n),m.\u0275\u0275nextContext().search.pageIndex=e})("dwPageSizeChange",function(e){return m.\u0275\u0275restoreView(n),m.\u0275\u0275nextContext().search.pageSize=e})("dwCurrentPageDataChange",function(e){return m.\u0275\u0275restoreView(n),m.\u0275\u0275nextContext().currentPageDataChange(e)}),m.\u0275\u0275elementStart(3,"thead",64),m.\u0275\u0275listener("dwSortOrderChange",function(e){return m.\u0275\u0275restoreView(n),m.\u0275\u0275nextContext().order(e)}),m.\u0275\u0275elementStart(4,"tr",65),m.\u0275\u0275template(5,qe,2,1,"ng-container",24),m.\u0275\u0275template(6,Ge,2,1,"ng-container",24),m.\u0275\u0275template(7,He,2,1,"ng-container",24),m.\u0275\u0275template(8,Qe,2,1,"ng-container",24),m.\u0275\u0275template(9,et,2,1,"ng-container",24),m.\u0275\u0275template(10,nt,2,1,"ng-container",24),m.\u0275\u0275template(11,it,2,1,"ng-container",24),m.\u0275\u0275template(12,ot,2,1,"ng-container",24),m.\u0275\u0275template(13,dt,2,1,"ng-container",24),m.\u0275\u0275template(14,st,2,1,"ng-container",24),m.\u0275\u0275template(15,pt,2,1,"ng-container",24),m.\u0275\u0275template(16,ft,2,1,"ng-container",24),m.\u0275\u0275template(17,gt,2,1,"ng-container",24),m.\u0275\u0275template(18,wt,2,1,"ng-container",24),m.\u0275\u0275template(19,xt,2,1,"ng-container",24),m.\u0275\u0275template(20,Ct,2,1,"ng-container",24),m.\u0275\u0275template(21,bt,2,1,"ng-container",24),m.\u0275\u0275template(22,Et,2,1,"ng-container",24),m.\u0275\u0275template(23,Ot,2,1,"ng-container",24),m.\u0275\u0275template(24,Mt,2,1,"ng-container",24),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(25,"tbody"),m.\u0275\u0275template(26,bn,21,20,"tr",66),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementContainerEnd()}if(2&e){var r=m.\u0275\u0275reference(2),i=m.\u0275\u0275nextContext(),a=m.\u0275\u0275reference(80);m.\u0275\u0275advance(1),m.\u0275\u0275property("dwData",i.dataList)("dwPageIndex",i.search.pageIndex)("dwPageSize",i.search.pageSize)("dwScroll",m.\u0275\u0275pureFunction0(26,In))("dwShowTotal",a),m.\u0275\u0275advance(4),m.\u0275\u0275property("ngIf",i.showFile),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",i.showFile),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",i.showFile),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf","0"===i.fileType),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",i.showFile),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",i.showFile&&i.specification_enable),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",i.showFile&&i.model_enable),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",i.showFile&&i.location_enable),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",i.showFile&&i.service_site_name_enable),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",i.showFile&&i.employee_name_enable),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",i.showFile),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",i.showFile),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",i.showFile),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",i.showFile&&i.acceptance_date_enable),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",i.showFile),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",i.showFile&&i.product_description_enable),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",i.showFile&&i.maintenance_count_enable),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",i.showFile),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",i.showFile),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",i.showFile),m.\u0275\u0275advance(2),m.\u0275\u0275property("ngForOf",r.data)}}function Dn(e,t){if(1&e){var n=m.\u0275\u0275getCurrentView();m.\u0275\u0275elementStart(0,"app-product-file-detail",133,134),m.\u0275\u0275listener("visibleChanged",function(e){return m.\u0275\u0275restoreView(n),m.\u0275\u0275nextContext().changeRecycleVisible(e)}),m.\u0275\u0275elementEnd()}}function On(e,t){if(1&e){var n=m.\u0275\u0275getCurrentView();m.\u0275\u0275elementStart(0,"div",135),m.\u0275\u0275text(1," \u4ea7\u54c1\u6863\u6848 "),m.\u0275\u0275elementStart(2,"img",136),m.\u0275\u0275listener("click",function(){return m.\u0275\u0275restoreView(n),m.\u0275\u0275nextContext().child.showQrcode()}),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd()}}function kn(e,t){if(1&e&&m.\u0275\u0275text(0),2&e){var n=m.\u0275\u0275nextContext();m.\u0275\u0275textInterpolate1("\u5171 ",n.dataList.length," \u6761")}}function Mn(e,t){if(1&e&&m.\u0275\u0275text(0),2&e){var n=m.\u0275\u0275nextContext();m.\u0275\u0275textInterpolate1("\u5171 ",n.multyFailList.length," \u6761")}}function Pn(e,t){1&e&&(m.\u0275\u0275elementContainerStart(0),m.\u0275\u0275elementStart(1,"th",140),m.\u0275\u0275elementStart(2,"span",30),m.\u0275\u0275text(3,"\u670d\u52a1\u4eba\u5458"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(4,"th",140),m.\u0275\u0275elementStart(5,"span",30),m.\u0275\u0275text(6,"\u670d\u52a1\u7ad9\u70b9"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementContainerEnd())}function Fn(e,t){1&e&&(m.\u0275\u0275elementStart(0,"th",140),m.\u0275\u0275elementStart(1,"span",30),m.\u0275\u0275text(2,"\u670d\u52a1\u7ad9\u70b9"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd())}function Vn(e,t){1&e&&(m.\u0275\u0275elementStart(0,"th",140),m.\u0275\u0275elementStart(1,"span",30),m.\u0275\u0275text(2,"\u4fdd\u4fee\u622a\u6b62\u65e5\u671f"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd())}function Tn(e,t){1&e&&(m.\u0275\u0275elementStart(0,"th",140),m.\u0275\u0275elementStart(1,"span",30),m.\u0275\u0275text(2,"\u51fa\u5e93\u65e5\u671f"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd())}function Ln(e,t){if(1&e&&(m.\u0275\u0275elementContainerStart(0),m.\u0275\u0275elementStart(1,"td"),m.\u0275\u0275text(2),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(3,"td"),m.\u0275\u0275text(4),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementContainerEnd()),2&e){var n=m.\u0275\u0275nextContext().$implicit;m.\u0275\u0275advance(2),m.\u0275\u0275textInterpolate1(" ",n.employeeInfo," "),m.\u0275\u0275advance(2),m.\u0275\u0275textInterpolate1(" ",n.serviceSiteInfo," ")}}function Rn(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"td"),m.\u0275\u0275text(1),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275nextContext().$implicit;m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" ",n.serviceSiteInfo," ")}}function An(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"td"),m.\u0275\u0275text(1),m.\u0275\u0275pipe(2,"date"),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275nextContext().$implicit;m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" ",m.\u0275\u0275pipeBind2(2,1,n.expiryDate,"yyyy/MM/dd")," ")}}function Nn(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"td"),m.\u0275\u0275text(1),m.\u0275\u0275pipe(2,"date"),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275nextContext().$implicit;m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" ",m.\u0275\u0275pipeBind2(2,1,n.deliveryDate,"yyyy/MM/dd")," ")}}function jn(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"tr"),m.\u0275\u0275elementStart(1,"td"),m.\u0275\u0275text(2),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(3,"td"),m.\u0275\u0275text(4),m.\u0275\u0275elementEnd(),m.\u0275\u0275template(5,Ln,5,2,"ng-container",24),m.\u0275\u0275template(6,Rn,2,1,"td",24),m.\u0275\u0275template(7,An,3,4,"td",24),m.\u0275\u0275template(8,Nn,3,4,"td",24),m.\u0275\u0275elementEnd()),2&e){var n=t.$implicit,r=m.\u0275\u0275nextContext(2);m.\u0275\u0275advance(2),m.\u0275\u0275textInterpolate1(" ",n.productFile," "),m.\u0275\u0275advance(2),m.\u0275\u0275textInterpolate1(" ",n.sn," "),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf","service_site"===r.modifyColumn),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf","employee"===r.modifyColumn),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf","delivery_date"===r.modifyColumn),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf","expiry_date"===r.modifyColumn)}}function zn(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"dw-table",137,138),m.\u0275\u0275elementStart(2,"thead"),m.\u0275\u0275elementStart(3,"tr",139),m.\u0275\u0275elementStart(4,"th",140),m.\u0275\u0275elementStart(5,"span",30),m.\u0275\u0275text(6,"\u4ea7\u54c1"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(7,"th",140),m.\u0275\u0275elementStart(8,"span",30),m.\u0275\u0275text(9,"\u5e8f\u5217\u53f7"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275template(10,Pn,7,0,"ng-container",24),m.\u0275\u0275template(11,Fn,3,0,"th",141),m.\u0275\u0275template(12,Vn,3,0,"th",141),m.\u0275\u0275template(13,Tn,3,0,"th",141),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(14,"tbody"),m.\u0275\u0275template(15,jn,9,6,"tr",142),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275reference(1),r=m.\u0275\u0275nextContext(),i=m.\u0275\u0275reference(82);m.\u0275\u0275property("dwData",r.multyFailList)("dwShowTotal",i),m.\u0275\u0275advance(10),m.\u0275\u0275property("ngIf","service_site"===r.modifyColumn),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf","employee"===r.modifyColumn),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf","delivery_date"===r.modifyColumn),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf","expiry_date"===r.modifyColumn),m.\u0275\u0275advance(2),m.\u0275\u0275property("ngForOf",n.data)}}var Bn=function(){return{overflow:"auto"}},$n=function(){var e=function(){function e(t,n,r,i,a,o,l,d,c,s,m,u,f){if(p(this,e),this.tableConfigDiffService=t,this.commonHttpService=n,this.router=r,this._route=i,this.productFileSrv=a,this.customerSrv=o,this.message=l,this.modalService=d,this.analytics=c,this.userService=s,this.newCustomerService=m,this.fb=u,this.datePipe=f,this.DW_IN_MFA=D.ns,this.search={pageIndex:1,pageSize:10},this.dataList=[],this.displayData=[],this.indeterminate=!1,this.isCollapsed=!1,this.param="",this.isIntegrated=!1,this.fileType="0",this._showFile=!1,this.configDiffSubscription=new b.Subscription,this.showStep1=!1,this.multyFailList=[],this.modifyColumn="",this.service_site_name_enable=!0,this.maintenance_count_enable=!0,this.specification_enable=!0,this.model_enable=!0,this.location_enable=!0,this.employee_name_enable=!0,this.product_description_enable=!0,this.acceptance_date_enable=!0,this.lastParam="",this.dataSource="1",this.isSearchExpand=!1,this.isDownloading=!1,this.userInfo={tenantId:"",userId:""},e.useKeeper&&e.keeper)return e.keeper}return f(e,[{key:"showFile",get:function(){return this._showFile},set:function(e){var t=this;this._showFile=e,e&&setTimeout(function(){t.deleteConfigSubscription&&t.deleteConfigSubscription.unsubscribe(),t.deleteConfigSubscription=t._table.dwTableConfigService.deleteConfigSubject$.subscribe(function(e){t.tableConfigDiffService.isDeleteConfigDiff(e)})},0)}},{key:"table",set:function(e){e&&(this._table=e)}},{key:"ngOnInit",value:function(){var t=this;this.configDiffSubscription.add(this.tableConfigDiffService.diffSubject$.subscribe(function(e){e&&t.modalService.warning({dwContent:"\u8868\u5355\u8bbe\u5b9a\u53d1\u751f\u53d8\u52a8,\u5c06\u91cd\u65b0\u6574\u7406",dwOnOk:function(){t.loadData()}})})),this.subscription=this.router.events.subscribe(function(n){if(n instanceof s.NavigationStart){var r=t.router.parseUrl(t.router.url).root.children[s.PRIMARY_OUTLET].segments,i=t.router.parseUrl(n.url).root.children[s.PRIMARY_OUTLET].segments,a=r[r.length-1].path,o=i[i.length-1].path;"product-file"===a&&"product-resume"===o||"product-resume"===a&&"product-file"===o?(e.useKeeper=!0,e.keeper=t):(e.useKeeper=!1,e.keeper=t)}}),this.userInfo=this.userService.getUserInfo(),this.commonHttpService.get("restful/service/serviceOrder/ServiceOrder/IsShowTypeOption").subscribe(function(e){t.fileType=e.data},function(e){e.hasOwnProperty("error")&&e.error.hasOwnProperty("errorMessage")&&e.error.errorMessage&&t.message.error(e.error.errorMessage)}),(!e.useKeeper||!e.keeper)&&this.init()}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe(),this.deleteConfigSubscription&&this.deleteConfigSubscription.unsubscribe(),this.configDiffSubscription&&this.configDiffSubscription.unsubscribe()}},{key:"init",value:function(){this.searchForm=this.fb.group({}),this.searchForm.addControl("date_range",new v.FormControl("")),this.searchForm.addControl("customer_id",new v.FormControl("")),this.searchForm.addControl("customer_name",new v.FormControl("")),this.searchForm.addControl("next_maintain_date",new v.FormControl("")),this.searchForm.addControl("serviceStatus",new v.FormControl("")),this.searchForm.addControl("checkExpiryDate",new v.FormControl(!1)),this.searchForm.addControl("file_type",new v.FormControl("")),this.searchForm.addControl("SN",new v.FormControl("")),this.param="",this.loadData()}},{key:"reset",value:function(){this.init()}},{key:"isShowSearchExpand",value:function(){this.isSearchExpand=!this.isSearchExpand}},{key:"loadData",value:function(){var e=this;this.showFile=!1,this.search={pageIndex:1,pageSize:10},this.lastValue=this.searchForm.value,this.lastParam=this.param,this.dataSource="1",this.productFileSrv.getProductFileList(this.searchForm.value,this.param,this.dataSource).subscribe(function(t){e.dataList=t||[],e.dataList.filter(function(e){return"1"===e.file_type}),e.commonHttpService.get("restful/service/autoSettings/CustomView/FormSetting?viewId=product_file").subscribe(function(t){e.service_site_name_enable=t.service_site_name,e.maintenance_count_enable=t.maintenance_count,e.specification_enable=t.specification,e.model_enable=t.model,e.location_enable=t.location,e.employee_name_enable=t.employee_name,e.product_description_enable=t.product_description,e.acceptance_date_enable=t.acceptance_date,e.showFile=!0})})}},{key:"changeRecycleVisible",value:function(e){this.isCollapsed=!1,e&&this.loadData()}},{key:"showMultyModify",value:function(){this.showStep1=!0}},{key:"changeStep1Visible",value:function(e){var t=this;if(console.log(e),e){var n=e.modifyColumn.split("_id")[0],r="service_site"===n?"\u670d\u52a1\u7ad9\u70b9":"employee"===n?"\u670d\u52a1\u4eba\u5458":"enable_maintain"===n?"\u7ef4\u62a4\u4fdd\u517b":"\u4ea7\u54c1\u5206\u7c7b",i=e.valueName?e.valueName:"0"===e.modifyValue?"\u5173\u95ed":"\u5f00\u542f";this.modifyColumn=n;var a={modifyColumn:e.modifyColumn,modifyValue:e.modifyValue,productFileIds:e.productFileIds};this.modalService.warning({dwTitle:"\u6279\u91cf\u4fee\u6539\u786e\u8ba4",dwContent:'<div>\u672c\u6b21\u5c06\u6279\u91cf\u4fee\u6539<b style="color:#0D9DEF">'.concat(e.productFileIds.length,"</b>\u6761\u4ea7\u54c1\u6863\u6848\u5185\u5bb9\uff1a</div>\n                    <b>\u3010").concat(r,"\u3011 \u8c03\u6574\u4e3a\uff1a").concat(i,"</b>\n                    <div>\u66f4\u65b0\u540e\u5c06\u65e0\u6cd5\u64a4\u56de\uff0c\u786e\u5b9a\u4fee\u6539\u5417?</div>"),dwOkText:"\u786e\u8ba4",dwOkType:"primary",dwOnOk:function(){t.commonHttpService.put("restful/service/productFile/ProductFile/BatchModifiyProductFile",a).subscribe(function(e){console.log(e),t.multyModifySucc(e)},function(e){e.hasOwnProperty("error")&&e.error.hasOwnProperty("errorMessage")&&e.error.errorMessage&&t.message.error(e.error.errorMessage)})},dwCancelText:"\u53d6\u6d88",dwOnCancel:function(){}})}else this.showStep1=!1}},{key:"multyModifySucc",value:function(e){e.errorList.length?(this.multyFailList=e.errorList,this.modalService.create({dwTitle:e.errorMessage,dwWidth:"800px",dwContent:this.dwTableMulty,dwFooter:null})):(this.message.create("success","\u6279\u91cf\u4fee\u6539\u6210\u529f"),this.loadData(),this.showStep1=!1)}},{key:"resetForm",value:function(){this.searchForm.reset({bianma:"",mingcheng:"",date_range:"",customer_id:"",customer_name:"",serviceStatus:"",checkExpiryDate:!1,file_type:""}),this.loadData()}},{key:"clear",value:function(e){"customer"===e&&(this.searchForm.get(e+"_id").setValue(""),this.searchForm.get(e+"_name").setValue(""))}},{key:"goProductResume",value:function(e){this.router.navigateByUrl("".concat(this.DW_IN_MFA?"/assc_crs":"","/bases/product-file/product-resume?id=").concat(e.product_file_id,"&fromPage=1"))}},{key:"goRecycledList",value:function(){this.router.navigateByUrl((this.DW_IN_MFA?"/assc_crs":"")+"/bases/product-file/recycled-list")}},{key:"goCreateOrModify",value:function(e,t){this.router.navigateByUrl(e?"".concat(this.DW_IN_MFA?"/assc_crs":"","/bases/product-file/product-file-modify/").concat(e,"?file_type=").concat(t):"".concat(this.DW_IN_MFA?"/assc_crs":"","/bases/product-file/product-file-create?file_type=").concat(t))}},{key:"create",value:function(e){this.type="create",this.goCreateOrModify("",e)}},{key:"detail",value:function(e){var t=this;this.isCollapsed=!0,setTimeout(function(){t.child.initData(e.product_file_id,e.file_type)})}},{key:"modify",value:function(e){this.type="modify",this.goCreateOrModify(e.product_file_id,e.file_type)}},{key:"delete",value:function(e){this.deleteMul([e])}},{key:"deleteMul",value:function(e){var t=this;console.log(e),e.length>0&&this.productFileSrv.deleteProductFile(e).subscribe(function(e){!0===e.success?null!==e.data&&null!==e.data.data&&!1===e.data.data.success?t.message.create("error",e.data.data.message):(t.message.create("success","\u64cd\u4f5c\u6210\u529f\uff01"),t.loadData()):t.message.create("error","\u64cd\u4f5c\u5931\u8d25\uff01")})}},{key:"popConfirm",value:function(e){console.log(e),this.searchForm.get(e.fieldName).setValue(e.con),this.loadData()}},{key:"currentPageDataChange",value:function(e){this.displayData=e}},{key:"query",value:function(){var e=this;this.search={pageIndex:1,pageSize:10},this.lastValue=this.searchForm.value,this.lastParam=this.param,this.dataSource="2",this.productFileSrv.getProductFileList(this.searchForm.value,this.param,this.dataSource).subscribe(function(t){e.dataList=t||[]})}},{key:"order",value:function(e){var t=e.key,r=e.value;if("maintenance_count"===t)switch(r){case"ascend":var i=n(this.dataList).sort(function(e,t){return e.maintenance_count<t.maintenance_count?1:-1});this.dataList=i;break;case"descend":var a=n(this.dataList).sort(function(e,t){return e.maintenance_count>=t.maintenance_count?1:-1});this.dataList=a}else switch(r){case"ascend":this.dataList=y.l.order(this.dataList,[t]);break;case"descend":this.dataList=y.l.order(this.dataList,[t,-1])}}},{key:"openCustomer",value:function(){var e=this;this.newCustomerService.setConfig("",!0),this.newCustomerService.open([]).subscribe(function(t){if(null!=t&&0!==t.length){var n="",r="";t.forEach(function(e){n+=e.customer_id+",",r+=e.customer_name+","}),0!==n.length&&(n=n.substr(0,n.length-1)),0!==r.length&&(r=r.substr(0,r.length-1)),e.searchForm.get("customer_id").setValue(n),e.searchForm.get("customer_name").setValue(r)}})}},{key:"onOpenRange",value:function(e){console.log(e),e&&this.analytics.eventTrack.next({action:"\u67e5\u8be2\u6761\u4ef6-\u70b9\u51fb\u9009\u62e9\u51fa\u5e93\u65e5\u671f",properties:{category:"\u4ea7\u54c1\u6863\u6848",label:this.userInfo.tenantId+","+this.userInfo.userId,value:0}})}},{key:"onOpenRange2",value:function(){console.log("\u70b9\u51fb\u9009\u62e9\u4e0b\u6b21\u7ef4\u62a4\u65e5\u671f"),this.analytics.eventTrack.next({action:"\u67e5\u8be2\u6761\u4ef6-\u70b9\u51fb\u9009\u62e9\u4e0b\u6b21\u7ef4\u62a4\u65e5\u671f",properties:{category:"\u4ea7\u54c1\u6863\u6848",label:this.userInfo.tenantId+","+this.userInfo.userId,value:0}})}},{key:"onOpenRange3",value:function(e){console.log(e),this.analytics.eventTrack.next({action:"\u67e5\u8be2\u6761\u4ef6-\u70b9\u51fb\u9009\u62e9\u552e\u540e\u72b6\u6001-"+(1===e?"\u6b63\u5e38":2===e?"\u62a5\u4fee\u4e2d":"\u5168\u90e8"),properties:{category:"\u4ea7\u54c1\u6863\u6848",label:this.userInfo.tenantId+","+this.userInfo.userId,value:0}})}},{key:"onOpenRange4",value:function(e){this.analytics.eventTrack.next({action:"\u67e5\u8be2\u6761\u4ef6-\u70b9\u51fb".concat(e?"":"\u53d6\u6d88","\u52fe\u900930\u5929\u540e\u8fc7\u4fdd"),properties:{category:"\u4ea7\u54c1\u6863\u6848",label:this.userInfo.tenantId+","+this.userInfo.userId,value:0}})}},{key:"radioChange",value:function(){this.analytics.eventTrack.next({action:"\u67e5\u8be2\u6761\u4ef6-\u70b9\u51fb\u7c7b\u578b-"+(""===this.searchForm.value.file_type?"\u5168\u90e8":"1"===this.searchForm.value.file_type?"\u5355\u673a":"\u4ea7\u7ebf/\u9879\u76ee"),properties:{category:"\u4ea7\u54c1\u6863\u6848",label:this.userInfo.tenantId+","+this.userInfo.userId,value:0}})}},{key:"export",value:function(){var e=this;this.isDownloading=!0,this.productFileSrv.export(this.lastValue,this.lastParam,this.dataSource).subscribe(function(t){if(t)switch(t.type){case ne.HttpEventType.Response:var n=URL.createObjectURL(t.body),r=document.createElement("a");r.href=n,r.style="visibility:hidden";var i=t.headers.get("Content-disposition").split("filename=")[1];r.download=decodeURI(i),document.body.appendChild(r),r.click(),document.body.removeChild(r),setTimeout(function(){e.isDownloading=!1},1700)}},function(t){var n=new FileReader;n.onload=function(t){var n=JSON.parse(t.target.result);e.message.create("error",n.errorMessage)},n.readAsText(t.error),e.isDownloading=!1})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(m.\u0275\u0275directiveInject(te),m.\u0275\u0275directiveInject(I.$),m.\u0275\u0275directiveInject(s.Router),m.\u0275\u0275directiveInject(s.ActivatedRoute),m.\u0275\u0275directiveInject(g.U),m.\u0275\u0275directiveInject(x.v),m.\u0275\u0275directiveInject(h.DwMessageService),m.\u0275\u0275directiveInject(w.DwModalService),m.\u0275\u0275directiveInject(_.DwAnalytics),m.\u0275\u0275directiveInject(C.DwUserService),m.\u0275\u0275directiveInject(S.N),m.\u0275\u0275directiveInject(v.FormBuilder),m.\u0275\u0275directiveInject(d.DatePipe))},e.\u0275cmp=m.\u0275\u0275defineComponent({type:e,selectors:[["app-product-file-list"]],viewQuery:function(e,t){var n;(1&e&&(m.\u0275\u0275viewQuery(Fe,5),m.\u0275\u0275viewQuery(Ve,5),m.\u0275\u0275viewQuery(Te,5),m.\u0275\u0275viewQuery(Le,7),m.\u0275\u0275viewQuery(Re,5,Y.DwTableDirective)),2&e)&&(m.\u0275\u0275queryRefresh(n=m.\u0275\u0275loadQuery())&&(t.child=n.first),m.\u0275\u0275queryRefresh(n=m.\u0275\u0275loadQuery())&&(t.childStep2=n.first),m.\u0275\u0275queryRefresh(n=m.\u0275\u0275loadQuery())&&(t.childPreview=n.first),m.\u0275\u0275queryRefresh(n=m.\u0275\u0275loadQuery())&&(t.dwTableMulty=n.first),m.\u0275\u0275queryRefresh(n=m.\u0275\u0275loadQuery())&&(t.table=n.first))},features:[m.\u0275\u0275ProvidersFeature([S.N])],decls:85,vars:46,consts:[[1,"dw-f-content-list","layoutClass","sales_layout"],[1,"issue_layout_head"],[1,"issue_layout_title"],[1,"search-box"],["dwSearch","",3,"dwAddOnAfter"],["dw-input","","placeholder","\u54c1\u53f7\u3001\u54c1\u540d\u7b49",3,"ngModel","ngModelChange"],["suffixIconButton",""],["color","#e5e5e5"],[1,"dw-f-table","content-box"],[1,"sales_issue_form","sales_form","sales_shadow",2,"margin-left","-22px",3,"formGroup"],["dw-row","",1,"search-form-box"],[1,"search-input"],[1,"label"],[1,"form-input"],["formControlName","date_range",2,"width","100%",3,"dwOnOpenChange"],["dwSearch","",3,"dwSuffix"],["type","text","dw-input","","readonly","","dwMode","multiple","formControlName","customer_name",2,"width","100%"],["customerData",""],[2,"display","flex","align-items","center","justify-content","space-between"],["dw-checkbox","","formControlName","checkExpiryDate",3,"ngModelChange"],["dw-button","","dwActionAuthorized","","angularticsAction","\u67e5\u8be2\u6761\u4ef6-\u70b9\u51fb\u67e5\u8be2\u6309\u94ae","dw-analyticsOn","click",3,"dwType","dwActionId","angularticsCategory","angularticsLabel","dwClick"],["dw-button","","angularticsAction","\u67e5\u8be2\u6761\u4ef6-\u70b9\u51fb\u91cd\u7f6e\u6309\u94ae","dw-analyticsOn","click",3,"dwType","angularticsCategory","angularticsLabel","click"],[1,"isExpand",3,"click"],["dw-icon","","dwTheme","outline",3,"dwType"],[4,"ngIf"],["dw-row","","dwActionAuthorized","",1,"dw-f-btn-bar-action",3,"dwActionId","dwDefaultAuthorized"],["dw-col","",2,"display","flex"],[1,"sub_act"],["dw-button","","type","button","dwActionAuthorized","",3,"dwType","dwActionId","dwDefaultAuthorized"],["dw-icon","","dwType","plus"],["translate",""],[1,"pub-btns"],[1,"blank"],["dw-analyticsOn","click","angularticsAction","\u65b0\u5efa-\u8fdb\u5165\u65b0\u5efa\u9875\u9762",1,"act-item",3,"angularticsCategory","angularticsLabel","click"],["dw-button","","type","button","dwActionAuthorized","",1,"one_btn",3,"dwType","dwActionId","dwDefaultAuthorized","click"],["src","../../../../../../assets/img/icon_recycle.png","alt","\u5df2\u56de\u6536"],["src","../../../../../../assets/img/icon_recycle_pre.png","alt","\u5df2\u56de\u6536",1,"hover"],["dw-button","","type","button","dwActionAuthorized","",1,"one_btn",3,"dwType","dwDefaultAuthorized","dwActionId","click"],["src","../../../../../../assets/img/icon_multy_modify_nor.png","alt","\u6279\u91cf\u4fee\u6539"],["src","../../../../../../assets/img/icon_multy_modify.png","alt","\u6279\u91cf\u4fee\u6539",1,"hover"],["dw-button","","type","button","dwActionAuthorized","",1,"one_btn",3,"dwType","dwLoading","dwDefaultAuthorized","dwActionId","click"],["dw-icon","","dwType","upload"],[3,"visible","visibleChanged"],["childStep1",""],[3,"dwVisible","dwTitle","dwWidth","dwBodyStyle","dwOnClose"],["dwDrawerContent",""],["detailTitle",""],["totalTemplate",""],["totalTemplate2",""],["dwTableMulty",""],["dw-button","","dwType","primary","dwSearch","",3,"click"],["dw-icon","","dwType","search"],["dw-icon","","class","ant-input-clear-icon","dwTheme","fill","dwType","close-circle",3,"click",4,"ngIf"],["dw-button","","dwType","primary","dwSearch","","angularticsAction","\u67e5\u8be2\u6761\u4ef6-\u70b9\u51fb\u9009\u62e9\u5ba2\u6237\u540d\u79f0","dw-analyticsOn","click","type","button",3,"angularticsCategory","angularticsLabel","click"],["dw-icon","","dwTheme","fill","dwType","close-circle",1,"ant-input-clear-icon",3,"click"],["formControlName","serviceStatus",2,"width","100%",3,"ngModelChange"],[3,"dwLabel","dwValue"],["formControlName","next_maintain_date",3,"ngModelChange"],["class","search-input",4,"ngIf"],["type","text","dw-input","","formControlName","SN",2,"width","100%"],["formControlName","file_type",2,"white-space","nowrap",3,"ngModelChange"],["dw-radio","",3,"dwValue"],["dwTableId","crs-product-file-list","dwShowSizeChanger","",3,"dwData","dwPageIndex","dwPageSize","dwScroll","dwShowTotal","dwPageIndexChange","dwPageSizeChange","dwCurrentPageDataChange"],["dwTable",""],[3,"dwSortOrderChange"],["dwDropColumns",""],["dwReorderColumns","",4,"ngFor","ngForOf"],["dwWidth","114px","dwShowSort","","dwColumnKey","product_file_code","dwDragDrop","",4,"dwColumnId"],["dwWidth","114px","dwShowSort","","dwColumnKey","product_file_code","dwDragDrop",""],["dwWidth","160px","dwShowSort","","dwColumnKey","product_file_name","dwDragDrop","",4,"dwColumnId"],["dwWidth","160px","dwShowSort","","dwColumnKey","product_file_name","dwDragDrop",""],["dwShowSort","","dwColumnKey","item_group_name","dwWidth","120px","dwDragDrop","",4,"dwColumnId"],["dwShowSort","","dwColumnKey","item_group_name","dwWidth","120px","dwDragDrop",""],["dwWidth","120px","dwDragDrop","",4,"dwColumnId"],["dwWidth","120px","dwDragDrop",""],["translate","",4,"ngIf"],["dwWidth","160px","dwDragDrop","",4,"dwColumnId"],["dwWidth","160px","dwDragDrop",""],["dwWidth","136px","dwDragDrop","",4,"dwColumnId"],["dwWidth","136px","dwDragDrop",""],["dwWidth","96px","dwDragDrop","",4,"dwColumnId"],["dwWidth","96px","dwDragDrop",""],["dwWidth","200px","dwDragDrop","",4,"dwColumnId"],["dwWidth","200px","dwDragDrop",""],["dwWidth","112px","dwDragDrop","",4,"dwColumnId"],["dwWidth","112px","dwDragDrop",""],["dwWidth","210px","dwDragDrop","",4,"dwColumnId"],["dwWidth","210px","dwDragDrop",""],["dwWidth","120px","dwShowSort","","dwColumnKey","maintenance_count","dwDragDrop","",3,"dwAlign",4,"dwColumnId"],["dwWidth","120px","dwShowSort","","dwColumnKey","maintenance_count","dwDragDrop","",3,"dwAlign"],["dwRight","","dwWidth","96px",3,"dwAlign",4,"dwColumnId"],["dwRight","","dwWidth","96px",3,"dwAlign"],["dwReorderColumns",""],["dwWidth","114px","dwEllipsis","",4,"dwColumnId"],["dwWidth","114px","dwEllipsis",""],["dw-analyticsOn","click","id","product-file-detail","angularticsAction","\u8be6\u60c5-\u70b9\u51fb\u67e5\u770b\u8be6\u60c5",3,"angularticsCategory","angularticsLabel","click"],["dwWidth","160px","dwEllipsis","",4,"dwColumnId"],["dwWidth","160px","dwEllipsis",""],["dwWidth","120px","dwEllipsis","",4,"dwColumnId"],["dwWidth","120px","dwEllipsis",""],["dwEllipsis","","dwWidth","120px",4,"dwColumnId"],["dwEllipsis","","dwWidth","120px"],["dwWidth","136px","dwEllipsis","",4,"dwColumnId"],["dwWidth","136px","dwEllipsis",""],["dwWidth","96px","dwEllipsis","",4,"dwColumnId"],["dwWidth","96px","dwEllipsis",""],["dwWidth","200px","dwEllipsis","",4,"dwColumnId"],["dwWidth","200px","dwEllipsis",""],["dwWidth","112px","dwEllipsis","",4,"dwColumnId"],["dwWidth","112px","dwEllipsis",""],["dwWidth","210px","dwEllipsis","",4,"dwColumnId"],["dwWidth","210px","dwEllipsis",""],["dwWidth","120px","dwWidth","120px","dwEllipsis","",3,"dwAlign",4,"dwColumnId"],["dwWidth","120px","dwWidth","120px","dwEllipsis","",3,"dwAlign"],["class","state_tip",4,"ngIf"],["class","state_tip zise",4,"ngIf"],["class","state_tip gray",4,"ngIf"],[1,"state_tip"],[1,"state_tip","zise"],[1,"state_tip","gray"],["dwRight","","dwWidth","96px","dwEllipsis","",3,"dwAlign",4,"dwColumnId"],["dwRight","","dwWidth","96px","dwEllipsis","",3,"dwAlign"],["dwActionAuthorized","","translate","","id","product-resume","dw-analyticsOn","click","angularticsAction","\u5c65\u5386-\u70b9\u51fb\u67e5\u770b\u5c65\u5386",3,"dwActionId","dwDefaultAuthorized","angularticsCategory","angularticsLabel","dwClick"],[1,"action-grid"],["dwActionAuthorized","","title","\u7f16\u8f91","dw-analyticsOn","click","angularticsAction","\u4fee\u6539-\u8fdb\u5165\u4fee\u6539\u9875\u9762","id","modify-product-file",3,"dwActionId","dwDefaultAuthorized","angularticsCategory","angularticsLabel","click"],["src","../../../../../../assets/img/icon_edit.png","alt","\u4fee\u6539",1,"action-icon"],["src","../../../../../../assets/img/icon_edit_hover.png","alt","\u4fee\u6539",1,"action-icon"],["dwActionAuthorized","","title","\u5220\u9664",3,"dwActionId","dwDefaultAuthorized",4,"ngIf"],["dwActionAuthorized","","title","\u5220\u9664",3,"dwActionId","dwDefaultAuthorized"],["dw-popconfirm","",3,"dwPopconfirmTitle","dwOkText","dwCancelText","dwPopconfirmPlacement","dwOnConfirm"],["dw-popconfirm","","translate",""],["src","../../../../../../assets/img/icon_delete.png","alt","\u5220\u9664",1,"action-icon"],["src","../../../../../../assets/img/icon_delete_hover.png","alt","\u5220\u9664",1,"action-icon"],[3,"visibleChanged"],["child",""],[1,"detail-title"],["src","../../../../../../assets/img/qrcode.png","alt","\u4e8c\u7ef4\u7801",1,"qrcode",3,"click"],[3,"dwData","dwShowTotal"],["tableMulty",""],["dw-tr",""],["dw-th","","width","200"],["dw-th","","width","200",4,"ngIf"],[4,"ngFor","ngForOf"]],template:function(e,t){if(1&e){var n=m.\u0275\u0275getCurrentView();m.\u0275\u0275elementStart(0,"dw-content",0),m.\u0275\u0275elementStart(1,"div",1),m.\u0275\u0275elementStart(2,"h2",2),m.\u0275\u0275elementStart(3,"span"),m.\u0275\u0275text(4,"\u4ea7\u54c1\u6863\u6848"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(5,"div",3),m.\u0275\u0275elementStart(6,"dw-input-group",4),m.\u0275\u0275elementStart(7,"input",5),m.\u0275\u0275listener("ngModelChange",function(e){return t.param=e}),m.\u0275\u0275elementEnd(),m.\u0275\u0275template(8,Ae,2,0,"ng-template",null,6,m.\u0275\u0275templateRefExtractor),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275element(10,"hr",7),m.\u0275\u0275elementStart(11,"div",8),m.\u0275\u0275elementStart(12,"form",9),m.\u0275\u0275elementStart(13,"div",10),m.\u0275\u0275elementStart(14,"div",11),m.\u0275\u0275elementStart(15,"div",12),m.\u0275\u0275text(16,"\u51fa\u5e93\u65e5\u671f"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(17,"dw-form-item",13),m.\u0275\u0275elementStart(18,"dw-form-control"),m.\u0275\u0275elementStart(19,"dw-range-picker",14),m.\u0275\u0275listener("dwOnOpenChange",function(e){return t.onOpenRange(e)}),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(20,"div",11),m.\u0275\u0275elementStart(21,"div",12),m.\u0275\u0275text(22,"\u5ba2\u6237\u540d\u79f0"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(23,"dw-form-item",13),m.\u0275\u0275elementStart(24,"dw-form-control"),m.\u0275\u0275elementStart(25,"dw-input-group",15),m.\u0275\u0275element(26,"input",16),m.\u0275\u0275elementEnd(),m.\u0275\u0275template(27,je,3,3,"ng-template",null,17,m.\u0275\u0275templateRefExtractor),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(29,"div",11),m.\u0275\u0275elementStart(30,"div"),m.\u0275\u0275text(31,"\xa0\xa0\xa0\xa0"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(32,"dw-form-item",13),m.\u0275\u0275elementStart(33,"dw-form-control"),m.\u0275\u0275elementStart(34,"div",18),m.\u0275\u0275elementStart(35,"dw-input-group"),m.\u0275\u0275elementStart(36,"label",19),m.\u0275\u0275listener("ngModelChange",function(e){return t.onOpenRange4(e)}),m.\u0275\u0275text(37," 30\u5929\u5185\u5373\u5c06\u8fc7\u4fdd "),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(38,"button",20),m.\u0275\u0275listener("dwClick",function(){return t.loadData()}),m.\u0275\u0275text(39),m.\u0275\u0275pipe(40,"translate"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(41,"button",21),m.\u0275\u0275listener("click",function(){return t.reset()}),m.\u0275\u0275text(42),m.\u0275\u0275pipe(43,"translate"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(44,"div",22),m.\u0275\u0275listener("click",function(){return t.isShowSearchExpand()}),m.\u0275\u0275text(45),m.\u0275\u0275element(46,"em",23),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275template(47,Be,26,7,"div",24),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(48,"div",25),m.\u0275\u0275elementStart(49,"div",26),m.\u0275\u0275elementStart(50,"div",27),m.\u0275\u0275elementStart(51,"button",28),m.\u0275\u0275element(52,"em",29),m.\u0275\u0275elementStart(53,"span",30),m.\u0275\u0275text(54,"\u65b0\u5efa"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(55,"div",31),m.\u0275\u0275element(56,"div",32),m.\u0275\u0275elementStart(57,"div",33),m.\u0275\u0275listener("click",function(){return t.create("1")}),m.\u0275\u0275text(58,"\u65b0\u5efa\u5355\u673a"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(59,"div",33),m.\u0275\u0275listener("click",function(){return t.create("2")}),m.\u0275\u0275text(60,"\u65b0\u5efa\u4ea7\u7ebf/\u9879\u76ee "),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(61,"button",34),m.\u0275\u0275listener("click",function(){return t.goRecycledList()}),m.\u0275\u0275element(62,"img",35),m.\u0275\u0275element(63,"img",36),m.\u0275\u0275text(64," \u5df2\u56de\u6536\u4ea7\u54c1 "),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(65,"button",37),m.\u0275\u0275listener("click",function(){return m.\u0275\u0275restoreView(n),m.\u0275\u0275reference(74).initData(),t.showMultyModify()}),m.\u0275\u0275element(66,"img",38),m.\u0275\u0275element(67,"img",39),m.\u0275\u0275text(68," \u6279\u91cf\u4fee\u6539 "),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(69,"button",40),m.\u0275\u0275listener("click",function(){return t.export()}),m.\u0275\u0275element(70,"em",41),m.\u0275\u0275text(71," \u5bfc\u51fa\u6570\u636e "),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275template(72,En,27,27,"ng-container",24),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(73,"app-multy-modify-step1",42,43),m.\u0275\u0275listener("visibleChanged",function(e){return t.changeStep1Visible(e)}),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(75,"dw-drawer",44),m.\u0275\u0275listener("dwOnClose",function(){return t.isCollapsed=!1}),m.\u0275\u0275template(76,Dn,2,0,"ng-template",45),m.\u0275\u0275elementEnd(),m.\u0275\u0275template(77,On,3,0,"ng-template",null,46,m.\u0275\u0275templateRefExtractor),m.\u0275\u0275template(79,kn,1,1,"ng-template",null,47,m.\u0275\u0275templateRefExtractor),m.\u0275\u0275template(81,Mn,1,1,"ng-template",null,48,m.\u0275\u0275templateRefExtractor),m.\u0275\u0275template(83,zn,16,7,"ng-template",null,49,m.\u0275\u0275templateRefExtractor)}if(2&e){var r=m.\u0275\u0275reference(9),i=m.\u0275\u0275reference(28),a=m.\u0275\u0275reference(78);m.\u0275\u0275advance(6),m.\u0275\u0275property("dwAddOnAfter",r),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngModel",t.param),m.\u0275\u0275advance(5),m.\u0275\u0275property("formGroup",t.searchForm),m.\u0275\u0275advance(13),m.\u0275\u0275property("dwSuffix",i),m.\u0275\u0275advance(13),m.\u0275\u0275propertyInterpolate("angularticsLabel",t.userInfo.tenantId+","+t.userInfo.userId),m.\u0275\u0275property("dwType","primary")("dwActionId","query")("angularticsCategory","\u4ea7\u54c1\u6863\u6848"),m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" ",m.\u0275\u0275pipeBind1(40,41,"\u67e5\u8be2")," "),m.\u0275\u0275advance(2),m.\u0275\u0275propertyInterpolate("angularticsLabel",t.userInfo.tenantId+","+t.userInfo.userId),m.\u0275\u0275property("dwType","defult")("angularticsCategory","\u4ea7\u54c1\u6863\u6848"),m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" ",m.\u0275\u0275pipeBind1(43,43,"\u91cd\u7f6e")," "),m.\u0275\u0275advance(3),m.\u0275\u0275textInterpolate1(" ",t.isSearchExpand?"\u6536\u8d77":"\u5c55\u5f00"," "),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwType",t.isSearchExpand?"up":"down"),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",t.isSearchExpand),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwActionId","add")("dwDefaultAuthorized","disabled"),m.\u0275\u0275advance(3),m.\u0275\u0275property("dwType","primary")("dwActionId","add")("dwDefaultAuthorized","disabled"),m.\u0275\u0275advance(6),m.\u0275\u0275propertyInterpolate("angularticsLabel",t.userInfo.tenantId+","+t.userInfo.userId),m.\u0275\u0275property("angularticsCategory","\u4ea7\u54c1\u6863\u6848"),m.\u0275\u0275advance(2),m.\u0275\u0275propertyInterpolate("angularticsLabel",t.userInfo.tenantId+","+t.userInfo.userId),m.\u0275\u0275property("angularticsCategory","\u4ea7\u54c1\u6863\u6848"),m.\u0275\u0275advance(2),m.\u0275\u0275property("dwType","defult")("dwActionId","recycle")("dwDefaultAuthorized","disabled"),m.\u0275\u0275advance(4),m.\u0275\u0275property("dwType","defult")("dwDefaultAuthorized","disabled")("dwActionId","batchmodify"),m.\u0275\u0275advance(4),m.\u0275\u0275property("dwType","defult")("dwLoading",t.isDownloading)("dwDefaultAuthorized","disabled")("dwActionId","export"),m.\u0275\u0275advance(3),m.\u0275\u0275property("ngIf",t.showFile),m.\u0275\u0275advance(1),m.\u0275\u0275property("visible",t.showStep1),m.\u0275\u0275advance(2),m.\u0275\u0275property("dwVisible",t.isCollapsed)("dwTitle",a)("dwWidth","70%")("dwBodyStyle",m.\u0275\u0275pureFunction0(45,Bn))}},directives:[re.DwContentComponent,ie.u,Q.DwInputGroupComponent,Q.DwInputDirective,v.DefaultValueAccessor,v.NgControlStatus,v.NgModel,v.\u0275NgNoValidate,v.NgControlStatusGroup,v.FormGroupDirective,G.DwRowDirective,U.DwFormItemComponent,G.DwColDirective,U.DwFormControlComponent,Z.DwDatePickerComponent,Z.DwRangePickerComponent,v.FormControlName,Q.DwInputGroupWhitSuffixOrPrefixDirective,P.DwCheckboxComponent,X.DwButtonComponent,ae.uG,oe.DwActionAuthorizedDirective,_.DwAnalyticsOn,K.DwIconDirective,d.NgIf,F.TranslateDirective,Oe,ke.DwDrawerComponent,ke.DwDrawerContentDirective,H.DwSelectComponent,H.DwOptionComponent,Me.DwRadioGroupComponent,Me.DwRadioComponent,k.DwTableComponent,M.Ct,k.DwTheadComponent,k.DwTrDirective,M.Y9,k.DwTbodyComponent,d.NgForOf,M.b,k.DwTableCellDirective,k.DwThMeasureDirective,M.BL,k.DwThAddOnComponent,M.$2,k.DwCellAlignDirective,k.DwCellFixedDirective,M.at,k.DwCellEllipsisDirective,Pe.DwPopconfirmDirective,E.w],pipes:[F.TranslatePipe,d.DatePipe],styles:[".state_tip[_ngcontent-%COMP%]{display:inline-block;width:64px;height:28px;line-height:28px;text-align:center;border-radius:15px;color:#fff;font-size:13px;background:#29cc8d}.state_tip.zise[_ngcontent-%COMP%]{background:#5c64d1}.state_tip.gray[_ngcontent-%COMP%]{background:#5c5c5c}.search-form-box[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{width:calc((100% - 3 * 24px - 48px) / 3)}.search-form-box[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{flex:1}.search-form-box[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{width:5rem;text-align:right}.one_btn[_ngcontent-%COMP%]{height:32px;padding:0 8px 0 4px;margin-left:8px;border-radius:4px;display:flex;align-items:center}.one_btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;width:24px;margin-right:2px}.one_btn[_ngcontent-%COMP%]   img.hover[_ngcontent-%COMP%]{display:none}.one_btn[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{display:none}.one_btn[_ngcontent-%COMP%]:hover   img.hover[_ngcontent-%COMP%]{display:block}.one_btn[_ngcontent-%COMP%]:active{color:#096dd9;border-color:#096dd9}.sub_act[_ngcontent-%COMP%]:hover   .pub-btns[_ngcontent-%COMP%]{display:flex}.pub-btns[_ngcontent-%COMP%]{width:100px;position:absolute;top:32px;left:-20px;z-index:1999;background:#fff;display:none;flex-direction:column}.pub-btns[_ngcontent-%COMP%]   .blank[_ngcontent-%COMP%]{height:8px}.pub-btns[_ngcontent-%COMP%]   .act-item[_ngcontent-%COMP%]{display:block;width:100px;height:40px;line-height:40px;text-align:center;color:#000000a6;cursor:pointer;border:1px solid #e9e9e9;border-bottom:0}.pub-btns[_ngcontent-%COMP%]   .act-item[_ngcontent-%COMP%]:last-child{border-bottom:1px solid #e9e9e9}.pub-btns[_ngcontent-%COMP%]   .act-item[_ngcontent-%COMP%]:hover{background:#f1f1f1}  b{font-weight:normal;color:#0d9def}.isExpand[_ngcontent-%COMP%]{width:46px;white-space:nowrap;color:#1890ff;margin-left:16px;cursor:pointer}"]}),e}(),qn=a(64762),Wn=a(53524),Gn=f(function e(t){p(this,e),this.product_file_id="",this.product_part_id="",this.material_id="",this.material_code="",this.material_name="",this.specification="",this.model="",this.sn="",this.sn_management="",this.unit="",this.unit_qty="",this.item_group_name="",this.expiry_date="",this.remark="",this.quickwear_part=!1,this.replacement_date="",Object.assign(this,t)}),Un=f(function e(t){p(this,e),this.product_file_id="",this.product_equipment_list_id="",this.code="",this.name="",this.specification="",this.model="",this.sn="",this.picture_id="",this.file_name="",this.file_context="",this.quantity=1,this.item_group_id="",this.item_group_name="",this.remark="",this.product_part=[],this.quickwear_part=!1,this.replacement_date="",Object.assign(this,t)}),Hn=a(9682),Xn=function(e){l(n,e);var t=c(n);function n(e,r){var i;return p(this,n),(i=t.call(this)).http=e,i.url=r,i}return f(n,[{key:"getDataList",value:function(e,t){var n=this;return this.http.get(this.url).pipe((0,ee.map)(function(r){return n._result={currentPage:e,datas:Object.assign([],r),pageCount:Math.ceil(r.length/t),pageSize:t,rowCount:r.length},console.log("result",n._result),n._result}))}}]),n}(Hn.DwClientPagingDataSource),Qn=a(16072),Kn=a(59083),Jn=function(){var e=function(){function e(t){p(this,e),this.sanitized=t}return f(e,[{key:"transform",value:function(e){var t="\u6613\u635f\u4ef6"===e.slice(-3),n=e.slice(0,e.length-3);return this.sanitized.bypassSecurityTrustHtml("<div>".concat(n,t?'<span style="color: #ffffff;background: linear-gradient(270deg, #FD928B 0%, #FC493E 100%);border-radius: 2px;padding: 0 2px;font-size: 12px;margin-left: 10px;white-space:nowrap;">\u6613\u635f\u4ef6</span></div>':"</div>"))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(m.\u0275\u0275directiveInject(Kn.DomSanitizer,16))},e.\u0275pipe=m.\u0275\u0275definePipe({name:"CustomHtmlPipe",type:e,pure:!0}),e}(),Zn=function(){var e=function(){function e(t,n,r,i,a){p(this,e),this.selectModalService=t,this.dwHttp=n,this.http=r,this.customPipe=i,this.customHtmlPipe=a,this.typeEnum={1:"\u603b\u90e8",2:"\u7f51\u70b9",3:"\u7ecf\u9500\u5546"},this.config={modalTitle:"\u4ea7\u54c1\u6863\u6848",modalWidth:"50%",tableMultiSelect:!1,tableIdField:"product_file_id",tableNameField:"product_file_name",tablePageSize:10,tableColDefs:[],dataSource:new Xn(this.dwHttp,"restful/service/product/Product/Product?id=")}}return f(e,[{key:"open",value:function(e,t,n,r){var i=this,a="";return"service_site_name"===t?(a="restful/service/serviceSite/ServiceSite/List",this.config={modalTitle:"\u670d\u52a1\u7ad9\u70b9",modalWidth:"50%",tableMultiSelect:!1,tableIdField:"service_site_id",tableNameField:"service_site_name",tablePageSize:10,tableColDefs:[{title:"\u7f16\u53f7",field:"service_site_code",width:""},{title:"\u540d\u79f0",field:"service_site_name",width:""},{title:"\u7c7b\u578b",field:"service_site_type",dataPipe:"i18nSelect",dataEnum:this.typeEnum}],tableCustomTag:function(e){return"("+e.service_site_code+")"+e.service_site_name},dataSource:new Hn.ApiServerPagingService(this.dwHttp,a,"service_site",["service_site_code","service_site_name"]),returnFields:["service_site_id","service_site_name"],initParams:this.getQueryCondition(n[0],n[1])}):"employee_id"===t?(a="restful/service/employee/Employee/EmployeeForServiceSite?service_site_id=".concat(n),this.config={modalTitle:"\u670d\u52a1\u4eba\u5458",modalWidth:"50%",tableMultiSelect:!1,tableIdField:"employee_id",tableNameField:"employee_name",tablePageSize:10,tableColDefs:[{title:"\u7f16\u53f7",field:"employee_code",width:""},{title:"\u59d3\u540d",field:"employee_name",width:""}],tableCustomTag:function(e){return"("+e.employee_code+")"+e.employee_name},dataSource:new Xn(this.dwHttp,a)}):"customer_id"===t?(a="restful/service/customer/Customer/List",this.config={modalTitle:"\u5ba2\u6237",modalWidth:"50%",tableMultiSelect:!1,tableIdField:"customer_id",tableNameField:"customer_name",tablePageSize:10,tableColDefs:[{title:"\u5ba2\u6237\u7f16\u53f7",field:"customer_code",width:""},{title:"\u5ba2\u6237\u540d\u79f0",field:"customer_name",width:""},{title:"\u8054\u7cfb\u4eba",field:"contact",width:""},{title:"\u8054\u7cfb\u7535\u8bdd",field:"contact_number",width:""}],tableCustomTag:function(e){return"("+e.customer_code+")"+e.customer_name},dataSource:new Hn.ApiServerPagingService(this.dwHttp,a,"customer",["customer_code","customer_name"])}):(a="restful/service/material/Material/MaterialForServerPaging?type=false",this.config={modalTitle:"\u4ea7\u54c1\u914d\u4ef6",modalWidth:"70%",tableMultiSelect:n,tableIdField:"material_id",tableNameField:"material_name",tablePageSize:10,tableColDefs:[{title:"\u7f16\u7801",field:"material_code",width:"110px"},{title:"\u540d\u79f0",field:"material_name",width:"140px"},{title:"\u914d\u4ef6\u5206\u7c7b",field:"item_group_name",width:"140px"},{title:"\u89c4\u683c",field:"specification",width:"150px"},{title:"\u578b\u53f7",field:"model",width:"130px"},{title:"\u56fe\u7247",field:"url",width:"80px",dataPipe:"custom:url",customPipe:this.customPipe,isSort:!1}],tableCustomTag:function(e){return"("+e.material_code+")"+e.material_name},dataSource:new Hn.ApiServerPagingService(this.dwHttp,a,"material",["material_code","material_name"])}),"employee_id"===t?this.selectModalService.open(this.config,e).pipe((0,ee.switchMap)(function(e){return i.dwHttp.get("restful/service/employee/Employee/EmployeeById?id=".concat(e[0]))})):"customer_id"===t?this.selectModalService.open(this.config,e).pipe((0,ee.switchMap)(function(e){return i.dwHttp.get("restful/service/customer/Customer/CustomerByCustomerId?customerId=".concat(e[0]))})):"material_id"===t?this.selectModalService.open(this.config,e).pipe((0,ee.switchMap)(function(e){return i.dwHttp.get("restful/service/material/Material/MaterialByIds?material_id=".concat(e,"&delivery_date=").concat(r))})):this.selectModalService.open(this.config,e)}},{key:"getQueryCondition",value:function(e,t){var n=new Wn.DwQueryCondition;return"1"!==t?(n.addCondition(new Wn.DwQueryConditionInfo("service_site_id",String(e),Wn.DwQueryConditionOperator.EQUAL)),n):null}}]),e}();return e.\u0275fac=function(t){return new(t||e)(m.\u0275\u0275inject(Hn.DwSelectModalService),m.\u0275\u0275inject(le.DwDapHttpClient),m.\u0275\u0275inject(ne.HttpClient),m.\u0275\u0275inject(Qn.M),m.\u0275\u0275inject(Jn))},e.\u0275prov=m.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac}),e}();function Yn(e,t){if(1&e){var n=m.\u0275\u0275getCurrentView();m.\u0275\u0275elementStart(0,"em",24),m.\u0275\u0275listener("click",function(){return m.\u0275\u0275restoreView(n),m.\u0275\u0275nextContext(2).clear("material_")}),m.\u0275\u0275elementEnd()}}function er(e,t){if(1&e){var n=m.\u0275\u0275getCurrentView();m.\u0275\u0275template(0,Yn,1,0,"em",21),m.\u0275\u0275elementStart(1,"button",22),m.\u0275\u0275listener("click",function(e){return m.\u0275\u0275restoreView(n),m.\u0275\u0275nextContext().openProductDataWin(e,"material_id")}),m.\u0275\u0275element(2,"em",23),m.\u0275\u0275elementEnd()}if(2&e){var r=m.\u0275\u0275nextContext();m.\u0275\u0275property("ngIf",r.form.value.material_code)}}function tr(e,t){1&e&&(m.\u0275\u0275elementStart(0,"dw-form-item"),m.\u0275\u0275elementStart(1,"dw-form-label",1),m.\u0275\u0275text(2,"\u5230\u671f\u66f4\u6362\u65e5\u671f"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(3,"dw-form-control",2),m.\u0275\u0275element(4,"dw-date-picker",25),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd()),2&e&&(m.\u0275\u0275advance(1),m.\u0275\u0275property("dwSm",6)("dwXs",24),m.\u0275\u0275advance(2),m.\u0275\u0275property("dwSm",16)("dwXs",24),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwDisabled",!0))}var nr=function(){var e=function(){function e(t,n,r,i){p(this,e),this.fb=t,this.productFileSrv=n,this.productFileSelectService=r,this.modalSubject=i,this.sn_readonly=!0}return f(e,[{key:"cmd",set:function(e){this._cmd=e}},{key:"expiryDate",set:function(e){this._expiryDate=e}},{key:"deliveryDate",set:function(e){this._deliveryDate=e||new Date}},{key:"orderDetail",set:function(e){this.detailEdit=e}},{key:"ngOnInit",value:function(){String(this._deliveryDate).indexOf("/")>0&&(this._deliveryDate=new Date(this._deliveryDate)),console.log(this._deliveryDate,this._expiryDate||new Date),"add"===this._cmd?(this.detailEdit=new Gn({}),this.detailEdit.product_part_id="",this.sn_readonly=!1):this.sn_readonly="1"!==this.detailEdit.sn_management,this.form=this.fb.group({}),this.form.addControl("product_file_id",new v.FormControl(this.detailEdit.product_file_id)),this.form.addControl("material_id",new v.FormControl(this.detailEdit.material_id,v.Validators.required)),this.form.addControl("material_code",new v.FormControl(this.detailEdit.material_code,v.Validators.required)),this.form.addControl("material_name",new v.FormControl(this.detailEdit.material_name,v.Validators.required)),this.form.addControl("specification",new v.FormControl(this.detailEdit.specification)),this.form.addControl("model",new v.FormControl(this.detailEdit.model)),this.form.addControl("sn",new v.FormControl(this.detailEdit.sn)),this.form.addControl("unit",new v.FormControl(this.detailEdit.unit)),this.form.addControl("unit_qty",new v.FormControl(this.detailEdit.unit_qty||1)),this.form.addControl("item_group_name",new v.FormControl(this.detailEdit.item_group_name)),this.form.addControl("expiry_date",new v.FormControl(this.detailEdit.expiry_date)),this.form.addControl("sn_management",new v.FormControl(this.detailEdit.sn_management)),this.form.addControl("remark",new v.FormControl(this.detailEdit.remark)),this.form.addControl("quickwear_part",new v.FormControl(this.detailEdit.quickwear_part)),this.form.addControl("replacement_date",new v.FormControl(this.detailEdit.replacement_date))}},{key:"onInput",value:function(e,t){console.log(e.target.value),e.target.value<=0&&this.form.get(t).setValue(1)}},{key:"emitDataOutside",value:function(){Object.assign(this.detailEdit,this.form.value),this.detailEdit.$state="u",console.log(this.detailEdit),this.modalSubject.triggerOk()}},{key:"handleCancel",value:function(e){this.modalSubject.triggerCancel()}},{key:"openProductDataWin",value:function(e,t){var n=this;e.preventDefault(),console.log(event.target);var r=this._deliveryDate.getFullYear()+"-"+(this._deliveryDate.getMonth()+1)+"-"+this._deliveryDate.getDate();this.productFileSelectService.open([],t,!1,r).subscribe(function(e){console.log(e),n.form.get(t).setValue(e[0][t]),n.form.get("material_code").setValue(e[0].material_code),n.form.get("material_name").setValue(e[0].material_name),n.form.get("specification").setValue(e[0].specification),n.form.get("model").setValue(e[0].model),n.form.get("sn").reset(""),n.form.get("unit").setValue(e[0].unit),n.form.get("item_group_name").setValue(e[0].item_group_name),n.form.get("material_name").setValue(e[0].material_name),n.form.get("expiry_date").setValue(n._expiryDate||new Date),n.form.get("sn_management").setValue(e[0].sn_management),n.sn_readonly="1"!==e[0].sn_management,n.form.get("replacement_date").setValue(e[0].replacement_date),n.form.get("quickwear_part").setValue(e[0].quickwear_part),console.log(n.form)})}},{key:"clear",value:function(e){this.form.get("".concat(e,"id")).setValue(0),this.form.get("".concat(e,"code")).setValue(""),this.sn_readonly=!1}}]),e}();return e.\u0275fac=function(t){return new(t||e)(m.\u0275\u0275directiveInject(v.FormBuilder),m.\u0275\u0275directiveInject(g.U),m.\u0275\u0275directiveInject(Zn),m.\u0275\u0275directiveInject(w.DwModalRef))},e.\u0275cmp=m.\u0275\u0275defineComponent({type:e,selectors:[["app-product-part-modify"]],inputs:{cmd:"cmd",expiryDate:"expiryDate",deliveryDate:"deliveryDate",orderDetail:"orderDetail"},features:[m.\u0275\u0275ProvidersFeature([Zn])],decls:63,vars:50,consts:[["dw-form","",3,"formGroup","ngSubmit"],["dwRequired","",3,"dwSm","dwXs"],[3,"dwSm","dwXs"],["dwSearch","",3,"dwSuffix"],["dw-input","","type","text","readonly","","dw-input","","formControlName","material_code"],["suffixMaterialData",""],["dw-input","","readonly","","required","","formControlName","material_name"],["dw-input","","readonly","","formControlName","specification"],["dw-input","","readonly","","formControlName","model"],[3,"dwSm","dwXs","dwRequired"],["dw-input","","formControlName","sn","maxlength","255",3,"readonly","required"],["dw-input","","readonly","","formControlName","unit"],["dw-input","","formControlName","unit_qty","type","number","maxlength","20",3,"readonly","change"],["dw-input","","readonly","","formControlName","item_group_name"],["formControlName","expiry_date","required",""],[4,"ngIf"],["dw-input","","maxlength","20","formControlName","remark"],[1,"customize-footer","ant-modal-footer",2,"padding-bottom","0"],["dw-button","",3,"dwType","disabled"],["translate",""],["dw-button","","type","button",3,"dwType","click"],["dw-icon","","class","ant-input-clear-icon","dwTheme","fill","dwType","close-circle",3,"click",4,"ngIf"],["dw-button","","dwType","primary","dwSearch","","type","button",3,"click"],["dw-icon","","dwType","search"],["dw-icon","","dwTheme","fill","dwType","close-circle",1,"ant-input-clear-icon",3,"click"],["formControlName","replacement_date","dwPlaceHolder","\u6613\u635f\u4ef6\u672a\u8bbe\u7f6e\u66f4\u6362\u5468\u671f",3,"dwDisabled"]],template:function(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"dw-content"),m.\u0275\u0275elementStart(1,"form",0),m.\u0275\u0275listener("ngSubmit",function(){return t.emitDataOutside()}),m.\u0275\u0275elementStart(2,"dw-form-item"),m.\u0275\u0275elementStart(3,"dw-form-label",1),m.\u0275\u0275text(4,"\u914d\u4ef6\u7f16\u53f7"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(5,"dw-form-control",2),m.\u0275\u0275elementStart(6,"dw-input-group",3),m.\u0275\u0275element(7,"input",4),m.\u0275\u0275elementEnd(),m.\u0275\u0275template(8,er,3,1,"ng-template",null,5,m.\u0275\u0275templateRefExtractor),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(10,"dw-form-item"),m.\u0275\u0275elementStart(11,"dw-form-label",1),m.\u0275\u0275text(12,"\u914d\u4ef6\u540d\u79f0"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(13,"dw-form-control",2),m.\u0275\u0275element(14,"input",6),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(15,"dw-form-item"),m.\u0275\u0275elementStart(16,"dw-form-label",2),m.\u0275\u0275text(17,"\u89c4\u683c"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(18,"dw-form-control",2),m.\u0275\u0275element(19,"input",7),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(20,"dw-form-item"),m.\u0275\u0275elementStart(21,"dw-form-label",2),m.\u0275\u0275text(22,"\u578b\u53f7"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(23,"dw-form-control",2),m.\u0275\u0275element(24,"input",8),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(25,"dw-form-item"),m.\u0275\u0275elementStart(26,"dw-form-label",9),m.\u0275\u0275text(27,"\u5e8f\u5217\u53f7"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(28,"dw-form-control",2),m.\u0275\u0275element(29,"input",10),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(30,"dw-form-item"),m.\u0275\u0275elementStart(31,"dw-form-label",2),m.\u0275\u0275text(32,"\u5355\u4f4d"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(33,"dw-form-control",2),m.\u0275\u0275element(34,"input",11),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(35,"dw-form-item"),m.\u0275\u0275elementStart(36,"dw-form-label",2),m.\u0275\u0275text(37,"\u5355\u4f4d\u6570\u91cf"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(38,"dw-form-control",2),m.\u0275\u0275elementStart(39,"input",12),m.\u0275\u0275listener("change",function(e){return t.onInput(e,"unit_qty")}),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(40,"dw-form-item"),m.\u0275\u0275elementStart(41,"dw-form-label",2),m.\u0275\u0275text(42,"\u7c7b\u578b"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(43,"dw-form-control",2),m.\u0275\u0275element(44,"input",13),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(45,"dw-form-item"),m.\u0275\u0275elementStart(46,"dw-form-label",1),m.\u0275\u0275text(47,"\u4fdd\u4fee\u622a\u6b62\u65e5\u671f"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(48,"dw-form-control",2),m.\u0275\u0275element(49,"dw-date-picker",14),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275template(50,tr,5,5,"dw-form-item",15),m.\u0275\u0275elementStart(51,"dw-form-item"),m.\u0275\u0275elementStart(52,"dw-form-label",2),m.\u0275\u0275text(53,"\u5907\u6ce8"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(54,"dw-form-control",2),m.\u0275\u0275element(55,"input",16),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(56,"div",17),m.\u0275\u0275elementStart(57,"button",18),m.\u0275\u0275elementStart(58,"span",19),m.\u0275\u0275text(59,"\u786e\u5b9a"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(60,"button",20),m.\u0275\u0275listener("click",function(e){return t.handleCancel(e)}),m.\u0275\u0275elementStart(61,"span",19),m.\u0275\u0275text(62,"\u53d6\u6d88"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275reference(9);m.\u0275\u0275advance(1),m.\u0275\u0275property("formGroup",t.form),m.\u0275\u0275advance(2),m.\u0275\u0275property("dwSm",6)("dwXs",24),m.\u0275\u0275advance(2),m.\u0275\u0275property("dwSm",16)("dwXs",24),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwSuffix",n),m.\u0275\u0275advance(5),m.\u0275\u0275property("dwSm",6)("dwXs",24),m.\u0275\u0275advance(2),m.\u0275\u0275property("dwSm",16)("dwXs",24),m.\u0275\u0275advance(3),m.\u0275\u0275property("dwSm",6)("dwXs",24),m.\u0275\u0275advance(2),m.\u0275\u0275property("dwSm",16)("dwXs",24),m.\u0275\u0275advance(3),m.\u0275\u0275property("dwSm",6)("dwXs",24),m.\u0275\u0275advance(2),m.\u0275\u0275property("dwSm",16)("dwXs",24),m.\u0275\u0275advance(3),m.\u0275\u0275property("dwSm",6)("dwXs",24)("dwRequired",!t.sn_readonly),m.\u0275\u0275advance(2),m.\u0275\u0275property("dwSm",16)("dwXs",24),m.\u0275\u0275advance(1),m.\u0275\u0275property("readonly",t.sn_readonly)("required",!t.sn_readonly),m.\u0275\u0275advance(2),m.\u0275\u0275property("dwSm",6)("dwXs",24),m.\u0275\u0275advance(2),m.\u0275\u0275property("dwSm",16)("dwXs",24),m.\u0275\u0275advance(3),m.\u0275\u0275property("dwSm",6)("dwXs",24),m.\u0275\u0275advance(2),m.\u0275\u0275property("dwSm",16)("dwXs",24),m.\u0275\u0275advance(1),m.\u0275\u0275property("readonly",!t.sn_readonly),m.\u0275\u0275advance(2),m.\u0275\u0275property("dwSm",6)("dwXs",24),m.\u0275\u0275advance(2),m.\u0275\u0275property("dwSm",16)("dwXs",24),m.\u0275\u0275advance(3),m.\u0275\u0275property("dwSm",6)("dwXs",24),m.\u0275\u0275advance(2),m.\u0275\u0275property("dwSm",16)("dwXs",24),m.\u0275\u0275advance(2),m.\u0275\u0275property("ngIf",t.form.value.quickwear_part),m.\u0275\u0275advance(2),m.\u0275\u0275property("dwSm",6)("dwXs",24),m.\u0275\u0275advance(2),m.\u0275\u0275property("dwSm",16)("dwXs",24),m.\u0275\u0275advance(3),m.\u0275\u0275property("dwType","primary")("disabled",!t.form.valid),m.\u0275\u0275advance(3),m.\u0275\u0275property("dwType","default")}},directives:[re.DwContentComponent,v.\u0275NgNoValidate,v.NgControlStatusGroup,U.DwFormDirective,v.FormGroupDirective,G.DwRowDirective,U.DwFormItemComponent,G.DwColDirective,U.DwFormLabelComponent,U.DwFormControlComponent,ie.u,Q.DwInputGroupComponent,Q.DwInputGroupWhitSuffixOrPrefixDirective,Q.DwInputDirective,v.DefaultValueAccessor,v.NgControlStatus,v.FormControlName,v.RequiredValidator,v.MaxLengthValidator,v.NumberValueAccessor,Z.DwDatePickerComponent,d.NgIf,X.DwButtonComponent,ae.uG,F.TranslateDirective,K.DwIconDirective],styles:[""]}),e}(),rr=a(14025),ir=a(119),ar=a(67733),or=a(41430);function lr(e,t){if(1&e&&m.\u0275\u0275element(0,"dw-option",42),2&e){var n=t.$implicit;m.\u0275\u0275property("dwLabel",n.item_group_name)("dwValue",n.item_group_id)}}var dr=function(){return{width:"100%"}};function cr(e,t){if(1&e&&m.\u0275\u0275element(0,"img",43),2&e){var n=m.\u0275\u0275nextContext();m.\u0275\u0275property("src",n.previewImage,m.\u0275\u0275sanitizeUrl)("ngStyle",m.\u0275\u0275pureFunction0(2,dr))}}function sr(e,t){1&e&&(m.\u0275\u0275elementStart(0,"th",44),m.\u0275\u0275elementStart(1,"span",29),m.\u0275\u0275text(2,"\u914d\u4ef6\u7f16\u53f7"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd())}function mr(e,t){1&e&&(m.\u0275\u0275elementStart(0,"th",45),m.\u0275\u0275elementStart(1,"span",29),m.\u0275\u0275text(2,"\u914d\u4ef6\u540d\u79f0"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd())}function pr(e,t){1&e&&(m.\u0275\u0275elementStart(0,"th",45),m.\u0275\u0275elementStart(1,"span",29),m.\u0275\u0275text(2,"\u89c4\u683c"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd())}function ur(e,t){1&e&&(m.\u0275\u0275elementStart(0,"th",45),m.\u0275\u0275elementStart(1,"span",29),m.\u0275\u0275text(2,"\u578b\u53f7"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd())}function fr(e,t){1&e&&(m.\u0275\u0275elementStart(0,"th",46),m.\u0275\u0275elementStart(1,"span",29),m.\u0275\u0275text(2,"\u5e8f\u5217\u53f7"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd())}function vr(e,t){1&e&&(m.\u0275\u0275elementStart(0,"th",47),m.\u0275\u0275elementStart(1,"span",29),m.\u0275\u0275text(2,"\u5355\u4f4d"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd())}function gr(e,t){1&e&&(m.\u0275\u0275elementStart(0,"th",45),m.\u0275\u0275elementStart(1,"span",29),m.\u0275\u0275text(2,"\u5355\u4f4d\u6570\u91cf"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd())}function hr(e,t){1&e&&(m.\u0275\u0275elementStart(0,"th",45),m.\u0275\u0275elementStart(1,"span",29),m.\u0275\u0275text(2,"\u7c7b\u578b"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd())}function wr(e,t){1&e&&(m.\u0275\u0275elementStart(0,"th",44),m.\u0275\u0275elementStart(1,"span",29),m.\u0275\u0275text(2,"\u4fdd\u4fee\u622a\u6b62\u65e5\u671f"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd())}function yr(e,t){1&e&&(m.\u0275\u0275elementStart(0,"th",44),m.\u0275\u0275elementStart(1,"span",29),m.\u0275\u0275text(2,"\u5230\u671f\u66f4\u6362\u65e5\u671f"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd())}function xr(e,t){1&e&&(m.\u0275\u0275elementStart(0,"th",48),m.\u0275\u0275elementStart(1,"span",29),m.\u0275\u0275text(2,"\u5907\u6ce8"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd())}function _r(e,t){1&e&&(m.\u0275\u0275elementStart(0,"th",49),m.\u0275\u0275elementStart(1,"span",29),m.\u0275\u0275text(2,"\u64cd\u4f5c"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd())}function Cr(e,t){1&e&&(m.\u0275\u0275elementStart(0,"span",54),m.\u0275\u0275element(1,"em",55),m.\u0275\u0275elementEnd())}function Sr(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"td"),m.\u0275\u0275template(1,Cr,2,0,"span",53),m.\u0275\u0275text(2),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275nextContext().$implicit;m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",n.quickwear_part),m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" ",n.material_code," ")}}function br(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"td"),m.\u0275\u0275text(1),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275nextContext().$implicit;m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" ",n.material_name," ")}}function Ir(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"td"),m.\u0275\u0275text(1),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275nextContext().$implicit;m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" ",n.specification," ")}}function Er(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"td"),m.\u0275\u0275text(1),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275nextContext().$implicit;m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" ",n.model," ")}}function Dr(e,t){if(1&e){var n=m.\u0275\u0275getCurrentView();m.\u0275\u0275elementStart(0,"input",57),m.\u0275\u0275listener("ngModelChange",function(e){return m.\u0275\u0275restoreView(n),m.\u0275\u0275nextContext(2).$implicit.sn=e})("change",function(){m.\u0275\u0275restoreView(n);var e=m.\u0275\u0275nextContext(2).$implicit;return m.\u0275\u0275nextContext().partInputChange(e)}),m.\u0275\u0275elementEnd()}if(2&e){var r=m.\u0275\u0275nextContext(2).$implicit;m.\u0275\u0275property("ngModel",r.sn)}}function Or(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"td"),m.\u0275\u0275template(1,Dr,1,1,"input",56),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275nextContext().$implicit;m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf","1"===n.sn_management)}}function kr(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"td"),m.\u0275\u0275text(1),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275nextContext().$implicit;m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" ",n.unit," ")}}function Mr(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"span"),m.\u0275\u0275text(1),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275nextContext(2).$implicit;m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate(n.unit_qty)}}function Pr(e,t){if(1&e){var n=m.\u0275\u0275getCurrentView();m.\u0275\u0275elementStart(0,"dw-input-number",60),m.\u0275\u0275listener("ngModelChange",function(e){return m.\u0275\u0275restoreView(n),m.\u0275\u0275nextContext(2).$implicit.unit_qty=e})("ngModelChange",function(){m.\u0275\u0275restoreView(n);var e=m.\u0275\u0275nextContext(2).$implicit;return m.\u0275\u0275nextContext().partInputChange(e)}),m.\u0275\u0275elementEnd()}if(2&e){var r=m.\u0275\u0275nextContext(2).$implicit;m.\u0275\u0275property("ngModel",r.unit_qty)("dwMin",0)}}function Fr(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"td"),m.\u0275\u0275template(1,Mr,2,1,"span",58),m.\u0275\u0275template(2,Pr,1,2,"dw-input-number",59),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275nextContext().$implicit;m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf","1"===n.sn_management),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf","0"===n.sn_management)}}function Vr(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"td"),m.\u0275\u0275text(1),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275nextContext().$implicit;m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" ",n.item_group_name," ")}}function Tr(e,t){if(1&e){var n=m.\u0275\u0275getCurrentView();m.\u0275\u0275elementStart(0,"td"),m.\u0275\u0275elementStart(1,"dw-date-picker",61),m.\u0275\u0275listener("ngModelChange",function(e){return m.\u0275\u0275restoreView(n),m.\u0275\u0275nextContext().$implicit.expiry_date=e})("ngModelChange",function(){m.\u0275\u0275restoreView(n);var e=m.\u0275\u0275nextContext().$implicit;return m.\u0275\u0275nextContext().partInputChange(e)}),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd()}if(2&e){var r=m.\u0275\u0275nextContext().$implicit;m.\u0275\u0275advance(1),m.\u0275\u0275property("ngModel",r.expiry_date)}}function Lr(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"td"),m.\u0275\u0275text(1),m.\u0275\u0275pipe(2,"date"),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275nextContext().$implicit;m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" ",m.\u0275\u0275pipeBind2(2,1,n.replacement_date,"yyyy-MM-dd")," ")}}function Rr(e,t){if(1&e){var n=m.\u0275\u0275getCurrentView();m.\u0275\u0275elementStart(0,"td"),m.\u0275\u0275elementStart(1,"input",62),m.\u0275\u0275listener("ngModelChange",function(e){return m.\u0275\u0275restoreView(n),m.\u0275\u0275nextContext().$implicit.remark=e})("change",function(){m.\u0275\u0275restoreView(n);var e=m.\u0275\u0275nextContext().$implicit;return m.\u0275\u0275nextContext().partInputChange(e)}),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd()}if(2&e){var r=m.\u0275\u0275nextContext().$implicit;m.\u0275\u0275advance(1),m.\u0275\u0275property("ngModel",r.remark)}}function Ar(e,t){if(1&e){var n=m.\u0275\u0275getCurrentView();m.\u0275\u0275elementStart(0,"td",63),m.\u0275\u0275elementStart(1,"div",64),m.\u0275\u0275elementStart(2,"div",65),m.\u0275\u0275elementStart(3,"a",66),m.\u0275\u0275listener("dwOnConfirm",function(){m.\u0275\u0275restoreView(n);var e=m.\u0275\u0275nextContext().$implicit;return m.\u0275\u0275nextContext().deletePart(e.index)}),m.\u0275\u0275pipe(4,"translate"),m.\u0275\u0275pipe(5,"translate"),m.\u0275\u0275elementStart(6,"a",67),m.\u0275\u0275element(7,"img",68),m.\u0275\u0275element(8,"img",69),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd()}2&e&&(m.\u0275\u0275advance(3),m.\u0275\u0275property("dwPopconfirmTitle","\u662f\u5426\u5220\u9664")("dwOkText",m.\u0275\u0275pipeBind1(4,4,"dw-determine"))("dwCancelText",m.\u0275\u0275pipeBind1(5,6,"dw-cancel"))("dwPopconfirmPlacement","topRight"))}function Nr(e,t){1&e&&(m.\u0275\u0275elementContainerStart(0),m.\u0275\u0275elementStart(1,"tr",50),m.\u0275\u0275template(2,Sr,3,2,"td",51),m.\u0275\u0275template(3,br,2,1,"td",51),m.\u0275\u0275template(4,Ir,2,1,"td",51),m.\u0275\u0275template(5,Er,2,1,"td",51),m.\u0275\u0275template(6,Or,2,1,"td",51),m.\u0275\u0275template(7,kr,2,1,"td",51),m.\u0275\u0275template(8,Fr,3,2,"td",51),m.\u0275\u0275template(9,Vr,2,1,"td",51),m.\u0275\u0275template(10,Tr,2,1,"td",51),m.\u0275\u0275template(11,Lr,3,4,"td",51),m.\u0275\u0275template(12,Rr,2,1,"td",51),m.\u0275\u0275template(13,Ar,9,8,"td",52),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementContainerEnd()),2&e&&(m.\u0275\u0275advance(2),m.\u0275\u0275property("dwColumnId","material_code"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","material_name"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","specification"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","model"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","sn"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","unit"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","unit_qty"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","item_group_name"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","expiry_date"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","replacement_date"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","remark"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","operation"))}var jr=function(){return{showPreviewIcon:!0,showRemoveIcon:!0}},zr=function(){return{x:"1300px"}},Br=function(){var e=function(){function e(n,r,i,a,o,l){var d=this;p(this,e),this.fb=n,this.productFileSrv=r,this.productFileSelectService=i,this.message=a,this.datePipe=o,this.modalSubject=l,this.product_part=[],this.product_part_for_show=[],this.itemGroupList=[],this._isIntegrated=!1,this.picture_id="",this.fileList=[],this.previewImage="",this.previewVisible=!1,this.handlePreview=function(e){return(0,qn.mG)(d,void 0,void 0,t().mark(function n(){return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=!e.url&&!e.preview,!t.t0){t.next=5;break}return t.next=4,this.getBase64(e.originFileObj);case 4:e.preview=t.sent;case 5:this.previewImage=e.url||e.preview,this.previewVisible=!0;case 7:case"end":return t.stop()}},n,this)}))},this.handleChange=function(e){return(0,qn.mG)(d,void 0,void 0,t().mark(function n(){return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=e.file.status,t.next="done"===t.t0?3:"removed"===t.t0?15:"error"===t.t0?17:29;break;case 3:if(!this.fileList.length){t.next=9;break}return t.next=6,this.getBase64(e.file.originFileObj);case 6:t.t1=t.sent,t.next=10;break;case 9:t.t1="";case 10:return this.fileList[0].url=t.t1,this.form.get("file_context").setValue(this.fileList.length?this.fileList[0].url:""),this.form.get("file_name").setValue(this.fileList.length?this.fileList[0].name:""),this.form.get("picture_id").setValue(""),t.abrupt("break",29);case 15:return this.fileList[0].url="",this.form.get("file_context").setValue(""),this.form.get("file_name").setValue(""),this.form.get("picture_id").setValue(""),t.abrupt("break",29);case 17:if(this.fileList[0].status="done",!this.fileList.length){t.next=24;break}return t.next=21,this.getBase64(e.file.originFileObj);case 21:t.t2=t.sent,t.next=25;break;case 24:t.t2="";case 25:this.fileList[0].url=t.t2,this.form.get("file_context").setValue(this.fileList.length?this.fileList[0].url:""),this.form.get("file_name").setValue(this.fileList.length?this.fileList[0].name:""),this.form.get("picture_id").setValue("");case 29:case"end":return t.stop()}},n,this)}))},this.beforeUpload=function(e,t){return new b.Observable(function(t){var n="image/jpeg"===e.type||"image/png"===e.type;if(!n)return d.message.create("error","\u8bf7\u4e0a\u4f20jpg\u6216png\u683c\u5f0f\u56fe\u7247\uff01"),void t.complete();var r=e.size/1024/1024<=5;if(!r)return d.message.create("error","\u4e0a\u4f20\u6587\u4ef6\u5927\u5c0f\u8d85\u8fc75M\uff01"),void t.complete();t.next(n&&r),t.complete()})}}return f(e,[{key:"isIntegrated",set:function(e){this._isIntegrated=e}},{key:"cmd",set:function(e){this._cmd=e}},{key:"expiryDate",set:function(e){this._expiryDate=e}},{key:"deliveryDate",set:function(e){this._deliveryDate=e||new Date}},{key:"orderDetail",set:function(e){this.detailEdit=e}},{key:"ngOnInit",value:function(){var e=this;console.log(this._deliveryDate,this.datePipe.transform(this._expiryDate||new Date,"yyyy/MM/dd HH:mm:dd")),String(this._deliveryDate).indexOf("/")>0&&(this._deliveryDate=new Date(this._deliveryDate)),this.form=this.fb.group({}),"add"===this._cmd?(this.detailEdit=new Un({}),this.detailEdit.product_equipment_list_id=null,this.detailEdit.product_file_id=null,this.fileList=[],this.picture_id="",this.previewImage=""):(this.product_part=this.detailEdit.product_part?JSON.parse(JSON.stringify(this.detailEdit.product_part)):[],this.product_part.forEach(function(t){t.$state=t.$state||"u",t.expiry_date=e.datePipe.transform(t.expiry_date||new Date,"yyyy/MM/dd")}),this.getPartsForShow(),this.picture_id=this.detailEdit.picture_id||"",this.detailEdit.file_context?this.fileList=[{uid:this.picture_id,name:this.detailEdit.file_name,status:"done",url:this.detailEdit.file_context}]:(this.fileList=[],this.previewImage="")),this.form.addControl("product_file_id",new v.FormControl(this.detailEdit.product_file_id)),this.form.addControl("code",new v.FormControl(this.detailEdit.code,v.Validators.required)),this.form.addControl("name",new v.FormControl(this.detailEdit.name,v.Validators.required)),this.form.addControl("specification",new v.FormControl(this.detailEdit.specification)),this.form.addControl("model",new v.FormControl(this.detailEdit.model)),this.form.addControl("sn",new v.FormControl(this.detailEdit.sn)),this.form.addControl("picture_id",new v.FormControl(this.detailEdit.picture_id)),this.form.addControl("file_name",new v.FormControl(this.detailEdit.file_name)),this.form.addControl("file_context",new v.FormControl(this.detailEdit.file_context)),this.form.addControl("quantity",new v.FormControl(this.detailEdit.quantity||1,v.Validators.required)),this.form.addControl("item_group_id",new v.FormControl(this.detailEdit.item_group_id,v.Validators.required)),this.form.addControl("item_group_name",new v.FormControl(this.detailEdit.item_group_name,v.Validators.required)),this.form.addControl("remark",new v.FormControl(this.detailEdit.remark)),this.productFileSrv.getItemGroupList("","","1").subscribe(function(t){e.itemGroupList=t||[]})}},{key:"onInput",value:function(e){""!==this.form.value.sn&&this.form.get("quantity").setValue(1)}},{key:"itemGroupChange",value:function(e){if(this.itemGroupList.length)for(var t in this.itemGroupList)if(this.itemGroupList[t].item_group_id===e)return void this.form.get("item_group_name").setValue(this.itemGroupList[t].item_group_name)}},{key:"emitDataOutside",value:function(){var e=this;console.log(this.detailEdit),Object.assign(this.detailEdit,this.form.value),Object.assign(this.detailEdit,{product_part:this.product_part}),this.detailEdit.$state="u",console.log(this.detailEdit);var t=!0;this.product_part_for_show.forEach(function(n){return n.sn||"1"!==n.sn_management?n.unit_qty?n.expiry_date?void 0:(e.message.error("\u8bf7\u8f93\u5165\u914d\u4ef6\u4fdd\u4fee\u622a\u6b62\u65e5\u671f"),void(t=!1)):(e.message.error("\u8bf7\u8f93\u5165\u914d\u4ef6\u5355\u4f4d\u6570\u91cf"),void(t=!1)):(e.message.error("\u8bf7\u8f93\u5165\u914d\u4ef6\u5e8f\u5217\u53f7"),void(t=!1))}),t&&this.modalSubject.triggerOk()}},{key:"handleCancel",value:function(e){console.log(this.detailEdit),this.modalSubject.triggerCancel()}},{key:"openProductDataWin",value:function(e,t){var n=this;e.preventDefault(),console.log(event.target);var r=this._deliveryDate.getFullYear()+"-"+(this._deliveryDate.getMonth()+1)+"-"+this._deliveryDate.getDate();this.productFileSelectService.open([],t,!0,r).subscribe(function(e){var t=!1;e&&e.length&&e.forEach(function(e){var r=n.product_part?n.product_part.filter(function(t){return e.quickwear_part&&"1"!==e.sn_management&&t.material_id===e.material_id&&n.datePipe.transform(t.replacement_date,"yyyy/MM/dd")===n.datePipe.transform(e.replacement_date,"yyyy/MM/dd")&&"d"!==t.$state}):[];if(console.log(r),r&&r.length)return console.log(t),void(t=!0);n.product_part.push(n.detailModelWinObjForProductPart({material_id:e.material_id,material_code:e.material_code,material_name:e.material_name,specification:e.specification,model:e.model,sn:"",unit:e.unit,unit_qty:1,item_group_name:e.item_group_name,expiry_date:n.datePipe.transform(n._expiryDate||new Date,"yyyy/MM/dd"),sn_management:e.sn_management,remark:"",quickwear_part:e.quickwear_part,replacement_date:e.replacement_date,$state:"c"})),n.getPartsForShow()}),t&&n.message.error("\u5df2\u5b58\u5728\u76f8\u540c\u5230\u671f\u66f4\u6362\u65e5\u671f\u7684\u6613\u635f\u914d\u4ef6\uff01")})}},{key:"detailModelWinObjForProductPart",value:function(e){return Object.assign(Object.assign({},e),{product_file_id:this.detailEdit.product_file_id||null,product_equipment_list_id:this.detailEdit.product_equipment_list_id||null})}},{key:"deletePart",value:function(e){console.log(JSON.parse(JSON.stringify(this.product_part)),e),"c"===this.product_part[e].$state?this.product_part.splice(e,1):this.product_part[e].$state="d",this.getPartsForShow()}},{key:"getPartsForShow",value:function(){var e=[];console.log(JSON.parse(JSON.stringify(this.product_part))),this.product_part.forEach(function(t,n){"d"!==t.$state&&(console.log("index",n),e.push(Object.assign(Object.assign({},t),{index:n})))}),console.log(e,"list"),this.product_part_for_show=e}},{key:"partInputChange",value:function(e){this.product_part[e.index]=Object.assign({},e),console.log(this.product_part)}},{key:"getBase64",value:function(e){return new Promise(function(t,n){var r=new FileReader;r.readAsDataURL(e),r.onload=function(){return t(r.result)},r.onerror=function(e){return n(e)}})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(m.\u0275\u0275directiveInject(v.FormBuilder),m.\u0275\u0275directiveInject(g.U),m.\u0275\u0275directiveInject(Zn),m.\u0275\u0275directiveInject(h.DwMessageService),m.\u0275\u0275directiveInject(d.DatePipe),m.\u0275\u0275directiveInject(w.DwModalRef))},e.\u0275cmp=m.\u0275\u0275defineComponent({type:e,selectors:[["app-product-equipment-modify"]],inputs:{isIntegrated:"isIntegrated",cmd:"cmd",expiryDate:"expiryDate",deliveryDate:"deliveryDate",orderDetail:"orderDetail"},features:[m.\u0275\u0275ProvidersFeature([Zn])],decls:95,vars:74,consts:[["dw-form","",3,"formGroup"],[1,"lessons-list"],[1,"sub-title",2,"margin-top","0","margin-left","0"],["dw-row","","dwGutter","8"],["dw-col","","dwSpan","10"],["dwRequired","",3,"dwSm","dwXs"],[3,"dwSm","dwXs"],["dw-input","","required","","formControlName","code","maxlength","40",3,"readonly"],["dw-input","","required","","formControlName","name","maxlength","60",3,"readonly"],["dw-input","","formControlName","sn","maxlength","255",3,"readonly","change"],["formControlName","quantity","required","",2,"width","100%",3,"dwMin","dwPrecision","dwDisabled"],["formControlName","item_group_id","required","",2,"width","100%",3,"ngModelChange"],[3,"dwLabel","dwValue",4,"ngFor","ngForOf"],["dw-input","","formControlName","remark","maxlength","100","placeholder","100\u5b57\u4ee5\u5185"],["dw-col","","dwSpan","12"],["rowspan","4"],[1,"clearfix",2,"min-height","117.5px"],["dwAction","https://www.mocky.io/v2/5cc8019d300000980a055e76","dwListType","picture-card",3,"dwFileList","dwShowButton","dwPreview","dwBeforeUpload","dwAccept","dwShowUploadList","dwFileListChange","dwChange"],["dw-icon","","dwType","plus"],[1,"ant-upload-text"],[3,"dwVisible","dwContent","dwFooter","dwOnCancel"],["modalContent",""],["dw-input","","formControlName","model","maxlength","255"],["dw-input","","formControlName","specification","maxlength","255"],[1,"sub-title",2,"margin-left","0"],[2,"padding-left","20px"],["dw-row","",1,"dw-f-btn-bar-action",2,"padding-bottom","16px"],["dw-col",""],["dw-button","","type","button",3,"dwType","click"],["translate",""],["dwTableId","crs-equipment-part-modify-list",3,"dwData","dwScroll"],["dwTablePart",""],["dw-tr","","dwDropColumns",""],["dw-th","","dwDragDrop","","dwWidth","140px",4,"dwColumnId"],["dw-th","","dwWidth","100px","dwDragDrop","",4,"dwColumnId"],["dw-th","","dwWidth","110px","dwDragDrop","",4,"dwColumnId"],["dw-th","","dwWidth","80px","dwDragDrop","",4,"dwColumnId"],["dw-th","","dwWidth","120px","dwDragDrop","",4,"dwColumnId"],["dw-th","","dwWidth","60px","dwRight","","class","align-center","dwDragDrop","",4,"dwColumnId"],[4,"ngFor","ngForOf"],[1,"customize-footer","ant-modal-footer",2,"padding-bottom","0","padding-right","0"],["dw-button","",3,"dwType","disabled","click"],[3,"dwLabel","dwValue"],["alt","\u7167\u7247",3,"src","ngStyle"],["dw-th","","dwDragDrop","","dwWidth","140px"],["dw-th","","dwWidth","100px","dwDragDrop",""],["dw-th","","dwWidth","110px","dwDragDrop",""],["dw-th","","dwWidth","80px","dwDragDrop",""],["dw-th","","dwWidth","120px","dwDragDrop",""],["dw-th","","dwWidth","60px","dwRight","","dwDragDrop","",1,"align-center"],["dw-tbody-tr","","dwReorderColumns",""],[4,"dwColumnId"],["dwRight","","class","align-center",4,"dwColumnId"],["dw-tooltip","","dwTooltipTitle","\u6613\u635f\u4ef6","class","quickPart",4,"ngIf"],["dw-tooltip","","dwTooltipTitle","\u6613\u635f\u4ef6",1,"quickPart"],[1,"point"],["dw-input","","maxlength","255",3,"ngModel","ngModelChange","change",4,"ngIf"],["dw-input","","maxlength","255",3,"ngModel","ngModelChange","change"],[4,"ngIf"],["style","width: 100%;",3,"ngModel","dwMin","ngModelChange",4,"ngIf"],[2,"width","100%",3,"ngModel","dwMin","ngModelChange"],[3,"ngModel","ngModelChange"],["dw-input","","maxlength","20",3,"ngModel","ngModelChange","change"],["dwRight","",1,"align-center"],[1,"action-grid"],["title","\u5220\u9664"],["dw-popconfirm","",3,"dwPopconfirmTitle","dwOkText","dwCancelText","dwPopconfirmPlacement","dwOnConfirm"],["dw-popconfirm","","translate",""],["src","../../../../../../assets/img/icon_delete.png","alt","\u5220\u9664",1,"action-icon"],["src","../../../../../../assets/img/icon_delete_hover.png","alt","\u5220\u9664",1,"action-icon"]],template:function(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"dw-content"),m.\u0275\u0275elementStart(1,"form",0),m.\u0275\u0275elementStart(2,"div",1),m.\u0275\u0275elementStart(3,"div",2),m.\u0275\u0275text(4,"\u8bbe\u5907\u4fe1\u606f"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(5,"div",3),m.\u0275\u0275elementStart(6,"div",4),m.\u0275\u0275elementStart(7,"dw-form-item"),m.\u0275\u0275elementStart(8,"dw-form-label",5),m.\u0275\u0275text(9,"\u8bbe\u5907\u7f16\u53f7"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(10,"dw-form-control",6),m.\u0275\u0275element(11,"input",7),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(12,"dw-form-item"),m.\u0275\u0275elementStart(13,"dw-form-label",5),m.\u0275\u0275text(14,"\u8bbe\u5907\u540d\u79f0"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(15,"dw-form-control",6),m.\u0275\u0275element(16,"input",8),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(17,"dw-form-item"),m.\u0275\u0275elementStart(18,"dw-form-label",6),m.\u0275\u0275text(19,"\u5e8f\u5217\u53f7"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(20,"dw-form-control",6),m.\u0275\u0275elementStart(21,"input",9),m.\u0275\u0275listener("change",function(e){return t.onInput(e)}),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(22,"dw-form-item"),m.\u0275\u0275elementStart(23,"dw-form-label",5),m.\u0275\u0275text(24,"\u6570\u91cf"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(25,"dw-form-control",6),m.\u0275\u0275element(26,"dw-input-number",10),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(27,"dw-form-item"),m.\u0275\u0275elementStart(28,"dw-form-label",5),m.\u0275\u0275text(29,"\u4ea7\u54c1\u5206\u7c7b"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(30,"dw-form-control",6),m.\u0275\u0275elementStart(31,"dw-select",11),m.\u0275\u0275listener("ngModelChange",function(e){return t.itemGroupChange(e)}),m.\u0275\u0275template(32,lr,1,2,"dw-option",12),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(33,"dw-form-item"),m.\u0275\u0275elementStart(34,"dw-form-label",6),m.\u0275\u0275text(35,"\u5907\u6ce8"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(36,"dw-form-control",6),m.\u0275\u0275element(37,"input",13),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(38,"div",14),m.\u0275\u0275elementStart(39,"dw-form-item",15),m.\u0275\u0275elementStart(40,"dw-form-label",6),m.\u0275\u0275text(41,"\u7167\u7247"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(42,"dw-form-control",6),m.\u0275\u0275elementStart(43,"div",16),m.\u0275\u0275elementStart(44,"dw-upload",17),m.\u0275\u0275listener("dwFileListChange",function(e){return t.fileList=e})("dwChange",function(e){return t.handleChange(e)}),m.\u0275\u0275element(45,"em",18),m.\u0275\u0275elementStart(46,"div",19),m.\u0275\u0275text(47,"Upload"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(48,"dw-modal",20),m.\u0275\u0275listener("dwOnCancel",function(){return t.previewVisible=!1}),m.\u0275\u0275template(49,cr,1,3,"ng-template",null,21,m.\u0275\u0275templateRefExtractor),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(51,"dw-form-item"),m.\u0275\u0275elementStart(52,"dw-form-label",6),m.\u0275\u0275text(53,"\u578b\u53f7"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(54,"dw-form-control",6),m.\u0275\u0275element(55,"input",22),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(56,"dw-form-item"),m.\u0275\u0275elementStart(57,"dw-form-label",6),m.\u0275\u0275text(58,"\u89c4\u683c"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(59,"dw-form-control",6),m.\u0275\u0275element(60,"input",23),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(61,"div",24),m.\u0275\u0275text(62,"\u914d\u4ef6\u4fe1\u606f"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(63,"div",25),m.\u0275\u0275elementStart(64,"div",26),m.\u0275\u0275elementStart(65,"div",27),m.\u0275\u0275elementStart(66,"button",28),m.\u0275\u0275listener("click",function(e){return t.openProductDataWin(e,"material_id")}),m.\u0275\u0275element(67,"em",18),m.\u0275\u0275elementStart(68,"span",29),m.\u0275\u0275text(69,"\u6dfb\u52a0"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(70,"dw-table",30,31),m.\u0275\u0275elementStart(72,"thead"),m.\u0275\u0275elementStart(73,"tr",32),m.\u0275\u0275template(74,sr,3,0,"th",33),m.\u0275\u0275template(75,mr,3,0,"th",34),m.\u0275\u0275template(76,pr,3,0,"th",34),m.\u0275\u0275template(77,ur,3,0,"th",34),m.\u0275\u0275template(78,fr,3,0,"th",35),m.\u0275\u0275template(79,vr,3,0,"th",36),m.\u0275\u0275template(80,gr,3,0,"th",34),m.\u0275\u0275template(81,hr,3,0,"th",34),m.\u0275\u0275template(82,wr,3,0,"th",33),m.\u0275\u0275template(83,yr,3,0,"th",33),m.\u0275\u0275template(84,xr,3,0,"th",37),m.\u0275\u0275template(85,_r,3,0,"th",38),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(86,"tbody"),m.\u0275\u0275template(87,Nr,14,12,"ng-container",39),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(88,"div",40),m.\u0275\u0275elementStart(89,"button",41),m.\u0275\u0275listener("click",function(){return t.emitDataOutside()}),m.\u0275\u0275elementStart(90,"span",29),m.\u0275\u0275text(91,"\u786e\u5b9a"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(92,"button",28),m.\u0275\u0275listener("click",function(e){return t.handleCancel(e)}),m.\u0275\u0275elementStart(93,"span",29),m.\u0275\u0275text(94,"\u53d6\u6d88"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275reference(50),r=m.\u0275\u0275reference(71);m.\u0275\u0275advance(1),m.\u0275\u0275property("formGroup",t.form),m.\u0275\u0275advance(7),m.\u0275\u0275property("dwSm",6)("dwXs",24),m.\u0275\u0275advance(2),m.\u0275\u0275property("dwSm",16)("dwXs",24),m.\u0275\u0275advance(1),m.\u0275\u0275property("readonly",!!t.detailEdit.product_equipment_list_id),m.\u0275\u0275advance(2),m.\u0275\u0275property("dwSm",6)("dwXs",24),m.\u0275\u0275advance(2),m.\u0275\u0275property("dwSm",16)("dwXs",24),m.\u0275\u0275advance(1),m.\u0275\u0275property("readonly",t._isIntegrated),m.\u0275\u0275advance(2),m.\u0275\u0275property("dwSm",6)("dwXs",24),m.\u0275\u0275advance(2),m.\u0275\u0275property("dwSm",16)("dwXs",24),m.\u0275\u0275advance(1),m.\u0275\u0275property("readonly",!!t.detailEdit.product_equipment_list_id),m.\u0275\u0275advance(2),m.\u0275\u0275property("dwSm",6)("dwXs",24),m.\u0275\u0275advance(2),m.\u0275\u0275property("dwSm",16)("dwXs",24),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwMin",1)("dwPrecision",0)("dwDisabled",!!t.form.get("sn").value),m.\u0275\u0275advance(2),m.\u0275\u0275property("dwSm",6)("dwXs",24),m.\u0275\u0275advance(2),m.\u0275\u0275property("dwSm",16)("dwXs",24),m.\u0275\u0275advance(2),m.\u0275\u0275property("ngForOf",t.itemGroupList),m.\u0275\u0275advance(2),m.\u0275\u0275property("dwSm",6)("dwXs",24),m.\u0275\u0275advance(2),m.\u0275\u0275property("dwSm",16)("dwXs",24),m.\u0275\u0275advance(4),m.\u0275\u0275property("dwSm",6)("dwXs",24),m.\u0275\u0275advance(2),m.\u0275\u0275property("dwSm",16)("dwXs",24),m.\u0275\u0275advance(2),m.\u0275\u0275property("dwFileList",t.fileList)("dwShowButton",t.fileList.length<1)("dwPreview",t.handlePreview)("dwBeforeUpload",t.beforeUpload)("dwAccept",".png,.jpg")("dwShowUploadList",m.\u0275\u0275pureFunction0(72,jr)),m.\u0275\u0275advance(4),m.\u0275\u0275property("dwVisible",t.previewVisible)("dwContent",n)("dwFooter",null),m.\u0275\u0275advance(4),m.\u0275\u0275property("dwSm",6)("dwXs",24),m.\u0275\u0275advance(2),m.\u0275\u0275property("dwSm",16)("dwXs",24),m.\u0275\u0275advance(3),m.\u0275\u0275property("dwSm",6)("dwXs",24),m.\u0275\u0275advance(2),m.\u0275\u0275property("dwSm",16)("dwXs",24),m.\u0275\u0275advance(7),m.\u0275\u0275property("dwType","default"),m.\u0275\u0275advance(4),m.\u0275\u0275property("dwData",t.product_part_for_show)("dwScroll",m.\u0275\u0275pureFunction0(73,zr)),m.\u0275\u0275advance(4),m.\u0275\u0275property("dwColumnId","material_code"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","material_name"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","specification"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","model"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","sn"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","unit"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","unit_qty"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","item_group_name"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","expiry_date"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","replacement_date"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","remark"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","operation"),m.\u0275\u0275advance(2),m.\u0275\u0275property("ngForOf",r.data),m.\u0275\u0275advance(2),m.\u0275\u0275property("dwType","primary")("disabled",!t.form.valid),m.\u0275\u0275advance(3),m.\u0275\u0275property("dwType","default")}},directives:[re.DwContentComponent,v.\u0275NgNoValidate,v.NgControlStatusGroup,U.DwFormDirective,v.FormGroupDirective,G.DwRowDirective,G.DwColDirective,U.DwFormItemComponent,U.DwFormLabelComponent,U.DwFormControlComponent,Q.DwInputDirective,v.DefaultValueAccessor,v.RequiredValidator,v.NgControlStatus,v.FormControlName,v.MaxLengthValidator,ir.DwInputNumberComponent,H.DwSelectComponent,d.NgForOf,ar.DwUploadComponent,ie.u,K.DwIconDirective,w.DwModalComponent,X.DwButtonComponent,ae.uG,F.TranslateDirective,k.DwTableComponent,M.Ct,k.DwTheadComponent,k.DwTrDirective,M.Y9,M.b,k.DwTbodyComponent,H.DwOptionComponent,d.NgStyle,k.DwTableCellDirective,k.DwThMeasureDirective,M.BL,M.$2,k.DwCellFixedDirective,M.at,d.NgIf,or.DwTooltipDirective,v.NgModel,Z.DwDatePickerComponent,Pe.DwPopconfirmDirective],pipes:[d.DatePipe,F.TranslatePipe],styles:[".quickPart[_ngcontent-%COMP%]   .point[_ngcontent-%COMP%]{display:inline-block;width:6px;height:6px;border-radius:3px;background-color:#ffbe68;margin-bottom:3px}"]}),e}(),$r=a(16511),qr=a(80419),Wr=a(78169),Gr=a(45907);function Ur(e,t){1&e&&(m.\u0275\u0275elementStart(0,"span",10),m.\u0275\u0275text(1,"\u65b0\u5efa\u4ea7\u54c1\u6863\u6848"),m.\u0275\u0275elementEnd())}function Hr(e,t){1&e&&(m.\u0275\u0275elementStart(0,"span",10),m.\u0275\u0275text(1,"\u4fee\u6539\u4ea7\u54c1\u6863\u6848"),m.\u0275\u0275elementEnd())}function Xr(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"dw-form-item"),m.\u0275\u0275elementStart(1,"dw-form-label",32),m.\u0275\u0275text(2,"\u7f16\u7801"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(3,"dw-form-control",33),m.\u0275\u0275element(4,"input",34),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275nextContext(2);m.\u0275\u0275advance(1),m.\u0275\u0275property("dwSm",6)("dwXs",24),m.\u0275\u0275advance(2),m.\u0275\u0275property("dwSm",16)("dwXs",24),m.\u0275\u0275advance(1),m.\u0275\u0275property("readonly",!!n.id)}}function Qr(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"dw-form-item"),m.\u0275\u0275elementStart(1,"dw-form-label",32),m.\u0275\u0275text(2,"\u540d\u79f0"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(3,"dw-form-control",33),m.\u0275\u0275element(4,"input",35),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275nextContext(2);m.\u0275\u0275advance(1),m.\u0275\u0275property("dwSm",6)("dwXs",24),m.\u0275\u0275advance(2),m.\u0275\u0275property("dwSm",16)("dwXs",24),m.\u0275\u0275advance(1),m.\u0275\u0275property("readonly",n.isIntegrated)}}function Kr(e,t){if(1&e&&m.\u0275\u0275element(0,"dw-option",38),2&e){var n=t.$implicit;m.\u0275\u0275property("dwLabel",n.item_group_name)("dwValue",n.item_group_id)}}function Jr(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"dw-form-item"),m.\u0275\u0275elementStart(1,"dw-form-label",32),m.\u0275\u0275text(2,"\u4ea7\u54c1\u5206\u7c7b"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(3,"dw-form-control",33),m.\u0275\u0275elementStart(4,"dw-select",36),m.\u0275\u0275template(5,Kr,1,2,"dw-option",37),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275nextContext(2);m.\u0275\u0275advance(1),m.\u0275\u0275property("dwSm",6)("dwXs",24),m.\u0275\u0275advance(2),m.\u0275\u0275property("dwSm",16)("dwXs",24),m.\u0275\u0275advance(2),m.\u0275\u0275property("ngForOf",n.itemGroupList)}}function Zr(e,t){1&e&&(m.\u0275\u0275elementStart(0,"dw-form-item"),m.\u0275\u0275elementStart(1,"dw-form-label",33),m.\u0275\u0275text(2,"\u578b\u53f7"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(3,"dw-form-control",33),m.\u0275\u0275element(4,"input",39),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd()),2&e&&(m.\u0275\u0275advance(1),m.\u0275\u0275property("dwSm",6)("dwXs",24),m.\u0275\u0275advance(2),m.\u0275\u0275property("dwSm",16)("dwXs",24))}function Yr(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"dw-form-item"),m.\u0275\u0275elementStart(1,"dw-form-label",33),m.\u0275\u0275text(2,"\u89c4\u683c"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(3,"dw-form-control",33),m.\u0275\u0275element(4,"input",40),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275nextContext(2);m.\u0275\u0275advance(1),m.\u0275\u0275property("dwSm",6)("dwXs",24),m.\u0275\u0275advance(2),m.\u0275\u0275property("dwSm",16)("dwXs",24),m.\u0275\u0275advance(1),m.\u0275\u0275property("readonly",n.isIntegrated)}}function ei(e,t){1&e&&(m.\u0275\u0275elementStart(0,"dw-form-label",32),m.\u0275\u0275text(1,"\u5e8f\u5217\u53f7"),m.\u0275\u0275elementEnd()),2&e&&m.\u0275\u0275property("dwSm",6)("dwXs",24)}function ti(e,t){1&e&&(m.\u0275\u0275elementStart(0,"dw-form-label",32),m.\u0275\u0275text(1,"\u9879\u76ee\u53f7"),m.\u0275\u0275elementEnd()),2&e&&m.\u0275\u0275property("dwSm",6)("dwXs",24)}function ni(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"dw-form-item"),m.\u0275\u0275template(1,ei,2,2,"dw-form-label",41),m.\u0275\u0275template(2,ti,2,2,"dw-form-label",41),m.\u0275\u0275elementStart(3,"dw-form-control",33),m.\u0275\u0275element(4,"input",42),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275nextContext(2);m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf","1"===n.file_type),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf","2"===n.file_type),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwSm",16)("dwXs",24),m.\u0275\u0275advance(1),m.\u0275\u0275property("readonly",!!n.id)}}function ri(e,t){if(1&e){var n=m.\u0275\u0275getCurrentView();m.\u0275\u0275elementStart(0,"button",46),m.\u0275\u0275listener("click",function(e){return m.\u0275\u0275restoreView(n),m.\u0275\u0275nextContext(3).openProductDataWin(e,"customer_id")}),m.\u0275\u0275element(1,"em",47),m.\u0275\u0275elementEnd()}if(2&e){var r=m.\u0275\u0275nextContext(3);m.\u0275\u0275property("disabled",!!r.id)}}function ii(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"dw-form-item"),m.\u0275\u0275elementStart(1,"dw-form-label",32),m.\u0275\u0275text(2,"\u5ba2\u6237"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(3,"dw-form-control",33),m.\u0275\u0275elementStart(4,"dw-input-group",43),m.\u0275\u0275element(5,"input",44),m.\u0275\u0275elementEnd(),m.\u0275\u0275template(6,ri,2,1,"ng-template",null,45,m.\u0275\u0275templateRefExtractor),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275reference(7);m.\u0275\u0275advance(1),m.\u0275\u0275property("dwSm",6)("dwXs",24),m.\u0275\u0275advance(2),m.\u0275\u0275property("dwSm",16)("dwXs",24),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwSuffix",n)}}function ai(e,t){1&e&&(m.\u0275\u0275elementStart(0,"dw-form-item"),m.\u0275\u0275elementStart(1,"dw-form-label",33),m.\u0275\u0275text(2,"\u51fa\u5382\u5ba2\u6237"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(3,"dw-form-control",33),m.\u0275\u0275element(4,"input",48),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd()),2&e&&(m.\u0275\u0275advance(1),m.\u0275\u0275property("dwSm",6)("dwXs",24),m.\u0275\u0275advance(2),m.\u0275\u0275property("dwSm",16)("dwXs",24))}function oi(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"dw-form-item"),m.\u0275\u0275elementStart(1,"dw-form-label",33),m.\u0275\u0275text(2,"\u4f7f\u7528\u5730\u70b9"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(3,"dw-form-control",33),m.\u0275\u0275element(4,"input",49),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275nextContext(2);m.\u0275\u0275advance(1),m.\u0275\u0275property("dwSm",6)("dwXs",24),m.\u0275\u0275advance(2),m.\u0275\u0275property("dwSm",16)("dwXs",24),m.\u0275\u0275advance(1),m.\u0275\u0275property("readonly",n.isIntegrated)}}function li(e,t){if(1&e){var n=m.\u0275\u0275getCurrentView();m.\u0275\u0275elementStart(0,"em",54),m.\u0275\u0275listener("click",function(){return m.\u0275\u0275restoreView(n),m.\u0275\u0275nextContext(4).clear("service_site_")}),m.\u0275\u0275elementEnd()}}function di(e,t){if(1&e){var n=m.\u0275\u0275getCurrentView();m.\u0275\u0275template(0,li,1,0,"em",52),m.\u0275\u0275elementStart(1,"button",53),m.\u0275\u0275listener("click",function(e){return m.\u0275\u0275restoreView(n),m.\u0275\u0275nextContext(3).openProductDataWin(e,"service_site_name")}),m.\u0275\u0275element(2,"em",47),m.\u0275\u0275elementEnd()}if(2&e){var r=m.\u0275\u0275nextContext(3);m.\u0275\u0275property("ngIf",r.product_file.controls[0].controls.service_site_name.value)}}function ci(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"dw-form-item"),m.\u0275\u0275elementStart(1,"dw-form-label",33),m.\u0275\u0275text(2,"\u670d\u52a1\u7ad9\u70b9"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(3,"dw-form-control",33),m.\u0275\u0275elementStart(4,"dw-input-group",43),m.\u0275\u0275element(5,"input",50),m.\u0275\u0275elementEnd(),m.\u0275\u0275template(6,di,3,1,"ng-template",null,51,m.\u0275\u0275templateRefExtractor),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275reference(7);m.\u0275\u0275advance(1),m.\u0275\u0275property("dwSm",6)("dwXs",24),m.\u0275\u0275advance(2),m.\u0275\u0275property("dwSm",16)("dwXs",24),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwSuffix",n)}}function si(e,t){if(1&e){var n=m.\u0275\u0275getCurrentView();m.\u0275\u0275elementStart(0,"em",54),m.\u0275\u0275listener("click",function(){return m.\u0275\u0275restoreView(n),m.\u0275\u0275nextContext(4).clear("employee_")}),m.\u0275\u0275elementEnd()}}function mi(e,t){if(1&e){var n=m.\u0275\u0275getCurrentView();m.\u0275\u0275template(0,si,1,0,"em",52),m.\u0275\u0275elementStart(1,"button",53),m.\u0275\u0275listener("click",function(e){return m.\u0275\u0275restoreView(n),m.\u0275\u0275nextContext(3).openProductDataWin(e,"employee_id")}),m.\u0275\u0275element(2,"em",47),m.\u0275\u0275elementEnd()}if(2&e){var r=m.\u0275\u0275nextContext(3);m.\u0275\u0275property("ngIf",r.product_file.controls[0].controls.employee_name.value)}}function pi(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"dw-form-item"),m.\u0275\u0275elementStart(1,"dw-form-label",33),m.\u0275\u0275text(2,"\u670d\u52a1\u4eba\u5458"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(3,"dw-form-control",33),m.\u0275\u0275elementStart(4,"dw-input-group",43),m.\u0275\u0275element(5,"input",55),m.\u0275\u0275elementEnd(),m.\u0275\u0275template(6,mi,3,1,"ng-template",null,56,m.\u0275\u0275templateRefExtractor),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275reference(7);m.\u0275\u0275advance(1),m.\u0275\u0275property("dwSm",6)("dwXs",24),m.\u0275\u0275advance(2),m.\u0275\u0275property("dwSm",16)("dwXs",24),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwSuffix",n)}}function ui(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"dw-form-item"),m.\u0275\u0275elementStart(1,"dw-form-label",32),m.\u0275\u0275text(2,"\u51fa\u5e93\u65e5\u671f"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(3,"dw-form-control",33),m.\u0275\u0275element(4,"dw-date-picker",57),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275nextContext(2);m.\u0275\u0275advance(1),m.\u0275\u0275property("dwSm",6)("dwXs",24),m.\u0275\u0275advance(2),m.\u0275\u0275property("dwSm",16)("dwXs",24),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwDisabled",n.isIntegrated)}}function fi(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"dw-form-item"),m.\u0275\u0275elementStart(1,"dw-form-label",33),m.\u0275\u0275text(2,"\u5b89\u88c5\u65e5\u671f"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(3,"dw-form-control",33),m.\u0275\u0275element(4,"dw-range-picker",58),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275nextContext(2);m.\u0275\u0275advance(1),m.\u0275\u0275property("dwSm",6)("dwXs",24),m.\u0275\u0275advance(2),m.\u0275\u0275property("dwSm",16)("dwXs",24),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwDisabledDate",n.disabledDate)}}function vi(e,t){1&e&&(m.\u0275\u0275elementStart(0,"dw-form-item"),m.\u0275\u0275elementStart(1,"dw-form-label",33),m.\u0275\u0275text(2,"\u8c03\u8bd5\u4eba\u5458"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(3,"dw-form-control",33),m.\u0275\u0275element(4,"input",59),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd()),2&e&&(m.\u0275\u0275advance(1),m.\u0275\u0275property("dwSm",6)("dwXs",24),m.\u0275\u0275advance(2),m.\u0275\u0275property("dwSm",16)("dwXs",24))}function gi(e,t){1&e&&(m.\u0275\u0275elementStart(0,"dw-form-item"),m.\u0275\u0275elementStart(1,"dw-form-label",33),m.\u0275\u0275text(2,"\u5907\u6ce8"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(3,"dw-form-control",33),m.\u0275\u0275element(4,"input",60),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd()),2&e&&(m.\u0275\u0275advance(1),m.\u0275\u0275property("dwSm",6)("dwXs",24),m.\u0275\u0275advance(2),m.\u0275\u0275property("dwSm",16)("dwXs",24))}function hi(e,t){if(1&e&&(m.\u0275\u0275elementContainerStart(0),m.\u0275\u0275template(1,gi,5,4,"dw-form-item",17),m.\u0275\u0275elementContainerEnd()),2&e){var n=m.\u0275\u0275nextContext(2);m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",n.formConfigList.indexOf("remark")>=0)}}function wi(e,t){if(1&e){var n=m.\u0275\u0275getCurrentView();m.\u0275\u0275elementStart(0,"div",69),m.\u0275\u0275elementStart(1,"div",70),m.\u0275\u0275element(2,"em",71),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(3,"div",72),m.\u0275\u0275text(4),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(5,"div",73),m.\u0275\u0275listener("click",function(){m.\u0275\u0275restoreView(n);var e=m.\u0275\u0275nextContext().index;return m.\u0275\u0275nextContext(3).deleteFile(e)}),m.\u0275\u0275element(6,"em",74),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd()}if(2&e){var r=m.\u0275\u0275nextContext().$implicit;m.\u0275\u0275advance(4),m.\u0275\u0275textInterpolate(r.name)}}function yi(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"div"),m.\u0275\u0275template(1,wi,7,1,"div",68),m.\u0275\u0275elementEnd()),2&e){var n=t.$implicit;m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf","D"!==n.state)}}function xi(e,t){if(1&e){var n=m.\u0275\u0275getCurrentView();m.\u0275\u0275elementStart(0,"dw-form-item"),m.\u0275\u0275elementStart(1,"dw-form-label",33),m.\u0275\u0275text(2,"\u9644\u4ef6"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(3,"dw-form-control",33),m.\u0275\u0275elementStart(4,"div",61),m.\u0275\u0275elementStart(5,"div",62),m.\u0275\u0275elementStart(6,"dw-upload",63),m.\u0275\u0275listener("dwFileListChange",function(e){return m.\u0275\u0275restoreView(n),m.\u0275\u0275nextContext(2).attachmentsList=e})("dwChange",function(e){return m.\u0275\u0275restoreView(n),m.\u0275\u0275nextContext(2).handleFileChange(e)}),m.\u0275\u0275elementStart(7,"button",64),m.\u0275\u0275element(8,"em",65),m.\u0275\u0275text(9,"\u4e0a\u4f20\u6587\u4ef6"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275template(10,yi,2,1,"div",66),m.\u0275\u0275elementStart(11,"div",67),m.\u0275\u0275text(12,"\u652f\u6301\u6269\u5c55\u540d\uff1a.doc .docx .pdf .xlsx .xls .ppt .pptx .png .jpg"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd()}if(2&e){var r=m.\u0275\u0275nextContext(2);m.\u0275\u0275advance(1),m.\u0275\u0275property("dwSm",6)("dwXs",24),m.\u0275\u0275advance(2),m.\u0275\u0275property("dwSm",16)("dwXs",24),m.\u0275\u0275advance(3),m.\u0275\u0275property("dwFileList",r.attachmentsList)("dwBeforeUpload",r.beforeUploadFiles)("dwShowUploadList",!1)("dwAccept",".doc,.docx,.pdf,.xls,.xlsx,.ppt,.png,.jpg"),m.\u0275\u0275advance(4),m.\u0275\u0275property("ngForOf",r.attachmentsList)}}var _i=function(){return{width:"100%"}};function Ci(e,t){if(1&e&&m.\u0275\u0275element(0,"img",82),2&e){var n=m.\u0275\u0275nextContext(3);m.\u0275\u0275property("src",n.previewImage,m.\u0275\u0275sanitizeUrl)("ngStyle",m.\u0275\u0275pureFunction0(2,_i))}}var Si=function(){return{showPreviewIcon:!0}},bi=function(){return{showPreviewIcon:!0,showRemoveIcon:!0}};function Ii(e,t){if(1&e){var n=m.\u0275\u0275getCurrentView();m.\u0275\u0275elementStart(0,"dw-form-item",75),m.\u0275\u0275elementStart(1,"dw-form-label",33),m.\u0275\u0275text(2,"\u4ea7\u54c1\u6863\u6848\u7167\u7247"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(3,"dw-form-control",33),m.\u0275\u0275elementStart(4,"div",76),m.\u0275\u0275elementStart(5,"dw-upload",77),m.\u0275\u0275listener("dwFileListChange",function(e){return m.\u0275\u0275restoreView(n),m.\u0275\u0275nextContext(2).fileList=e})("dwChange",function(e){return m.\u0275\u0275restoreView(n),m.\u0275\u0275nextContext(2).handleChange(e)}),m.\u0275\u0275element(6,"em",78),m.\u0275\u0275elementStart(7,"div",79),m.\u0275\u0275text(8,"Upload"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(9,"dw-modal",80),m.\u0275\u0275listener("dwOnCancel",function(){return m.\u0275\u0275restoreView(n),m.\u0275\u0275nextContext(2).previewVisible=!1}),m.\u0275\u0275template(10,Ci,1,3,"ng-template",null,81,m.\u0275\u0275templateRefExtractor),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd()}if(2&e){var r=m.\u0275\u0275reference(11),i=m.\u0275\u0275nextContext(2);m.\u0275\u0275advance(1),m.\u0275\u0275property("dwSm",6)("dwXs",24),m.\u0275\u0275advance(2),m.\u0275\u0275property("dwSm",16)("dwXs",24),m.\u0275\u0275advance(2),m.\u0275\u0275property("dwFileList",i.fileList)("dwShowButton",i.fileList.length<1&&(!i.isIntegrated||!i.id))("dwPreview",i.handlePreview)("dwBeforeUpload",i.beforeUpload)("dwAccept",".png,.jpg")("dwShowUploadList",i.isIntegrated&&i.id?m.\u0275\u0275pureFunction0(13,Si):m.\u0275\u0275pureFunction0(14,bi)),m.\u0275\u0275advance(4),m.\u0275\u0275property("dwVisible",i.previewVisible)("dwContent",r)("dwFooter",null)}}function Ei(e,t){1&e&&(m.\u0275\u0275elementStart(0,"dw-form-item",83),m.\u0275\u0275elementStart(1,"dw-form-label",33),m.\u0275\u0275text(2,"0"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(3,"dw-form-control",33),m.\u0275\u0275element(4,"input",84),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd()),2&e&&(m.\u0275\u0275advance(1),m.\u0275\u0275property("dwSm",6)("dwXs",24),m.\u0275\u0275advance(2),m.\u0275\u0275property("dwSm",16)("dwXs",24))}function Di(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"dw-form-item"),m.\u0275\u0275elementStart(1,"dw-form-label",33),m.\u0275\u0275text(2,"\u63cf\u8ff0"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(3,"dw-form-control",33),m.\u0275\u0275element(4,"textarea",85),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275nextContext(2);m.\u0275\u0275advance(1),m.\u0275\u0275property("dwSm",6)("dwXs",24),m.\u0275\u0275advance(2),m.\u0275\u0275property("dwSm",18)("dwXs",24),m.\u0275\u0275advance(1),m.\u0275\u0275property("readonly",n.isIntegrated)}}function Oi(e,t){1&e&&(m.\u0275\u0275elementStart(0,"dw-form-item",83),m.\u0275\u0275elementStart(1,"dw-form-label",33),m.\u0275\u0275text(2,"0"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(3,"dw-form-control",33),m.\u0275\u0275element(4,"input",86),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd()),2&e&&(m.\u0275\u0275advance(1),m.\u0275\u0275property("dwSm",6)("dwXs",24),m.\u0275\u0275advance(2),m.\u0275\u0275property("dwSm",14)("dwXs",24))}function ki(e,t){1&e&&(m.\u0275\u0275elementStart(0,"dw-form-item"),m.\u0275\u0275elementStart(1,"dw-form-label",32),m.\u0275\u0275text(2,"\u4fdd\u4fee\u622a\u6b62\u65e5\u671f"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(3,"dw-form-control",33),m.\u0275\u0275element(4,"dw-date-picker",87),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd()),2&e&&(m.\u0275\u0275advance(1),m.\u0275\u0275property("dwSm",6)("dwXs",24),m.\u0275\u0275advance(2),m.\u0275\u0275property("dwSm",13)("dwXs",24))}function Mi(e,t){1&e&&(m.\u0275\u0275elementStart(0,"dw-form-item"),m.\u0275\u0275elementStart(1,"dw-form-label",33),m.\u0275\u0275text(2,"\u9a8c\u6536\u65e5\u671f"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(3,"dw-form-control",33),m.\u0275\u0275element(4,"dw-date-picker",88),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd()),2&e&&(m.\u0275\u0275advance(1),m.\u0275\u0275property("dwSm",6)("dwXs",24),m.\u0275\u0275advance(2),m.\u0275\u0275property("dwSm",13)("dwXs",24))}function Pi(e,t){1&e&&(m.\u0275\u0275elementStart(0,"dw-form-item"),m.\u0275\u0275elementStart(1,"dw-form-label",33),m.\u0275\u0275text(2,"\u9a8c\u6536\u4eba\u5458"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(3,"dw-form-control",33),m.\u0275\u0275element(4,"input",89),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd()),2&e&&(m.\u0275\u0275advance(1),m.\u0275\u0275property("dwSm",6)("dwXs",24),m.\u0275\u0275advance(2),m.\u0275\u0275property("dwSm",13)("dwXs",24))}function Fi(e,t){1&e&&(m.\u0275\u0275elementStart(0,"dw-form-item"),m.\u0275\u0275elementStart(1,"dw-form-label",33),m.\u0275\u0275text(2,"\u7ef4\u4fee\u6b21\u6570"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(3,"dw-form-control",33),m.\u0275\u0275element(4,"input",90),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd()),2&e&&(m.\u0275\u0275advance(1),m.\u0275\u0275property("dwSm",6)("dwXs",24),m.\u0275\u0275advance(2),m.\u0275\u0275property("dwSm",13)("dwXs",24))}function Vi(e,t){if(1&e&&(m.\u0275\u0275elementContainerStart(0),m.\u0275\u0275template(1,Fi,5,4,"dw-form-item",17),m.\u0275\u0275elementContainerEnd()),2&e){var n=m.\u0275\u0275nextContext(2);m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",n.formConfigList.indexOf("maintenance_count")>=0)}}function Ti(e,t){1&e&&(m.\u0275\u0275elementStart(0,"dw-form-item"),m.\u0275\u0275elementStart(1,"dw-form-label",33),m.\u0275\u0275text(2,"\u5907\u6ce8"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(3,"dw-form-control",33),m.\u0275\u0275element(4,"input",60),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd()),2&e&&(m.\u0275\u0275advance(1),m.\u0275\u0275property("dwSm",6)("dwXs",24),m.\u0275\u0275advance(2),m.\u0275\u0275property("dwSm",13)("dwXs",24))}function Li(e,t){if(1&e&&(m.\u0275\u0275elementContainerStart(0),m.\u0275\u0275template(1,Ti,5,4,"dw-form-item",17),m.\u0275\u0275elementContainerEnd()),2&e){var n=m.\u0275\u0275nextContext(2);m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",n.formConfigList.indexOf("remark")>=0)}}function Ri(e,t){1&e&&(m.\u0275\u0275elementStart(0,"div",91),m.\u0275\u0275elementStart(1,"label",92),m.\u0275\u0275text(2," \u7ef4\u62a4\u4fdd\u517b "),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd())}function Ai(e,t){1&e&&(m.\u0275\u0275elementStart(0,"div",16),m.\u0275\u0275element(1,"dw-form-item"),m.\u0275\u0275elementStart(2,"dw-form-item"),m.\u0275\u0275elementStart(3,"dw-form-label",97),m.\u0275\u0275text(4,"\u6700\u8fd1\u7ef4\u62a4\u65e5\u671f"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(5,"dw-form-control",97),m.\u0275\u0275element(6,"dw-date-picker",104),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(7,"dw-form-item"),m.\u0275\u0275elementStart(8,"dw-form-label",96),m.\u0275\u0275text(9,"\u4e0b\u6b21\u7ef4\u62a4\u65e5\u671f"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(10,"dw-form-control",97),m.\u0275\u0275element(11,"dw-date-picker",105),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd()),2&e&&(m.\u0275\u0275advance(3),m.\u0275\u0275property("dwSpan",9),m.\u0275\u0275advance(2),m.\u0275\u0275property("dwSpan",14),m.\u0275\u0275advance(3),m.\u0275\u0275property("dwSpan",9),m.\u0275\u0275advance(2),m.\u0275\u0275property("dwSpan",14))}function Ni(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"div",95),m.\u0275\u0275elementStart(1,"div",16),m.\u0275\u0275element(2,"dw-form-item"),m.\u0275\u0275elementStart(3,"dw-form-item"),m.\u0275\u0275elementStart(4,"dw-form-label",96),m.\u0275\u0275text(5,"\u7ef4\u62a4\u5f00\u59cb\u65e5\u671f"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(6,"dw-form-control",97),m.\u0275\u0275element(7,"dw-date-picker",98),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(8,"dw-form-item"),m.\u0275\u0275elementStart(9,"dw-form-label",96),m.\u0275\u0275text(10,"\u7ef4\u62a4\u5468\u671f"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(11,"div",99),m.\u0275\u0275elementStart(12,"dw-form-control",97),m.\u0275\u0275elementStart(13,"div",100),m.\u0275\u0275element(14,"input",101),m.\u0275\u0275elementStart(15,"span",102),m.\u0275\u0275text(16,"\u6708"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275template(17,Ai,12,4,"div",103),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275nextContext(3);m.\u0275\u0275advance(4),m.\u0275\u0275property("dwSpan",9),m.\u0275\u0275advance(2),m.\u0275\u0275property("dwSpan",14),m.\u0275\u0275advance(3),m.\u0275\u0275property("dwSpan",9),m.\u0275\u0275advance(2),m.\u0275\u0275property("dwSpan",14),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwSpan",22),m.\u0275\u0275advance(5),m.\u0275\u0275property("ngIf","1"===n.basis_of_maintain)}}function ji(e,t){if(1&e){var n=m.\u0275\u0275getCurrentView();m.\u0275\u0275elementStart(0,"div",95),m.\u0275\u0275elementStart(1,"div",16),m.\u0275\u0275element(2,"dw-form-item"),m.\u0275\u0275elementStart(3,"dw-form-item"),m.\u0275\u0275elementStart(4,"dw-form-label",96),m.\u0275\u0275text(5,"\u6bcf\u6284\u8868\u8fbe"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(6,"div",99),m.\u0275\u0275elementStart(7,"dw-form-control",97),m.\u0275\u0275elementStart(8,"div",100),m.\u0275\u0275element(9,"input",101),m.\u0275\u0275elementStart(10,"span",102),m.\u0275\u0275text(11,"\u9700\u4fdd\u517b"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(12,"dw-form-item"),m.\u0275\u0275elementStart(13,"dw-form-label",97),m.\u0275\u0275text(14,"\u6700\u8fd1\u4fdd\u517b\u6284\u8868\u6570"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(15,"dw-form-control",97),m.\u0275\u0275element(16,"input",106),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(17,"div",16),m.\u0275\u0275element(18,"dw-form-item"),m.\u0275\u0275elementStart(19,"dw-form-item"),m.\u0275\u0275element(20,"dw-form-label",97),m.\u0275\u0275element(21,"dw-form-control",97),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(22,"dw-form-item"),m.\u0275\u0275elementStart(23,"dw-form-label",97),m.\u0275\u0275text(24,"\u4e0b\u6b21\u4fdd\u517b\u6284\u8868\u6570"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(25,"dw-form-control",97),m.\u0275\u0275elementStart(26,"input",107),m.\u0275\u0275listener("change",function(){return m.\u0275\u0275restoreView(n),m.\u0275\u0275nextContext(3).nextMaintainReadingmeterChange()})("keyup",function(){return m.\u0275\u0275restoreView(n),m.\u0275\u0275nextContext(3).nextMaintainReadingmeterChange()}),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd()}2&e&&(m.\u0275\u0275advance(4),m.\u0275\u0275property("dwSpan",9),m.\u0275\u0275advance(2),m.\u0275\u0275property("dwSpan",14),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwSpan",22),m.\u0275\u0275advance(6),m.\u0275\u0275property("dwSpan",9),m.\u0275\u0275advance(2),m.\u0275\u0275property("dwSpan",14),m.\u0275\u0275advance(5),m.\u0275\u0275property("dwSpan",9),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwSpan",14),m.\u0275\u0275advance(2),m.\u0275\u0275property("dwSpan",9),m.\u0275\u0275advance(2),m.\u0275\u0275property("dwSpan",14))}function zi(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"div",93),m.\u0275\u0275elementStart(1,"div"),m.\u0275\u0275elementStart(2,"label",92),m.\u0275\u0275text(3," \u7ef4\u62a4\u4fdd\u517b "),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275template(4,Ni,18,6,"div",94),m.\u0275\u0275template(5,ji,27,9,"div",94),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275nextContext(2);m.\u0275\u0275advance(4),m.\u0275\u0275property("ngIf","1"===n.basis_of_maintain),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf","2"===n.basis_of_maintain)}}function Bi(e,t){1&e&&(m.\u0275\u0275elementStart(0,"th",119),m.\u0275\u0275elementStart(1,"span",6),m.\u0275\u0275text(2,"\u8bbe\u5907\u7f16\u53f7"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd())}function $i(e,t){1&e&&(m.\u0275\u0275elementStart(0,"th",120),m.\u0275\u0275elementStart(1,"span",6),m.\u0275\u0275text(2,"\u8bbe\u5907\u540d\u79f0"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd())}function qi(e,t){1&e&&(m.\u0275\u0275elementStart(0,"th",120),m.\u0275\u0275elementStart(1,"span",6),m.\u0275\u0275text(2,"\u89c4\u683c"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd())}function Wi(e,t){1&e&&(m.\u0275\u0275elementStart(0,"th",120),m.\u0275\u0275elementStart(1,"span",6),m.\u0275\u0275text(2,"\u578b\u53f7"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd())}function Gi(e,t){1&e&&(m.\u0275\u0275elementStart(0,"th",120),m.\u0275\u0275elementStart(1,"span",6),m.\u0275\u0275text(2,"\u5206\u7c7b"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd())}function Ui(e,t){1&e&&(m.\u0275\u0275elementStart(0,"th",120),m.\u0275\u0275elementStart(1,"span",6),m.\u0275\u0275text(2,"\u5e8f\u5217\u53f7"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd())}function Hi(e,t){1&e&&(m.\u0275\u0275elementStart(0,"th",120),m.\u0275\u0275elementStart(1,"span",6),m.\u0275\u0275text(2,"\u8bbe\u5907\u56fe\u7247"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd())}function Xi(e,t){1&e&&(m.\u0275\u0275elementStart(0,"th",121),m.\u0275\u0275elementStart(1,"span",6),m.\u0275\u0275text(2,"\u6570\u91cf"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd())}function Qi(e,t){1&e&&(m.\u0275\u0275elementStart(0,"th",120),m.\u0275\u0275elementStart(1,"span",6),m.\u0275\u0275text(2,"\u5907\u6ce8"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd())}function Ki(e,t){1&e&&(m.\u0275\u0275elementStart(0,"th",122),m.\u0275\u0275elementStart(1,"span",6),m.\u0275\u0275text(2,"\u64cd\u4f5c"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd())}function Ji(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"td"),m.\u0275\u0275text(1),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275nextContext(2).$implicit;m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" ",n.controls.code.value," ")}}function Zi(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"td"),m.\u0275\u0275text(1),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275nextContext(2).$implicit;m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" ",n.controls.name.value," ")}}function Yi(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"td"),m.\u0275\u0275text(1),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275nextContext(2).$implicit;m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" ",n.controls.specification.value," ")}}function ea(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"td"),m.\u0275\u0275text(1),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275nextContext(2).$implicit;m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" ",n.controls.model.value," ")}}function ta(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"td"),m.\u0275\u0275text(1),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275nextContext(2).$implicit;m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" ",n.controls.item_group_name.value," ")}}function na(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"td"),m.\u0275\u0275text(1),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275nextContext(2).$implicit;m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" ",n.controls.sn.value," ")}}function ra(e,t){if(1&e&&m.\u0275\u0275element(0,"img",130),2&e){var n=m.\u0275\u0275nextContext(3).$implicit;m.\u0275\u0275property("src",n.controls.file_context.value,m.\u0275\u0275sanitizeUrl)}}function ia(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"td"),m.\u0275\u0275template(1,ra,1,1,"img",129),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275nextContext(2).$implicit;m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",n.controls.file_context.value)}}function aa(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"td",131),m.\u0275\u0275text(1),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275nextContext(2).$implicit;m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" ",n.controls.quantity.value," ")}}function oa(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"td"),m.\u0275\u0275text(1),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275nextContext(2).$implicit;m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" ",n.controls.remark.value," ")}}function la(e,t){if(1&e){var n=m.\u0275\u0275getCurrentView();m.\u0275\u0275elementStart(0,"td",132),m.\u0275\u0275elementStart(1,"div",133),m.\u0275\u0275elementStart(2,"div",134),m.\u0275\u0275listener("click",function(){m.\u0275\u0275restoreView(n);var e=m.\u0275\u0275nextContext(2),t=e.$implicit,r=e.index;return m.\u0275\u0275nextContext(3).modifyEquipment(t,r)}),m.\u0275\u0275element(3,"img",135),m.\u0275\u0275element(4,"img",136),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(5,"div",137),m.\u0275\u0275elementStart(6,"a",138),m.\u0275\u0275listener("dwOnConfirm",function(){m.\u0275\u0275restoreView(n);var e=m.\u0275\u0275nextContext(2),t=e.$implicit,r=e.index;return m.\u0275\u0275nextContext(3).deleteEquipment(t,r)}),m.\u0275\u0275pipe(7,"translate"),m.\u0275\u0275pipe(8,"translate"),m.\u0275\u0275elementStart(9,"a",139),m.\u0275\u0275element(10,"img",140),m.\u0275\u0275element(11,"img",141),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd()}2&e&&(m.\u0275\u0275advance(6),m.\u0275\u0275property("dwPopconfirmTitle","\u662f\u5426\u5220\u9664")("dwOkText",m.\u0275\u0275pipeBind1(7,4,"dw-determine"))("dwCancelText",m.\u0275\u0275pipeBind1(8,6,"dw-cancel"))("dwPopconfirmPlacement","topRight"))}function da(e,t){1&e&&(m.\u0275\u0275elementStart(0,"tr",125),m.\u0275\u0275template(1,Ji,2,1,"td",126),m.\u0275\u0275template(2,Zi,2,1,"td",126),m.\u0275\u0275template(3,Yi,2,1,"td",126),m.\u0275\u0275template(4,ea,2,1,"td",126),m.\u0275\u0275template(5,ta,2,1,"td",126),m.\u0275\u0275template(6,na,2,1,"td",126),m.\u0275\u0275template(7,ia,2,1,"td",126),m.\u0275\u0275template(8,aa,2,1,"td",127),m.\u0275\u0275template(9,oa,2,1,"td",126),m.\u0275\u0275template(10,la,12,8,"td",128),m.\u0275\u0275elementEnd()),2&e&&(m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","code"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","name"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","specification"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","model"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","item_group_name"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","sn"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","file_context"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","quantity"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","remark"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","operation"))}function ca(e,t){if(1&e&&(m.\u0275\u0275elementContainerStart(0,123),m.\u0275\u0275template(1,da,11,10,"tr",124),m.\u0275\u0275elementContainerEnd()),2&e){var n=t.$implicit;m.\u0275\u0275property("formGroup",n),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf","d"!==n.$state)}}var sa=function(){return{x:"1100px"}};function ma(e,t){if(1&e){var n=m.\u0275\u0275getCurrentView();m.\u0275\u0275elementStart(0,"dw-tab",108),m.\u0275\u0275elementStart(1,"div",109),m.\u0275\u0275elementStart(2,"div",110),m.\u0275\u0275elementStart(3,"button",7),m.\u0275\u0275listener("click",function(){return m.\u0275\u0275restoreView(n),m.\u0275\u0275nextContext(2).equipmentAdd()}),m.\u0275\u0275element(4,"em",78),m.\u0275\u0275elementStart(5,"span",6),m.\u0275\u0275text(6,"\u65b0\u5efa"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(7,"dw-table",111,112),m.\u0275\u0275listener("dwPageSizeChange",function(e){return m.\u0275\u0275restoreView(n),m.\u0275\u0275nextContext(2).search.pageSize=e})("dwPageSizeOptionsChange",function(e){return m.\u0275\u0275restoreView(n),m.\u0275\u0275nextContext(2).search.pageSizeOptions=e}),m.\u0275\u0275elementStart(9,"thead"),m.\u0275\u0275elementStart(10,"tr",113),m.\u0275\u0275template(11,Bi,3,0,"th",114),m.\u0275\u0275template(12,$i,3,0,"th",115),m.\u0275\u0275template(13,qi,3,0,"th",115),m.\u0275\u0275template(14,Wi,3,0,"th",115),m.\u0275\u0275template(15,Gi,3,0,"th",115),m.\u0275\u0275template(16,Ui,3,0,"th",115),m.\u0275\u0275template(17,Hi,3,0,"th",115),m.\u0275\u0275template(18,Xi,3,0,"th",116),m.\u0275\u0275template(19,Qi,3,0,"th",115),m.\u0275\u0275template(20,Ki,3,0,"th",117),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(21,"tbody"),m.\u0275\u0275template(22,ca,2,2,"ng-container",118),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd()}if(2&e){var r=m.\u0275\u0275reference(8),i=m.\u0275\u0275nextContext(2);m.\u0275\u0275property("id",i.id?"modify-product-equipment-tab":"create-product-equipment-tab"),m.\u0275\u0275advance(3),m.\u0275\u0275property("dwType","primary"),m.\u0275\u0275advance(4),m.\u0275\u0275property("dwData",i.product_equipment_list.activeRows)("dwPageIndex",i.search.pageIndex)("dwPageSize",i.search.pageSize)("dwPageSizeOptions",i.search.pageSizeOptions)("dwScroll",m.\u0275\u0275pureFunction0(18,sa)),m.\u0275\u0275advance(4),m.\u0275\u0275property("dwColumnId","code"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","name"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","specification"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","model"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","item_group_name"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","sn"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","file_context"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","quantity"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","remark"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","operation"),m.\u0275\u0275advance(2),m.\u0275\u0275property("ngForOf",r.data)}}function pa(e,t){if(1&e){var n=m.\u0275\u0275getCurrentView();m.\u0275\u0275elementStart(0,"div",109),m.\u0275\u0275elementStart(1,"div",110),m.\u0275\u0275elementStart(2,"button",142),m.\u0275\u0275listener("dwClick",function(){return m.\u0275\u0275restoreView(n),m.\u0275\u0275nextContext(2).productPartAdd()}),m.\u0275\u0275element(3,"em",78),m.\u0275\u0275elementStart(4,"span",6),m.\u0275\u0275text(5,"\u6dfb\u52a0"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd()}2&e&&(m.\u0275\u0275advance(2),m.\u0275\u0275property("dwType","primary")("dwActionId","add")("dwDefaultAuthorized","disabled"))}function ua(e,t){1&e&&(m.\u0275\u0275elementStart(0,"th",152),m.\u0275\u0275elementStart(1,"span",6),m.\u0275\u0275text(2,"\u914d\u4ef6\u7f16\u53f7"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd())}function fa(e,t){1&e&&(m.\u0275\u0275elementStart(0,"th",153),m.\u0275\u0275elementStart(1,"span",6),m.\u0275\u0275text(2,"\u914d\u4ef6\u540d\u79f0"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd())}function va(e,t){1&e&&(m.\u0275\u0275elementStart(0,"th",153),m.\u0275\u0275elementStart(1,"span",6),m.\u0275\u0275text(2,"\u89c4\u683c"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd())}function ga(e,t){1&e&&(m.\u0275\u0275elementStart(0,"th",153),m.\u0275\u0275elementStart(1,"span",6),m.\u0275\u0275text(2,"\u578b\u53f7"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd())}function ha(e,t){1&e&&(m.\u0275\u0275elementStart(0,"th",154),m.\u0275\u0275elementStart(1,"span",6),m.\u0275\u0275text(2,"\u5e8f\u5217\u53f7"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd())}function wa(e,t){1&e&&(m.\u0275\u0275elementStart(0,"th",155),m.\u0275\u0275elementStart(1,"span",6),m.\u0275\u0275text(2,"\u5355\u4f4d"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd())}function ya(e,t){1&e&&(m.\u0275\u0275elementStart(0,"th",156),m.\u0275\u0275elementStart(1,"span",6),m.\u0275\u0275text(2,"\u5355\u4f4d\u6570\u91cf"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd())}function xa(e,t){1&e&&(m.\u0275\u0275elementStart(0,"th",153),m.\u0275\u0275elementStart(1,"span",6),m.\u0275\u0275text(2,"\u7c7b\u578b"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd())}function _a(e,t){1&e&&(m.\u0275\u0275elementStart(0,"th",157),m.\u0275\u0275elementStart(1,"span",6),m.\u0275\u0275text(2,"\u4fdd\u4fee\u622a\u6b62\u65e5\u671f"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd())}function Ca(e,t){1&e&&(m.\u0275\u0275elementStart(0,"th",157),m.\u0275\u0275elementStart(1,"span",6),m.\u0275\u0275text(2,"\u5230\u671f\u66f4\u6362\u65e5\u671f"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd())}function Sa(e,t){1&e&&(m.\u0275\u0275elementStart(0,"th",152),m.\u0275\u0275elementStart(1,"span",6),m.\u0275\u0275text(2,"\u5907\u6ce8"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd())}function ba(e,t){1&e&&(m.\u0275\u0275elementStart(0,"th",158),m.\u0275\u0275elementStart(1,"span",6),m.\u0275\u0275text(2,"\u64cd\u4f5c"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd())}function Ia(e,t){1&e&&(m.\u0275\u0275elementStart(0,"span",160),m.\u0275\u0275element(1,"em",161),m.\u0275\u0275elementEnd())}function Ea(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"td"),m.\u0275\u0275template(1,Ia,2,0,"span",159),m.\u0275\u0275text(2),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275nextContext(2).$implicit;m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",n.controls.quickwear_part.value),m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" ",n.controls.material_code.value," ")}}function Da(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"td"),m.\u0275\u0275text(1),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275nextContext(2).$implicit;m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" ",n.controls.material_name.value," ")}}function Oa(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"td"),m.\u0275\u0275text(1),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275nextContext(2).$implicit;m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" ",n.controls.specification.value," ")}}function ka(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"td"),m.\u0275\u0275text(1),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275nextContext(2).$implicit;m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" ",n.controls.model.value," ")}}function Ma(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"td"),m.\u0275\u0275text(1),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275nextContext(2).$implicit;m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" ",n.controls.sn.value," ")}}function Pa(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"td"),m.\u0275\u0275text(1),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275nextContext(2).$implicit;m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" ",n.controls.unit.value," ")}}function Fa(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"td",131),m.\u0275\u0275text(1),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275nextContext(2).$implicit;m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" ",n.controls.unit_qty.value," ")}}function Va(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"td"),m.\u0275\u0275text(1),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275nextContext(2).$implicit;m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" ",n.controls.item_group_name.value," ")}}function Ta(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"td"),m.\u0275\u0275text(1),m.\u0275\u0275pipe(2,"date"),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275nextContext(2).$implicit;m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" ",m.\u0275\u0275pipeBind2(2,1,n.controls.expiry_date.value,"yyyy/MM/dd")," ")}}function La(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"td"),m.\u0275\u0275text(1),m.\u0275\u0275pipe(2,"date"),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275nextContext(2).$implicit;m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" ",n.controls.replacement_date?m.\u0275\u0275pipeBind2(2,1,n.controls.replacement_date.value,"yyyy/MM/dd"):""," ")}}function Ra(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"td"),m.\u0275\u0275text(1),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275nextContext(2).$implicit;m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" ",n.controls.remark.value," ")}}function Aa(e,t){if(1&e){var n=m.\u0275\u0275getCurrentView();m.\u0275\u0275elementStart(0,"td",132),m.\u0275\u0275elementStart(1,"div",133),m.\u0275\u0275elementStart(2,"div",134),m.\u0275\u0275listener("click",function(){m.\u0275\u0275restoreView(n);var e=m.\u0275\u0275nextContext(2),t=e.$implicit,r=e.index;return m.\u0275\u0275nextContext(3).modifyPart(t,r)}),m.\u0275\u0275element(3,"img",135),m.\u0275\u0275element(4,"img",136),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(5,"div",137),m.\u0275\u0275elementStart(6,"a",138),m.\u0275\u0275listener("dwOnConfirm",function(){m.\u0275\u0275restoreView(n);var e=m.\u0275\u0275nextContext(2),t=e.$implicit,r=e.index;return m.\u0275\u0275nextContext(3).deletePart(t,r)}),m.\u0275\u0275pipe(7,"translate"),m.\u0275\u0275pipe(8,"translate"),m.\u0275\u0275elementStart(9,"a",139),m.\u0275\u0275element(10,"img",140),m.\u0275\u0275element(11,"img",141),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd()}2&e&&(m.\u0275\u0275advance(6),m.\u0275\u0275property("dwPopconfirmTitle","\u662f\u5426\u5220\u9664")("dwOkText",m.\u0275\u0275pipeBind1(7,4,"dw-determine"))("dwCancelText",m.\u0275\u0275pipeBind1(8,6,"dw-cancel"))("dwPopconfirmPlacement","topRight"))}function Na(e,t){1&e&&(m.\u0275\u0275elementStart(0,"tr",125),m.\u0275\u0275template(1,Ea,3,2,"td",126),m.\u0275\u0275template(2,Da,2,1,"td",126),m.\u0275\u0275template(3,Oa,2,1,"td",126),m.\u0275\u0275template(4,ka,2,1,"td",126),m.\u0275\u0275template(5,Ma,2,1,"td",126),m.\u0275\u0275template(6,Pa,2,1,"td",126),m.\u0275\u0275template(7,Fa,2,1,"td",127),m.\u0275\u0275template(8,Va,2,1,"td",126),m.\u0275\u0275template(9,Ta,3,4,"td",126),m.\u0275\u0275template(10,La,3,4,"td",126),m.\u0275\u0275template(11,Ra,2,1,"td",126),m.\u0275\u0275template(12,Aa,12,8,"td",128),m.\u0275\u0275elementEnd()),2&e&&(m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","material_code"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","material_name"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","specification"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","model"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","sn"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","unit"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","unit_qty"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","item_group_name"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","expiry_date"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","replacement_date"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","remark"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","operation"))}function ja(e,t){if(1&e&&(m.\u0275\u0275elementContainerStart(0,123),m.\u0275\u0275template(1,Na,13,12,"tr",124),m.\u0275\u0275elementContainerEnd()),2&e){var n=t.$implicit;m.\u0275\u0275property("formGroup",n),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf","d"!==n.$state)}}function za(e,t){if(1&e){var n=m.\u0275\u0275getCurrentView();m.\u0275\u0275elementStart(0,"dw-table",143,144),m.\u0275\u0275listener("dwPageSizeChange",function(e){return m.\u0275\u0275restoreView(n),m.\u0275\u0275nextContext(2).search.pageSize=e})("dwPageSizeOptionsChange",function(e){return m.\u0275\u0275restoreView(n),m.\u0275\u0275nextContext(2).search.pageSizeOptions=e}),m.\u0275\u0275elementStart(2,"thead"),m.\u0275\u0275elementStart(3,"tr",113),m.\u0275\u0275template(4,ua,3,0,"th",145),m.\u0275\u0275template(5,fa,3,0,"th",146),m.\u0275\u0275template(6,va,3,0,"th",146),m.\u0275\u0275template(7,ga,3,0,"th",146),m.\u0275\u0275template(8,ha,3,0,"th",147),m.\u0275\u0275template(9,wa,3,0,"th",148),m.\u0275\u0275template(10,ya,3,0,"th",149),m.\u0275\u0275template(11,xa,3,0,"th",146),m.\u0275\u0275template(12,_a,3,0,"th",150),m.\u0275\u0275template(13,Ca,3,0,"th",150),m.\u0275\u0275template(14,Sa,3,0,"th",145),m.\u0275\u0275template(15,ba,3,0,"th",151),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(16,"tbody"),m.\u0275\u0275template(17,ja,2,2,"ng-container",118),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd()}if(2&e){var r=m.\u0275\u0275reference(1),i=m.\u0275\u0275nextContext(2);m.\u0275\u0275property("dwData",i.product_part.activeRows)("dwPageIndex",i.search.pageIndex)("dwPageSize",i.search.pageSize)("dwPageSizeOptions",i.search.pageSizeOptions)("dwScroll",m.\u0275\u0275pureFunction0(18,sa)),m.\u0275\u0275advance(4),m.\u0275\u0275property("dwColumnId","material_code"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","material_name"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","specification"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","model"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","sn"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","unit"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","unit_qty"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","item_group_name"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","expiry_date"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","replacement_date"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","remark"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","operation"),m.\u0275\u0275advance(2),m.\u0275\u0275property("ngForOf",r.data)}}function Ba(e,t){1&e&&(m.\u0275\u0275elementStart(0,"th",167),m.\u0275\u0275elementStart(1,"span",6),m.\u0275\u0275text(2,"\u8bbe\u5907"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd())}function $a(e,t){1&e&&(m.\u0275\u0275elementStart(0,"th",167),m.\u0275\u0275elementStart(1,"span",6),m.\u0275\u0275text(2,"\u8bbe\u5907\u5e8f\u5217\u53f7"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd())}function qa(e,t){1&e&&(m.\u0275\u0275elementStart(0,"th",152),m.\u0275\u0275elementStart(1,"span",6),m.\u0275\u0275text(2,"\u914d\u4ef6\u7f16\u53f7"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd())}function Wa(e,t){1&e&&(m.\u0275\u0275elementStart(0,"th",154),m.\u0275\u0275elementStart(1,"span",6),m.\u0275\u0275text(2,"\u914d\u4ef6\u540d\u79f0"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd())}function Ga(e,t){1&e&&(m.\u0275\u0275elementStart(0,"th",153),m.\u0275\u0275elementStart(1,"span",6),m.\u0275\u0275text(2,"\u89c4\u683c"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd())}function Ua(e,t){1&e&&(m.\u0275\u0275elementStart(0,"th",153),m.\u0275\u0275elementStart(1,"span",6),m.\u0275\u0275text(2,"\u578b\u53f7"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd())}function Ha(e,t){1&e&&(m.\u0275\u0275elementStart(0,"th",157),m.\u0275\u0275elementStart(1,"span",6),m.\u0275\u0275text(2,"\u5e8f\u5217\u53f7"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd())}function Xa(e,t){1&e&&(m.\u0275\u0275elementStart(0,"th",168),m.\u0275\u0275elementStart(1,"span",6),m.\u0275\u0275text(2,"\u5355\u4f4d"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd())}function Qa(e,t){1&e&&(m.\u0275\u0275elementStart(0,"th",156),m.\u0275\u0275elementStart(1,"span",6),m.\u0275\u0275text(2,"\u5355\u4f4d\u6570\u91cf"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd())}function Ka(e,t){1&e&&(m.\u0275\u0275elementStart(0,"th",153),m.\u0275\u0275elementStart(1,"span",6),m.\u0275\u0275text(2,"\u7c7b\u578b"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd())}function Ja(e,t){1&e&&(m.\u0275\u0275elementStart(0,"th",157),m.\u0275\u0275elementStart(1,"span",6),m.\u0275\u0275text(2,"\u4fdd\u4fee\u622a\u6b62\u65e5\u671f"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd())}function Za(e,t){1&e&&(m.\u0275\u0275elementStart(0,"th",157),m.\u0275\u0275elementStart(1,"span",6),m.\u0275\u0275text(2,"\u5230\u671f\u66f4\u6362\u65e5\u671f"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd())}function Ya(e,t){1&e&&(m.\u0275\u0275elementStart(0,"th",152),m.\u0275\u0275elementStart(1,"span",6),m.\u0275\u0275text(2,"\u5907\u6ce8"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd())}var eo=function(e){return{display:e}};function to(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"td",170),m.\u0275\u0275text(1),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275nextContext().index,r=m.\u0275\u0275nextContext().$implicit;m.\u0275\u0275property("ngStyle",m.\u0275\u0275pureFunction1(3,eo,0===n?"":"none")),m.\u0275\u0275attribute("rowspan",r.product_part.length),m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" ",r.code," ")}}function no(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"td",170),m.\u0275\u0275text(1),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275nextContext().index,r=m.\u0275\u0275nextContext().$implicit;m.\u0275\u0275property("ngStyle",m.\u0275\u0275pureFunction1(3,eo,0===n?"":"none")),m.\u0275\u0275attribute("rowspan",r.product_part.length),m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" ",r.sn," ")}}function ro(e,t){1&e&&(m.\u0275\u0275elementStart(0,"span",160),m.\u0275\u0275element(1,"em",161),m.\u0275\u0275elementEnd())}function io(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"td"),m.\u0275\u0275template(1,ro,2,0,"span",159),m.\u0275\u0275text(2),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275nextContext().$implicit;m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",n.quickwear_part),m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" ",n.material_code," ")}}function ao(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"td"),m.\u0275\u0275text(1),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275nextContext().$implicit;m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" ",n.material_name," ")}}function oo(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"td"),m.\u0275\u0275text(1),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275nextContext().$implicit;m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" ",n.specification," ")}}function lo(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"td"),m.\u0275\u0275text(1),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275nextContext().$implicit;m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" ",n.model," ")}}function co(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"td"),m.\u0275\u0275text(1),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275nextContext().$implicit;m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" ",n.sn," ")}}function so(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"td"),m.\u0275\u0275text(1),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275nextContext().$implicit;m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" ",n.unit," ")}}function mo(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"td",131),m.\u0275\u0275text(1),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275nextContext().$implicit;m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" ",n.unit_qty," ")}}function po(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"td"),m.\u0275\u0275text(1),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275nextContext().$implicit;m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" ",n.item_group_name," ")}}function uo(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"td"),m.\u0275\u0275text(1),m.\u0275\u0275pipe(2,"date"),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275nextContext().$implicit;m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" ",m.\u0275\u0275pipeBind2(2,1,n.expiry_date,"yyyy/MM/dd")," ")}}function fo(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"td"),m.\u0275\u0275text(1),m.\u0275\u0275pipe(2,"date"),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275nextContext().$implicit;m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" ",n.replacement_date?m.\u0275\u0275pipeBind2(2,1,n.replacement_date,"yyyy/MM/dd"):""," ")}}function vo(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"td"),m.\u0275\u0275text(1),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275nextContext().$implicit;m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" ",n.remark," ")}}function go(e,t){1&e&&(m.\u0275\u0275elementContainerStart(0),m.\u0275\u0275elementStart(1,"tr",125),m.\u0275\u0275template(2,to,2,5,"td",169),m.\u0275\u0275template(3,no,2,5,"td",169),m.\u0275\u0275template(4,io,3,2,"td",126),m.\u0275\u0275template(5,ao,2,1,"td",126),m.\u0275\u0275template(6,oo,2,1,"td",126),m.\u0275\u0275template(7,lo,2,1,"td",126),m.\u0275\u0275template(8,co,2,1,"td",126),m.\u0275\u0275template(9,so,2,1,"td",126),m.\u0275\u0275template(10,mo,2,1,"td",127),m.\u0275\u0275template(11,po,2,1,"td",126),m.\u0275\u0275template(12,uo,3,4,"td",126),m.\u0275\u0275template(13,fo,3,4,"td",126),m.\u0275\u0275template(14,vo,2,1,"td",126),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementContainerEnd()),2&e&&(m.\u0275\u0275advance(2),m.\u0275\u0275property("dwColumnId","equipment_name"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","equipment_sn"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","material_code"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","material_name"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","specification"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","model"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","sn"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","unit"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","unit_qty"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","item_group_name"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","expiry_date"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","replacement_date"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","remark"))}function ho(e,t){if(1&e&&(m.\u0275\u0275elementContainerStart(0),m.\u0275\u0275template(1,go,15,13,"ng-container",66),m.\u0275\u0275elementContainerEnd()),2&e){var n=t.$implicit;m.\u0275\u0275advance(1),m.\u0275\u0275property("ngForOf",n.product_part)}}var wo=function(){return{x:"1200px"}};function yo(e,t){if(1&e){var n=m.\u0275\u0275getCurrentView();m.\u0275\u0275elementStart(0,"dw-table",162,163),m.\u0275\u0275listener("dwPageSizeChange",function(e){return m.\u0275\u0275restoreView(n),m.\u0275\u0275nextContext(2).search.pageSize=e})("dwPageSizeOptionsChange",function(e){return m.\u0275\u0275restoreView(n),m.\u0275\u0275nextContext(2).search.pageSizeOptions=e}),m.\u0275\u0275elementStart(2,"thead"),m.\u0275\u0275elementStart(3,"tr",113),m.\u0275\u0275template(4,Ba,3,0,"th",164),m.\u0275\u0275template(5,$a,3,0,"th",164),m.\u0275\u0275template(6,qa,3,0,"th",145),m.\u0275\u0275template(7,Wa,3,0,"th",147),m.\u0275\u0275template(8,Ga,3,0,"th",146),m.\u0275\u0275template(9,Ua,3,0,"th",146),m.\u0275\u0275template(10,Ha,3,0,"th",150),m.\u0275\u0275template(11,Xa,3,0,"th",165),m.\u0275\u0275template(12,Qa,3,0,"th",166),m.\u0275\u0275template(13,Ka,3,0,"th",146),m.\u0275\u0275template(14,Ja,3,0,"th",150),m.\u0275\u0275template(15,Za,3,0,"th",150),m.\u0275\u0275template(16,Ya,3,0,"th",145),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(17,"tbody"),m.\u0275\u0275template(18,ho,2,1,"ng-container",66),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd()}if(2&e){var r=m.\u0275\u0275reference(1),i=m.\u0275\u0275nextContext(2);m.\u0275\u0275property("dwData",i.equipment_parts)("dwPageIndex",i.search.pageIndex)("dwPageSize",i.search.pageSize)("dwPageSizeOptions",i.search.pageSizeOptions)("dwScroll",m.\u0275\u0275pureFunction0(19,wo)),m.\u0275\u0275advance(4),m.\u0275\u0275property("dwColumnId","equipment_name"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","equipment_sn"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","material_code"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","material_name"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","specification"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","model"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","sn"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","unit"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","unit_qty"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","item_group_name"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","expiry_date"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","replacement_date"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","remark"),m.\u0275\u0275advance(2),m.\u0275\u0275property("ngForOf",r.data)}}function xo(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"dw-tab",171),m.\u0275\u0275elementStart(1,"div",15),m.\u0275\u0275elementStart(2,"div",172),m.\u0275\u0275element(3,"dw-extra-fields",173),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275nextContext(2);m.\u0275\u0275property("id",n.id?"modify-extra-tab":"create-extra-tab"),m.\u0275\u0275advance(2),m.\u0275\u0275property("dwSpan",24),m.\u0275\u0275advance(1),m.\u0275\u0275property("group",n.product_file.controls[0])("dwDocument",n.doc)}}function _o(e,t){if(1&e){var n=m.\u0275\u0275getCurrentView();m.\u0275\u0275elementStart(0,"form",11),m.\u0275\u0275elementStart(1,"dw-tabset",12),m.\u0275\u0275listener("dwSelectChange",function(e){return m.\u0275\u0275restoreView(n),m.\u0275\u0275nextContext().onTabChange(e)}),m.\u0275\u0275elementStart(2,"dw-tab",13),m.\u0275\u0275elementStart(3,"div",14),m.\u0275\u0275elementStart(4,"div",15),m.\u0275\u0275elementStart(5,"div",16),m.\u0275\u0275template(6,Xr,5,5,"dw-form-item",17),m.\u0275\u0275template(7,Qr,5,5,"dw-form-item",17),m.\u0275\u0275template(8,Jr,6,5,"dw-form-item",17),m.\u0275\u0275template(9,Zr,5,4,"dw-form-item",17),m.\u0275\u0275template(10,Yr,5,5,"dw-form-item",17),m.\u0275\u0275template(11,ni,5,5,"dw-form-item",17),m.\u0275\u0275template(12,ii,8,5,"dw-form-item",17),m.\u0275\u0275template(13,ai,5,4,"dw-form-item",17),m.\u0275\u0275template(14,oi,5,5,"dw-form-item",17),m.\u0275\u0275template(15,ci,8,5,"dw-form-item",17),m.\u0275\u0275template(16,pi,8,5,"dw-form-item",17),m.\u0275\u0275template(17,ui,5,5,"dw-form-item",17),m.\u0275\u0275template(18,fi,5,5,"dw-form-item",17),m.\u0275\u0275template(19,vi,5,4,"dw-form-item",17),m.\u0275\u0275template(20,hi,2,1,"ng-container",17),m.\u0275\u0275template(21,xi,13,9,"dw-form-item",17),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(22,"div",18),m.\u0275\u0275template(23,Ii,12,15,"dw-form-item",19),m.\u0275\u0275template(24,Ei,5,4,"dw-form-item",20),m.\u0275\u0275template(25,Di,5,5,"dw-form-item",17),m.\u0275\u0275template(26,Oi,5,4,"dw-form-item",20),m.\u0275\u0275template(27,ki,5,4,"dw-form-item",17),m.\u0275\u0275template(28,Mi,5,4,"dw-form-item",17),m.\u0275\u0275template(29,Pi,5,4,"dw-form-item",17),m.\u0275\u0275template(30,Vi,2,1,"ng-container",17),m.\u0275\u0275template(31,Li,2,1,"ng-container",17),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(32,"div",21),m.\u0275\u0275elementStart(33,"div",22),m.\u0275\u0275element(34,"div",23),m.\u0275\u0275template(35,Ri,3,0,"div",24),m.\u0275\u0275template(36,zi,6,2,"div",25),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275template(37,ma,23,19,"dw-tab",26),m.\u0275\u0275elementStart(38,"dw-tab",27),m.\u0275\u0275template(39,pa,6,3,"div",28),m.\u0275\u0275template(40,za,18,19,"dw-table",29),m.\u0275\u0275template(41,yo,19,20,"dw-table",30),m.\u0275\u0275elementEnd(),m.\u0275\u0275template(42,xo,4,4,"dw-tab",31),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd()}if(2&e){var r=m.\u0275\u0275nextContext();m.\u0275\u0275property("formGroup",r.product_file.controls[0]),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwTabPosition","top")("dwType","line")("dwAnimated",!1),m.\u0275\u0275advance(1),m.\u0275\u0275property("id",r.id?"modify-product-file-tab":"create-product-file-tab"),m.\u0275\u0275advance(4),m.\u0275\u0275property("ngIf",r.formConfigList.indexOf("product_file_code")>=0),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",r.formConfigList.indexOf("product_file_name")>=0),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",r.formConfigList.indexOf("item_group")>=0),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",r.formConfigList.indexOf("model")>=0),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",r.formConfigList.indexOf("specification")>=0),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",r.formConfigList.indexOf("sn")>=0),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",r.formConfigList.indexOf("customer")>=0),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",r.formConfigList.indexOf("customer")>=0),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",r.formConfigList.indexOf("location")>=0),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",r.formConfigList.indexOf("service_site")>=0),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",r.formConfigList.indexOf("employee")>=0),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",r.formConfigList.indexOf("delivery_date")>=0),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",r.formConfigList.indexOf("installation_date_range")>=0),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",r.formConfigList.indexOf("commissioning_person")>=0),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",r.id),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",r.formConfigList.indexOf("attachment")>=0),m.\u0275\u0275advance(2),m.\u0275\u0275property("ngIf",r.formConfigList.indexOf("file")>=0),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",r.formConfigList.indexOf("file")>=0),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",r.formConfigList.indexOf("product_description")>=0),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",r.formConfigList.indexOf("product_description")>=0),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",r.formConfigList.indexOf("expiry_date")>=0),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",r.formConfigList.indexOf("acceptance_date")>=0),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",r.formConfigList.indexOf("acceptance_person")>=0),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",r.id),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",!r.id),m.\u0275\u0275advance(4),m.\u0275\u0275property("ngIf",!r.product_file.controls[0].controls.enable_maintain.value),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",r.product_file.controls[0].controls.enable_maintain.value),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf","2"===r.file_type),m.\u0275\u0275advance(1),m.\u0275\u0275property("id",r.id?"modify-product-part-tab":"create-product-part-tab"),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf","1"===r.file_type),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf","1"===r.file_type),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf","2"===r.file_type),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",r.productFileHasCustomizeField)}}var Co=function(){var e=function(){function e(n,r,i,a,o,l,d,c,s,m,u,f,v){var g=this;p(this,e),this.router=n,this.activeRoute=r,this.doc=i,this.dwModalService=a,this.message=o,this.productFileSrv=l,this.customerSrv=d,this.productFileSelectService=c,this.analytics=s,this.userService=m,this.fb=u,this.commonHttpService=f,this.datePipe=v,this.file_type="1",this.formConfigList=[],this.product_equipment_list=new Wn.DwDataTable([]),this.equipment_parts=[],this.id="",this.type="",this.search={pageIndex:1,pageSize:10,pageSizeOptions:[10,20,30]},this.itemGroupList=[],this.isIntegrated=!1,this.attachmentsList=[],this.attachmentsListTemp=[],this.attachmentIds=[],this.disabledDate=function(e){return(0,rr.differenceInCalendarDays)(g.product_file.controls[0].value.delivery_date,e)>0},this.basis_of_maintain="1",this.userInfo={tenantId:"",userId:""},this.productFileHasCustomizeField=!1,this.product_picture="",this.fileList=[],this.previewImage="",this.previewVisible=!1,this.handlePreview=function(e){return(0,qn.mG)(g,void 0,void 0,t().mark(function n(){return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=!e.url&&!e.preview,!t.t0){t.next=5;break}return t.next=4,this.getBase64(e.originFileObj);case 4:e.preview=t.sent;case 5:this.previewImage=e.url||e.preview,this.previewVisible=!0;case 7:case"end":return t.stop()}},n,this)}))},this.disabledDeliveryDate=function(e){return!(!e||!g.product_file.controls[0].value.installation_date)&&g.changeZero(e)>g.changeZero(g.product_file.controls[0].value.installation_date)},this.disabledInstallationDate=function(e){return!(!e||!g.product_file.controls[0].value.delivery_date)&&(g.changeZero(e)<g.changeZero(g.product_file.controls[0].value.delivery_date)||g.changeZero(e)>g.changeZero(g.product_file.controls[0].value.acceptance_date))},this.disabledAcceptanceDate=function(e){return!(!e||!g.product_file.controls[0].value.installation_date)&&(g.changeZero(e)<g.changeZero(g.product_file.controls[0].value.installation_date)||g.changeZero(e)>=g.changeZero(g.product_file.controls[0].value.expiry_date))},this.disabledExpiryDate=function(e){return!(!e||!g.product_file.controls[0].value.acceptance_date)&&g.changeZero(e)<=g.changeZero(g.product_file.controls[0].value.acceptance_date)},this.handleChange=function(e){return(0,qn.mG)(g,void 0,void 0,t().mark(function n(){return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=e.file.status,t.next="done"===t.t0?3:"removed"===t.t0?16:"error"===t.t0?18:31;break;case 3:if(!this.fileList.length){t.next=9;break}return t.next=6,this.getBase64(e.file.originFileObj);case 6:t.t1=t.sent,t.next=10;break;case 9:t.t1="";case 10:return this.fileList[0].url=t.t1,this.product_file.controls[0].get("file_context").setValue(this.fileList.length?this.fileList[0].url:""),this.product_file.controls[0].get("file_name").setValue(this.fileList.length?this.fileList[0].name:""),this.product_file.controls[0].get("product_picture").setValue(""),this.product_file.controls[0].modifyState="u",t.abrupt("break",31);case 16:return this.fileList[0].url="",this.product_file.controls[0].get("file_context").setValue(""),this.product_file.controls[0].get("file_name").setValue(""),this.product_file.controls[0].get("product_picture").setValue(""),this.product_file.controls[0].modifyState="u",t.abrupt("break",31);case 18:if(this.fileList[0].status="done",!this.fileList.length){t.next=25;break}return t.next=22,this.getBase64(e.file.originFileObj);case 22:t.t2=t.sent,t.next=26;break;case 25:t.t2="";case 26:this.fileList[0].url=t.t2,this.product_file.controls[0].get("file_context").setValue(this.fileList.length?this.fileList[0].url:""),this.product_file.controls[0].get("file_name").setValue(this.fileList.length?this.fileList[0].name:""),this.product_file.controls[0].get("product_picture").setValue(""),this.product_file.controls[0].modifyState="u";case 31:case"end":return t.stop()}},n,this)}))},this.beforeUpload=function(e,t){return new b.Observable(function(t){var n="image/jpeg"===e.type||"image/png"===e.type;if(!n)return g.message.create("error","\u8bf7\u4e0a\u4f20jpg\u6216png\u683c\u5f0f\u56fe\u7247\uff01"),void t.complete();var r=e.size/1024/1024<=5;if(!r)return g.message.create("error","\u4e0a\u4f20\u6587\u4ef6\u5927\u5c0f\u8d85\u8fc75M\uff01"),void t.complete();t.next(n&&r),t.complete()})},this.beforeUploadFiles=function(e,t){return new b.Observable(function(t){console.log(e);var n=e.name.split("."),r=n[n.length-1].indexOf("xls")>=0||n[n.length-1].indexOf("doc")>=0||n[n.length-1].indexOf("ppt")>=0||n[n.length-1].indexOf("pdf")>=0||n[n.length-1].indexOf("png")>=0||n[n.length-1].indexOf("jpg")>=0;if(!r)return g.message.create("error","\u8bf7\u4e0a\u4f20\u6b63\u786e\u683c\u5f0f\u6587\u4ef6\uff01"),void t.complete();var i=e.size/1024/1024<=10;if(!i)return g.message.create("error","\u4e0a\u4f20\u6587\u4ef6\u5927\u5c0f\u8d85\u8fc710M\uff01"),void t.complete();t.next(r&&i),t.complete()})},this.doc.registerEvent(this),this.activeRoute.paramMap.subscribe(function(e){g.id=e.get("id")||""}),this.activeRoute.queryParams.subscribe(function(e){g.file_type=e.file_type||"1"})}return f(e,[{key:"maintainValueChanges",value:function(){var e=this;this.enableMaintainChange();var t=this.product_file.activeRows[0];t.get("item_group_id").valueChanges.subscribe(function(t){e.itemGroupChange()}),t.get("enable_maintain").valueChanges.subscribe(function(t){e.enableMaintainChange()}),t.get("maintain_begin_date").valueChanges.subscribe(function(t){e.dateOrPeriodChange()}),t.get("recently_maintain_date").valueChanges.subscribe(function(t){e.dateOrPeriodChange()}),t.get("recently_maintain_readingmeter").valueChanges.subscribe(function(t){e.dateOrPeriodChange()}),t.get("maintain_period").valueChanges.subscribe(function(t){e.dateOrPeriodChange()}),t.get("next_maintain_date").valueChanges.subscribe(function(e){console.log(e),console.log(t.get("next_maintain_date").value)})}},{key:"ngOnInit",value:function(){var e=this;this.commonHttpService.get("restful/service/autoSettings/CustomView/CustomView?viewId=product_file").subscribe(function(t){var n=[];t.data.config&&t.data.config.formConfig&&t.data.config.formConfig.length?(n=t.data.config.formConfig,$r.R.product_file.length!==t.data.config.formConfig.length&&(n=$r.R.product_file).forEach(function(e){t.data.config.formConfig.forEach(function(t){t.fieldKey===e.fieldKey&&(e.isTurnOn=t.isTurnOn)})})):n=$r.R.product_file;var r=[];n.forEach(function(e){e.isTurnOn&&r.push(e.fieldKey)}),e.formConfigList=r},function(t){t.hasOwnProperty("error")&&t.error.hasOwnProperty("errorMessage")&&t.error.errorMessage&&e.message.error(t.error.errorMessage)}),this.commonHttpService.get("restful/service/serviceSite/ServiceSite/UserSite").subscribe(function(t){e.user_service_site_id=t.service_site_id,e.user_service_site_type=t.service_site_type}),this.userInfo=this.userService.getUserInfo(),""===this.id?(this.product_file=new Wn.DwDataTable([{file_type:this.file_type,product_file_code:"",product_file_name:"",item_group_id:"",item_group_name:"",specification:"",model:"",sn:"",location:"",service_site_id:"",service_site_name:"",employee_id:"",employee_name:"",customer_id:"",customer_name:"",exfactory_customer_name:"",exfactory_customer_id:0,delivery_date:new Date,installation_date:new Date,acceptance_date:new Date,expiry_date:new Date,replacement_date:new Date,quickwear_part:!1,product_description:"",product_picture:"",file_context:"",file_name:"",commissioning_person:"",acceptance_person:"",remark:"",source:"1",installation_date_end:new Date,attachment:"",installation_date_range:"",enable_maintain:!1,maintain_begin_date:null,maintain_period:null,recently_maintain_date:null,next_maintain_date:null,recently_maintain_readingmeter:0,next_maintain_readingmeter:0,basis_of_maintain:"1"}]),this.fileList=[],this.product_picture="",this.previewImage=""):this.product_file=new Wn.DwDataTable([]),this.product_part=new Wn.DwDataTable([]),this.product_equipment_list=new Wn.DwDataTable([]),this.id?this.doc.read({id:this.id,fileType:this.file_type}).subscribe(function(t){console.log(t),e.product_file=t.product_file;var n=e.product_file.activeRows[0];n.get("item_group_id").value||n.get("item_group_id").setValue(""),"1"===n.getRawValue().enable_maintain?n.get("enable_maintain").setValue(!0):n.get("enable_maintain").setValue(!1),e.isIntegrated="0"===e.product_file.controls[0].value.source,e.product_part=t.product_part||new Wn.DwDataTable([]),e.product_part.rows.forEach(function(e){e.markAsUpdate()}),"2"===t.product_file.controls[0].value.file_type&&(t.product_equipment_list.rows.forEach(function(t,n){var r=t.value;e.product_part.value.forEach(function(e){e.$state="u"}),Object.assign(r,{product_part:e.product_part.value.filter(function(e){return e.product_equipment_list_id===r.product_equipment_list_id})}),e.product_equipment_list.insertRow(0,e.detailModelWinObjForProductEquipment({detailEdit:r})),t.markAsUpdate()}),e.product_equipment_list.rows.forEach(function(e){e.modifyState="u",e.markAsUpdate()}),e.getEquipmentParts()),e.product_picture=t.product_file.controls[0].value.product_picture,t.product_file.controls[0].value.product_picture?e.fileList=[{uid:e.product_picture,name:t.product_file.controls[0].value.file_name,status:"done",url:t.product_file.controls[0].value.file_context}]:(e.fileList=[],e.previewImage=""),t.attachments.controls.forEach(function(t){e.attachmentsList.push(t.value)}),e.attachmentsList.forEach(function(t){t.name=t.attachment_name,t.uid=t.attachment_id,t.state="",e.attachmentIds.push(t.attachment_id)}),e.product_file.controls[0].get("installation_date").value?e.product_file.controls[0].get("installation_date_range").setValue([e.product_file.controls[0].get("installation_date").value,e.product_file.controls[0].get("installation_date_end").value]):e.product_file.controls[0].get("installation_date_range").setValue(""),e.productFileSrv.getItemGroupList("","","1").subscribe(function(t){e.itemGroupList=t||[];var n=e.itemGroupList.filter(function(t){return t.item_group_id===e.product_file.controls[0].value.item_group_id});e.basis_of_maintain=n.length&&n[0].basis_of_maintain||"1"}),e.maintainValueChanges()}):(this.doc.setControl("product_file",this.product_file),this.doc.addControl("product_part",this.product_part),this.doc.addControl("product_equipment_list",this.product_equipment_list),this.productFileSrv.getItemGroupList("","","1").subscribe(function(t){e.itemGroupList=t||[]}),this.maintainValueChanges()),this.productFileSrv.getProductFileHasCustomizeField("product_file").subscribe(function(t){e.productFileHasCustomizeField="true"===t.data})}},{key:"getEquipmentParts",value:function(){var e=[],t=JSON.parse(JSON.stringify(this.product_equipment_list.value));console.log("this.product_equipment_list",this.product_equipment_list,t),this.product_equipment_list.value.forEach(function(n,r){n.product_part&&n.product_part.forEach(function(n,i){e.push(Object.assign({},n)),"d"===n.$state&&(console.log(r,i),t[r].product_part.splice(i,1))})}),this.equipment_parts=e.length?t:new Wn.DwDataTable([]),console.log(this.equipment_parts)}},{key:"onTabChange",value:function(e){console.log(e.index)}},{key:"getBase64",value:function(e){return new Promise(function(t,n){var r=new FileReader;r.readAsDataURL(e),r.onload=function(){return t(r.result)},r.onerror=function(e){return n(e)}})}},{key:"changeZero",value:function(e){return new Date(e).setHours(0,0,0,0)}},{key:"setInstallationDate",value:function(){var e=this.product_file.controls[0].value.installation_date_range;""!==e&&e.length&&""!==e[0]?(this.product_file.controls[0].get("installation_date").setValue(this.datePipe.transform(e[0],"yyyy-MM-dd")),this.product_file.controls[0].get("installation_date_end").setValue(this.datePipe.transform(e[1],"yyyy-MM-dd"))):(e=["",""],this.product_file.controls[0].get("installation_date").setValue(""),this.product_file.controls[0].get("installation_date_end").setValue(""))}},{key:"detailModelWinObjForProductPart",value:function(e){var t=e.detailEdit;return""===this.id?{material_id:t.material_id,material_code:t.material_code,material_name:t.material_name,specification:t.specification,model:t.model,sn:t.sn,sn_management:t.sn_management,unit:t.unit,unit_qty:t.unit_qty,item_group_name:t.item_group_name,expiry_date:t.expiry_date,remark:t.remark,quickwear_part:t.quickwear_part,replacement_date:t.replacement_date}:{product_file_id:this.id,product_part_id:t.product_part_id,material_id:t.material_id,material_code:t.material_code,material_name:t.material_name,specification:t.specification,model:t.model,sn:t.sn,sn_management:t.sn_management,unit:t.unit,unit_qty:t.unit_qty,item_group_name:t.item_group_name,expiry_date:t.expiry_date,remark:t.remark,quickwear_part:t.quickwear_part,replacement_date:t.replacement_date}}},{key:"productPartAdd",value:function(){var e=this;this.dwModalService.create({dwTitle:"\u6dfb\u52a0\u4ea7\u54c1\u914d\u4ef6",dwContent:nr,dwOnOk:function(t){console.log("data===>",t,e.product_part.controls);var n=e.product_part.controls?e.product_part.controls.filter(function(n){return t.detailEdit.quickwear_part&&(!t.detailEdit.sn||t.detailEdit.sn===n.value.sn)&&n.value.material_id===t.detailEdit.material_id&&e.datePipe.transform(n.value.replacement_date,"yyyy/MM/dd")===e.datePipe.transform(t.detailEdit.replacement_date,"yyyy/MM/dd")&&"d"!==n.$state}):[];console.log(n),n&&n.length?e.message.error("\u5df2\u5b58\u5728\u76f8\u540c\u5230\u671f\u66f4\u6362\u65e5\u671f\u7684\u6613\u635f\u914d\u4ef6\uff01"):e.product_part.insertRow(0,e.detailModelWinObjForProductPart(t))},dwOnCancel:function(){},dwFooter:null,dwComponentParams:{cmd:"add",expiryDate:this.product_file.controls[0].value.expiry_date,deliveryDate:this.product_file.controls[0].value.delivery_date}})}},{key:"modifyPart",value:function(e,t){var n=this;console.log(this.product_part);var r=e.controls.product_part_id?this.product_part.controls.findIndex(function(t){return t.get("product_part_id").value===e.controls.product_part_id.value}):t,i=this.product_part.controls[r].getRawValue();this.dwModalService.create({dwTitle:"\u4fee\u6539\u4ea7\u54c1\u914d\u4ef6",dwContent:nr,dwOnOk:function(e){console.log(n.detailModelWinObjForProductPart(e)),n.product_part.updateRow(r,n.detailModelWinObjForProductPart(e))},dwOnCancel:function(){},dwFooter:null,dwComponentParams:{cmd:"modify",expiryDate:this.product_file.controls[0].value.expiry_date,orderDetail:new Gn(i),deliveryDate:this.product_file.controls[0].value.delivery_date}})}},{key:"deletePart",value:function(e,t){var n=e.controls.product_part_id?this.product_part.controls.findIndex(function(t){return t.get("product_part_id").value===e.controls.product_part_id.value}):t;this.product_part.deleteRow(n)}},{key:"equipmentAdd",value:function(){var e=this;this.dwModalService.create({dwTitle:"\u6dfb\u52a0\u4ea7\u7ebf/\u9879\u76ee\u8bbe\u5907",dwWidth:"1000px",dwContent:Br,dwOnOk:function(t){var n=!1;if(t.detailEdit.product_part){var r=[];t.detailEdit.product_part.forEach(function(e){"d"!==e.$state&&e.sn&&(r.indexOf(e.code+e.sn)<0?r.push(e.code+e.sn):n=!0)})}if(n)e.message.error("\u5df2\u5b58\u5728\u5e8f\u5217\u53f7\u76f8\u540c\u7684\u914d\u4ef6\uff01");else{var i=[];e.product_equipment_list.value.forEach(function(e){e.sn&&i.push(e.code+e.sn)}),console.log(t,i),(!t.detailEdit.sn||i.indexOf(t.detailEdit.code+t.detailEdit.sn)<0)&&(e.product_equipment_list.insertRow(0,e.detailModelWinObjForProductEquipment(t)),e.getEquipmentParts())}},dwOnCancel:function(){},dwFooter:null,dwComponentParams:{cmd:"add",expiryDate:this.product_file.controls[0].value.expiry_date,isIntegrated:this.isIntegrated,deliveryDate:this.product_file.controls[0].value.delivery_date}})}},{key:"modifyEquipment",value:function(e,t){var n=this;console.log(this.product_equipment_list);var r=e.value.product_equipment_list_id?this.product_equipment_list.controls.findIndex(function(t){return t.get("product_equipment_list_id").value===e.value.product_equipment_list_id}):t,i=this.product_equipment_list.controls[r].getRawValue();this.dwModalService.create({dwTitle:"\u4fee\u6539\u4ea7\u7ebf/\u9879\u76ee\u8bbe\u5907",dwWidth:"1000px",dwContent:Br,dwOnOk:function(e){console.log(e);var t=!1;if(e.detailEdit.product_part){var i=[];e.detailEdit.product_part.forEach(function(e){"d"!==e.$state&&e.sn&&(i.indexOf(e.code+e.sn)<0?i.push(e.code+e.sn):t=!0)})}t?n.message.error("\u5df2\u5b58\u5728\u5e8f\u5217\u53f7\u76f8\u540c\u7684\u914d\u4ef6\uff01"):(n.product_equipment_list.updateRow(r,n.detailModelWinObjForProductEquipment(e)),n.doc.controls.product_equipment_list=n.product_equipment_list,n.getEquipmentParts())},dwOnCancel:function(){},dwFooter:null,dwComponentParams:{cmd:"modify",expiryDate:this.product_file.controls[0].value.expiry_date,isIntegrated:this.isIntegrated,orderDetail:new Un(i),deliveryDate:this.product_file.controls[0].value.delivery_date}})}},{key:"deleteEquipment",value:function(e,t){var n=e.value.product_equipment_list_id?this.product_equipment_list.controls.findIndex(function(t){return t.get("product_equipment_list_id").value===e.value.product_equipment_list_id}):t;if(e.controls.product_part){var r=e.value.product_part.filter(function(e){return"c"!==e.$state});r.forEach(function(e){"d"!==e.$state&&(e.$state="d")}),this.product_equipment_list.controls[n].get("product_part").setValue(r)}this.product_equipment_list.deleteRow(n),this.getEquipmentParts()}},{key:"detailModelWinObjForProductEquipment",value:function(e){var t=e.detailEdit,n={code:t.code,name:t.name,specification:t.specification,model:t.model,sn:t.sn,picture_id:t.picture_id,file_name:t.file_name,file_context:t.file_context,quantity:t.quantity,item_group_id:t.item_group_id,item_group_name:t.item_group_name,remark:t.remark,product_part:t.product_part};return Object.assign(n,{product_file_id:this.id||null}),Object.assign(n,{product_equipment_list_id:t.product_equipment_list_id||null}),n}},{key:"handleCancel",value:function(){console.log("Button cancel clicked!"),this.returnProductList()}},{key:"returnProductList",value:function(){this.router.navigate(this.id?["../../"]:["../"],{relativeTo:this.activeRoute})}},{key:"openProductDataWin",value:function(e,t){var n=this;e.preventDefault(),console.log(event.target),this.productFileSelectService.open([],t,"employee_id"===t?this.product_file.controls[0].value.service_site_id:"customer_id"===t?[this.product_file.controls[0].value.service_site_id,this.product_file.controls[0].value.employee_id]:"service_site_name"===t?[this.user_service_site_id,this.user_service_site_type]:"","").subscribe(function(e){if(console.log(e),"employee_id"===t?n.product_file.controls[0].get(t).setValue(e.data.employee[0][t]):"service_site_name"===t?n.product_file.controls[0].get(t).setValue(e[0].service_site_name):n.product_file.controls[0].get(t).setValue(e[0][t]),"service_site_name"===t){if(!e.length)return;n.product_file.controls[0].value.service_site_id!==e[0].service_site_id&&(n.product_file.controls[0].get("service_site_id").setValue(e[0].service_site_id),n.product_file.controls[0].get("employee_id").setValue(0),n.product_file.controls[0].get("employee_name").setValue(""))}else"employee_id"===t?n.product_file.controls[0].get("employee_name").setValue(e.data.employee[0].employee_name):"customer_id"===t&&(n.product_file.controls[0].get("customer_name").setValue(e[0].customer_name),n.product_file.controls[0].get("service_site_id").setValue(e[0].service_site_id),n.product_file.controls[0].get("service_site_name").setValue(e[0].service_site_name),n.product_file.controls[0].get("employee_id").setValue(e[0].employee_id),n.product_file.controls[0].get("employee_name").setValue(e[0].employee_name),n.product_file.controls[0].get("exfactory_customer_id").setValue(e[0].customer_id),n.product_file.controls[0].get("exfactory_customer_name").setValue(e[0].customer_name));n.product_file.controls[0].modifyState="u"})}},{key:"clear",value:function(e){this.product_file.controls[0].get("".concat(e,"id")).setValue(0),this.product_file.controls[0].get("".concat(e,"name")).setValue(""),"customer_"===e&&(this.product_file.controls[0].get("service_site_id").setValue(0),this.product_file.controls[0].get("service_site_name").setValue(""),this.product_file.controls[0].get("employee_id").setValue(0),this.product_file.controls[0].get("employee_name").setValue("")),"service_site_"===e&&(this.product_file.controls[0].get("employee_id").setValue(0),this.product_file.controls[0].get("employee_name").setValue("")),this.product_file.controls[0].modifyState="u"}},{key:"compare",value:function(){for(var e=this.product_part.rows,t=!0,n=0;n<e.length;n++){for(var r=n+1;r<e.length;r++)if(e[n].value.material_code===e[r].value.material_code&&e[n].value.sn&&e[n].value.sn===e[r].value.sn){this.message.create("error","d"===e[n].modifyState||"d"===e[r].modifyState?"\u76f8\u540c\u914d\u4ef6\u5e8f\u5217\u53f7(\u5305\u542b\u5220\u9664\u7684\u914d\u4ef6)\u8bf7\u52ff\u91cd\u590d\uff01":"\u76f8\u540c\u914d\u4ef6\u5e8f\u5217\u53f7\u8bf7\u52ff\u91cd\u590d\uff01"),t=!1;break}if(!t)break}return t}},{key:"validDate",value:function(){this.setInstallationDate();var e=this.product_file.controls[0].value.delivery_date,t=this.product_file.controls[0].value.installation_date,n=this.product_file.controls[0].value.installation_date_end,r=this.product_file.controls[0].value.acceptance_date,i=this.product_file.controls[0].value.expiry_date;return e&&t&&this.changeZero(e)>this.changeZero(t)?(this.message.create("error","\u5b89\u88c5\u65e5\u671f\u4e0d\u5f97\u65e9\u4e8e\u51fa\u5e93\u65e5\u671f\uff01"),!1):n&&r&&this.changeZero(n)>this.changeZero(r)?(this.message.create("error","\u9a8c\u6536\u65e5\u671f\u4e0d\u5f97\u65e9\u4e8e\u5b89\u88c5\u622a\u6b62\u65e5\u671f\uff01"),!1):r&&i&&this.changeZero(r)>this.changeZero(i)?(this.message.create("error","\u4fdd\u4fee\u622a\u6b62\u65e5\u671f\u4e0d\u5f97\u65e9\u4e8e\u9a8c\u6536\u65e5\u671f\uff01"),!1):!r&&n&&i&&this.changeZero(n)>this.changeZero(i)?(this.message.create("error","\u4fdd\u4fee\u622a\u6b62\u65e5\u671f\u4e0d\u5f97\u65e9\u4e8e\u5b89\u88c5\u622a\u6b62\u65e5\u671f\uff01"),!1):!r&&!t&&e&&i&&this.changeZero(e)>this.changeZero(i)?(this.message.create("error","\u4fdd\u4fee\u622a\u6b62\u65e5\u671f\u4e0d\u5f97\u65e9\u4e8e\u51fa\u5e93\u65e5\u671f\uff01"),!1):!(!t&&e&&r&&this.changeZero(e)>this.changeZero(r)&&(this.message.create("error","\u9a8c\u6536\u65e5\u671f\u4e0d\u5f97\u65e9\u4e8e\u51fa\u5e93\u65e5\u671f\uff01"),1))}},{key:"validForm",value:function(){var e=this.product_file.activeRows[0].getRawValue();if(e.next_maintain_date=e.next_maintain_date?new Date(e.next_maintain_date):null,console.log(e.next_maintain_date),e.enable_maintain){if(!e.maintain_begin_date&&"1"===this.basis_of_maintain)return void this.message.error("\u7ef4\u62a4\u5f00\u59cb\u65e5\u671f\u4e0d\u80fd\u4e3a\u7a7a");if(!e.maintain_period)return void this.message.error("\u7ef4\u62a4\u5468\u671f\u4e0d\u80fd\u4e3a\u7a7a");if("1"===this.basis_of_maintain){if(!e.next_maintain_date)return void this.message.error("\u4e0b\u6b21\u7ef4\u62a4\u65e5\u671f\u4e0d\u80fd\u4e3a\u7a7a");if(e.next_maintain_date<=e.maintain_begin_date)return void this.message.error("\u4e0b\u6b21\u7ef4\u62a4\u65e5\u671f\u5fc5\u987b\u5927\u4e8e\u7ef4\u62a4\u5f00\u59cb\u65e5\u671f");if(e.recently_maintain_date&&e.next_maintain_date<=e.recently_maintain_date)return void this.message.error("\u4e0b\u6b21\u7ef4\u62a4\u65e5\u671f\u5fc5\u987b\u5927\u4e8e\u6700\u8fd1\u7ef4\u62a4\u65e5\u671f")}else if(e.next_maintain_readingmeter<e.recently_maintain_readingmeter)return void this.message.error("\u4e0b\u6b21\u4fdd\u517b\u6284\u8868\u6570\u4e0d\u53ef\u5c0f\u4e8e\u6700\u8fd1\u4fdd\u517b\u6284\u8868\u6570")}if(this.product_equipment_list.activeRows.length||"2"!==this.file_type){if(this.validDate()&&this.compare()){this.product_file.controls[0].get("basis_of_maintain").setValue(this.basis_of_maintain);var t;t=!this.id,this.saveProductFile(t)}}else this.message.error("\u8bf7\u6dfb\u52a0\u8bbe\u5907\u4fe1\u606f")}},{key:"saveProductFile",value:function(e){var n=this,r=[];this.attachmentsList.forEach(function(i){return(0,qn.mG)(n,void 0,void 0,t().mark(function n(){var a,o=this;return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:!0,(e?"D"!==i.state&&"d"!==i.state:("C"===i.state||"c"===i.state)&&i.name!==i.attachment_name)&&((a=new FormData).append("file",i.originFileObj),r.push(new Promise(function(e,t){o.productFileSrv.saveAttachments(a).subscribe(function(n){n.success?(o.attachmentIds.push(n.data),e()):(o.message.create("error","\u9644\u4ef6\u4fdd\u5b58\u5931\u8d25\uff01"),t())},function(e){e.hasOwnProperty("error")&&e.error.hasOwnProperty("errorMessage")&&e.error.errorMessage&&o.message.error(e.error.errorMessage)})})));case 2:case"end":return t.stop()}},n)}))}),Promise.all(r).then(function(e){n.product_file.controls[0].get("attachment").setValue(n.attachmentIds.length?n.attachmentIds.join(","):""),n.product_file.controls[0].get("installation_date_range").setValue("");var t=n.product_file.activeRows[0];t.getRawValue().enable_maintain?t.get("enable_maintain").setValue("1",{emitEvent:!1}):t.get("enable_maintain").setValue("0",{emitEvent:!1}),console.log("product_equipment_list",n.product_equipment_list),console.log("product_part",n.product_part),n.id&&"2"===n.file_type&&(n.product_equipment_list.value.forEach(function(e){e.product_part.forEach(function(t){t.product_file_id=t.product_file_id||e.product_file_id||null})}),n.doc.controls.product_equipment_list=n.product_equipment_list),n.doc.save().subscribe(function(e){},function(e){e.hasOwnProperty("error")&&e.error.hasOwnProperty("errorMessage")&&e.error.errorMessage&&n.message.error(e.error.errorMessage),"1"===t.getRawValue().enable_maintain?t.get("enable_maintain").setValue(!0):"0"===t.getRawValue().enable_maintain&&t.get("enable_maintain").setValue(!1)},function(){console.log("\u8bf7\u6c42\u7ed3\u675f"),"1"===t.getRawValue().enable_maintain?t.get("enable_maintain").setValue(!0):"0"===t.getRawValue().enable_maintain&&t.get("enable_maintain").setValue(!1)})})}},{key:"saving",value:function(){return this.id&&this.product_file.rows.forEach(function(e){e.markAsUpdate()}),!0}},{key:"saved",value:function(e){this.message.success("\u64cd\u4f5c\u6210\u529f\uff01"),this.returnProductList()}},{key:"handleFileChange",value:function(e){for(var t in this.attachmentsList)this.attachmentsList[t].state||(this.attachmentsList[t].state="C");console.log("change:",this.attachmentsList)}},{key:"deleteFile",value:function(e){var t=this,n=0,r=!1;this.attachmentIds.forEach(function(i){r||i===t.attachmentsList[e].uid&&(t.attachmentIds.splice(n,1),r=!0),n++}),"C"===this.attachmentsList[e].state?this.attachmentsList.splice(e,1):this.attachmentsList[e].state="D"}},{key:"downloadFile",value:function(){var e=this;this.productFileSrv.download({attachment_id:"4b7eade3-c83f-4c5c-aeea-0c3434d54b1c"}).subscribe(function(e){if(e)switch(e.type){case ne.HttpEventType.Response:var t=URL.createObjectURL(e.body),n=document.createElement("a");n.href=t,n.style="visibility:hidden",n.download=e.headers.get("Content-disposition").split("filename=")[1],document.body.appendChild(n),n.click(),document.body.removeChild(n)}},function(t){t.hasOwnProperty("error")&&t.error.hasOwnProperty("errorMessage")&&t.error.errorMessage&&e.message.error(t.error.errorMessage)})}},{key:"enableMaintainChange",value:function(){var e=this.product_file.activeRows[0];e.getRawValue().enable_maintain?(e.get("maintain_begin_date").enable(),e.get("maintain_period").enable(),e.get("recently_maintain_date").enable(),e.get("next_maintain_date").enable(),e.get("recently_maintain_readingmeter").enable(),e.get("next_maintain_readingmeter").enable()):(e.get("maintain_begin_date").disable(),e.get("maintain_period").disable(),e.get("recently_maintain_date").disable(),e.get("next_maintain_date").disable(),e.get("recently_maintain_readingmeter").disable(),e.get("next_maintain_readingmeter").disable())}},{key:"dateOrPeriodChange",value:function(){this.maintainPeriodChange(),this.recentlyMaintainReadingmeterChange();var e=this.product_file.activeRows[0],t=e.getRawValue().maintain_period;if(t&&"1"===this.basis_of_maintain){var n,r=e.get("next_maintain_date"),i=e.getRawValue().maintain_begin_date,a=e.getRawValue().recently_maintain_date;if(a)n=new Date(a);else{if(!i)return;n=new Date(i)}r.setValue(new Date(this.addMonths(n,t)),{emitEvent:!1})}else if(t&&"2"===this.basis_of_maintain){var o,l=e.get("next_maintain_readingmeter");o=e.getRawValue().recently_maintain_readingmeter,l.setValue(Number(o)+Number(t),{emitEvent:!1})}}},{key:"itemGroupChange",value:function(){var e=this.product_file.activeRows[0];if(e.getRawValue().item_group_id){var t=this.itemGroupList.find(function(t){return t.item_group_id===e.getRawValue().item_group_id}),n=t.enable_maintain,r=t.maintain_period;this.basis_of_maintain=t.basis_of_maintain||"1","1"===n?(e.get("enable_maintain").setValue(!0),e.get("maintain_begin_date").enable(),e.get("maintain_period").enable(),e.get("recently_maintain_date").enable(),e.get("next_maintain_date").enable(),e.get("maintain_period").setValue(r),e.get("recently_maintain_readingmeter").enable(),e.get("next_maintain_readingmeter").enable()):(e.get("enable_maintain").setValue(!1,{emitEvent:!1}),e.get("maintain_begin_date").disable(),e.get("maintain_period").disable(),e.get("maintain_period").setValue(r),e.get("recently_maintain_date").disable(),e.get("next_maintain_date").disable(),e.get("recently_maintain_readingmeter").disable(),e.get("next_maintain_readingmeter").disable())}}},{key:"maintainPeriodChange",value:function(){var e=this.product_file.activeRows[0],t=e.getRawValue().maintain_period;!t||t<0?e.get("maintain_period").setValue(1,{emitEvent:!1}):t>120&&"1"===this.basis_of_maintain?e.get("maintain_period").setValue(120,{emitEvent:!1}):t>99999&&"2"===this.basis_of_maintain?e.get("maintain_period").setValue(99999,{emitEvent:!1}):e.get("maintain_period").setValue(Math.round(t),{emitEvent:!1})}},{key:"recentlyMaintainReadingmeterChange",value:function(){var e=this.product_file.activeRows[0],t=e.getRawValue().recently_maintain_readingmeter;!t||t<0?e.get("recently_maintain_readingmeter").setValue(0,{emitEvent:!1}):e.get("recently_maintain_readingmeter").setValue(Math.round(t),{emitEvent:!1})}},{key:"nextMaintainReadingmeterChange",value:function(){var e=this.product_file.activeRows[0],t=e.getRawValue().recently_maintain_readingmeter,n=e.getRawValue().next_maintain_readingmeter;!n||n<t?e.get("next_maintain_readingmeter").setValue(t,{emitEvent:!1}):e.get("next_maintain_readingmeter").setValue(Math.round(n),{emitEvent:!1})}},{key:"addDays",value:function(e,t){return e.setDate(e.getDate()+t),e}},{key:"addMonths",value:function(e,t){return e.setMonth(e.getMonth()+t),e}}]),e}();return e.\u0275fac=function(t){return new(t||e)(m.\u0275\u0275directiveInject(s.Router),m.\u0275\u0275directiveInject(s.ActivatedRoute),m.\u0275\u0275directiveInject(Wn.DwDocument),m.\u0275\u0275directiveInject(w.DwModalService),m.\u0275\u0275directiveInject(h.DwMessageService),m.\u0275\u0275directiveInject(g.U),m.\u0275\u0275directiveInject(x.v),m.\u0275\u0275directiveInject(Zn),m.\u0275\u0275directiveInject(_.DwAnalytics),m.\u0275\u0275directiveInject(C.DwUserService),m.\u0275\u0275directiveInject(v.FormBuilder),m.\u0275\u0275directiveInject(I.$),m.\u0275\u0275directiveInject(d.DatePipe))},e.\u0275cmp=m.\u0275\u0275defineComponent({type:e,selectors:[["app-product-file-modify"]],features:[m.\u0275\u0275ProvidersFeature([Wn.DwDocument,Zn])],decls:15,vars:10,consts:[[1,"dw-f-content-list","layoutClass","sales_layout"],[1,"issue_layout_head"],[1,"issue_layout_title"],["style","margin-left: 3px;",4,"ngIf"],[2,"float","right"],["dw-button","","dw-analyticsOn","click",3,"dwType","disabled","angularticsCategory","id","angularticsAction","angularticsLabel","click"],["translate",""],["dw-button","","type","button",3,"dwType","click"],[1,"content-box",2,"padding-bottom","24px"],["dw-form","",3,"formGroup",4,"ngIf"],[2,"margin-left","3px"],["dw-form","",3,"formGroup"],[1,"my-tab",3,"dwTabPosition","dwType","dwAnimated","dwSelectChange"],["dwTitle","\u57fa\u672c\u4fe1\u606f",3,"id"],[1,"lessons-list"],["dw-row","","dwGutter","8"],["dw-col","","dwSpan","10"],[4,"ngIf"],["dw-col","","dwSpan","12"],["rowspan","4",4,"ngIf"],["style","opacity: 0;",4,"ngIf"],["dw-row","","dwGutter","8",2,"margin-top","8px"],["dw-col","","dwSpan","22",2,"display","flex"],[1,"temp"],["class","checkbox_label",4,"ngIf"],["class","maintain_box",4,"ngIf"],["dwTitle","\u8bbe\u5907\u4fe1\u606f",3,"id",4,"ngIf"],["dwTitle","\u914d\u4ef6\u4fe1\u606f",3,"id"],["dw-row","","class","dw-f-btn-bar-action",4,"ngIf"],["dwTableId","crs-product-part-modify-list",3,"dwData","dwPageIndex","dwPageSize","dwPageSizeOptions","dwScroll","dwPageSizeChange","dwPageSizeOptionsChange",4,"ngIf"],["dwTableId","crs-equipment-part-modify-list",3,"dwData","dwPageIndex","dwPageSize","dwPageSizeOptions","dwScroll","dwPageSizeChange","dwPageSizeOptionsChange",4,"ngIf"],["dwTitle","\u9644\u52a0\u4fe1\u606f",3,"id",4,"ngIf"],["dwRequired","",3,"dwSm","dwXs"],[3,"dwSm","dwXs"],["dw-input","","required","","formControlName","product_file_code","maxlength","40",3,"readonly"],["dw-input","","required","","formControlName","product_file_name","maxlength","60",3,"readonly"],["formControlName","item_group_id","required","",2,"width","100%"],[3,"dwLabel","dwValue",4,"ngFor","ngForOf"],[3,"dwLabel","dwValue"],["dw-input","","formControlName","model","maxlength","255"],["dw-input","","formControlName","specification","maxlength","255",3,"readonly"],["dwRequired","",3,"dwSm","dwXs",4,"ngIf"],["dw-input","","formControlName","sn","required","","maxlength","255",3,"readonly"],["dwSearch","",3,"dwSuffix"],["dw-input","","required","","type","text","readonly","","formControlName","customer_name"],["suffixCustomerData",""],["dw-button","","dwType","primary","dwSearch","","type","button",3,"disabled","click"],["dw-icon","","dwType","search"],["dw-input","","readonly","","formControlName","exfactory_customer_name"],["dw-input","","formControlName","location","maxlength","255",3,"readonly"],["dw-input","","type","text","readonly","","dw-input","","formControlName","service_site_name"],["suffixServiceSiteData",""],["dw-icon","","class","ant-input-clear-icon","dwTheme","fill","dwType","close-circle",3,"click",4,"ngIf"],["dw-button","","dwType","primary","dwSearch","","type","button",3,"click"],["dw-icon","","dwTheme","fill","dwType","close-circle",1,"ant-input-clear-icon",3,"click"],["dw-input","","type","text","readonly","","dw-input","","formControlName","employee_name"],["suffixEmployeeData",""],["required","","formControlName","delivery_date",3,"dwDisabled"],["formControlName","installation_date_range",2,"width","100%",3,"dwDisabledDate"],["dw-input","","formControlName","commissioning_person","maxlength","20"],["dw-input","","formControlName","remark","maxlength","20"],[1,"upFiles"],[1,"upload"],[2,"margin-bottom","8px",3,"dwFileList","dwBeforeUpload","dwShowUploadList","dwAccept","dwFileListChange","dwChange"],["dw-button",""],["dw-icon","","dwType","upload"],[4,"ngFor","ngForOf"],[1,"tip"],["class","chosen-file","dw-row","",4,"ngIf"],["dw-row","",1,"chosen-file"],["dw-col","",1,"type-icon"],["dw-icon","","dwType","paper-clip","dwTheme","outline"],["dw-col","",1,"file-name"],["dw-col","",1,"del",3,"click"],["dw-icon","","dwType","delete","dwTheme","outline"],["rowspan","4"],[1,"clearfix",2,"min-height","117.5px"],["dwAction","https://www.mocky.io/v2/5cc8019d300000980a055e76","dwListType","picture-card",3,"dwFileList","dwShowButton","dwPreview","dwBeforeUpload","dwAccept","dwShowUploadList","dwFileListChange","dwChange"],["dw-icon","","dwType","plus"],[1,"ant-upload-text"],[3,"dwVisible","dwContent","dwFooter","dwOnCancel"],["modalContent",""],["alt","\u4ea7\u54c1\u6863\u6848",3,"src","ngStyle"],[2,"opacity","0"],["dw-input","","readonly","","formControlName","file_context"],["dw-input","","maxlength","400","placeholder","200\u5b57\u4ee5\u5185","formControlName","product_description",2,"height","211px",3,"readonly"],["dw-input","","readonly",""],["formControlName","expiry_date","required",""],["formControlName","acceptance_date"],["dw-input","","formControlName","acceptance_person","maxlength","20"],["dw-input","","readonly","","formControlName","maintenance_count","maxlength","20"],[1,"checkbox_label"],["dw-checkbox","","formControlName","enable_maintain",2,"color","rgba(0,0,0,0.85)"],[1,"maintain_box"],["dw-row","",4,"ngIf"],["dw-row",""],["dwRequired","",3,"dwSpan"],[3,"dwSpan"],["formControlName","maintain_begin_date"],["dw-row","",3,"dwSpan"],[2,"display","flex"],["type","number","dw-input","","formControlName","maintain_period","maxlength","5",2,"flex","1"],[2,"margin-left","10px","line-height","32px","color","rgba(0,0,0,0.85)"],["dw-col","","dwSpan","10",4,"ngIf"],["formControlName","recently_maintain_date"],["formControlName","next_maintain_date"],["type","number","dw-input","","formControlName","recently_maintain_readingmeter"],["type","number","dw-input","","formControlName","next_maintain_readingmeter",3,"change","keyup"],["dwTitle","\u8bbe\u5907\u4fe1\u606f",3,"id"],["dw-row","",1,"dw-f-btn-bar-action"],["dw-col",""],["dwTableId","crs-product-equipment-modify-list",3,"dwData","dwPageIndex","dwPageSize","dwPageSizeOptions","dwScroll","dwPageSizeChange","dwPageSizeOptionsChange"],["dwTable",""],["dw-tr","","dwDropColumns",""],["dw-th","","dwDragDrop","","dwColumnKey","contact",4,"dwColumnId"],["dw-th","","dwDragDrop","",4,"dwColumnId"],["dw-th","","dwDragDrop","","class","align-right",4,"dwColumnId"],["dw-th","","dwRight","","dwDragDropdwRight","","class","align-center","width","92",4,"dwColumnId"],[3,"formGroup",4,"ngFor","ngForOf"],["dw-th","","dwDragDrop","","dwColumnKey","contact"],["dw-th","","dwDragDrop",""],["dw-th","","dwDragDrop","",1,"align-right"],["dw-th","","dwRight","","dwDragDropdwRight","","width","92",1,"align-center"],[3,"formGroup"],["dw-tbody-tr","","dwReorderColumns","",4,"ngIf"],["dw-tbody-tr","","dwReorderColumns",""],[4,"dwColumnId"],["class","align-right",4,"dwColumnId"],["dwRight","","class","align-center",4,"dwColumnId"],["style","width: 56px;height: 56px;","alt","\u8bbe\u5907\u56fe\u7247",3,"src",4,"ngIf"],["alt","\u8bbe\u5907\u56fe\u7247",2,"width","56px","height","56px",3,"src"],[1,"align-right"],["dwRight","",1,"align-center"],[1,"action-grid"],["title","\u7f16\u8f91",3,"click"],["src","../../../../../../assets/img/icon_edit.png","alt","\u7f16\u8f91",1,"action-icon"],["src","../../../../../../assets/img/icon_edit_hover.png","alt","\u7f16\u8f91",1,"action-icon"],["title","\u5220\u9664"],["dw-popconfirm","",3,"dwPopconfirmTitle","dwOkText","dwCancelText","dwPopconfirmPlacement","dwOnConfirm"],["dw-popconfirm","","translate",""],["src","../../../../../../assets/img/icon_delete.png","alt","\u5220\u9664",1,"action-icon"],["src","../../../../../../assets/img/icon_delete_hover.png","alt","\u5220\u9664",1,"action-icon"],["dw-button","","type","button","dwActionAuthorized","",3,"dwType","dwActionId","dwDefaultAuthorized","dwClick"],["dwTableId","crs-product-part-modify-list",3,"dwData","dwPageIndex","dwPageSize","dwPageSizeOptions","dwScroll","dwPageSizeChange","dwPageSizeOptionsChange"],["dwTablePart",""],["dw-th","","dwDragDrop","","dwWidth","140px",4,"dwColumnId"],["dw-th","","dwDragDrop","","dwWidth","100px",4,"dwColumnId"],["dw-th","","dwDragDrop","","dwWidth","120px",4,"dwColumnId"],["dw-th","","dwDragDrop","","dwWidth","70px",4,"dwColumnId"],["dw-th","","dwDragDrop","","class","align-right","dwWidth","100px",4,"dwColumnId"],["dw-th","","dwDragDrop","","dwWidth","110px",4,"dwColumnId"],["dw-th","","dwRight","","class","align-center","dwWidth","92px",4,"dwColumnId"],["dw-th","","dwDragDrop","","dwWidth","140px"],["dw-th","","dwDragDrop","","dwWidth","100px"],["dw-th","","dwDragDrop","","dwWidth","120px"],["dw-th","","dwDragDrop","","dwWidth","70px"],["dw-th","","dwDragDrop","","dwWidth","100px",1,"align-right"],["dw-th","","dwDragDrop","","dwWidth","110px"],["dw-th","","dwRight","","dwWidth","92px",1,"align-center"],["dw-tooltip","","dwTooltipTitle","\u6613\u635f\u4ef6","class","quickPart",4,"ngIf"],["dw-tooltip","","dwTooltipTitle","\u6613\u635f\u4ef6",1,"quickPart"],[1,"point"],["dwTableId","crs-equipment-part-modify-list",3,"dwData","dwPageIndex","dwPageSize","dwPageSizeOptions","dwScroll","dwPageSizeChange","dwPageSizeOptionsChange"],["dwTablePart2",""],["dw-th","","dwWidth","120px",4,"dwColumnId"],["dw-th","","dwDragDrop","","dwWidth","80px",4,"dwColumnId"],["dw-th","","class","align-right","dwDragDrop","","dwWidth","100px",4,"dwColumnId"],["dw-th","","dwWidth","120px"],["dw-th","","dwDragDrop","","dwWidth","80px"],[3,"ngStyle",4,"dwColumnId"],[3,"ngStyle"],["dwTitle","\u9644\u52a0\u4fe1\u606f",3,"id"],["dw-col","",1,"cust-field",3,"dwSpan"],["cols","1","labelSpan","3","inputSpan","7","tableName","product_file",3,"group","dwDocument"]],template:function(e,t){1&e&&(m.\u0275\u0275elementStart(0,"dw-content",0),m.\u0275\u0275elementStart(1,"div",1),m.\u0275\u0275elementStart(2,"h2",2),m.\u0275\u0275template(3,Ur,2,0,"span",3),m.\u0275\u0275template(4,Hr,2,0,"span",3),m.\u0275\u0275elementStart(5,"div",4),m.\u0275\u0275elementStart(6,"button",5),m.\u0275\u0275listener("click",function(){return t.validForm()}),m.\u0275\u0275elementStart(7,"span",6),m.\u0275\u0275text(8,"\u786e\u5b9a"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(9,"button",7),m.\u0275\u0275listener("click",function(){return t.handleCancel()}),m.\u0275\u0275elementStart(10,"span",6),m.\u0275\u0275text(11,"\u53d6\u6d88"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275element(12,"dw-divider"),m.\u0275\u0275elementStart(13,"div",8),m.\u0275\u0275template(14,_o,43,38,"form",9),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd()),2&e&&(m.\u0275\u0275advance(3),m.\u0275\u0275property("ngIf",!t.id),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",t.id),m.\u0275\u0275advance(2),m.\u0275\u0275propertyInterpolate("angularticsLabel",t.userInfo.tenantId+","+t.userInfo.userId),m.\u0275\u0275property("dwType","primary")("disabled",!t.doc.valid)("angularticsCategory","\u4ea7\u54c1\u6863\u6848")("id",t.id?"sure-modify-product-file":"sure-create-product-file")("angularticsAction",t.id?"\u4fee\u6539-\u70b9\u51fb\u786e\u5b9a\u4fee\u6539":"\u65b0\u5efa-\u70b9\u51fb\u786e\u5b9a\u65b0\u5efa"),m.\u0275\u0275advance(3),m.\u0275\u0275property("dwType","default"),m.\u0275\u0275advance(5),m.\u0275\u0275property("ngIf",t.product_file.controls[0]))},directives:[re.DwContentComponent,d.NgIf,X.DwButtonComponent,ae.uG,ie.u,_.DwAnalyticsOn,F.TranslateDirective,qr.DwDividerComponent,v.\u0275NgNoValidate,v.NgControlStatusGroup,U.DwFormDirective,v.FormGroupDirective,Wr.DwTabSetComponent,Wr.DwTabComponent,G.DwRowDirective,G.DwColDirective,U.DwFormItemComponent,U.DwFormLabelComponent,U.DwFormControlComponent,Q.DwInputDirective,v.DefaultValueAccessor,v.RequiredValidator,v.NgControlStatus,v.FormControlName,v.MaxLengthValidator,H.DwSelectComponent,d.NgForOf,H.DwOptionComponent,Q.DwInputGroupComponent,Q.DwInputGroupWhitSuffixOrPrefixDirective,K.DwIconDirective,Z.DwDatePickerComponent,Z.DwRangePickerComponent,ar.DwUploadComponent,w.DwModalComponent,d.NgStyle,P.DwCheckboxComponent,v.NumberValueAccessor,k.DwTableComponent,M.Ct,k.DwTheadComponent,k.DwTrDirective,M.Y9,M.b,k.DwTbodyComponent,k.DwTableCellDirective,k.DwThMeasureDirective,M.BL,M.$2,k.DwThAddOnComponent,k.DwCellFixedDirective,M.at,Pe.DwPopconfirmDirective,oe.DwActionAuthorizedDirective,or.DwTooltipDirective,Gr.DwExtraFieldsComponent],pipes:[F.TranslatePipe,d.DatePipe],styles:[".ant-calendar-picker{width:100%}.content-box[_ngcontent-%COMP%]{padding-top:8px}.upFiles[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:#000000d9;font-size:18px;margin-bottom:12px}.upFiles[_ngcontent-%COMP%]   .chosen-file[_ngcontent-%COMP%]{margin:8px 0}.upFiles[_ngcontent-%COMP%]   .tip[_ngcontent-%COMP%]{color:#00000073;font-size:14px;margin-top:8px;white-space:nowrap}.upFiles[_ngcontent-%COMP%]   .file-name[_ngcontent-%COMP%]{width:200px;margin-left:5px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.upFiles[_ngcontent-%COMP%]   .del[_ngcontent-%COMP%]{display:none}.upFiles[_ngcontent-%COMP%]   .chosen-file[_ngcontent-%COMP%]:hover   .del[_ngcontent-%COMP%]{display:block}.upFiles[_ngcontent-%COMP%]   .chosen-file[_ngcontent-%COMP%]:hover   .del[_ngcontent-%COMP%]:hover   em[_ngcontent-%COMP%]{color:#40a9ff;cursor:pointer}.temp[_ngcontent-%COMP%]{width:calc((10 / 24 * (6 / 24)) * 100% + 8px);height:100%}.maintain_box[_ngcontent-%COMP%]{flex:1;background:#f7f7f7;padding:8px 0 4px 16px}.quickPart[_ngcontent-%COMP%]   .point[_ngcontent-%COMP%]{display:inline-block;width:6px;height:6px;border-radius:3px;background-color:#ffbe68;margin-bottom:3px}"]}),e}(),So=a(74913);function bo(e,t){1&e&&(m.\u0275\u0275elementStart(0,"span",41),m.\u0275\u0275text(1,"\u6b63\u5e38"),m.\u0275\u0275elementEnd())}function Io(e,t){1&e&&(m.\u0275\u0275elementStart(0,"span",42),m.\u0275\u0275text(1,"\u62a5\u4fee\u4e2d"),m.\u0275\u0275elementEnd())}function Eo(e,t){1&e&&(m.\u0275\u0275elementStart(0,"span",43),m.\u0275\u0275text(1,"\u5df2\u56de\u6536"),m.\u0275\u0275elementEnd())}function Do(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"div",44),m.\u0275\u0275element(1,"img",45),m.\u0275\u0275elementStart(2,"div",46),m.\u0275\u0275text(3),m.\u0275\u0275pipe(4,"date"),m.\u0275\u0275elementStart(5,"div"),m.\u0275\u0275text(6),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275nextContext();m.\u0275\u0275advance(3),m.\u0275\u0275textInterpolate2(" ",m.\u0275\u0275pipeBind2(4,4,n.SNHistoryInfo.end_time,"yyyy-MM-dd"),"\xa0\xa0\xa0",n.SNHistoryInfo.original_sn," \u2014> "),m.\u0275\u0275advance(3),m.\u0275\u0275textInterpolate2("",n.SNHistoryInfo.current_sn,"\xa0\xa0\xa0",n.SNHistoryInfo.employee_name,"")}}function Oo(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"div"),m.\u0275\u0275text(1),m.\u0275\u0275pipe(2,"date"),m.\u0275\u0275pipe(3,"date"),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275nextContext();m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate2(" \u5b89\u88c5\u65e5\u671f:\xa0\xa0",m.\u0275\u0275pipeBind2(2,2,n.resumeInfo.installation_date,"yyyy-MM-dd"),"~",m.\u0275\u0275pipeBind2(3,5,n.resumeInfo.installation_date_end,"yyyy-MM-dd")," ")}}function ko(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"div"),m.\u0275\u0275text(1),m.\u0275\u0275pipe(2,"date"),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275nextContext();m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" \u5b89\u88c5\u65e5\u671f:\xa0\xa0",m.\u0275\u0275pipeBind2(2,1,n.resumeInfo.installation_date,"yyyy-MM-dd")," ")}}function Mo(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"tr"),m.\u0275\u0275elementStart(1,"td"),m.\u0275\u0275text(2),m.\u0275\u0275pipe(3,"date"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(4,"td"),m.\u0275\u0275text(5),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(6,"td"),m.\u0275\u0275text(7),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(8,"td"),m.\u0275\u0275text(9),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(10,"td"),m.\u0275\u0275text(11),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd()),2&e){var n=t.$implicit;m.\u0275\u0275advance(2),m.\u0275\u0275textInterpolate1(" ",m.\u0275\u0275pipeBind2(3,5,n.doc_date,"yyyy-MM-dd")," "),m.\u0275\u0275advance(3),m.\u0275\u0275textInterpolate1(" ",n.breakdown_code," "),m.\u0275\u0275advance(2),m.\u0275\u0275textInterpolate1(" ",n.breakdown_name," "),m.\u0275\u0275advance(2),m.\u0275\u0275textInterpolate1(" ",n.employee_name," "),m.\u0275\u0275advance(2),m.\u0275\u0275textInterpolate1(" ",n.processing_description," ")}}function Po(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"tr"),m.\u0275\u0275elementStart(1,"td"),m.\u0275\u0275text(2),m.\u0275\u0275pipe(3,"date"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(4,"td"),m.\u0275\u0275text(5),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(6,"td"),m.\u0275\u0275text(7),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(8,"td"),m.\u0275\u0275text(9),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(10,"td"),m.\u0275\u0275text(11),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(12,"td"),m.\u0275\u0275text(13),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(14,"td",47),m.\u0275\u0275text(15),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(16,"td"),m.\u0275\u0275text(17),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(18,"td"),m.\u0275\u0275text(19),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(20,"td"),m.\u0275\u0275text(21),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(22,"td"),m.\u0275\u0275text(23),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(24,"td"),m.\u0275\u0275text(25),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(26,"td",47),m.\u0275\u0275text(27),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd()),2&e){var n=t.$implicit;m.\u0275\u0275advance(2),m.\u0275\u0275textInterpolate1(" ",m.\u0275\u0275pipeBind2(3,13,n.doc_date,"yyyy-MM-dd")," "),m.\u0275\u0275advance(3),m.\u0275\u0275textInterpolate1(" ",n.orig_material_code," "),m.\u0275\u0275advance(2),m.\u0275\u0275textInterpolate1(" ",n.orig_material_name," "),m.\u0275\u0275advance(2),m.\u0275\u0275textInterpolate1(" ",n.orig_specification," "),m.\u0275\u0275advance(2),m.\u0275\u0275textInterpolate1(" ",n.orig_model," "),m.\u0275\u0275advance(2),m.\u0275\u0275textInterpolate1(" ",n.orig_sn," "),m.\u0275\u0275advance(2),m.\u0275\u0275textInterpolate1(" ",n.orig_qty," "),m.\u0275\u0275advance(2),m.\u0275\u0275textInterpolate1(" ",n.new_material_code," "),m.\u0275\u0275advance(2),m.\u0275\u0275textInterpolate1(" ",n.new_material_name," "),m.\u0275\u0275advance(2),m.\u0275\u0275textInterpolate1(" ",n.new_specification," "),m.\u0275\u0275advance(2),m.\u0275\u0275textInterpolate1(" ",n.sn," "),m.\u0275\u0275advance(2),m.\u0275\u0275textInterpolate1(" ",n.employee_name," "),m.\u0275\u0275advance(2),m.\u0275\u0275textInterpolate1(" ",n.qty," ")}}function Fo(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"tr"),m.\u0275\u0275elementStart(1,"td"),m.\u0275\u0275text(2),m.\u0275\u0275pipe(3,"date"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(4,"td"),m.\u0275\u0275text(5),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(6,"td"),m.\u0275\u0275text(7),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(8,"td"),m.\u0275\u0275text(9),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd()),2&e){var n=t.$implicit;m.\u0275\u0275advance(2),m.\u0275\u0275textInterpolate1(" ",m.\u0275\u0275pipeBind2(3,4,n.doc_date,"yyyy-MM-dd")," "),m.\u0275\u0275advance(3),m.\u0275\u0275textInterpolate1(" ",n.service_item_name," "),m.\u0275\u0275advance(2),m.\u0275\u0275textInterpolate1(" ",n.process_description," "),m.\u0275\u0275advance(2),m.\u0275\u0275textInterpolate1(" ",n.employee_name," ")}}function Vo(e,t){if(1&e){var n=m.\u0275\u0275getCurrentView();m.\u0275\u0275elementStart(0,"div"),m.\u0275\u0275elementStart(1,"a",48),m.\u0275\u0275listener("click",function(){m.\u0275\u0275restoreView(n);var e=m.\u0275\u0275nextContext().$implicit;return m.\u0275\u0275nextContext().goOldProductResume(e)}),m.\u0275\u0275text(2,"\u67e5\u770b\u539f\u4ea7\u54c1\u5c65\u5386"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd()}}function To(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"tr"),m.\u0275\u0275elementStart(1,"td"),m.\u0275\u0275text(2),m.\u0275\u0275pipe(3,"date"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(4,"td"),m.\u0275\u0275text(5),m.\u0275\u0275template(6,Vo,3,0,"div",19),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(7,"td"),m.\u0275\u0275text(8),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(9,"td"),m.\u0275\u0275text(10),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd()),2&e){var n=t.$implicit;m.\u0275\u0275advance(2),m.\u0275\u0275textInterpolate1(" ",m.\u0275\u0275pipeBind2(3,5,n.doc_date,"yyyy-MM-dd")," "),m.\u0275\u0275advance(3),m.\u0275\u0275textInterpolate1(" ",n.type," "),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf","\u65b0\u673a\u53d1\u51fa"===n.type),m.\u0275\u0275advance(2),m.\u0275\u0275textInterpolate1(" ",n.employee_name," "),m.\u0275\u0275advance(2),m.\u0275\u0275textInterpolate1(" ",n.remark," ")}}function Lo(e,t){if(1&e&&m.\u0275\u0275element(0,"img",59),2&e){var n=m.\u0275\u0275nextContext().$implicit;m.\u0275\u0275property("title",n.remark)}}function Ro(e,t){if(1&e&&m.\u0275\u0275element(0,"img",60),2&e){var n=m.\u0275\u0275nextContext().$implicit;m.\u0275\u0275property("title",n.remark)}}function Ao(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"dw-timeline-item",53),m.\u0275\u0275elementStart(1,"div",54),m.\u0275\u0275elementStart(2,"div",55),m.\u0275\u0275text(3),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(4,"div"),m.\u0275\u0275elementStart(5,"div",56),m.\u0275\u0275text(6," \u5ba2\u6237\u7f16\u53f7\uff1a"),m.\u0275\u0275elementStart(7,"span"),m.\u0275\u0275text(8),m.\u0275\u0275elementEnd(),m.\u0275\u0275template(9,Lo,1,1,"img",57),m.\u0275\u0275template(10,Ro,1,1,"img",58),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(11,"div",56),m.\u0275\u0275text(12," \u5ba2\u6237\u540d\u79f0\uff1a"),m.\u0275\u0275elementStart(13,"span"),m.\u0275\u0275text(14),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd()),2&e){var n=t.$implicit,r=t.index;m.\u0275\u0275property("dwColor",0===r?"#0d9def":"#d8d8d8"),m.\u0275\u0275advance(3),m.\u0275\u0275textInterpolate2("",n.startDate,"~",n.endDate,""),m.\u0275\u0275advance(1),m.\u0275\u0275classMap(0===r?"info-box blue":"info-box"),m.\u0275\u0275advance(4),m.\u0275\u0275textInterpolate(n.new_customer_code),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",0===r&&n.remark),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",0!==r&&n.remark),m.\u0275\u0275advance(4),m.\u0275\u0275textInterpolate(n.new_customer_name)}}function No(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"dw-tab",49),m.\u0275\u0275elementStart(1,"div",50),m.\u0275\u0275elementStart(2,"dw-timeline",51),m.\u0275\u0275template(3,Ao,15,9,"dw-timeline-item",52),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275nextContext();m.\u0275\u0275advance(3),m.\u0275\u0275property("ngForOf",n.transferList)}}var jo=function(){return{x:"900px"}},zo=function(){return{x:"1400px"}},Bo=function(){return{x:"800px"}},$o=function(){var e=function(){function e(t,n,r,i,a,o,l){p(this,e),this.router=t,this.fb=n,this.activeRoute=r,this.productFileSrv=i,this.analytics=a,this.userService=o,this.message=l,this.DW_IN_MFA=D.ns,this.resumeInfo={product_file_code:"",product_file_name:"",item_group_name:"",specification:"",model:"",sn:"",service_site_name:"",location:"",customer_name:"",delivery_date:"",installation_date:"",acceptance_date:"",expiry_date:"",acceptance_person:"",commissioning_person:"",remark:""},this.machineList=[],this.transferList=[],this.SNHistoryInfo={employee_name:"",current_sn:"",original_sn:"",end_time:""},this.userInfo={tenantId:"",userId:""}}return f(e,[{key:"ngOnInit",value:function(){var e=this;this.userInfo=this.userService.getUserInfo(),this.activeRoute.queryParams.subscribe(function(t){console.log(t),e.paramId=t.id,e.fromPage=t.fromPage||"1",e.productFileSrv.getProductFileResume(e.paramId).subscribe(function(t){console.log(t),e.resumeInfo=t.data.product_file[0],e.breakdownList=t.data.service_doc_breakdown||[],e.partList=t.data.service_doc_partchange||[],e.serviceList=t.data.service_doc_serviceitem||[],e.machineList=t.data.machine_receive_doc||[],e.productFileSrv.getProductTransfersByFileId(e.paramId).subscribe(function(t){if(t.data.product_transfer.length){var n=t.data.product_transfer.concat([{new_customer_code:t.data.product_transfer[t.data.product_transfer.length-1].original_customer_code,new_customer_name:t.data.product_transfer[t.data.product_transfer.length-1].original_customer_name,transfer_date:e.resumeInfo.delivery_date||"- -",remark:""}]);n.forEach(function(e,t){n[t].startDate=n[t].transfer_date?n[t].transfer_date.split(" ")[0]:"- -",n[t].endDate=0===t?"\u81f3\u4eca":n[t-1].transfer_date?n[t-1].transfer_date.split(" ")[0]:"- -"}),e.transferList=n}},function(t){t.hasOwnProperty("error")&&t.error.hasOwnProperty("errorMessage")&&t.error.errorMessage&&e.message.error(t.error.errorMessage)})},function(t){t.hasOwnProperty("error")&&t.error.hasOwnProperty("errorMessage")&&t.error.errorMessage&&e.message.error(t.error.errorMessage)}),e.productFileSrv.getSNChangeHistory(e.paramId).subscribe(function(t){e.SNHistoryInfo=t.data[0]},function(t){t.hasOwnProperty("error")&&t.error.hasOwnProperty("errorMessage")&&t.error.errorMessage&&e.message.error(t.error.errorMessage)})})}},{key:"onTabChange",value:function(e){console.log(e.index);var t=e.index;this.analytics.eventTrack.next({action:0===t?"\u5c65\u5386-\u70b9\u51fb\u6545\u969c\u60c5\u51b5\u9875\u7b7e":1===t?"\u5c65\u5386-\u70b9\u51fb\u96f6\u914d\u4ef6\u66f4\u6362\u9875\u7b7e":2===t?"\u5c65\u5386-\u70b9\u51fb\u670d\u52a1\u8bb0\u5f55\u9875\u7b7e":3===t?"\u5c65\u5386-\u70b9\u51fb\u6574\u673a\u8fd4\u4fee\u8bb0\u5f55\u9875\u7b7e":"\u5c65\u5386-\u70b9\u51fb\u8fc7\u6237\u8bb0\u5f55\u9875\u7b7e",properties:{category:"\u4ea7\u54c1\u6863\u6848",label:this.userInfo.tenantId+","+this.userInfo.userId,value:0}})}},{key:"goOldProductResume",value:function(e){this.router.navigateByUrl("".concat(this.DW_IN_MFA?"/assc_crs":"","/bases/product-file/product-resume?id=").concat(e.product_file_id))}},{key:"goBack",value:function(){var e={relativeTo:this.activeRoute};console.log(this.fromPage),1===Number(this.fromPage)?this.router.navigate(["../"],e):this.router.navigate(["../recycled-list"],e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(m.\u0275\u0275directiveInject(s.Router),m.\u0275\u0275directiveInject(v.FormBuilder),m.\u0275\u0275directiveInject(s.ActivatedRoute),m.\u0275\u0275directiveInject(g.U),m.\u0275\u0275directiveInject(_.DwAnalytics),m.\u0275\u0275directiveInject(C.DwUserService),m.\u0275\u0275directiveInject(h.DwMessageService))},e.\u0275cmp=m.\u0275\u0275defineComponent({type:e,selectors:[["app-product-resume"]],decls:189,vars:86,consts:[[1,"dw-f-content-list","layoutClass","sales_layout"],[1,"issue_layout_head"],["translate","",2,"float","left","margin-right","6px","margin-left","-5px",3,"click"],["src","../../../../../../assets/img/arrow-left.svg","alt","\u8fd4\u56de"],[1,"issue_layout_title"],[2,"margin-left","3px"],["color","#e5e5e5"],[1,"content-box"],["dw-form","","dw-row","",1,"sa-form"],["dw-col","","dwSpan","10",1,"box"],[1,"sub-title"],[1,"item-wrap"],[3,"dwSm","dwXs"],["class","state_tip",4,"ngIf"],["class","state_tip zise",4,"ngIf"],["class","state_tip gray",4,"ngIf"],[2,"display","flex"],[2,"flex","1"],["class","timeItem-remark",4,"ngIf"],[4,"ngIf"],["dw-col","","dwSpan","14",1,"box2"],[1,"my-tab",2,"padding","8px 0 20px 20px",3,"dwTabPosition","dwType","dwAnimated","dwSelectChange"],["dwTitle","\u6545\u969c\u60c5\u51b5","id","product-resume-breakdown-tab"],[3,"dwData","dwScroll"],["dwBreakdownTable",""],["dw-tr",""],["dw-th",""],["translate",""],[4,"ngFor","ngForOf"],["dwTitle","\u96f6\u914d\u4ef6\u66f4\u6362","id","product-resume-material-tab"],["dwPartTable",""],["dw-th","","dwWidth","100px"],["dw-th","","dwWidth","120px"],["dw-th","","dwAlign","right","dwWidth","100px"],["dwTitle","\u670d\u52a1\u8bb0\u5f55","id","product-resume-record-tab"],["dwServiceTable",""],["dwTitle","\u6574\u673a\u8fd4\u4fee\u8bb0\u5f55","id","product-resume-machine-tab"],[3,"dwData"],["dwMachineTable",""],["dw-th","","dwWidth","160px"],["dwTitle","\u8fc7\u6237\u8bb0\u5f55","id","product-resume-transfer-record-tab",4,"ngIf"],[1,"state_tip"],[1,"state_tip","zise"],[1,"state_tip","gray"],[1,"timeItem-remark"],["src","../../../../../../assets/img/icon_information_web.png","alt","remark"],[1,"distribute-remark"],["dwAlign","right"],[3,"click"],["dwTitle","\u8fc7\u6237\u8bb0\u5f55","id","product-resume-transfer-record-tab"],[1,"record"],[1,"timeline"],["class","timeItem",3,"dwColor",4,"ngFor","ngForOf"],[1,"timeItem",3,"dwColor"],[1,"card"],[1,"date"],[1,"item"],["src","../../../../../../assets/img/remark_white.png","alt","remark",3,"title",4,"ngIf"],["src","../../../../../../assets/img/remark_gray.png","alt","remark",3,"title",4,"ngIf"],["src","../../../../../../assets/img/remark_white.png","alt","remark",3,"title"],["src","../../../../../../assets/img/remark_gray.png","alt","remark",3,"title"]],template:function(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"dw-content",0),m.\u0275\u0275elementStart(1,"div",1),m.\u0275\u0275elementStart(2,"a",2),m.\u0275\u0275listener("click",function(){return t.goBack()}),m.\u0275\u0275element(3,"img",3),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(4,"h2",4),m.\u0275\u0275elementStart(5,"span",5),m.\u0275\u0275text(6,"\u4ea7\u54c1\u5c65\u5386"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275element(7,"hr",6),m.\u0275\u0275elementStart(8,"div",7),m.\u0275\u0275elementStart(9,"form",8),m.\u0275\u0275elementStart(10,"div",9),m.\u0275\u0275elementStart(11,"div",10),m.\u0275\u0275text(12,"\u57fa\u672c\u4fe1\u606f"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(13,"div",11),m.\u0275\u0275elementStart(14,"dw-form-item"),m.\u0275\u0275elementStart(15,"dw-form-control",12),m.\u0275\u0275text(16),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(17,"dw-form-item"),m.\u0275\u0275elementStart(18,"dw-form-control",12),m.\u0275\u0275text(19),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(20,"dw-form-item"),m.\u0275\u0275elementStart(21,"dw-form-control",12),m.\u0275\u0275text(22," \u552e\u540e\u72b6\u6001:\xa0\xa0 "),m.\u0275\u0275template(23,bo,2,0,"span",13),m.\u0275\u0275template(24,Io,2,0,"span",14),m.\u0275\u0275template(25,Eo,2,0,"span",15),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(26,"dw-form-item"),m.\u0275\u0275elementStart(27,"dw-form-control",12),m.\u0275\u0275text(28),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(29,"dw-form-item"),m.\u0275\u0275elementStart(30,"dw-form-control",12),m.\u0275\u0275elementStart(31,"div",16),m.\u0275\u0275elementStart(32,"span"),m.\u0275\u0275text(33," \u89c4\u683c:\xa0\xa0 "),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(34,"span",17),m.\u0275\u0275text(35),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(36,"dw-form-item"),m.\u0275\u0275elementStart(37,"dw-form-control",12),m.\u0275\u0275text(38),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(39,"dw-form-item"),m.\u0275\u0275elementStart(40,"dw-form-control",12),m.\u0275\u0275text(41),m.\u0275\u0275template(42,Do,7,7,"div",18),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(43,"dw-form-item"),m.\u0275\u0275elementStart(44,"dw-form-control",12),m.\u0275\u0275text(45),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(46,"dw-form-item"),m.\u0275\u0275elementStart(47,"dw-form-control",12),m.\u0275\u0275text(48),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(49,"dw-form-item"),m.\u0275\u0275elementStart(50,"dw-form-control",12),m.\u0275\u0275text(51),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(52,"dw-form-item"),m.\u0275\u0275elementStart(53,"dw-form-control",12),m.\u0275\u0275text(54),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(55,"dw-form-item"),m.\u0275\u0275elementStart(56,"dw-form-control",12),m.\u0275\u0275text(57),m.\u0275\u0275pipe(58,"date"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(59,"dw-form-item"),m.\u0275\u0275elementStart(60,"dw-form-control",12),m.\u0275\u0275template(61,Oo,4,8,"div",19),m.\u0275\u0275template(62,ko,3,4,"div",19),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(63,"dw-form-item"),m.\u0275\u0275elementStart(64,"dw-form-control",12),m.\u0275\u0275text(65),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(66,"dw-form-item"),m.\u0275\u0275elementStart(67,"dw-form-control",12),m.\u0275\u0275text(68),m.\u0275\u0275pipe(69,"date"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(70,"dw-form-item"),m.\u0275\u0275elementStart(71,"dw-form-control",12),m.\u0275\u0275text(72),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(73,"dw-form-item"),m.\u0275\u0275elementStart(74,"dw-form-control",12),m.\u0275\u0275text(75),m.\u0275\u0275pipe(76,"date"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(77,"dw-form-item"),m.\u0275\u0275elementStart(78,"dw-form-control",12),m.\u0275\u0275text(79),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(80,"div",20),m.\u0275\u0275elementStart(81,"dw-tabset",21),m.\u0275\u0275listener("dwSelectChange",function(e){return t.onTabChange(e)}),m.\u0275\u0275elementStart(82,"dw-tab",22),m.\u0275\u0275elementStart(83,"dw-table",23,24),m.\u0275\u0275elementStart(85,"thead"),m.\u0275\u0275elementStart(86,"tr",25),m.\u0275\u0275elementStart(87,"th",26),m.\u0275\u0275elementStart(88,"span",27),m.\u0275\u0275text(89,"\u65e5\u671f"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(90,"th",26),m.\u0275\u0275elementStart(91,"span",27),m.\u0275\u0275text(92,"\u6545\u969c\u7f16\u53f7"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(93,"th",26),m.\u0275\u0275elementStart(94,"span",27),m.\u0275\u0275text(95,"\u6545\u969c\u540d\u79f0"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(96,"th",26),m.\u0275\u0275elementStart(97,"span",27),m.\u0275\u0275text(98,"\u5de5\u7a0b\u5e08"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(99,"th",26),m.\u0275\u0275elementStart(100,"span",27),m.\u0275\u0275text(101,"\u5904\u7406\u65b9\u6848"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(102,"tbody"),m.\u0275\u0275template(103,Mo,12,8,"tr",28),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(104,"dw-tab",29),m.\u0275\u0275elementStart(105,"dw-table",23,30),m.\u0275\u0275elementStart(107,"thead"),m.\u0275\u0275elementStart(108,"tr",25),m.\u0275\u0275elementStart(109,"th",31),m.\u0275\u0275elementStart(110,"span",27),m.\u0275\u0275text(111,"\u65e5\u671f"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(112,"th",31),m.\u0275\u0275elementStart(113,"span",27),m.\u0275\u0275text(114,"\u539f\u96f6\u914d\u4ef6\u7f16\u53f7"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(115,"th",31),m.\u0275\u0275elementStart(116,"span",27),m.\u0275\u0275text(117,"\u539f\u96f6\u914d\u4ef6\u540d\u79f0"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(118,"th",31),m.\u0275\u0275elementStart(119,"span",27),m.\u0275\u0275text(120,"\u539f\u96f6\u914d\u4ef6\u89c4\u683c"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(121,"th",31),m.\u0275\u0275elementStart(122,"span",27),m.\u0275\u0275text(123,"\u539f\u96f6\u914d\u4ef6\u578b\u53f7"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(124,"th",32),m.\u0275\u0275elementStart(125,"span",27),m.\u0275\u0275text(126,"\u539f\u96f6\u914d\u4ef6\u5e8f\u5217\u53f7"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(127,"th",33),m.\u0275\u0275elementStart(128,"span",27),m.\u0275\u0275text(129,"\u539f\u96f6\u914d\u4ef6\u6570\u91cf"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(130,"th",31),m.\u0275\u0275elementStart(131,"span",27),m.\u0275\u0275text(132,"\u65b0\u96f6\u914d\u4ef6\u7f16\u53f7"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(133,"th",31),m.\u0275\u0275elementStart(134,"span",27),m.\u0275\u0275text(135,"\u65b0\u96f6\u914d\u4ef6\u540d\u79f0"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(136,"th",31),m.\u0275\u0275elementStart(137,"span",27),m.\u0275\u0275text(138,"\u65b0\u96f6\u914d\u4ef6\u89c4\u683c"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(139,"th",32),m.\u0275\u0275elementStart(140,"span",27),m.\u0275\u0275text(141,"\u65b0\u96f6\u914d\u4ef6\u5e8f\u5217\u53f7"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(142,"th",31),m.\u0275\u0275elementStart(143,"span",27),m.\u0275\u0275text(144,"\u5de5\u7a0b\u5e08"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(145,"th",33),m.\u0275\u0275elementStart(146,"span",27),m.\u0275\u0275text(147,"\u66f4\u6362\u6570\u91cf"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(148,"tbody"),m.\u0275\u0275template(149,Po,28,16,"tr",28),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(150,"dw-tab",34),m.\u0275\u0275elementStart(151,"dw-table",23,35),m.\u0275\u0275elementStart(153,"thead"),m.\u0275\u0275elementStart(154,"tr",25),m.\u0275\u0275elementStart(155,"th",26),m.\u0275\u0275elementStart(156,"span",27),m.\u0275\u0275text(157,"\u65e5\u671f"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(158,"th",26),m.\u0275\u0275elementStart(159,"span",27),m.\u0275\u0275text(160,"\u670d\u52a1\u9879\u76ee"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(161,"th",26),m.\u0275\u0275elementStart(162,"span",27),m.\u0275\u0275text(163,"\u670d\u52a1\u7ed3\u679c"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(164,"th",26),m.\u0275\u0275elementStart(165,"span",27),m.\u0275\u0275text(166,"\u5de5\u7a0b\u5e08"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(167,"tbody"),m.\u0275\u0275template(168,Fo,10,7,"tr",28),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(169,"dw-tab",36),m.\u0275\u0275elementStart(170,"dw-table",37,38),m.\u0275\u0275elementStart(172,"thead"),m.\u0275\u0275elementStart(173,"tr",25),m.\u0275\u0275elementStart(174,"th",32),m.\u0275\u0275elementStart(175,"span",27),m.\u0275\u0275text(176,"\u65e5\u671f"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(177,"th",32),m.\u0275\u0275elementStart(178,"span",27),m.\u0275\u0275text(179,"\u8fd4\u5382/\u53d1\u51fa"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(180,"th",32),m.\u0275\u0275elementStart(181,"span",27),m.\u0275\u0275text(182,"\u6536\u53d1\u4eba\u5458"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(183,"th",39),m.\u0275\u0275elementStart(184,"span",27),m.\u0275\u0275text(185,"\u5907\u6ce8"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(186,"tbody"),m.\u0275\u0275template(187,To,11,8,"tr",28),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275template(188,No,4,1,"dw-tab",40),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275reference(84),r=m.\u0275\u0275reference(106),i=m.\u0275\u0275reference(152),a=m.\u0275\u0275reference(171);m.\u0275\u0275advance(15),m.\u0275\u0275property("dwSm",17)("dwXs",24),m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" \u54c1\u53f7:\xa0\xa0",t.resumeInfo.product_file_code," "),m.\u0275\u0275advance(2),m.\u0275\u0275property("dwSm",17)("dwXs",24),m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" \u54c1\u540d:\xa0\xa0",t.resumeInfo.product_file_name," "),m.\u0275\u0275advance(2),m.\u0275\u0275property("dwSm",17)("dwXs",24),m.\u0275\u0275advance(2),m.\u0275\u0275property("ngIf","1"===t.resumeInfo.service_status),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf","2"===t.resumeInfo.service_status),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf","3"===t.resumeInfo.service_status),m.\u0275\u0275advance(2),m.\u0275\u0275property("dwSm",17)("dwXs",24),m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" \u4ea7\u54c1\u5206\u7c7b:\xa0\xa0",t.resumeInfo.item_group_name," "),m.\u0275\u0275advance(2),m.\u0275\u0275property("dwSm",17)("dwXs",24),m.\u0275\u0275advance(5),m.\u0275\u0275textInterpolate1(" ",t.resumeInfo.specification," "),m.\u0275\u0275advance(2),m.\u0275\u0275property("dwSm",17)("dwXs",24),m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" \u578b\u53f7:\xa0\xa0",t.resumeInfo.model," "),m.\u0275\u0275advance(2),m.\u0275\u0275property("dwSm",17)("dwXs",24),m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate2(" ","1"===t.resumeInfo.file_type?"\u5e8f\u5217\u53f7:":"\u9879\u76ee\u53f7:","\xa0\xa0",t.resumeInfo.sn," "),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",t.SNHistoryInfo),m.\u0275\u0275advance(2),m.\u0275\u0275property("dwSm",17)("dwXs",24),m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" \u670d\u52a1\u7ad9\u70b9:\xa0\xa0",t.resumeInfo.service_site_name," "),m.\u0275\u0275advance(2),m.\u0275\u0275property("dwSm",17)("dwXs",24),m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" \u4f7f\u7528\u5730\u70b9:\xa0\xa0",t.resumeInfo.location," "),m.\u0275\u0275advance(2),m.\u0275\u0275property("dwSm",17)("dwXs",24),m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" \u51fa\u5382\u5ba2\u6237:\xa0\xa0",t.resumeInfo.exfactory_customer_name," "),m.\u0275\u0275advance(2),m.\u0275\u0275property("dwSm",17)("dwXs",24),m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" \u5ba2\u6237:\xa0\xa0",t.resumeInfo.customer_name," "),m.\u0275\u0275advance(2),m.\u0275\u0275property("dwSm",17)("dwXs",24),m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" \u51fa\u5e93\u65e5\u671f:\xa0\xa0",m.\u0275\u0275pipeBind2(58,74,t.resumeInfo.delivery_date,"yyyy-MM-dd")," "),m.\u0275\u0275advance(3),m.\u0275\u0275property("dwSm",17)("dwXs",24),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",t.resumeInfo.installation_date&&t.resumeInfo.installation_date_end),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",!t.resumeInfo.installation_date_end),m.\u0275\u0275advance(2),m.\u0275\u0275property("dwSm",17)("dwXs",24),m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" \u8c03\u8bd5\u4eba\u5458:\xa0\xa0",t.resumeInfo.commissioning_person," "),m.\u0275\u0275advance(2),m.\u0275\u0275property("dwSm",17)("dwXs",24),m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" \u9a8c\u6536\u65e5\u671f:\xa0\xa0",m.\u0275\u0275pipeBind2(69,77,t.resumeInfo.acceptance_date,"yyyy-MM-dd")," "),m.\u0275\u0275advance(3),m.\u0275\u0275property("dwSm",17)("dwXs",24),m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" \u9a8c\u6536\u4eba\u5458:\xa0\xa0",t.resumeInfo.acceptance_person," "),m.\u0275\u0275advance(2),m.\u0275\u0275property("dwSm",17)("dwXs",24),m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" \u4fdd\u4fee\u622a\u6b62\u65e5\u671f:\xa0\xa0",m.\u0275\u0275pipeBind2(76,80,t.resumeInfo.expiry_date,"yyyy-MM-dd")," "),m.\u0275\u0275advance(3),m.\u0275\u0275property("dwSm",17)("dwXs",24),m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" \u5907\u6ce8:\xa0\xa0",t.resumeInfo.remark," "),m.\u0275\u0275advance(2),m.\u0275\u0275property("dwTabPosition","top")("dwType","line")("dwAnimated",!1),m.\u0275\u0275advance(2),m.\u0275\u0275property("dwData",t.breakdownList)("dwScroll",m.\u0275\u0275pureFunction0(83,jo)),m.\u0275\u0275advance(20),m.\u0275\u0275property("ngForOf",n.data),m.\u0275\u0275advance(2),m.\u0275\u0275property("dwData",t.partList)("dwScroll",m.\u0275\u0275pureFunction0(84,zo)),m.\u0275\u0275advance(44),m.\u0275\u0275property("ngForOf",r.data),m.\u0275\u0275advance(2),m.\u0275\u0275property("dwData",t.serviceList)("dwScroll",m.\u0275\u0275pureFunction0(85,Bo)),m.\u0275\u0275advance(17),m.\u0275\u0275property("ngForOf",i.data),m.\u0275\u0275advance(2),m.\u0275\u0275property("dwData",t.machineList),m.\u0275\u0275advance(17),m.\u0275\u0275property("ngForOf",a.data),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",t.transferList.length)}},directives:[re.DwContentComponent,F.TranslateDirective,v.\u0275NgNoValidate,v.NgControlStatusGroup,v.NgForm,U.DwFormDirective,G.DwRowDirective,G.DwColDirective,U.DwFormItemComponent,U.DwFormControlComponent,d.NgIf,Wr.DwTabSetComponent,Wr.DwTabComponent,k.DwTableComponent,M.Ct,k.DwTheadComponent,k.DwTrDirective,k.DwTableCellDirective,k.DwThMeasureDirective,M.BL,k.DwTbodyComponent,d.NgForOf,k.DwCellAlignDirective,So.DwTimelineComponent,So.DwTimelineItemComponent],pipes:[d.DatePipe],styles:[".content-box[_ngcontent-%COMP%]{padding-top:0}.sa-form[_ngcontent-%COMP%]{height:100%;overflow-y:auto}.box[_ngcontent-%COMP%]{border-right:1px solid #e5e5e5;min-height:100%}.item-wrap[_ngcontent-%COMP%]{width:100%;padding-left:20px}.sub-title[_ngcontent-%COMP%]:first-of-type{margin-top:24px}.state_tip[_ngcontent-%COMP%]{display:inline-block;width:64px;height:26px;line-height:26px;text-align:center;border-radius:15px;color:#fff;font-size:13px;background:#29cc8d}.state_tip.zise[_ngcontent-%COMP%]{background:#5c64d1}.state_tip.gray[_ngcontent-%COMP%]{background:#5c5c5c}.record[_ngcontent-%COMP%]{padding:4px 12px}.record[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{color:#000000d9;font-size:14px;font-weight:bold;margin-bottom:8px}.record[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]{width:260px;background:#e6e6e6;padding:8px 8px 8px 16px}.record[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{color:#000000d9;font-size:14px;line-height:26px}.record[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#000000d9;font-weight:bold}.record[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{float:right;width:14px}.record[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .blue[_ngcontent-%COMP%]{background:#0d9def}.record[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .blue[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{color:#ffffffd9}.record[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .blue[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff}.record[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]{margin:20px 0}.timeItem-remark[_ngcontent-%COMP%]{display:inline-block;margin-left:8px;cursor:pointer;position:relative}.timeItem-remark[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:16px;height:16px;margin-top:-3px}.distribute-remark[_ngcontent-%COMP%]{display:none;position:absolute;top:28px;left:50%;transform:translate(-50%);padding:8px 14px;color:#fff;font-size:12px;z-index:4;white-space:nowrap;background:rgba(0,0,0,.75);border-radius:4px}.distribute-remark.word-wrap[_ngcontent-%COMP%]{width:210px;white-space:normal}.timeItem-remark[_ngcontent-%COMP%]:hover   .distribute-remark[_ngcontent-%COMP%]{display:block}"]}),e}(),qo=a(32276),Wo=["child"];function Go(e,t){1&e&&(m.\u0275\u0275elementStart(0,"div",15),m.\u0275\u0275text(1,"\u5e8f\u5217\u53f7"),m.\u0275\u0275elementEnd())}function Uo(e,t){1&e&&(m.\u0275\u0275elementStart(0,"div",15),m.\u0275\u0275text(1,"\u9879\u76ee\u53f7"),m.\u0275\u0275elementEnd())}function Ho(e,t){1&e&&(m.\u0275\u0275elementStart(0,"div",15),m.\u0275\u0275text(1,"\u5e8f\u5217\u53f7/\u9879\u76ee\u53f7"),m.\u0275\u0275elementEnd())}function Xo(e,t){if(1&e){var n=m.\u0275\u0275getCurrentView();m.\u0275\u0275elementStart(0,"em",42),m.\u0275\u0275listener("click",function(){return m.\u0275\u0275restoreView(n),m.\u0275\u0275nextContext(2).clear()}),m.\u0275\u0275elementEnd()}}function Qo(e,t){if(1&e&&m.\u0275\u0275template(0,Xo,1,0,"em",41),2&e){var n=m.\u0275\u0275nextContext();m.\u0275\u0275property("ngIf",n.searchForm.value.sn)}}function Ko(e,t){1&e&&(m.\u0275\u0275elementStart(0,"th",43),m.\u0275\u0275elementStart(1,"span",44),m.\u0275\u0275text(2,"\u56de\u6536\u65e5\u671f"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd())}function Jo(e,t){1&e&&(m.\u0275\u0275elementStart(0,"th",45),m.\u0275\u0275elementStart(1,"span",44),m.\u0275\u0275text(2,"\u7f16\u7801"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd())}function Zo(e,t){1&e&&(m.\u0275\u0275elementStart(0,"th",46),m.\u0275\u0275elementStart(1,"span",44),m.\u0275\u0275text(2,"\u540d\u79f0"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd())}function Yo(e,t){1&e&&(m.\u0275\u0275elementStart(0,"span",44),m.\u0275\u0275text(1,"\u5e8f\u5217\u53f7"),m.\u0275\u0275elementEnd())}function el(e,t){1&e&&(m.\u0275\u0275elementStart(0,"span",44),m.\u0275\u0275text(1,"\u9879\u76ee\u53f7"),m.\u0275\u0275elementEnd())}function tl(e,t){1&e&&(m.\u0275\u0275elementStart(0,"span",44),m.\u0275\u0275text(1,"\u5e8f\u5217\u53f7/\u9879\u76ee\u53f7"),m.\u0275\u0275elementEnd())}function nl(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"th",47),m.\u0275\u0275template(1,Yo,2,0,"span",48),m.\u0275\u0275template(2,el,2,0,"span",48),m.\u0275\u0275template(3,tl,2,0,"span",48),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275nextContext();m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf","1"===n.fileType),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf","2"===n.fileType),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf","0"===n.fileType)}}var rl=function(e){return{display:e}};function il(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"th",49),m.\u0275\u0275elementStart(1,"span",44),m.\u0275\u0275text(2,"\u7c7b\u578b"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275nextContext();m.\u0275\u0275property("ngStyle",m.\u0275\u0275pureFunction1(1,rl,"0"===n.fileType?"":"none"))}}function al(e,t){1&e&&(m.\u0275\u0275elementStart(0,"th",50),m.\u0275\u0275elementStart(1,"span",44),m.\u0275\u0275text(2,"\u4ea7\u54c1\u5206\u7c7b"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd())}function ol(e,t){1&e&&(m.\u0275\u0275elementStart(0,"th",51),m.\u0275\u0275elementStart(1,"span",44),m.\u0275\u0275text(2,"\u89c4\u683c"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd())}function ll(e,t){1&e&&(m.\u0275\u0275elementStart(0,"th",52),m.\u0275\u0275elementStart(1,"span",44),m.\u0275\u0275text(2,"\u578b\u53f7"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd())}function dl(e,t){1&e&&(m.\u0275\u0275elementStart(0,"th",53),m.\u0275\u0275elementStart(1,"span",44),m.\u0275\u0275text(2,"\u4f7f\u7528\u5730\u70b9"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd())}function cl(e,t){1&e&&(m.\u0275\u0275elementStart(0,"th",54),m.\u0275\u0275elementStart(1,"span",44),m.\u0275\u0275text(2,"\u51fa\u5e93\u65e5\u671f"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd())}function sl(e,t){1&e&&(m.\u0275\u0275elementStart(0,"th",55),m.\u0275\u0275elementStart(1,"span",44),m.\u0275\u0275text(2,"\u5b89\u88c5\u65e5\u671f"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd())}function ml(e,t){1&e&&(m.\u0275\u0275elementStart(0,"th",54),m.\u0275\u0275elementStart(1,"span",44),m.\u0275\u0275text(2,"\u9a8c\u6536\u65e5\u671f"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd())}function pl(e,t){1&e&&(m.\u0275\u0275elementStart(0,"th",56),m.\u0275\u0275elementStart(1,"span",44),m.\u0275\u0275text(2,"\u4fdd\u4fee\u622a\u81f3\u65e5\u671f"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd())}function ul(e,t){1&e&&(m.\u0275\u0275elementStart(0,"th",57),m.\u0275\u0275elementStart(1,"span",44),m.\u0275\u0275text(2,"\u63cf\u8ff0"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd())}function fl(e,t){1&e&&(m.\u0275\u0275elementStart(0,"th",58),m.\u0275\u0275elementStart(1,"span",44),m.\u0275\u0275text(2,"\u552e\u540e\u72b6\u6001"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd()),2&e&&m.\u0275\u0275property("dwAlign","center")}function vl(e,t){1&e&&(m.\u0275\u0275elementStart(0,"th",58),m.\u0275\u0275elementStart(1,"span",44),m.\u0275\u0275text(2,"\u4ea7\u54c1\u5c65\u5386"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd()),2&e&&m.\u0275\u0275property("dwAlign","center")}function gl(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"td",65),m.\u0275\u0275text(1),m.\u0275\u0275pipe(2,"date"),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275nextContext().$implicit;m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" ",m.\u0275\u0275pipeBind2(2,1,n.recycled_date,"yyyy-MM-dd HH:mm:ss")," ")}}function hl(e,t){if(1&e){var n=m.\u0275\u0275getCurrentView();m.\u0275\u0275elementStart(0,"td",65),m.\u0275\u0275elementStart(1,"a",66),m.\u0275\u0275listener("click",function(){m.\u0275\u0275restoreView(n);var e=m.\u0275\u0275nextContext().$implicit;return m.\u0275\u0275nextContext().detail(e)}),m.\u0275\u0275text(2),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd()}if(2&e){var r=m.\u0275\u0275nextContext().$implicit,i=m.\u0275\u0275nextContext();m.\u0275\u0275advance(1),m.\u0275\u0275propertyInterpolate("angularticsLabel",i.userInfo.tenantId+","+i.userInfo.userId),m.\u0275\u0275property("angularticsCategory","\u4ea7\u54c1\u6863\u6848"),m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate(r.product_file_code)}}function wl(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"td",65),m.\u0275\u0275text(1),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275nextContext().$implicit;m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" ",n.product_file_name," ")}}function yl(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"td",65),m.\u0275\u0275text(1),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275nextContext().$implicit;m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" ",n.sn," ")}}function xl(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"td",67),m.\u0275\u0275text(1),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275nextContext().$implicit,r=m.\u0275\u0275nextContext();m.\u0275\u0275property("ngStyle",m.\u0275\u0275pureFunction1(2,rl,"0"===r.fileType?"":"none")),m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" ","1"===n.file_type?"\u5355\u673a":"\u4ea7\u7ebf/\u9879\u76ee"," ")}}function _l(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"td",65),m.\u0275\u0275text(1),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275nextContext().$implicit;m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" ",n.item_group_name," ")}}function Cl(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"td",65),m.\u0275\u0275text(1),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275nextContext().$implicit;m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" ",n.specification," ")}}function Sl(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"td",65),m.\u0275\u0275text(1),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275nextContext().$implicit;m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" ",n.model," ")}}function bl(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"td",65),m.\u0275\u0275text(1),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275nextContext().$implicit;m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" ",n.location," ")}}function Il(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"td",65),m.\u0275\u0275text(1),m.\u0275\u0275pipe(2,"date"),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275nextContext().$implicit;m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" ",m.\u0275\u0275pipeBind2(2,1,n.delivery_date,"yyyy/MM/dd")," ")}}function El(e,t){if(1&e&&(m.\u0275\u0275elementContainerStart(0),m.\u0275\u0275text(1),m.\u0275\u0275pipe(2,"date"),m.\u0275\u0275pipe(3,"date"),m.\u0275\u0275elementContainerEnd()),2&e){var n=m.\u0275\u0275nextContext(2).$implicit;m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate2(" ",m.\u0275\u0275pipeBind2(2,2,n.installation_date,"yyyy/MM/dd"),"~",m.\u0275\u0275pipeBind2(3,5,n.installation_date_end,"yyyy/MM/dd")," ")}}function Dl(e,t){if(1&e&&(m.\u0275\u0275elementContainerStart(0),m.\u0275\u0275text(1),m.\u0275\u0275pipe(2,"date"),m.\u0275\u0275elementContainerEnd()),2&e){var n=m.\u0275\u0275nextContext(2).$implicit;m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" ",m.\u0275\u0275pipeBind2(2,1,n.installation_date,"yyyy/MM/dd")," ")}}function Ol(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"td",65),m.\u0275\u0275template(1,El,4,8,"ng-container",68),m.\u0275\u0275template(2,Dl,3,4,"ng-container",68),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275nextContext().$implicit;m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",n.installation_date&&n.installation_date_end),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",!n.installation_date_end)}}function kl(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"td",65),m.\u0275\u0275text(1),m.\u0275\u0275pipe(2,"date"),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275nextContext().$implicit;m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" ",m.\u0275\u0275pipeBind2(2,1,n.acceptance_date,"yyyy/MM/dd")," ")}}function Ml(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"td",65),m.\u0275\u0275text(1),m.\u0275\u0275pipe(2,"date"),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275nextContext().$implicit;m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" ",m.\u0275\u0275pipeBind2(2,1,n.expiry_date,"yyyy/MM/dd")," ")}}function Pl(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"td",69),m.\u0275\u0275text(1),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275nextContext().$implicit;m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" ",n.product_description," ")}}function Fl(e,t){1&e&&(m.\u0275\u0275elementStart(0,"span",74),m.\u0275\u0275text(1,"\u6b63\u5e38"),m.\u0275\u0275elementEnd())}function Vl(e,t){1&e&&(m.\u0275\u0275elementStart(0,"span",75),m.\u0275\u0275text(1,"\u62a5\u4fee\u4e2d"),m.\u0275\u0275elementEnd())}function Tl(e,t){1&e&&(m.\u0275\u0275elementStart(0,"span",76),m.\u0275\u0275text(1,"\u5df2\u56de\u6536"),m.\u0275\u0275elementEnd())}function Ll(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"td",70),m.\u0275\u0275template(1,Fl,2,0,"span",71),m.\u0275\u0275template(2,Vl,2,0,"span",72),m.\u0275\u0275template(3,Tl,2,0,"span",73),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275nextContext().$implicit;m.\u0275\u0275property("dwAlign","center"),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf","1"===n.service_status),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf","2"===n.service_status),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf","3"===n.service_status)}}function Rl(e,t){if(1&e){var n=m.\u0275\u0275getCurrentView();m.\u0275\u0275elementStart(0,"td",77),m.\u0275\u0275elementStart(1,"a",78),m.\u0275\u0275listener("dwClick",function(){m.\u0275\u0275restoreView(n);var e=m.\u0275\u0275nextContext().$implicit;return m.\u0275\u0275nextContext().goProductResume(e)}),m.\u0275\u0275text(2," \u67e5\u770b "),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd()}if(2&e){var r=m.\u0275\u0275nextContext(2);m.\u0275\u0275property("dwAlign","center"),m.\u0275\u0275advance(1),m.\u0275\u0275propertyInterpolate("angularticsLabel",r.userInfo.tenantId+","+r.userInfo.userId),m.\u0275\u0275property("dwActionId","resume")("dwDefaultAuthorized","disabled")("angularticsCategory","\u4ea7\u54c1\u6863\u6848")}}function Al(e,t){1&e&&(m.\u0275\u0275elementStart(0,"tr",59),m.\u0275\u0275template(1,gl,3,4,"td",60),m.\u0275\u0275template(2,hl,3,3,"td",60),m.\u0275\u0275template(3,wl,2,1,"td",60),m.\u0275\u0275template(4,yl,2,1,"td",60),m.\u0275\u0275template(5,xl,2,4,"td",61),m.\u0275\u0275template(6,_l,2,1,"td",60),m.\u0275\u0275template(7,Cl,2,1,"td",60),m.\u0275\u0275template(8,Sl,2,1,"td",60),m.\u0275\u0275template(9,bl,2,1,"td",60),m.\u0275\u0275template(10,Il,3,4,"td",60),m.\u0275\u0275template(11,Ol,3,2,"td",60),m.\u0275\u0275template(12,kl,3,4,"td",60),m.\u0275\u0275template(13,Ml,3,4,"td",60),m.\u0275\u0275template(14,Pl,2,1,"td",62),m.\u0275\u0275template(15,Ll,4,4,"td",63),m.\u0275\u0275template(16,Rl,3,5,"td",64),m.\u0275\u0275elementEnd()),2&e&&(m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","recycled_date"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","product_file_code"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","product_file_name"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","sn"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","file_type_name"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","item_group_name"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","specification"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","model"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","location"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","delivery_date"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","installation_date"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","acceptance_date"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","expiry_date"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","product_description"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","service_status"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","product_resume"))}function Nl(e,t){if(1&e){var n=m.\u0275\u0275getCurrentView();m.\u0275\u0275elementStart(0,"app-product-file-detail",79,80),m.\u0275\u0275listener("visibleChanged",function(e){return m.\u0275\u0275restoreView(n),m.\u0275\u0275nextContext().changeRecycleVisible(e)}),m.\u0275\u0275elementEnd()}}function jl(e,t){if(1&e){var n=m.\u0275\u0275getCurrentView();m.\u0275\u0275elementStart(0,"div",81),m.\u0275\u0275text(1," \u4ea7\u54c1\u6863\u6848 "),m.\u0275\u0275elementStart(2,"img",82),m.\u0275\u0275listener("click",function(){return m.\u0275\u0275restoreView(n),m.\u0275\u0275nextContext().child.showQrcode()}),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd()}}function zl(e,t){if(1&e&&m.\u0275\u0275text(0),2&e){var n=m.\u0275\u0275nextContext();m.\u0275\u0275textInterpolate1("\u5171 ",n.dataList.length," \u6761")}}var Bl=function(){return{x:"2000px",y:"calc(100vh - 171px - 130px)"}},$l=function(){return{overflow:"auto"}},ql=function(){var e=function(){function e(t,n,r,i,a,o,l,d,c){if(p(this,e),this.commonHttpService=t,this.router=n,this.activeRoute=r,this.productFileSrv=i,this.message=a,this.modalService=o,this.analytics=l,this.userService=d,this.fb=c,this.DW_IN_MFA=D.ns,this.search={pageIndex:1,pageSize:10},this.dataList=[],this.displayData=[],this.indeterminate=!1,this.isCollapsed=!1,this.param="",this.fileType="0",this.isIntegrated=!1,this.userInfo={tenantId:"",userId:""},e.useKeeper&&e.keeper)return e.keeper}return f(e,[{key:"ngOnInit",value:function(){var t=this;this.subscription=this.router.events.subscribe(function(n){if(n instanceof s.NavigationStart){var r=t.router.parseUrl(t.router.url).root.children[s.PRIMARY_OUTLET].segments,i=t.router.parseUrl(n.url).root.children[s.PRIMARY_OUTLET].segments,a=r[r.length-1].path,o=i[i.length-1].path;"recycled-list"===a&&"product-resume"===o||"product-resume"===a&&"recycled-list"===o?(e.useKeeper=!0,e.keeper=t):(e.useKeeper=!1,e.keeper=t)}}),this.userInfo=this.userService.getUserInfo(),this.commonHttpService.get("restful/service/serviceOrder/ServiceOrder/IsShowTypeOption").subscribe(function(e){t.fileType=e.data},function(e){e.hasOwnProperty("error")&&e.error.hasOwnProperty("errorMessage")&&e.error.errorMessage&&t.message.error(e.error.errorMessage)}),(!e.useKeeper||!e.keeper)&&this.init()}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"init",value:function(){this.searchForm=this.fb.group({}),this.searchForm.addControl("date_range",new v.FormControl("")),this.searchForm.addControl("sn",new v.FormControl("")),this.loadData()}},{key:"loadData",value:function(){var e=this;this.search={pageIndex:1,pageSize:10},this.productFileSrv.getRecycledList(this.searchForm.value).subscribe(function(t){e.dataList=t||[],e.dataList.filter(function(e){return"1"===e.file_type})})}},{key:"changeRecycleVisible",value:function(e){this.isCollapsed=!1,e&&this.loadData()}},{key:"clear",value:function(){this.searchForm.get("sn").setValue("")}},{key:"goProductResume",value:function(e){this.router.navigateByUrl("".concat(this.DW_IN_MFA?"/assc_crs":"","/bases/product-file/product-resume?id=").concat(e.product_file_id,"&fromPage=2"))}},{key:"detail",value:function(e){var t=this;this.isCollapsed=!0,setTimeout(function(){t.child.initData(e.product_file_id,e.file_type)})}},{key:"goBack",value:function(){console.log("goback",this.activeRoute),this.router.navigateByUrl((this.DW_IN_MFA?"/assc_crs":"")+"/bases/product-file")}},{key:"order",value:function(e){var t=e.key,r=e.value;if("maintenance_count"===t)switch(r){case"ascend":var i=n(this.dataList).sort(function(e,t){return e.maintenance_count<t.maintenance_count?1:-1});this.dataList=i;break;case"descend":var a=n(this.dataList).sort(function(e,t){return e.maintenance_count>=t.maintenance_count?1:-1});this.dataList=a}else switch(r){case"ascend":this.dataList=y.l.order(this.dataList,[t]);break;case"descend":this.dataList=y.l.order(this.dataList,[t,-1])}}},{key:"onOpenRange",value:function(e){console.log(e),e&&this.analytics.eventTrack.next({action:"\u67e5\u8be2\u6761\u4ef6-\u70b9\u51fb\u9009\u62e9\u56de\u6536\u65e5\u671f",properties:{category:"\u4ea7\u54c1\u6863\u6848",label:this.userInfo.tenantId+","+this.userInfo.userId,value:0}})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(m.\u0275\u0275directiveInject(I.$),m.\u0275\u0275directiveInject(s.Router),m.\u0275\u0275directiveInject(s.ActivatedRoute),m.\u0275\u0275directiveInject(g.U),m.\u0275\u0275directiveInject(h.DwMessageService),m.\u0275\u0275directiveInject(w.DwModalService),m.\u0275\u0275directiveInject(_.DwAnalytics),m.\u0275\u0275directiveInject(C.DwUserService),m.\u0275\u0275directiveInject(v.FormBuilder))},e.\u0275cmp=m.\u0275\u0275defineComponent({type:e,selectors:[["app-recycled-list"]],viewQuery:function(e,t){var n;(1&e&&m.\u0275\u0275viewQuery(Wo,5),2&e)&&(m.\u0275\u0275queryRefresh(n=m.\u0275\u0275loadQuery())&&(t.child=n.first))},features:[m.\u0275\u0275ProvidersFeature([S.N])],decls:59,vars:40,consts:[[1,"dw-f-content-list","layoutClass","sales_layout"],[1,"issue_layout_head"],["translate","",2,"float","left","margin-right","6px","margin-left","-5px",3,"click"],["src","../../../../../../assets/img/arrow-left.svg","alt","\u8fd4\u56de"],[1,"issue_layout_title"],["color","#e5e5e5"],[1,"dw-f-table","content-box"],[1,"sales_issue_form","sales_form","sales_shadow",3,"formGroup"],["dw-row","",1,"search-form-box"],[1,"search-input"],["class","label",4,"ngIf"],[1,"form-input"],[3,"dwSuffix"],["type","text","dw-input","","formControlName","sn",2,"width","100%"],["SNSeachData",""],[1,"label"],["formControlName","date_range",2,"width","100%",3,"dwOnOpenChange"],["dw-button","","dwActionAuthorized","","angularticsAction","\u67e5\u8be2\u6761\u4ef6-\u70b9\u51fb\u67e5\u8be2\u6309\u94ae","dw-analyticsOn","click",3,"dwType","dwActionId","angularticsCategory","angularticsLabel","dwClick"],["dwTableId","crs-product-file-recycled-list","dwShowSizeChanger","",3,"dwData","dwPageIndex","dwPageSize","dwScroll","dwShowTotal","dwPageIndexChange","dwPageSizeChange"],["dwTable",""],[3,"dwSortOrderChange"],["dw-tr","","dwDropColumns",""],["dw-th","","dwShowSort","","dwColumnKey","recycled_date","dwWidth","160px","dwDragDrop","",4,"dwColumnId"],["dw-th","","dwShowSort","","dwColumnKey","product_file_code","dwWidth","144px","dwDragDrop","",4,"dwColumnId"],["dw-th","","dwShowSort","","dwColumnKey","product_file_name","dwWidth","160px","dwDragDrop","",4,"dwColumnId"],["dw-th","","dwWidth","144px","dwDragDrop","",4,"dwColumnId"],["dw-th","","dwDragDrop","","dwWidth","120px",3,"ngStyle",4,"dwColumnId"],["dw-th","","dwShowSort","","dwColumnKey","item_group_name","dwWidth","120px","dwDragDrop","",4,"dwColumnId"],["dw-th","","dwDragDrop","","dwWidth","160px",4,"dwColumnId"],["dw-th","","dwDragDrop","","dwWidth","120px",4,"dwColumnId"],["dw-th","","dwDragDrop","","dwWidth","136px",4,"dwColumnId"],["dw-th","","dwDragDrop","","dwWidth","112px",4,"dwColumnId"],["dw-th","","dwWidth","210px","dwDragDrop","","dwWidth","112px",4,"dwColumnId"],["dw-th","","dwWidth","120px","dwDragDrop","",4,"dwColumnId"],["dw-th","","dwDragDrop","","dwWidth","140px",4,"dwColumnId"],["dw-th","","dwRight","","dwWidth","96px",3,"dwAlign",4,"dwColumnId"],["dwReorderColumns","",4,"ngFor","ngForOf"],[3,"dwVisible","dwTitle","dwWidth","dwBodyStyle","dwOnClose"],["dwDrawerContent",""],["detailTitle",""],["totalTemplate",""],["dw-icon","","class","ant-input-clear-icon","dwTheme","fill","dwType","close-circle",3,"click",4,"ngIf"],["dw-icon","","dwTheme","fill","dwType","close-circle",1,"ant-input-clear-icon",3,"click"],["dw-th","","dwShowSort","","dwColumnKey","recycled_date","dwWidth","160px","dwDragDrop",""],["translate",""],["dw-th","","dwShowSort","","dwColumnKey","product_file_code","dwWidth","144px","dwDragDrop",""],["dw-th","","dwShowSort","","dwColumnKey","product_file_name","dwWidth","160px","dwDragDrop",""],["dw-th","","dwWidth","144px","dwDragDrop",""],["translate","",4,"ngIf"],["dw-th","","dwDragDrop","","dwWidth","120px",3,"ngStyle"],["dw-th","","dwShowSort","","dwColumnKey","item_group_name","dwWidth","120px","dwDragDrop",""],["dw-th","","dwDragDrop","","dwWidth","160px"],["dw-th","","dwDragDrop","","dwWidth","120px"],["dw-th","","dwDragDrop","","dwWidth","136px"],["dw-th","","dwDragDrop","","dwWidth","112px"],["dw-th","","dwWidth","210px","dwDragDrop","","dwWidth","112px"],["dw-th","","dwWidth","120px","dwDragDrop",""],["dw-th","","dwDragDrop","","dwWidth","140px"],["dw-th","","dwRight","","dwWidth","96px",3,"dwAlign"],["dwReorderColumns",""],["dwEllipsis","",4,"dwColumnId"],["dwEllipsis","",3,"ngStyle",4,"dwColumnId"],["style","min-width: 72px;max-width: 240px;","dwEllipsis","",4,"dwColumnId"],["dwRight","",3,"dwAlign",4,"dwColumnId"],["dwRight","","dwEllipsis","",3,"dwAlign",4,"dwColumnId"],["dwEllipsis",""],["dw-analyticsOn","click","id","product-file-detail","angularticsAction","\u8be6\u60c5-\u70b9\u51fb\u67e5\u770b\u8be6\u60c5",3,"angularticsCategory","angularticsLabel","click"],["dwEllipsis","",3,"ngStyle"],[4,"ngIf"],["dwEllipsis","",2,"min-width","72px","max-width","240px"],["dwRight","",3,"dwAlign"],["class","state_tip",4,"ngIf"],["class","state_tip zise",4,"ngIf"],["class","state_tip gray",4,"ngIf"],[1,"state_tip"],[1,"state_tip","zise"],[1,"state_tip","gray"],["dwRight","","dwEllipsis","",3,"dwAlign"],["dwActionAuthorized","","translate","","id","product-resume","dw-analyticsOn","click","angularticsAction","\u5c65\u5386-\u70b9\u51fb\u67e5\u770b\u5c65\u5386",3,"dwActionId","dwDefaultAuthorized","angularticsCategory","angularticsLabel","dwClick"],[3,"visibleChanged"],["child",""],[1,"detail-title"],["src","../../../../../../assets/img/qrcode.png","alt","\u4e8c\u7ef4\u7801",1,"qrcode",3,"click"]],template:function(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"dw-content",0),m.\u0275\u0275elementStart(1,"div",1),m.\u0275\u0275elementStart(2,"a",2),m.\u0275\u0275listener("click",function(){return t.goBack()}),m.\u0275\u0275element(3,"img",3),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(4,"h2",4),m.\u0275\u0275elementStart(5,"span"),m.\u0275\u0275text(6,"\u5df2\u56de\u6536\u4ea7\u54c1"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275element(7,"hr",5),m.\u0275\u0275elementStart(8,"div",6),m.\u0275\u0275elementStart(9,"form",7),m.\u0275\u0275elementStart(10,"div",8),m.\u0275\u0275elementStart(11,"div",9),m.\u0275\u0275template(12,Go,2,0,"div",10),m.\u0275\u0275template(13,Uo,2,0,"div",10),m.\u0275\u0275template(14,Ho,2,0,"div",10),m.\u0275\u0275elementStart(15,"dw-form-item",11),m.\u0275\u0275elementStart(16,"dw-form-control"),m.\u0275\u0275elementStart(17,"dw-input-group",12),m.\u0275\u0275element(18,"input",13),m.\u0275\u0275elementEnd(),m.\u0275\u0275template(19,Qo,1,1,"ng-template",null,14,m.\u0275\u0275templateRefExtractor),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(21,"div",9),m.\u0275\u0275elementStart(22,"div",15),m.\u0275\u0275text(23,"\u56de\u6536\u65e5\u671f"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(24,"dw-form-item",11),m.\u0275\u0275elementStart(25,"dw-form-control"),m.\u0275\u0275elementStart(26,"dw-range-picker",16),m.\u0275\u0275listener("dwOnOpenChange",function(e){return t.onOpenRange(e)}),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(27,"div",9),m.\u0275\u0275elementStart(28,"button",17),m.\u0275\u0275listener("dwClick",function(){return t.loadData()}),m.\u0275\u0275text(29),m.\u0275\u0275pipe(30,"translate"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(31,"dw-table",18,19),m.\u0275\u0275listener("dwPageIndexChange",function(e){return t.search.pageIndex=e})("dwPageSizeChange",function(e){return t.search.pageSize=e}),m.\u0275\u0275elementStart(33,"thead",20),m.\u0275\u0275listener("dwSortOrderChange",function(e){return t.order(e)}),m.\u0275\u0275elementStart(34,"tr",21),m.\u0275\u0275template(35,Ko,3,0,"th",22),m.\u0275\u0275template(36,Jo,3,0,"th",23),m.\u0275\u0275template(37,Zo,3,0,"th",24),m.\u0275\u0275template(38,nl,4,3,"th",25),m.\u0275\u0275template(39,il,3,3,"th",26),m.\u0275\u0275template(40,al,3,0,"th",27),m.\u0275\u0275template(41,ol,3,0,"th",28),m.\u0275\u0275template(42,ll,3,0,"th",29),m.\u0275\u0275template(43,dl,3,0,"th",30),m.\u0275\u0275template(44,cl,3,0,"th",31),m.\u0275\u0275template(45,sl,3,0,"th",32),m.\u0275\u0275template(46,ml,3,0,"th",31),m.\u0275\u0275template(47,pl,3,0,"th",33),m.\u0275\u0275template(48,ul,3,0,"th",34),m.\u0275\u0275template(49,fl,3,1,"th",35),m.\u0275\u0275template(50,vl,3,1,"th",35),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(51,"tbody"),m.\u0275\u0275template(52,Al,17,16,"tr",36),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(53,"dw-drawer",37),m.\u0275\u0275listener("dwOnClose",function(){return t.isCollapsed=!1}),m.\u0275\u0275template(54,Nl,2,0,"ng-template",38),m.\u0275\u0275elementEnd(),m.\u0275\u0275template(55,jl,3,0,"ng-template",null,39,m.\u0275\u0275templateRefExtractor),m.\u0275\u0275template(57,zl,1,1,"ng-template",null,40,m.\u0275\u0275templateRefExtractor)),2&e){var n=m.\u0275\u0275reference(20),r=m.\u0275\u0275reference(32),i=m.\u0275\u0275reference(56),a=m.\u0275\u0275reference(58);m.\u0275\u0275advance(9),m.\u0275\u0275property("formGroup",t.searchForm),m.\u0275\u0275advance(3),m.\u0275\u0275property("ngIf","1"===t.fileType),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf","2"===t.fileType),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf","0"===t.fileType),m.\u0275\u0275advance(3),m.\u0275\u0275property("dwSuffix",n),m.\u0275\u0275advance(11),m.\u0275\u0275propertyInterpolate("angularticsLabel",t.userInfo.tenantId+","+t.userInfo.userId),m.\u0275\u0275property("dwType","primary")("dwActionId","query")("angularticsCategory","\u4ea7\u54c1\u6863\u6848"),m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate1(" ",m.\u0275\u0275pipeBind1(30,36,"\u67e5\u8be2")," "),m.\u0275\u0275advance(2),m.\u0275\u0275property("dwData",t.dataList)("dwPageIndex",t.search.pageIndex)("dwPageSize",t.search.pageSize)("dwScroll",m.\u0275\u0275pureFunction0(38,Bl))("dwShowTotal",a),m.\u0275\u0275advance(4),m.\u0275\u0275property("dwColumnId","recycled_date"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","product_file_code"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","product_file_name"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","sn"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","file_type_name"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","item_group_name"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","specification"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","model"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","location"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","delivery_date"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","installation_date"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","acceptance_date"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","expiry_date"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","product_description"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","service_status"),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwColumnId","product_resume"),m.\u0275\u0275advance(2),m.\u0275\u0275property("ngForOf",r.data),m.\u0275\u0275advance(1),m.\u0275\u0275property("dwVisible",t.isCollapsed)("dwTitle",i)("dwWidth","80%")("dwBodyStyle",m.\u0275\u0275pureFunction0(39,$l))}},directives:[re.DwContentComponent,F.TranslateDirective,v.\u0275NgNoValidate,v.NgControlStatusGroup,v.FormGroupDirective,G.DwRowDirective,d.NgIf,U.DwFormItemComponent,G.DwColDirective,U.DwFormControlComponent,ie.u,Q.DwInputGroupComponent,Q.DwInputGroupWhitSuffixOrPrefixDirective,Q.DwInputDirective,v.DefaultValueAccessor,v.NgControlStatus,v.FormControlName,Z.DwDatePickerComponent,Z.DwRangePickerComponent,X.DwButtonComponent,ae.uG,oe.DwActionAuthorizedDirective,_.DwAnalyticsOn,k.DwTableComponent,M.Ct,k.DwTheadComponent,k.DwTrDirective,M.Y9,M.b,k.DwTbodyComponent,d.NgForOf,ke.DwDrawerComponent,ke.DwDrawerContentDirective,K.DwIconDirective,k.DwTableCellDirective,k.DwThMeasureDirective,M.BL,k.DwThAddOnComponent,M.$2,d.NgStyle,k.DwCellFixedDirective,k.DwCellAlignDirective,M.at,k.DwCellEllipsisDirective,E.w],pipes:[F.TranslatePipe,d.DatePipe],styles:[".state_tip[_ngcontent-%COMP%]{display:inline-block;width:64px;height:28px;line-height:28px;text-align:center;border-radius:15px;color:#fff;font-size:13px;background:#29cc8d}.state_tip.zise[_ngcontent-%COMP%]{background:#5c64d1}.state_tip.gray[_ngcontent-%COMP%]{background:#5c5c5c}"]}),e}(),Wl=a(51033),Gl=[{path:"",pathMatch:"prefix",canActivate:[qo.DwAuthGuardService,Wl.L],component:u,children:[{path:"",component:$n,canActivate:[qo.DwAuthGuardService,Wl.L],data:{dwRouteData:{programId:"product-file",dwAuthId:"product-file"},reload:!0}},{path:"product-file-modify/:id",component:Co,canActivate:[qo.DwAuthGuardService,Wl.L],data:{dwRouteData:{programId:"product-file",dwAuthId:"product-file"},reload:!0}},{path:"product-file-create",component:Co,canActivate:[qo.DwAuthGuardService,Wl.L],data:{dwRouteData:{programId:"product-file",dwAuthId:"product-file"},reload:!0}},{path:"product-part-modify",component:nr,canActivate:[qo.DwAuthGuardService,Wl.L],data:{dwRouteData:{programId:"product-file",dwAuthId:"product-file"},reload:!0}},{path:"product-resume",component:$o,canActivate:[qo.DwAuthGuardService,Wl.L],data:{dwRouteData:{programId:"product-file",dwAuthId:"product-file"},reload:!0}},{path:"recycled-list",component:ql,canActivate:[qo.DwAuthGuardService,Wl.L],data:{dwRouteData:{programId:"product-file",dwAuthId:"product-file"},reload:!0}}]}],Ul=function(){var e=f(function e(){p(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=m.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=m.\u0275\u0275defineInjector({imports:[[s.RouterModule.forChild(Gl)],s.RouterModule]}),e}(),Hl=a(23938),Xl=function(){var e=f(function e(){p(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=m.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=m.\u0275\u0275defineInjector({providers:[{provide:"DocumentResource",useValue:"restful/service/productFile/productFile/ProductFile"},te,{provide:M.hb,useExisting:te},Jn],imports:[[d.CommonModule,Hl.m,Ul,Wn.DwDocumentModule,Gr.DwExtraFieldsModule,h.DwMessageModule,w.DwModalModule,X.DwButtonModule,re.DwLayoutModule,Z.DwDatePickerModule,ke.DwDrawerModule,U.DwFormModule,Q.DwInputModule,ir.DwInputNumberModule,Me.DwRadioModule,H.DwSelectModule,k.DwTableModule,G.DwGridModule,K.DwIconModule,Pe.DwPopconfirmModule,P.DwCheckboxModule,oe.DwActionModule,v.ReactiveFormsModule,F.TranslateModule,qr.DwDividerModule,Wr.DwTabsModule,ar.DwUploadModule,So.DwTimelineModule,M.f1,or.DwToolTipModule]]}),e}()},9201:function(e,t,n){n.d(t,{N:function(){return d}});var r,i=n(51156),a=n(53524),o=n(9682),l=n(42746),d=((r=function(){function e(t,n){p(this,e),this.selectModalService=t,this.dwHttp=n}return f(e,[{key:"setConfig",value:function(e,t){this.config={modalTitle:"\u9009\u62e9\u65b0\u5ba2\u6237",modalWidth:"50%",tableMultiSelect:t,tableIdField:"customer_id",tableNameField:"customer_name",returnFields:["customer_id","customer_code","customer_name"],tablePageSize:10,tableColDefs:[{title:"\u5ba2\u6237\u7f16\u53f7",field:"customer_code",width:""},{title:"\u5ba2\u6237\u540d\u79f0",field:"customer_name",width:""}],tableCustomTag:function(e){return"("+e.customer_code+")"+e.customer_name},dataSource:new o.ApiServerPagingService(this.dwHttp,"restful/service/customer/Customer/List","customer",["customer_code","customer_name"]),initParams:this.getQueryCondition(e)}}},{key:"open",value:function(e){return this.selectModalService.open(this.config,e)}},{key:"getQueryCondition",value:function(e){var t=new a.DwQueryCondition;return t.addCondition(new a.DwQueryConditionInfo("customer_id",e,a.DwQueryConditionOperator.NOTEQUALS)),t}}]),e}()).\u0275fac=function(e){return new(e||r)(l.\u0275\u0275inject(o.DwSelectModalService),l.\u0275\u0275inject(i.DwDapHttpClient))},r.\u0275prov=l.\u0275\u0275defineInjectable({token:r,factory:r.\u0275fac}),r)},33795:function(e,t,n){n.d(t,{U:function(){return m}});var r,i=n(51156),a=n(66800),o=n(65134),l=n(47372),d=n(99487),c=n(55245),s=n(42746),m=((r=function(){function e(t,n,r,i){p(this,e),this.http=t,this.pctHttp=n,this.userService=r,this.datePipe=i}return f(e,[{key:"getProductFileList",value:function(e,t,n){""!==e.date_range&&e.date_range.length&&""!==e.date_range[0]?(e.date_range[0]=this.datePipe.transform(e.date_range[0],"yyyy-MM-dd"),e.date_range[1]=this.datePipe.transform(e.date_range[1],"yyyy-MM-dd")):e.date_range=["",""],e.next_maintain_date=e.next_maintain_date?this.datePipe.transform(e.next_maintain_date,"yyyy-MM-dd"):"";var r=encodeURIComponent(JSON.stringify({customerIds:e.customer_id,beginDate:e.date_range[0],endDate:e.date_range[1],nextMaintainDate:e.next_maintain_date,serviceStatus:e.serviceStatus,checkExpiryDate:e.checkExpiryDate,fileType:e.file_type,dataSource:n,paramLike:t,SN:e.SN}));return this.http.get("restful/service/productFile/ProductFile/ProductFile?params=".concat(r)).pipe((0,l.map)(function(e){return e}))}},{key:"getProductFileDetail",value:function(e,t){var n=encodeURIComponent(JSON.stringify([{id:e,fileType:t}]));return this.http.get("restful/service/productFile/productFile/ProductFile?oids=".concat(n)).pipe((0,l.map)(function(e){return e}))}},{key:"getProductFileResume",value:function(e){return this.http.get("restful/service/productFile/ProductFile/ProductFileResume?product_file_id=".concat(e)).pipe((0,l.map)(function(e){return e}))}},{key:"getSNChangeHistory",value:function(e){return this.http.get("restful/service/productFile/ProductFile/SNChangeHistory?product_file_id=".concat(e))}},{key:"getItemGroupList",value:function(e,t,n){return this.http.get("restful/service/itemGroup/ItemGroup/ItemGroup?code=".concat(e,"&name=").concat(t,"&type=").concat(n)).pipe((0,l.map)(function(e){return e}))}},{key:"getFileById",value:function(e){return this.http.get("restful/service/employee/Employee/File?file_id=".concat(e)).pipe((0,l.map)(function(e){return e}))}},{key:"createProductFile",value:function(e){return console.log(e),this.http.post("restful/service/productFile/ProductFile/ProductFile",{params:e})}},{key:"modifyProductFile",value:function(e,t){var n=this.createDwDataSet(e,t,"U");return this.http.put("restful/service/productFile/ProductFile/ProductFile",n)}},{key:"deleteProductFile",value:function(e){return this.http.delete("restful/service/productFile/ProductFile/BathRemove",{body:{ids:e.join(",")}})}},{key:"getUserSite",value:function(){return this.pctHttp.get("restful/service/warehouse/Warehouse/UserSite")}},{key:"getProductInfo",value:function(e){return this.http.get("restful/service/productFile/ProductFile/TransferInitialInfoByFileId?productFileId="+e)}},{key:"transfer",value:function(e){var t={};return Object.assign(t,e),t.$state="C",this.http.post("restful/service/productFile/ProductFile/ProductTransfer",{dataset:{product_transfer:t}})}},{key:"getProductTransfersByFileId",value:function(e){return this.http.get("restful/service/productFile/ProductFile/ProductTransfersByFileId?productFileId=".concat(e)).pipe((0,l.map)(function(e){return e}))}},{key:"recycle",value:function(e){return this.http.post("restful/service/productFile/ProductFile/ProductRecycled",{param:e})}},{key:"createDwDataSet",value:function(e,t,n){var r={};return Object.assign(r,e),r.$state=n,r.product_file_id=t,{dataSet:{product_file:r}}}},{key:"getQuery",value:function(e){return this.http.get("restful/service/productFile/ProductFile/ProductFileSearch?param=".concat(e)).pipe((0,l.map)(function(e){return e}))}},{key:"getRecycledList",value:function(e){return""!==e.date_range&&e.date_range.length&&""!==e.date_range[0]?(e.date_range[0]=this.datePipe.transform(e.date_range[0],"yyyy-MM-dd"),e.date_range[1]=this.datePipe.transform(e.date_range[1],"yyyy-MM-dd")):e.date_range=["",""],this.http.get("restful/service/productFile/ProductFile/ProductRecycledList?sn=".concat(e.sn,"&beginDate=").concat(e.date_range[0],"&endDate=").concat(e.date_range[1])).pipe((0,l.map)(function(e){return e}))}},{key:"saveAttachments",value:function(e){return this.http.post("restful/service/productFile/ProductFile/Attachments",e,{})}},{key:"download",value:function(e){return this.http.get("restful/service/productFile/ProductFile/downloadFile",{params:e=e||{},headers:this.getHeader(),observe:"events",responseType:"blob",reportProgress:!0})}},{key:"getProductFileHasCustomizeField",value:function(e){return this.http.get("restful/service/productFile/ProductFile/ProductFileHasCustomizeField?tableName="+e)}},{key:"getHeader",value:function(){return new d.HttpHeaders({token:this.userService.getUser("token")})}},{key:"export",value:function(e,t,n){""!==e.date_range&&e.date_range.length&&""!==e.date_range[0]?(e.date_range[0]=this.datePipe.transform(e.date_range[0],"yyyy-MM-dd"),e.date_range[1]=this.datePipe.transform(e.date_range[1],"yyyy-MM-dd")):e.date_range=["",""],e.next_maintain_date=e.next_maintain_date?this.datePipe.transform(e.next_maintain_date,"yyyy-MM-dd"):"";var r=encodeURIComponent(JSON.stringify({customerIds:e.customer_id,beginDate:e.date_range[0],endDate:e.date_range[1],nextMaintainDate:e.next_maintain_date,serviceStatus:e.serviceStatus,checkExpiryDate:e.checkExpiryDate,fileType:e.file_type,dataSource:n,paramLike:t,SN:e.SN}));return this.http.get("restful/service/productFile/ProductFile/ProductFileExcel?params=".concat(r),{headers:this.getHeader(),observe:"events",responseType:"blob",reportProgress:!0})}}]),e}()).\u0275fac=function(e){return new(e||r)(s.\u0275\u0275inject(i.DwDapHttpClient),s.\u0275\u0275inject(o.k),s.\u0275\u0275inject(a.DwUserService),s.\u0275\u0275inject(c.DatePipe))},r.\u0275prov=s.\u0275\u0275defineInjectable({token:r,factory:r.\u0275fac,providedIn:"root"}),r)},31969:function(e,t,n){n.d(t,{M:function(){return m}});var r,i=n(51156),a=n(47372),o=n(9682),d=function(e){l(n,e);var t=c(n);function n(e,r){var i;return p(this,n),(i=t.call(this)).dwDapHttp=e,i.url=r,i}return f(n,[{key:"getDataList",value:function(e,t){var n=this;return this.dwDapHttp.get(this.url).pipe((0,a.map)(function(r){return n._result={currentPage:e,datas:Object.assign([],r.data.common_phrase),pageCount:Math.ceil(r.data.common_phrase.length/t),pageSize:t,rowCount:r.data.common_phrase.length},n._result}))}}]),n}(o.DwClientPagingDataSource),s=n(42746),m=((r=function(){function e(t,n){p(this,e),this.dwHttp=t,this.selectModalService=n,this.setConfig("1")}return f(e,[{key:"setConfig",value:function(e){this.config={modalTitle:"\u5e38\u7528\u6545\u969c\u63cf\u8ff0",modalWidth:"50%",tableMultiSelect:!1,tableIdField:"common_phrase_id",tableNameField:"phrase",tablePageSize:10,tableColDefs:[{title:"\u5e38\u7528\u8bed",field:"phrase"}],tableCustomTag:function(e){return e.phrase},dataSource:new d(this.dwHttp,"restful/service/autoSettings/CommonPhrase/CommonPhraseList?type="+e+"&phrase=")}}},{key:"open",value:function(e){var t=this;return this.selectModalService.open(this.config,e).pipe((0,a.switchMap)(function(e){return t.dwHttp.get("restful/service/autoSettings/CommonPhrase/CommonPhrase?id=".concat(e[0]))}))}}]),e}()).\u0275fac=function(e){return new(e||r)(s.\u0275\u0275inject(i.DwDapHttpClient),s.\u0275\u0275inject(o.DwSelectModalService))},r.\u0275prov=s.\u0275\u0275defineInjectable({token:r,factory:r.\u0275fac}),r)},13437:function(e,t,n){n.d(t,{y:function(){return m}});var r,i=n(47372),a=n(9682),o=function(e){l(n,e);var t=c(n);function n(e,r){var i;return p(this,n),(i=t.call(this)).dwDapHttp=e,i.url=r,i}return f(n,[{key:"getDataList",value:function(e,t){var n=this;return this.dwDapHttp.get(this.url).pipe((0,i.map)(function(r){return n._result={currentPage:e,datas:Object.assign([],r),pageCount:Math.ceil(r.length/t),pageSize:t,rowCount:r.length},n._result}))}}]),n}(a.DwClientPagingDataSource),d=n(51156),s=n(42746),m=((r=function(){function e(t,n){p(this,e),this.dwHttp=t,this.selectModalService=n}return f(e,[{key:"setConfig",value:function(e,t){this.config={modalTitle:"\u9009\u62e9\u670d\u52a1\u9879\u76ee",modalWidth:"50%",tableMultiSelect:t,tableIdField:"service_item_id",tableNameField:"service_item_name",tablePageSize:10,tableColDefs:[{title:"\u9879\u76ee\u7f16\u53f7",field:"service_item_code",width:""},{title:"\u9879\u76ee\u540d\u79f0",field:"service_item_name",width:""},{title:"\u4ef7\u683c",field:"customer_settlement_price",width:""}],tableCustomTag:function(e){return"("+e.service_item_code+")"+e.service_item_name},dataSource:new o(this.dwHttp,"restful/service/serviceItem/ServiceItem/ServiceItem?name=&code=")}}},{key:"open",value:function(e){var t=this;return this.selectModalService.open(this.config,e).pipe((0,i.switchMap)(function(e){return t.dwHttp.get("restful/service/serviceItem/ServiceItem/ServiceItemByIds?ids=".concat(e))}))}}]),e}()).\u0275fac=function(e){return new(e||r)(s.\u0275\u0275inject(d.DwDapHttpClient),s.\u0275\u0275inject(a.DwSelectModalService))},r.\u0275prov=s.\u0275\u0275defineInjectable({token:r,factory:r.\u0275fac}),r)},96344:function(n,r,i){i.d(r,{h:function(){return wl}});var a,o=i(64762),d=i(87974),s=i(1020),m=i(91970),u=i(18843),v=i(31371),g=i(83237),h=i(67733),w=i(53524),y=i(85835),x=i(30469),_=i(71049),C=i(97981),S=i(99487),b=i(17494),I=i(66800),E=function(e){l(n,e);var t=c(n);function n(){var e;return p(this,n),(e=t.apply(this,arguments)).service_order_id=0,e.service_cost_code="",e.service_cost_name="",e}return f(n)}(function(){return f(function e(){p(this,e),this.service_doc_servicecost_id=0,this.service_doc_id=0,this.service_cost_id=0,this.description="",this.cost_amt=0})}()),D=i(45890),O=i(9682),k=i(51156),M=i(42746),P=((a=function(e){l(n,e);var t=c(n);function n(e,r){var i;return p(this,n),(i=t.call(this,e,"".concat(r,"/ServiceCostOpener"),"service_cost",["service_cost_code","service_cost_name"])).dwDapHttpClient=e,i.serviceCostResource=r,i}return f(n)}(O.ApiServerPagingService)).\u0275fac=function(e){return new(e||a)(M.\u0275\u0275inject(k.DwDapHttpClient),M.\u0275\u0275inject("ServiceCostResource"))},a.\u0275prov=M.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac}),a),F=i(47372),V=function(){var e=function(){function e(t,n,r,i,a){p(this,e),this.dwDapHttpClient=t,this.commonHttpService=n,this.dwSelectModalService=r,this.serviceCostOpenerDataSourceService=i,this.serviceCostResource=a}return f(e,[{key:"setConfig",value:function(){this.config={modalTitle:"\u9009\u62e9\u670d\u52a1\u6210\u672c",modalWidth:"50%",tableMultiSelect:!0,tableIdField:"service_cost_id",tableNameField:"service_cost_name",tablePageSize:10,tableColDefs:[{title:"\u670d\u52a1\u6210\u672c\u7f16\u53f7",field:"service_cost_code"},{title:"\u670d\u52a1\u6210\u672c\u540d\u79f0",field:"service_cost_name"}],tableCustomTag:function(e){return"("+e.service_cost_code+")"+e.service_cost_name},dataSource:this.serviceCostOpenerDataSourceService}}},{key:"open",value:function(e){var t=this;return this.dwSelectModalService.open(this.config,e).pipe((0,F.switchMap)(function(e){var n={serviceCostIds:JSON.stringify(e||[])};return t.commonHttpService.get("".concat(t.serviceCostResource,"/ServiceCostOpenerSelected"),n)}))}},{key:"setQueryCondition",value:function(e){this.config.initParams=e}}]),e}();return e.\u0275fac=function(t){return new(t||e)(M.\u0275\u0275inject(k.DwDapHttpClient),M.\u0275\u0275inject(D.$),M.\u0275\u0275inject(O.DwSelectModalService),M.\u0275\u0275inject(P),M.\u0275\u0275inject("ServiceCostResource"))},e.\u0275prov=M.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac}),e}(),T=i(55245),L=i(13437),R=i(33795),A=i(31441),N=i(32276),j=i(80677),z=i(78169),B=i(29872),$=i(85773),q=i(8852),W=i(85277),G=i(10332),U=i(90395),H=i(82542),X=i(92323),Q=i(67280);function K(e,t){1&e&&M.\u0275\u0275element(0,"em",13)}function J(e,t){1&e&&(M.\u0275\u0275elementStart(0,"span",14),M.\u0275\u0275text(1,"\u5f88\u5dee"),M.\u0275\u0275elementEnd())}function Z(e,t){1&e&&(M.\u0275\u0275elementStart(0,"span",14),M.\u0275\u0275text(1,"\u5dee"),M.\u0275\u0275elementEnd())}function Y(e,t){1&e&&(M.\u0275\u0275elementStart(0,"span",14),M.\u0275\u0275text(1,"\u4e00\u822c"),M.\u0275\u0275elementEnd())}function ee(e,t){1&e&&(M.\u0275\u0275elementStart(0,"span",14),M.\u0275\u0275text(1,"\u6ee1\u610f"),M.\u0275\u0275elementEnd())}function te(e,t){1&e&&(M.\u0275\u0275elementStart(0,"span",14),M.\u0275\u0275text(1,"\u8d85\u8d5e"),M.\u0275\u0275elementEnd())}function ne(e,t){1&e&&M.\u0275\u0275element(0,"em",13)}function re(e,t){1&e&&(M.\u0275\u0275elementStart(0,"span",14),M.\u0275\u0275text(1,"\u5f88\u5dee"),M.\u0275\u0275elementEnd())}function ie(e,t){1&e&&(M.\u0275\u0275elementStart(0,"span",14),M.\u0275\u0275text(1,"\u5dee"),M.\u0275\u0275elementEnd())}function ae(e,t){1&e&&(M.\u0275\u0275elementStart(0,"span",14),M.\u0275\u0275text(1,"\u4e00\u822c"),M.\u0275\u0275elementEnd())}function oe(e,t){1&e&&(M.\u0275\u0275elementStart(0,"span",14),M.\u0275\u0275text(1,"\u6ee1\u610f"),M.\u0275\u0275elementEnd())}function le(e,t){1&e&&(M.\u0275\u0275elementStart(0,"span",14),M.\u0275\u0275text(1,"\u8d85\u8d5e"),M.\u0275\u0275elementEnd())}function de(e,t){1&e&&M.\u0275\u0275element(0,"em",13)}function ce(e,t){1&e&&(M.\u0275\u0275elementStart(0,"span",14),M.\u0275\u0275text(1,"\u5f88\u5dee"),M.\u0275\u0275elementEnd())}function se(e,t){1&e&&(M.\u0275\u0275elementStart(0,"span",14),M.\u0275\u0275text(1,"\u5dee"),M.\u0275\u0275elementEnd())}function me(e,t){1&e&&(M.\u0275\u0275elementStart(0,"span",14),M.\u0275\u0275text(1,"\u4e00\u822c"),M.\u0275\u0275elementEnd())}function pe(e,t){1&e&&(M.\u0275\u0275elementStart(0,"span",14),M.\u0275\u0275text(1,"\u6ee1\u610f"),M.\u0275\u0275elementEnd())}function ue(e,t){1&e&&(M.\u0275\u0275elementStart(0,"span",14),M.\u0275\u0275text(1,"\u8d85\u8d5e"),M.\u0275\u0275elementEnd())}var fe=function(){return{minRows:3,maxRows:3}};function ve(e,t){if(1&e&&(M.\u0275\u0275elementStart(0,"form",2),M.\u0275\u0275elementStart(1,"dw-form-item"),M.\u0275\u0275elementStart(2,"dw-form-label",3),M.\u0275\u0275text(3,"\u95ee\u9898\u89e3\u51b3\u60c5\u51b5"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(4,"dw-form-control",3),M.\u0275\u0275elementStart(5,"dw-radio-group",4),M.\u0275\u0275elementStart(6,"label",5),M.\u0275\u0275text(7,"\u5df2\u89e3\u51b3"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(8,"label",6),M.\u0275\u0275text(9,"\u672a\u89e3\u51b3"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(10,"dw-form-item"),M.\u0275\u0275elementStart(11,"dw-form-label",3),M.\u0275\u0275text(12,"\u670d\u52a1\u54cd\u5e94\u901f\u5ea6"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(13,"dw-form-control",3),M.\u0275\u0275element(14,"dw-rate",7),M.\u0275\u0275template(15,K,1,0,"ng-template",null,8,M.\u0275\u0275templateRefExtractor),M.\u0275\u0275template(17,J,2,0,"span",9),M.\u0275\u0275template(18,Z,2,0,"span",9),M.\u0275\u0275template(19,Y,2,0,"span",9),M.\u0275\u0275template(20,ee,2,0,"span",9),M.\u0275\u0275template(21,te,2,0,"span",9),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(22,"dw-form-item"),M.\u0275\u0275elementStart(23,"dw-form-label",3),M.\u0275\u0275text(24,"\u670d\u52a1\u6001\u5ea6"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(25,"dw-form-control",3),M.\u0275\u0275element(26,"dw-rate",10),M.\u0275\u0275template(27,ne,1,0,"ng-template",null,8,M.\u0275\u0275templateRefExtractor),M.\u0275\u0275template(29,re,2,0,"span",9),M.\u0275\u0275template(30,ie,2,0,"span",9),M.\u0275\u0275template(31,ae,2,0,"span",9),M.\u0275\u0275template(32,oe,2,0,"span",9),M.\u0275\u0275template(33,le,2,0,"span",9),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(34,"dw-form-item"),M.\u0275\u0275elementStart(35,"dw-form-label",3),M.\u0275\u0275text(36,"\u670d\u52a1\u6ee1\u610f\u5ea6"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(37,"dw-form-control",3),M.\u0275\u0275element(38,"dw-rate",11),M.\u0275\u0275template(39,de,1,0,"ng-template",null,8,M.\u0275\u0275templateRefExtractor),M.\u0275\u0275template(41,ce,2,0,"span",9),M.\u0275\u0275template(42,se,2,0,"span",9),M.\u0275\u0275template(43,me,2,0,"span",9),M.\u0275\u0275template(44,pe,2,0,"span",9),M.\u0275\u0275template(45,ue,2,0,"span",9),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(46,"dw-form-item"),M.\u0275\u0275elementStart(47,"dw-form-label",3),M.\u0275\u0275text(48,"\u5ba2\u6237\u60f3\u8bf4"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(49,"dw-form-control",3),M.\u0275\u0275element(50,"textarea",12),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd()),2&e){var n=M.\u0275\u0275reference(16),r=M.\u0275\u0275nextContext();M.\u0275\u0275property("formGroup",r.form),M.\u0275\u0275advance(2),M.\u0275\u0275property("dwSm",6)("dwXs",24),M.\u0275\u0275advance(2),M.\u0275\u0275property("dwSm",16)("dwXs",24),M.\u0275\u0275advance(7),M.\u0275\u0275property("dwSm",6)("dwXs",24),M.\u0275\u0275advance(2),M.\u0275\u0275property("dwSm",16)("dwXs",24),M.\u0275\u0275advance(1),M.\u0275\u0275property("dwCharacter",n),M.\u0275\u0275advance(3),M.\u0275\u0275property("ngIf","1"==r.form.value.serviceResponseSpeed),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf","2"==r.form.value.serviceResponseSpeed),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf","3"==r.form.value.serviceResponseSpeed),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf","4"==r.form.value.serviceResponseSpeed),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf","5"==r.form.value.serviceResponseSpeed),M.\u0275\u0275advance(2),M.\u0275\u0275property("dwSm",6)("dwXs",24),M.\u0275\u0275advance(2),M.\u0275\u0275property("dwSm",16)("dwXs",24),M.\u0275\u0275advance(1),M.\u0275\u0275property("dwCharacter",n),M.\u0275\u0275advance(3),M.\u0275\u0275property("ngIf","1"==r.form.value.serviceAttitude),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf","2"==r.form.value.serviceAttitude),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf","3"==r.form.value.serviceAttitude),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf","4"==r.form.value.serviceAttitude),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf","5"==r.form.value.serviceAttitude),M.\u0275\u0275advance(2),M.\u0275\u0275property("dwSm",6)("dwXs",24),M.\u0275\u0275advance(2),M.\u0275\u0275property("dwSm",16)("dwXs",24),M.\u0275\u0275advance(1),M.\u0275\u0275property("dwCharacter",n),M.\u0275\u0275advance(3),M.\u0275\u0275property("ngIf","1"==r.form.value.serviceSatisfaction),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf","2"==r.form.value.serviceSatisfaction),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf","3"==r.form.value.serviceSatisfaction),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf","4"==r.form.value.serviceSatisfaction),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf","5"==r.form.value.serviceSatisfaction),M.\u0275\u0275advance(2),M.\u0275\u0275property("dwSm",6)("dwXs",24),M.\u0275\u0275advance(2),M.\u0275\u0275property("dwSm",16)("dwXs",24),M.\u0275\u0275advance(1),M.\u0275\u0275property("dwAutosize",M.\u0275\u0275pureFunction0(40,fe))}}var ge=function(){return{height:"calc(100% - 55px)",overflow:"auto","padding-bottom":"24px"}},he=function(){var e=function(){function e(t,n,r){p(this,e),this.serviceOrderSrv=t,this.fb=n,this.message=r,this.isEvaluationVisible=!1,this.visibleChanged=new M.EventEmitter,this.service_order_id="",this.form=n.group({service_order_id:"",problemSolving:[0,s.Validators.required],serviceResponseSpeed:[0,s.Validators.required],serviceAttitude:[0,s.Validators.required],serviceSatisfaction:[0,s.Validators.required],customer_feedback:[""]})}return f(e,[{key:"ngOnInit",value:function(){}},{key:"initData",value:function(e){this.service_order_id=e,this.form.setValue({service_order_id:e,problemSolving:"5",serviceResponseSpeed:0,serviceAttitude:0,serviceSatisfaction:0,customer_feedback:""})}},{key:"close",value:function(){this.form.reset({service_order_id:"",problemSolving:"5",serviceResponseSpeed:0,serviceAttitude:0,serviceSatisfaction:0,customer_feedback:""}),this.isEvaluationVisible=!1,this.visibleChanged.emit(this.isEvaluationVisible)}},{key:"submit",value:function(){var e=this,t=String(this.form.value.problemSolving)+","+String(this.form.value.serviceResponseSpeed)+","+String(this.form.value.serviceAttitude)+","+String(this.form.value.serviceSatisfaction),n=(Number(this.form.value.problemSolving)+Number(this.form.value.serviceResponseSpeed)+Number(this.form.value.serviceAttitude)+Number(this.form.value.serviceSatisfaction))/2;this.serviceOrderSrv.evaluationServiceOrder({service_order_id:this.form.value.service_order_id,customer_evaluation:t,customer_scoring:n,customer_feedback:this.form.value.customer_feedback}).subscribe(function(t){"success"===t?(e.isSuccess=!0,e.close(),e.message.create("success","\u64cd\u4f5c\u6210\u529f\uff01")):e.message.create("error",t)}),this.close()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(M.\u0275\u0275directiveInject(C.R),M.\u0275\u0275directiveInject(s.FormBuilder),M.\u0275\u0275directiveInject(g.DwMessageService))},e.\u0275cmp=M.\u0275\u0275defineComponent({type:e,selectors:[["app-service-order-evaluation"]],inputs:{isEvaluationVisible:"isEvaluationVisible"},outputs:{visibleChanged:"visibleChanged"},decls:2,vars:6,consts:[["dwTitle","\u7528\u6237\u8bc4\u4ef7",3,"dwBodyStyle","dwMaskClosable","dwWidth","dwVisible","dwOkDisabled","dwVisibleChange","dwOnCancel","dwOnOk"],["dwModalContent",""],["dw-form","",3,"formGroup"],[3,"dwSm","dwXs"],["dwName","radiogroup","formControlName","problemSolving"],["dw-radio","","dwValue","5"],["dw-radio","","dwValue","0"],["formControlName","serviceResponseSpeed",3,"dwCharacter"],["characterIcon",""],["class","score-text",4,"ngIf"],["formControlName","serviceAttitude",3,"dwCharacter"],["formControlName","serviceSatisfaction",3,"dwCharacter"],["dw-input","","maxlength","255","placeholder","\u8bf7\u8f93\u5165\u5907\u6ce8","formControlName","customer_feedback",3,"dwAutosize"],["dw-icon","","dwTheme","fill","dwType","heart"],[1,"score-text"]],template:function(e,t){1&e&&(M.\u0275\u0275elementStart(0,"dw-modal",0),M.\u0275\u0275listener("dwVisibleChange",function(e){return t.isEvaluationVisible=e})("dwOnCancel",function(){return t.close()})("dwOnOk",function(){return t.submit()}),M.\u0275\u0275template(1,ve,51,41,"ng-template",1),M.\u0275\u0275elementEnd()),2&e&&M.\u0275\u0275property("dwBodyStyle",M.\u0275\u0275pureFunction0(5,ge))("dwMaskClosable",!1)("dwWidth",420)("dwVisible",t.isEvaluationVisible)("dwOkDisabled",!t.form.valid)},directives:[A.DwModalComponent,A.DwModalContentDirective,s.\u0275NgNoValidate,s.NgControlStatusGroup,$.DwFormDirective,s.FormGroupDirective,B.DwRowDirective,$.DwFormItemComponent,B.DwColDirective,$.DwFormLabelComponent,$.DwFormControlComponent,H.DwRadioGroupComponent,s.NgControlStatus,s.FormControlName,H.DwRadioComponent,X.DwRateComponent,T.NgIf,Q.DwInputDirective,s.DefaultValueAccessor,Q.DwAutosizeDirective,s.MaxLengthValidator,q.u,W.DwIconDirective],styles:[".score-text[_ngcontent-%COMP%]{color:#00000073;font-size:12px;margin-left:12px;vertical-align:1px}"]}),e}(),we=i(62695),ye=i(71452),xe=i(83522);function _e(e,t){1&e&&M.\u0275\u0275element(0,"em",19)}function Ce(e,t){1&e&&(M.\u0275\u0275elementStart(0,"span",20),M.\u0275\u0275text(1,"\u5f88\u5dee"),M.\u0275\u0275elementEnd())}function Se(e,t){1&e&&(M.\u0275\u0275elementStart(0,"span",20),M.\u0275\u0275text(1,"\u5dee"),M.\u0275\u0275elementEnd())}function be(e,t){1&e&&(M.\u0275\u0275elementStart(0,"span",20),M.\u0275\u0275text(1,"\u4e00\u822c"),M.\u0275\u0275elementEnd())}function Ie(e,t){1&e&&(M.\u0275\u0275elementStart(0,"span",20),M.\u0275\u0275text(1,"\u6ee1\u610f"),M.\u0275\u0275elementEnd())}function Ee(e,t){1&e&&(M.\u0275\u0275elementStart(0,"span",20),M.\u0275\u0275text(1,"\u8d85\u8d5e"),M.\u0275\u0275elementEnd())}var De=function(){return{minRows:2,maxRows:2}};function Oe(e,t){if(1&e){var n=M.\u0275\u0275getCurrentView();M.\u0275\u0275elementStart(0,"tr"),M.\u0275\u0275elementStart(1,"td"),M.\u0275\u0275elementStart(2,"span",14),M.\u0275\u0275text(3),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(4,"dw-rate",15),M.\u0275\u0275listener("ngModelChange",function(e){return M.\u0275\u0275restoreView(n).$implicit.score=e}),M.\u0275\u0275elementEnd(),M.\u0275\u0275template(5,_e,1,0,"ng-template",null,16,M.\u0275\u0275templateRefExtractor),M.\u0275\u0275template(7,Ce,2,0,"span",17),M.\u0275\u0275template(8,Se,2,0,"span",17),M.\u0275\u0275template(9,be,2,0,"span",17),M.\u0275\u0275template(10,Ie,2,0,"span",17),M.\u0275\u0275template(11,Ee,2,0,"span",17),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(12,"td"),M.\u0275\u0275elementStart(13,"textarea",18),M.\u0275\u0275listener("ngModelChange",function(e){return M.\u0275\u0275restoreView(n).$implicit.explanation=e}),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd()}if(2&e){var r=t.$implicit,i=M.\u0275\u0275reference(6);M.\u0275\u0275advance(3),M.\u0275\u0275textInterpolate(r.name),M.\u0275\u0275advance(1),M.\u0275\u0275property("dwCharacter",i)("ngModel",r.score),M.\u0275\u0275advance(3),M.\u0275\u0275property("ngIf","1"==r.score),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf","2"==r.score),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf","3"==r.score),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf","4"==r.score),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf","5"==r.score),M.\u0275\u0275advance(2),M.\u0275\u0275property("dwAutosize",M.\u0275\u0275pureFunction0(10,De))("ngModel",r.explanation)}}function ke(e,t){if(1&e&&(M.\u0275\u0275elementStart(0,"form",2),M.\u0275\u0275elementStart(1,"dw-form-item"),M.\u0275\u0275elementStart(2,"dw-form-label",3),M.\u0275\u0275text(3,"\u95ee\u9898\u89e3\u51b3\u60c5\u51b5"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(4,"dw-form-control",4),M.\u0275\u0275elementStart(5,"dw-radio-group",5),M.\u0275\u0275elementStart(6,"label",6),M.\u0275\u0275text(7,"\u5df2\u89e3\u51b3"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(8,"label",6),M.\u0275\u0275text(9,"\u672a\u89e3\u51b3"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(10,"dw-table",7,8),M.\u0275\u0275elementStart(12,"thead"),M.\u0275\u0275elementStart(13,"tr",9),M.\u0275\u0275elementStart(14,"th",10),M.\u0275\u0275elementStart(15,"span",11),M.\u0275\u0275text(16,"\u56de\u8bbf\u9879\u76ee"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(17,"th",12),M.\u0275\u0275elementStart(18,"span",11),M.\u0275\u0275text(19,"\u8bf4\u660e"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(20,"tbody"),M.\u0275\u0275template(21,Oe,14,11,"tr",13),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd()),2&e){var n=M.\u0275\u0275reference(11),r=M.\u0275\u0275nextContext();M.\u0275\u0275property("formGroup",r.form),M.\u0275\u0275advance(2),M.\u0275\u0275property("dwSm",4)("dwXs",24),M.\u0275\u0275advance(2),M.\u0275\u0275property("dwSm",16)("dwXs",24),M.\u0275\u0275advance(2),M.\u0275\u0275property("dwValue",5),M.\u0275\u0275advance(2),M.\u0275\u0275property("dwValue",0),M.\u0275\u0275advance(2),M.\u0275\u0275property("dwData",r.returnvisitList)("dwFrontPagination",!1),M.\u0275\u0275advance(11),M.\u0275\u0275property("ngForOf",n.data)}}var Me=function(){return{height:"calc(100% - 55px)",overflow:"auto","padding-bottom":"24px"}},Pe=function(){var t=function(){function t(e,n,r){p(this,t),this.serviceOrderSrv=e,this.fb=n,this.message=r,this.returnvisitList=[],this.isReturnvisitVisible=!1,this.visibleChanged=new M.EventEmitter,this.service_order_id="",this.form=n.group({service_order_id:"",problemSolving:[0,s.Validators.required],problemId:[0,s.Validators.required]})}return f(t,[{key:"ngOnInit",value:function(){}},{key:"initData",value:function(t){var n=this;this.service_order_id=t,this.form.setValue({service_order_id:t,problemSolving:5,problemId:0}),this.serviceOrderSrv.getReturnvisitItemList().subscribe(function(t){var r,i=[],a=e(t);try{for(a.s();!(r=a.n()).done;){var o=r.value;"\u95ee\u9898\u89e3\u51b3\u60c5\u51b5"!==o.name?i.push({name:o.name,returnvisit_item_id:o.returnvisit_item_id,score:0,explanation:""}):n.form.get("problemId").setValue(o.returnvisit_item_id)}}catch(l){a.e(l)}finally{a.f()}n.returnvisitList=i},function(e){e.hasOwnProperty("error")&&e.error.hasOwnProperty("errorMessage")&&e.error.errorMessage&&n.message.error(e.error.errorMessage)})}},{key:"close",value:function(e){this.form.reset({service_order_id:"",problemSolving:5,problemId:0}),this.visibleChanged.emit(e)}},{key:"submit",value:function(){var t,n=this,r=[{name:"\u95ee\u9898\u89e3\u51b3\u60c5\u51b5",returnvisit_item_id:this.form.value.problemId,score:this.form.value.problemSolving+"",explanation:""}],i=e(this.returnvisitList);try{for(i.s();!(t=i.n()).done;){var a=t.value;r.push({name:a.name,returnvisit_item_id:a.returnvisit_item_id,score:a.score+"",explanation:a.explanation})}}catch(o){i.e(o)}finally{i.f()}this.serviceOrderSrv.returnvisit({service_order_id:this.form.value.service_order_id,returnvisitItems:r}).subscribe(function(e){n.close(!0),n.message.create("success","\u64cd\u4f5c\u6210\u529f\uff01")},function(e){e.hasOwnProperty("error")&&e.error.hasOwnProperty("errorMessage")&&e.error.errorMessage&&n.message.error(e.error.errorMessage)})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(M.\u0275\u0275directiveInject(m.v),M.\u0275\u0275directiveInject(s.FormBuilder),M.\u0275\u0275directiveInject(g.DwMessageService))},t.\u0275cmp=M.\u0275\u0275defineComponent({type:t,selectors:[["app-service-order-returnvisit"]],inputs:{isReturnvisitVisible:"isReturnvisitVisible"},outputs:{visibleChanged:"visibleChanged"},decls:2,vars:6,consts:[["dwTitle","\u670d\u52a1\u56de\u8bbf",3,"dwBodyStyle","dwMaskClosable","dwWidth","dwVisible","dwOkDisabled","dwVisibleChange","dwOnCancel","dwOnOk"],["dwModalContent",""],["dw-form","",3,"formGroup"],[2,"font-weight","bold",3,"dwSm","dwXs"],[3,"dwSm","dwXs"],["dwName","radiogroup","formControlName","problemSolving"],["dw-radio","",3,"dwValue"],[3,"dwData","dwFrontPagination"],["dwTable",""],["dw-tr",""],["dw-th","","width","320","dwAlign","center",2,"background","#fff"],["translate",""],["dw-th","",2,"background","#fff"],[4,"ngFor","ngForOf"],[1,"returnvisit-label"],[3,"dwCharacter","ngModel","ngModelChange"],["characterIcon",""],["class","score-text",4,"ngIf"],["dw-input","","maxlength","255",3,"dwAutosize","ngModel","ngModelChange"],["dw-icon","","dwTheme","fill","dwType","heart"],[1,"score-text"]],template:function(e,t){1&e&&(M.\u0275\u0275elementStart(0,"dw-modal",0),M.\u0275\u0275listener("dwVisibleChange",function(e){return t.isReturnvisitVisible=e})("dwOnCancel",function(){return t.close(!1)})("dwOnOk",function(){return t.submit()}),M.\u0275\u0275template(1,ke,22,10,"ng-template",1),M.\u0275\u0275elementEnd()),2&e&&M.\u0275\u0275property("dwBodyStyle",M.\u0275\u0275pureFunction0(5,Me))("dwMaskClosable",!1)("dwWidth",620)("dwVisible",t.isReturnvisitVisible)("dwOkDisabled",!t.form.valid)},directives:[A.DwModalComponent,A.DwModalContentDirective,s.\u0275NgNoValidate,s.NgControlStatusGroup,$.DwFormDirective,s.FormGroupDirective,B.DwRowDirective,$.DwFormItemComponent,B.DwColDirective,$.DwFormLabelComponent,$.DwFormControlComponent,H.DwRadioGroupComponent,s.NgControlStatus,s.FormControlName,H.DwRadioComponent,we.DwTableComponent,ye.Ct,we.DwTheadComponent,we.DwTrDirective,we.DwTableCellDirective,we.DwThMeasureDirective,ye.BL,we.DwCellAlignDirective,xe.TranslateDirective,we.DwTbodyComponent,T.NgForOf,X.DwRateComponent,s.NgModel,T.NgIf,Q.DwInputDirective,Q.DwAutosizeDirective,s.DefaultValueAccessor,s.MaxLengthValidator,q.u,W.DwIconDirective],styles:[".returnvisit-label[_ngcontent-%COMP%]{display:inline-block;width:120px;padding-right:20px;padding-left:12px;text-align:right;font-weight:bold}.score-text[_ngcontent-%COMP%]{color:#00000073;font-size:12px;margin-left:12px;vertical-align:1px}"]}),t}(),Fe=i(74591);function Ve(e,t){1&e&&(M.\u0275\u0275elementStart(0,"div",15),M.\u0275\u0275text(1,"\u539f\u5e8f\u5217\u53f7"),M.\u0275\u0275elementEnd())}function Te(e,t){1&e&&(M.\u0275\u0275elementStart(0,"div",15),M.\u0275\u0275text(1,"\u539f\u9879\u76ee\u53f7"),M.\u0275\u0275elementEnd())}var Le=function(){return{standalone:!0}};function Re(e,t){if(1&e){var n=M.\u0275\u0275getCurrentView();M.\u0275\u0275elementStart(0,"div",9),M.\u0275\u0275elementStart(1,"div",10),M.\u0275\u0275template(2,Ve,2,0,"div",11),M.\u0275\u0275template(3,Te,2,0,"div",11),M.\u0275\u0275elementStart(4,"div",12),M.\u0275\u0275text(5,"\u62a5\u4fee\u65f6\u63d0\u4ea4"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(6,"div",13),M.\u0275\u0275elementStart(7,"input",14),M.\u0275\u0275listener("ngModelChange",function(e){return M.\u0275\u0275restoreView(n),M.\u0275\u0275nextContext(2).originalSn=e}),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd()}if(2&e){var r=M.\u0275\u0275nextContext(2);M.\u0275\u0275advance(2),M.\u0275\u0275property("ngIf","1"===r.type),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf","2"===r.type),M.\u0275\u0275advance(4),M.\u0275\u0275property("ngModelOptions",M.\u0275\u0275pureFunction0(4,Le))("ngModel",r.originalSn)}}function Ae(e,t){1&e&&(M.\u0275\u0275elementStart(0,"div",15),M.\u0275\u0275text(1,"\u65b0\u5e8f\u5217\u53f7"),M.\u0275\u0275elementEnd())}function Ne(e,t){1&e&&(M.\u0275\u0275elementStart(0,"div",15),M.\u0275\u0275text(1,"\u65b0\u9879\u76ee\u53f7"),M.\u0275\u0275elementEnd())}function je(e,t){if(1&e){var n=M.\u0275\u0275getCurrentView();M.\u0275\u0275elementStart(0,"div",20),M.\u0275\u0275elementStart(1,"div",21),M.\u0275\u0275listener("click",function(){return M.\u0275\u0275restoreView(n),M.\u0275\u0275nextContext(3).changeAgree("0")}),M.\u0275\u0275text(2,"\u4e0d\u540c\u610f"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(3,"div",22),M.\u0275\u0275listener("click",function(){return M.\u0275\u0275restoreView(n),M.\u0275\u0275nextContext(3).changeAgree("1")}),M.\u0275\u0275text(4,"\u540c\u610f\u53d8\u66f4"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd()}}function ze(e,t){1&e&&(M.\u0275\u0275elementStart(0,"div",23),M.\u0275\u0275element(1,"img",24),M.\u0275\u0275text(2," \u4e0d\u540c\u610f "),M.\u0275\u0275elementEnd())}function Be(e,t){1&e&&(M.\u0275\u0275elementStart(0,"div",25),M.\u0275\u0275element(1,"img",26),M.\u0275\u0275text(2," \u540c\u610f\u53d8\u66f4 "),M.\u0275\u0275elementEnd())}function $e(e,t){1&e&&(M.\u0275\u0275elementStart(0,"div",27),M.\u0275\u0275text(1," \u8bf7\u786e\u8ba4\u5e8f\u5217\u53f7 "),M.\u0275\u0275elementEnd())}function qe(e,t){1&e&&(M.\u0275\u0275elementStart(0,"div",27),M.\u0275\u0275text(1," \u8bf7\u786e\u8ba4\u9879\u76ee\u53f7 "),M.\u0275\u0275elementEnd())}function We(e,t){if(1&e){var n=M.\u0275\u0275getCurrentView();M.\u0275\u0275elementStart(0,"div",9),M.\u0275\u0275elementStart(1,"div",10),M.\u0275\u0275template(2,Ae,2,0,"div",11),M.\u0275\u0275template(3,Ne,2,0,"div",11),M.\u0275\u0275elementStart(4,"div",12),M.\u0275\u0275text(5,"\u5de5\u7a0b\u5e08\u63d0\u4ea4"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(6,"div",13),M.\u0275\u0275elementStart(7,"input",14),M.\u0275\u0275listener("ngModelChange",function(e){return M.\u0275\u0275restoreView(n),M.\u0275\u0275nextContext(2).currentSn=e}),M.\u0275\u0275elementEnd(),M.\u0275\u0275template(8,je,5,0,"div",16),M.\u0275\u0275template(9,ze,3,0,"div",17),M.\u0275\u0275template(10,Be,3,0,"div",18),M.\u0275\u0275template(11,$e,2,0,"div",19),M.\u0275\u0275template(12,qe,2,0,"div",19),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd()}if(2&e){var r=M.\u0275\u0275nextContext(2);M.\u0275\u0275advance(2),M.\u0275\u0275property("ngIf","1"===r.type),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf","2"===r.type),M.\u0275\u0275advance(4),M.\u0275\u0275property("ngModelOptions",M.\u0275\u0275pureFunction0(9,Le))("ngModel",r.currentSn),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf",null===r.agreeChangeSn),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf","0"===r.agreeChangeSn),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf","1"===r.agreeChangeSn),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf",null===r.agreeChangeSn&&r.notCheckedAgree&&"1"===r.type),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf",null===r.agreeChangeSn&&r.notCheckedAgree&&"2"===r.type)}}var Ge=function(){return{minRows:3,maxRows:3}};function Ue(e,t){if(1&e){var n=M.\u0275\u0275getCurrentView();M.\u0275\u0275template(0,Re,8,5,"div",2),M.\u0275\u0275template(1,We,13,10,"div",2),M.\u0275\u0275elementStart(2,"p",3),M.\u0275\u0275text(3,"\u8d23\u4efb\u5f52\u5c5e"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(4,"div",4),M.\u0275\u0275elementStart(5,"div",5),M.\u0275\u0275elementStart(6,"dw-form-item"),M.\u0275\u0275elementStart(7,"label",6),M.\u0275\u0275listener("ngModelChange",function(e){return M.\u0275\u0275restoreView(n),M.\u0275\u0275nextContext().install=e})("ngModelChange",function(){return M.\u0275\u0275restoreView(n),M.\u0275\u0275nextContext().checkboxChange()}),M.\u0275\u0275text(8,"\u5b89\u88c5"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(9,"div",5),M.\u0275\u0275elementStart(10,"dw-form-item"),M.\u0275\u0275elementStart(11,"label",6),M.\u0275\u0275listener("ngModelChange",function(e){return M.\u0275\u0275restoreView(n),M.\u0275\u0275nextContext().postSale=e})("ngModelChange",function(){return M.\u0275\u0275restoreView(n),M.\u0275\u0275nextContext().checkboxChange()}),M.\u0275\u0275text(12,"\u552e\u540e"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(13,"div",4),M.\u0275\u0275elementStart(14,"div",5),M.\u0275\u0275elementStart(15,"dw-form-item"),M.\u0275\u0275elementStart(16,"label",6),M.\u0275\u0275listener("ngModelChange",function(e){return M.\u0275\u0275restoreView(n),M.\u0275\u0275nextContext().quality=e})("ngModelChange",function(){return M.\u0275\u0275restoreView(n),M.\u0275\u0275nextContext().checkboxChange()}),M.\u0275\u0275text(17,"\u54c1\u8d28"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(18,"div",5),M.\u0275\u0275elementStart(19,"dw-form-item"),M.\u0275\u0275elementStart(20,"label",6),M.\u0275\u0275listener("ngModelChange",function(e){return M.\u0275\u0275restoreView(n),M.\u0275\u0275nextContext().customer=e})("ngModelChange",function(){return M.\u0275\u0275restoreView(n),M.\u0275\u0275nextContext().checkboxChange()}),M.\u0275\u0275text(21,"\u5ba2\u6237"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(22,"div",4),M.\u0275\u0275elementStart(23,"div",5),M.\u0275\u0275elementStart(24,"dw-form-item"),M.\u0275\u0275elementStart(25,"label",6),M.\u0275\u0275listener("ngModelChange",function(e){return M.\u0275\u0275restoreView(n),M.\u0275\u0275nextContext().design=e})("ngModelChange",function(){return M.\u0275\u0275restoreView(n),M.\u0275\u0275nextContext().checkboxChange()}),M.\u0275\u0275text(26,"\u8bbe\u8ba1"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(27,"div",5),M.\u0275\u0275elementStart(28,"dw-form-item"),M.\u0275\u0275elementStart(29,"label",6),M.\u0275\u0275listener("ngModelChange",function(e){return M.\u0275\u0275restoreView(n),M.\u0275\u0275nextContext().partsQuality=e})("ngModelChange",function(){return M.\u0275\u0275restoreView(n),M.\u0275\u0275nextContext().checkboxChange()}),M.\u0275\u0275text(30,"\u96f6\u4ef6\u8d28\u91cf"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(31,"div",4),M.\u0275\u0275elementStart(32,"div",7),M.\u0275\u0275elementStart(33,"dw-form-item"),M.\u0275\u0275elementStart(34,"label",6),M.\u0275\u0275listener("ngModelChange",function(e){return M.\u0275\u0275restoreView(n),M.\u0275\u0275nextContext().produce=e})("ngModelChange",function(){return M.\u0275\u0275restoreView(n),M.\u0275\u0275nextContext().checkboxChange()}),M.\u0275\u0275text(35,"\u751f\u4ea7\u5236\u9020"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(36,"p",3),M.\u0275\u0275text(37,"\u610f\u89c1"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(38,"dw-form-item"),M.\u0275\u0275elementStart(39,"textarea",8),M.\u0275\u0275listener("ngModelChange",function(e){return M.\u0275\u0275restoreView(n),M.\u0275\u0275nextContext().remark=e}),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd()}if(2&e){var r=M.\u0275\u0275nextContext();M.\u0275\u0275property("ngIf",r.originalSn!==r.currentSn&&!r.isChangeReview),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf",r.originalSn!==r.currentSn&&!r.isChangeReview),M.\u0275\u0275advance(6),M.\u0275\u0275property("ngModel",r.install),M.\u0275\u0275advance(4),M.\u0275\u0275property("ngModel",r.postSale),M.\u0275\u0275advance(5),M.\u0275\u0275property("ngModel",r.quality),M.\u0275\u0275advance(4),M.\u0275\u0275property("ngModel",r.customer),M.\u0275\u0275advance(5),M.\u0275\u0275property("ngModel",r.design),M.\u0275\u0275advance(4),M.\u0275\u0275property("ngModel",r.partsQuality),M.\u0275\u0275advance(5),M.\u0275\u0275property("ngModel",r.produce),M.\u0275\u0275advance(5),M.\u0275\u0275property("ngModel",r.remark)("dwAutosize",M.\u0275\u0275pureFunction0(11,Ge))}}var He=function(){return{height:"calc(100% - 55px)",overflow:"auto","padding-bottom":"24px"}},Xe=function(){var e=function(){function e(t,n,r){p(this,e),this.serviceOrderSrv=t,this.fb=n,this.message=r,this.isEnableConfirm=!1,this.install=!1,this.postSale=!1,this.quality=!1,this.customer=!1,this.design=!1,this.partsQuality=!1,this.produce=!1,this.remark="",this.originalSn="",this.currentSn="",this.agreeChangeSn=null,this.isChangeReview=!1,this.type="1",this.isReviewVisible=!1,this.visibleChanged=new M.EventEmitter,this.service_order_id="",this.notCheckedAgree=!1}return f(e,[{key:"ngOnInit",value:function(){console.log(this.month("2020-9-1",6))}},{key:"initData",value:function(e,t,n,r,i){this.type=i,this.agreeChangeSn=null,this.notCheckedAgree=!1,this.service_order_id=e,this.originalSn=t,this.currentSn=n,this.isChangeReview=!!r.review_employee_name,this.isChangeReview&&(this.install=r.review_responsible_party.indexOf("\u5b89\u88c5")>=0,this.postSale=r.review_responsible_party.indexOf("\u552e\u540e")>=0,this.quality=r.review_responsible_party.indexOf("\u54c1\u8d28")>=0,this.customer=r.review_responsible_party.indexOf("\u5ba2\u6237")>=0,this.design=r.review_responsible_party.indexOf("\u8bbe\u8ba1")>=0,this.partsQuality=r.review_responsible_party.indexOf("\u96f6\u4ef6\u8d28\u91cf")>=0,this.produce=r.review_responsible_party.indexOf("\u751f\u4ea7\u5236\u9020")>=0,this.remark=r.review_opinions)}},{key:"month",value:function(e,t){var n=new Date(e);n.setDate(n.getDate()-1);var r,i=n.getFullYear();n.getMonth()+t+1>12?(i+=1,r=n.getMonth()+t-11):r=n.getMonth()+t+1;var a=n.getDate(),o=new Date(i,r,0).getDate();return i+"-"+r+"-"+(o=o<a?o:a)}},{key:"changeAgree",value:function(e){this.notCheckedAgree=!1,this.agreeChangeSn=e}},{key:"checkboxChange",value:function(){this.isEnableConfirm=this.install||this.postSale||this.quality||this.customer||this.design||this.partsQuality||this.produce}},{key:"close",value:function(e){this.install=!1,this.postSale=!1,this.quality=!1,this.customer=!1,this.design=!1,this.partsQuality=!1,this.produce=!1,this.remark="",this.visibleChanged.emit(e)}},{key:"submit",value:function(){var e=this;if(this.isChangeReview||null!==this.agreeChangeSn||this.originalSn===this.currentSn){var t=String(Number(this.install))+","+String(Number(this.quality))+","+String(Number(this.design))+","+String(Number(this.postSale))+","+String(Number(this.customer))+","+String(Number(this.partsQuality))+","+String(Number(this.produce));this.serviceOrderSrv.reviewServiceOrder({params:{service_order_id:this.service_order_id,review_responsible_party:t,review_opinions:this.remark,original_sn:this.originalSn,current_sn:this.currentSn,agree_change_sn:null===this.agreeChangeSn?"0":this.agreeChangeSn},actionName:this.isChangeReview?"U":"C"}).subscribe(function(t){"success"===t?(e.close(!0),e.message.create("success","\u64cd\u4f5c\u6210\u529f\uff01")):e.message.create("error",t)},function(t){t.hasOwnProperty("error")&&t.error.hasOwnProperty("errorMessage")&&t.error.errorMessage&&e.message.error(t.error.errorMessage)})}else this.notCheckedAgree=!0}}]),e}();return e.\u0275fac=function(t){return new(t||e)(M.\u0275\u0275directiveInject(C.R),M.\u0275\u0275directiveInject(s.FormBuilder),M.\u0275\u0275directiveInject(g.DwMessageService))},e.\u0275cmp=M.\u0275\u0275defineComponent({type:e,selectors:[["app-service-order-review"]],inputs:{isReviewVisible:"isReviewVisible"},outputs:{visibleChanged:"visibleChanged"},decls:2,vars:7,consts:[[3,"dwBodyStyle","dwMaskClosable","dwWidth","dwVisible","dwOkDisabled","dwTitle","dwVisibleChange","dwOnCancel","dwOnOk"],["dwModalContent",""],["class","sn-box",4,"ngIf"],[2,"color","#333"],["dw-row","","dwGutter","8"],["dw-col","","dwSpan","12"],["dw-checkbox","",3,"ngModel","ngModelChange"],["dw-col","","dwSpan","24"],["dw-input","","maxlength","255","placeholder","200\u5b57\u4ee5\u5185",3,"ngModel","dwAutosize","ngModelChange"],[1,"sn-box"],[1,"labels"],["class","label1",4,"ngIf"],[1,"label2"],[1,"in-box"],["dw-input","","readonly","",3,"ngModelOptions","ngModel","ngModelChange"],[1,"label1"],["class","agree-box",4,"ngIf"],["class","agree-result not",4,"ngIf"],["class","agree-result",4,"ngIf"],["class","agree-warn",4,"ngIf"],[1,"agree-box"],[1,"dis-agree",3,"click"],[1,"do-agree",3,"click"],[1,"agree-result","not"],["src","../../../../../../assets/img/icon_disagree.png","alt","\u4e0d\u540c\u610f"],[1,"agree-result"],["src","../../../../../../assets/img/icon_agree.png","alt","\u540c\u610f"],[1,"agree-warn"]],template:function(e,t){1&e&&(M.\u0275\u0275elementStart(0,"dw-modal",0),M.\u0275\u0275listener("dwVisibleChange",function(e){return t.isReviewVisible=e})("dwOnCancel",function(){return t.close(!1)})("dwOnOk",function(){return t.submit()}),M.\u0275\u0275template(1,Ue,40,12,"ng-template",1),M.\u0275\u0275elementEnd()),2&e&&M.\u0275\u0275property("dwBodyStyle",M.\u0275\u0275pureFunction0(6,He))("dwMaskClosable",!1)("dwWidth",420)("dwVisible",t.isReviewVisible)("dwOkDisabled",!t.isEnableConfirm)("dwTitle",t.isChangeReview?"\u66f4\u6539\u5ba1\u67e5":"\u5ba1\u67e5")},directives:[A.DwModalComponent,A.DwModalContentDirective,T.NgIf,B.DwRowDirective,B.DwColDirective,$.DwFormItemComponent,Fe.DwCheckboxComponent,s.NgControlStatus,s.NgModel,Q.DwInputDirective,s.DefaultValueAccessor,Q.DwAutosizeDirective,s.MaxLengthValidator],styles:[".sn-box[_ngcontent-%COMP%]{display:flex;margin-bottom:12px}.sn-box[_ngcontent-%COMP%]:nth-of-type(2){margin-bottom:24px}.sn-box[_ngcontent-%COMP%]   .labels[_ngcontent-%COMP%]{width:72px;height:32px;display:flex;flex-direction:column;justify-content:space-between}.sn-box[_ngcontent-%COMP%]   .labels[_ngcontent-%COMP%]   .label1[_ngcontent-%COMP%]{color:#333;font-size:14px;line-height:20px}.sn-box[_ngcontent-%COMP%]   .labels[_ngcontent-%COMP%]   .label2[_ngcontent-%COMP%]{color:#666;font-size:10px;line-height:14px}.sn-box[_ngcontent-%COMP%]   .in-box[_ngcontent-%COMP%]{flex:1;height:32px;display:flex;align-items:center;justify-content:center;position:relative}.sn-box[_ngcontent-%COMP%]   .in-box[_ngcontent-%COMP%]   .agree-box[_ngcontent-%COMP%]{height:32px;display:flex;justify-content:flex-end;align-items:center;position:absolute;top:0;right:12px;z-index:3}.sn-box[_ngcontent-%COMP%]   .in-box[_ngcontent-%COMP%]   .agree-box[_ngcontent-%COMP%]   .dis-agree[_ngcontent-%COMP%]{color:#999;font-size:14px;margin-right:8px;cursor:pointer}.sn-box[_ngcontent-%COMP%]   .in-box[_ngcontent-%COMP%]   .agree-box[_ngcontent-%COMP%]   .do-agree[_ngcontent-%COMP%]{color:#0d9def;font-size:14px;cursor:pointer}.sn-box[_ngcontent-%COMP%]   .in-box[_ngcontent-%COMP%]   .agree-result[_ngcontent-%COMP%]{height:32px;line-height:32px;display:flex;justify-content:flex-end;align-items:center;color:#0d9def;font-size:14px;position:absolute;top:0;right:12px;z-index:3}.sn-box[_ngcontent-%COMP%]   .in-box[_ngcontent-%COMP%]   .agree-result.not[_ngcontent-%COMP%]{color:#fe3a3a}.sn-box[_ngcontent-%COMP%]   .in-box[_ngcontent-%COMP%]   .agree-result[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:16px;margin-right:4px;margin-top:1px}.sn-box[_ngcontent-%COMP%]   .in-box[_ngcontent-%COMP%]   .agree-warn[_ngcontent-%COMP%]{color:red;font-size:12px;position:absolute;top:36px;left:0;z-index:3}"]}),e}(),Qe=i(74913);function Ke(e,t){1&e&&(M.\u0275\u0275elementStart(0,"div"),M.\u0275\u0275text(1,"\u6682\u65e0\u534f\u540c\u4eba\u6253\u5361\uff01\uff01\uff01\uff01"),M.\u0275\u0275elementEnd())}function Je(e,t){1&e&&M.\u0275\u0275element(0,"img",9)}function Ze(e,t){if(1&e&&M.\u0275\u0275element(0,"img",10),2&e){var n=M.\u0275\u0275nextContext().$implicit;M.\u0275\u0275property("src",n.image,M.\u0275\u0275sanitizeUrl)}}function Ye(e,t){1&e&&(M.\u0275\u0275elementStart(0,"span",11),M.\u0275\u0275text(1,"\u534f\u540c"),M.\u0275\u0275elementEnd())}function et(e,t){1&e&&(M.\u0275\u0275elementStart(0,"span",12),M.\u0275\u0275text(1,"\u8d1f\u8d23\u4eba"),M.\u0275\u0275elementEnd())}function tt(e,t){if(1&e&&(M.\u0275\u0275elementStart(0,"span",31),M.\u0275\u0275text(1),M.\u0275\u0275elementEnd()),2&e){var n=M.\u0275\u0275nextContext().$implicit;M.\u0275\u0275advance(1),M.\u0275\u0275textInterpolate(n.type)}}function nt(e,t){if(1&e&&(M.\u0275\u0275elementStart(0,"span",32),M.\u0275\u0275text(1),M.\u0275\u0275elementEnd()),2&e){var n=M.\u0275\u0275nextContext().$implicit;M.\u0275\u0275advance(1),M.\u0275\u0275textInterpolate(n.type)}}function rt(e,t){if(1&e&&(M.\u0275\u0275elementStart(0,"span",33),M.\u0275\u0275text(1),M.\u0275\u0275elementEnd()),2&e){var n=M.\u0275\u0275nextContext().$implicit;M.\u0275\u0275advance(1),M.\u0275\u0275textInterpolate(n.type)}}function it(e,t){if(1&e&&(M.\u0275\u0275elementStart(0,"span",34),M.\u0275\u0275text(1),M.\u0275\u0275elementEnd()),2&e){var n=M.\u0275\u0275nextContext().$implicit;M.\u0275\u0275advance(1),M.\u0275\u0275textInterpolate(n.type)}}var at=function(){return{showPreviewIcon:!0}};function ot(e,t){if(1&e){var n=M.\u0275\u0275getCurrentView();M.\u0275\u0275elementStart(0,"div",13),M.\u0275\u0275elementStart(1,"span",14),M.\u0275\u0275text(2),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(3,"div",15),M.\u0275\u0275elementStart(4,"dw-timeline"),M.\u0275\u0275elementStart(5,"dw-timeline-item",16),M.\u0275\u0275elementStart(6,"div",17),M.\u0275\u0275elementStart(7,"div",18),M.\u0275\u0275template(8,tt,2,1,"span",19),M.\u0275\u0275template(9,nt,2,1,"span",20),M.\u0275\u0275template(10,rt,2,1,"span",21),M.\u0275\u0275template(11,it,2,1,"span",22),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(12,"div",23),M.\u0275\u0275elementStart(13,"div",24),M.\u0275\u0275element(14,"img",25),M.\u0275\u0275elementStart(15,"div",26),M.\u0275\u0275text(16),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(17,"div",27),M.\u0275\u0275elementStart(18,"dw-upload",28),M.\u0275\u0275listener("dwFileListChange",function(e){return M.\u0275\u0275restoreView(n).$implicit.pictureInfos=e}),M.\u0275\u0275element(19,"em",29),M.\u0275\u0275elementStart(20,"div",30),M.\u0275\u0275text(21,"\u4e0a\u4f20"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd()}if(2&e){var r=t.$implicit,i=M.\u0275\u0275nextContext(3);M.\u0275\u0275advance(2),M.\u0275\u0275textInterpolate(null==r.report_time?null:r.report_time.slice(0,16)),M.\u0275\u0275advance(3),M.\u0275\u0275property("dwColor","#d8d8d8"),M.\u0275\u0275advance(3),M.\u0275\u0275property("ngIf",1===r.typeState),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf",2===r.typeState),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf",3===r.typeState),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf",4===r.typeState),M.\u0275\u0275advance(5),M.\u0275\u0275textInterpolate(r.location),M.\u0275\u0275advance(2),M.\u0275\u0275property("dwFileList",r.pictureInfos)("dwShowButton",r.pictureInfos.length<0)("dwShowUploadList",M.\u0275\u0275pureFunction0(11,at))("dwPreview",i.handlePreview)}}function lt(e,t){if(1&e&&(M.\u0275\u0275elementStart(0,"div"),M.\u0275\u0275elementStart(1,"p"),M.\u0275\u0275template(2,Je,1,0,"img",4),M.\u0275\u0275template(3,Ze,1,1,"img",5),M.\u0275\u0275elementStart(4,"span"),M.\u0275\u0275text(5),M.\u0275\u0275elementEnd(),M.\u0275\u0275template(6,Ye,2,0,"span",6),M.\u0275\u0275template(7,et,2,0,"span",7),M.\u0275\u0275elementEnd(),M.\u0275\u0275template(8,ot,22,12,"div",8),M.\u0275\u0275elementEnd()),2&e){var n=t.$implicit;M.\u0275\u0275advance(2),M.\u0275\u0275property("ngIf",!n.image),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf",n.image),M.\u0275\u0275advance(2),M.\u0275\u0275textInterpolate(n.name),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf",0===n.charge),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf",1===n.charge),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngForOf",n.info)}}function dt(e,t){if(1&e&&(M.\u0275\u0275template(0,Ke,2,0,"div",2),M.\u0275\u0275template(1,lt,9,6,"div",3)),2&e){var n=M.\u0275\u0275nextContext();M.\u0275\u0275property("ngIf",!(null!=n.clockList&&n.clockList.length)),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngForOf",n.clockList)}}var ct=function(){return{height:"calc(80vh - 55px)",overflow:"scroll","padding-bottom":"24px"}},st=function(){var e=function(){function e(){var n=this;p(this,e),this.isClockVisible=!1,this.visibleChanged=new M.EventEmitter,this.title="",this.previewChange=new M.EventEmitter,this.handlePreview=function(e){return(0,o.mG)(n,void 0,void 0,t().mark(function n(){return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.previewChange.emit(e);case 1:case"end":return t.stop()}},n,this)}))}}return f(e,[{key:"ngOnInit",value:function(){}},{key:"initData",value:function(e,t){console.log(e);var n=JSON.parse(JSON.stringify(e));n.forEach(function(e){e.info.forEach(function(e){e.type=e.type.slice(0,-2),e.type.indexOf("\u534f\u540c\u4eba")>=0&&(e.type=e.type.slice(3)),e.typeState=e.type.indexOf("\u51fa\u53d1")>=0?1:e.type.indexOf("\u5230\u8fbe")>=0?2:e.type.indexOf("\u9014\u7ecf")>=0?4:3})}),console.log(n),this.clockList=n,this.title="\u534f\u540c\u4eba\u6253\u5361\u8be6\u60c5 "+t}},{key:"close",value:function(){this.visibleChanged.emit()}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=M.\u0275\u0275defineComponent({type:e,selectors:[["app-service-order-clock"]],inputs:{isClockVisible:"isClockVisible"},outputs:{visibleChanged:"visibleChanged",previewChange:"previewChange"},decls:2,vars:7,consts:[[3,"dwBodyStyle","dwMaskClosable","dwWidth","dwVisible","dwTitle","dwFooter","dwVisibleChange","dwOnCancel","dwOnOk"],["dwModalContent",""],[4,"ngIf"],[4,"ngFor","ngForOf"],["src","../../../../../../assets/img/user-head.png","alt","\u5934\u50cf",4,"ngIf"],["alt","\u5934\u50cf",3,"src",4,"ngIf"],["class","type",4,"ngIf"],["class","type blueType",4,"ngIf"],["class","clock-box",4,"ngFor","ngForOf"],["src","../../../../../../assets/img/user-head.png","alt","\u5934\u50cf"],["alt","\u5934\u50cf",3,"src"],[1,"type"],[1,"type","blueType"],[1,"clock-box"],[1,"time"],[1,"time-box"],[1,"timeItem",3,"dwColor"],[1,"process-flex-box"],[1,"type-wrap"],["class","process_state blue",4,"ngIf"],["class","process_state green",4,"ngIf"],["class","process_state",4,"ngIf"],["class","process_state gray",4,"ngIf"],[1,"remark"],[1,"location"],["src","../../../../../assets/img/icon_address.png","alt","\u5730\u5740"],[1,"text"],[1,"clearfix"],["dwListType","picture-card",3,"dwFileList","dwShowButton","dwShowUploadList","dwPreview","dwFileListChange"],["dw-icon","","dwType","plus"],[1,"ant-upload-text"],[1,"process_state","blue"],[1,"process_state","green"],[1,"process_state"],[1,"process_state","gray"]],template:function(e,t){1&e&&(M.\u0275\u0275elementStart(0,"dw-modal",0),M.\u0275\u0275listener("dwVisibleChange",function(e){return t.isClockVisible=e})("dwOnCancel",function(){return t.close()})("dwOnOk",function(){return t.close()}),M.\u0275\u0275template(1,dt,2,2,"ng-template",1),M.\u0275\u0275elementEnd()),2&e&&M.\u0275\u0275property("dwBodyStyle",M.\u0275\u0275pureFunction0(6,ct))("dwMaskClosable",!1)("dwWidth",700)("dwVisible",t.isClockVisible)("dwTitle",t.title)("dwFooter",null)},directives:[A.DwModalComponent,A.DwModalContentDirective,T.NgIf,T.NgForOf,Qe.DwTimelineComponent,Qe.DwTimelineItemComponent,h.DwUploadComponent,q.u,W.DwIconDirective],styles:["p[_ngcontent-%COMP%]{font-size:14px;display:flex;align-items:center;margin-bottom:24px}p[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:50%;margin-right:8px}.type[_ngcontent-%COMP%]{font-size:11px;line-height:15px;margin-left:8px;padding:0 5px;color:#50d1a4;border:1px solid #50D1A4;border-radius:2px}.type.blueType[_ngcontent-%COMP%]{color:#01a3ff;border:1px solid #01A3FF}.clock-box[_ngcontent-%COMP%]{display:flex;align-items:flex-start;width:100%}.clock-box[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{margin-right:12px;margin-top:-5px}.clock-box[_ngcontent-%COMP%]   .time-box[_ngcontent-%COMP%]{flex:1}  .clock-box .ant-timeline-item-last>.ant-timeline-item-tail{height:calc(100%)}  .clock-box:last-child .ant-timeline-item-last>.ant-timeline-item-tail{height:calc(0%)}.time-box[_ngcontent-%COMP%]   .type-wrap[_ngcontent-%COMP%]{width:82px}.time-box[_ngcontent-%COMP%]   .process_state[_ngcontent-%COMP%]{display:inline-block;color:#fff;font-size:14px;line-height:24px;padding:0 4px;margin-right:12px;background:#e7a65e}.time-box[_ngcontent-%COMP%]   .process_state.blue[_ngcontent-%COMP%]{background:#01A3FF}.time-box[_ngcontent-%COMP%]   .process_state.green[_ngcontent-%COMP%]{background:#3DCC99}.time-box[_ngcontent-%COMP%]   .process_state.gray[_ngcontent-%COMP%]{background:#BDBDBD}.time-box[_ngcontent-%COMP%]   .process-flex-box[_ngcontent-%COMP%]{display:flex;align-items:flex-start;flex:1}.time-box[_ngcontent-%COMP%]   .remark[_ngcontent-%COMP%]{margin-top:6px;width:calc(100% - 62px)}.time-box[_ngcontent-%COMP%]   .remark[_ngcontent-%COMP%]   .location[_ngcontent-%COMP%]{display:flex;align-items:flex-start;margin-bottom:5px}.time-box[_ngcontent-%COMP%]   .remark[_ngcontent-%COMP%]   .location[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:11px;height:14px;margin-right:5px;margin-top:3px}.time-box[_ngcontent-%COMP%]   .remark[_ngcontent-%COMP%]   .location[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{font-size:14px;color:#000000d9;line-height:14px;flex:1;line-height:20px}  .time-box .ant-timeline-item-content{top:-5px}  .time-box .ant-timeline-item{padding-bottom:0}"]}),e}(),mt=i(88680),pt=i(31969),ut=i(32126),ft=function(e){l(n,e);var t=c(n);function n(e,r){var i;return p(this,n),(i=t.call(this)).dwHttp=e,i.url=r,i}return f(n,[{key:"getDataList",value:function(e,t){var n=this;return this.dwHttp.get(this.url).pipe((0,F.map)(function(r){return n._result={currentPage:e,datas:Object.assign([],r.data),pageCount:Math.ceil(r.data.length/t),pageSize:t,rowCount:r.data.length},n._result}))}}]),n}(O.DwClientPagingDataSource),vt=function(){var e=function(){function e(t,n){p(this,e),this.dwHttp=t,this.selectModalService=n,this.config={modalTitle:"\u9009\u62e9\u6545\u969c\u90e8\u4f4d",modalWidth:"50%",tableMultiSelect:!1,tableIdField:"fault_location_id",tableNameField:"name",tablePageSize:10,tableColDefs:[{title:"\u7f16\u53f7",field:"code"},{title:"\u540d\u79f0",field:"name"}],returnFields:["fault_location_id","name"],tableCustomTag:function(e){return"("+e.code+")"+e.name},dataSource:new ft(this.dwHttp,"restful/service/breakdown/Breakdown/FaultLocationForReport?codeOrName=")}}return f(e,[{key:"open",value:function(e){return this.selectModalService.open(this.config,e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(M.\u0275\u0275inject(k.DwDapHttpClient),M.\u0275\u0275inject(O.DwSelectModalService))},e.\u0275prov=M.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac}),e}(),gt=i(88531),ht=i(35626),wt=i(41430),yt=i(90697);function xt(e,t){if(1&e){var n=M.\u0275\u0275getCurrentView();M.\u0275\u0275elementStart(0,"div",20),M.\u0275\u0275listener("click",function(){return M.\u0275\u0275restoreView(n),M.\u0275\u0275nextContext(2).clearInput("orig")}),M.\u0275\u0275element(1,"em",21),M.\u0275\u0275elementEnd()}}function _t(e,t){if(1&e){var n=M.\u0275\u0275getCurrentView();M.\u0275\u0275elementStart(0,"div",22),M.\u0275\u0275listener("click",function(){var e=M.\u0275\u0275restoreView(n).index;return M.\u0275\u0275nextContext(2).swichNav(e)}),M.\u0275\u0275text(1),M.\u0275\u0275elementEnd()}if(2&e){var r=t.$implicit,i=t.index,a=M.\u0275\u0275nextContext(2);M.\u0275\u0275classMap(a.currOrigTab==i?"swiper-tab-list tab-on":"swiper-tab-list"),M.\u0275\u0275advance(1),M.\u0275\u0275textInterpolate1(" ",r.itemGroupName," ")}}function Ct(e,t){1&e&&(M.\u0275\u0275elementStart(0,"th",35),M.\u0275\u0275elementStart(1,"span",27),M.\u0275\u0275text(2,"\u5e8f\u5217\u53f7"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd())}function St(e,t){1&e&&(M.\u0275\u0275elementStart(0,"th",36),M.\u0275\u0275elementStart(1,"span",27),M.\u0275\u0275text(2,"\u5728\u4fdd\u60c5\u51b5"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd()),2&e&&M.\u0275\u0275property("dwAlign","center")}function bt(e,t){1&e&&(M.\u0275\u0275elementStart(0,"th",37),M.\u0275\u0275elementStart(1,"span",27),M.\u0275\u0275text(2,"\u5230\u671f\u66f4\u6362\u65e5\u671f"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd())}function It(e,t){1&e&&(M.\u0275\u0275elementStart(0,"span",44),M.\u0275\u0275element(1,"em",45),M.\u0275\u0275elementEnd())}function Et(e,t){if(1&e&&(M.\u0275\u0275elementStart(0,"td"),M.\u0275\u0275text(1),M.\u0275\u0275elementEnd()),2&e){var n=M.\u0275\u0275nextContext().$implicit;M.\u0275\u0275advance(1),M.\u0275\u0275textInterpolate1(" ",n.sn," ")}}function Dt(e,t){1&e&&(M.\u0275\u0275elementStart(0,"span",49),M.\u0275\u0275text(1,"\u4fdd\u5185"),M.\u0275\u0275elementEnd())}function Ot(e,t){1&e&&(M.\u0275\u0275elementStart(0,"span",50),M.\u0275\u0275text(1,"\u4fdd\u5916"),M.\u0275\u0275elementEnd())}function kt(e,t){if(1&e&&(M.\u0275\u0275elementStart(0,"td",46),M.\u0275\u0275template(1,Dt,2,0,"span",47),M.\u0275\u0275template(2,Ot,2,0,"span",48),M.\u0275\u0275elementEnd()),2&e){var n=M.\u0275\u0275nextContext().$implicit;M.\u0275\u0275property("dwAlign","center"),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf",n.underWarranty),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf",!n.underWarranty)}}function Mt(e,t){if(1&e&&(M.\u0275\u0275elementStart(0,"td"),M.\u0275\u0275text(1),M.\u0275\u0275pipe(2,"date"),M.\u0275\u0275elementEnd()),2&e){var n=M.\u0275\u0275nextContext().$implicit;M.\u0275\u0275advance(1),M.\u0275\u0275textInterpolate1(" ",M.\u0275\u0275pipeBind2(2,1,n.replacement_date,"yyyy-MM-dd")," ")}}function Pt(e,t){if(1&e&&M.\u0275\u0275element(0,"app-big-img",51),2&e){var n=M.\u0275\u0275nextContext().$implicit;M.\u0275\u0275property("item",n)}}function Ft(e,t){if(1&e&&(M.\u0275\u0275elementStart(0,"tr"),M.\u0275\u0275elementStart(1,"td",38),M.\u0275\u0275element(2,"label",39),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(3,"td"),M.\u0275\u0275template(4,It,2,0,"span",40),M.\u0275\u0275text(5),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(6,"td"),M.\u0275\u0275text(7),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(8,"td"),M.\u0275\u0275text(9),M.\u0275\u0275elementEnd(),M.\u0275\u0275template(10,Et,2,1,"td",41),M.\u0275\u0275template(11,kt,3,3,"td",42),M.\u0275\u0275template(12,Mt,3,4,"td",41),M.\u0275\u0275elementStart(13,"td"),M.\u0275\u0275template(14,Pt,1,1,"app-big-img",43),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd()),2&e){var n=t.$implicit,r=M.\u0275\u0275nextContext(3);M.\u0275\u0275advance(1),M.\u0275\u0275property("dwAlign","center"),M.\u0275\u0275advance(1),M.\u0275\u0275propertyInterpolate("dwValue",n.materialId+n.sn+n.replacement_date),M.\u0275\u0275advance(2),M.\u0275\u0275property("ngIf",n.quickwear_part),M.\u0275\u0275advance(1),M.\u0275\u0275textInterpolate1(" ",n.materialCode," "),M.\u0275\u0275advance(2),M.\u0275\u0275textInterpolate1(" ",n.materialName," "),M.\u0275\u0275advance(2),M.\u0275\u0275textInterpolate1(" ",n.specification," "),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf","0"===r.typeIdx),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf","0"===r.typeIdx),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf","0"===r.typeIdx),M.\u0275\u0275advance(2),M.\u0275\u0275property("ngIf",n.url)}}function Vt(e,t){if(1&e){var n=M.\u0275\u0275getCurrentView();M.\u0275\u0275elementStart(0,"div"),M.\u0275\u0275elementStart(1,"dw-table",23,24),M.\u0275\u0275listener("dwPageIndexChange",function(e){var t=M.\u0275\u0275restoreView(n).index;return M.\u0275\u0275nextContext(2).materialGroups[t].pageIndex=e})("dwPageSizeChange",function(e){var t=M.\u0275\u0275restoreView(n).index;return M.\u0275\u0275nextContext(2).materialGroups[t].pageSize=e})("dwPageIndexChange",function(e){return M.\u0275\u0275restoreView(n),M.\u0275\u0275nextContext(2).pageIndexChange(e)}),M.\u0275\u0275elementStart(3,"thead"),M.\u0275\u0275elementStart(4,"tr",25),M.\u0275\u0275elementStart(5,"th",26),M.\u0275\u0275element(6,"span",27),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(7,"th",28),M.\u0275\u0275elementStart(8,"span",27),M.\u0275\u0275text(9,"\u914d\u4ef6\u7f16\u53f7"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(10,"th",29),M.\u0275\u0275elementStart(11,"span",27),M.\u0275\u0275text(12,"\u914d\u4ef6\u540d\u79f0"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(13,"th",29),M.\u0275\u0275elementStart(14,"span",27),M.\u0275\u0275text(15,"\u89c4\u683c"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275template(16,Ct,3,0,"th",30),M.\u0275\u0275template(17,St,3,1,"th",31),M.\u0275\u0275template(18,bt,3,0,"th",32),M.\u0275\u0275elementStart(19,"th",33),M.\u0275\u0275elementStart(20,"span",27),M.\u0275\u0275text(21,"\u56fe\u7247"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(22,"tbody"),M.\u0275\u0275template(23,Ft,15,10,"tr",34),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd()}if(2&e){var r=t.index,i=M.\u0275\u0275reference(2),a=M.\u0275\u0275nextContext(2);M.\u0275\u0275classMap(a.currOrigTab==r?"scroll-box":"scroll-box hide"),M.\u0275\u0275advance(1),M.\u0275\u0275property("dwData",a.materialGroups[r].list)("dwFrontPagination",!1)("dwTotal",a.materialGroups[r].itemCount)("dwPageIndex",a.materialGroups[r].pageIndex)("dwPageSize",a.materialGroups[r].pageSize),M.\u0275\u0275advance(15),M.\u0275\u0275property("ngIf","0"===a.typeIdx),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf","0"===a.typeIdx),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf","0"===a.typeIdx),M.\u0275\u0275advance(5),M.\u0275\u0275property("ngForOf",i.data)}}function Tt(e,t){if(1&e){var n=M.\u0275\u0275getCurrentView();M.\u0275\u0275elementStart(0,"div",3),M.\u0275\u0275elementStart(1,"div",4),M.\u0275\u0275elementStart(2,"div",5),M.\u0275\u0275elementStart(3,"dw-select",6),M.\u0275\u0275listener("ngModelChange",function(e){return M.\u0275\u0275restoreView(n),M.\u0275\u0275nextContext().typeIdx=e})("ngModelChange",function(e){return M.\u0275\u0275restoreView(n),M.\u0275\u0275nextContext().bindPickerChange(e,"orig")}),M.\u0275\u0275element(4,"dw-option",7),M.\u0275\u0275element(5,"dw-option",8),M.\u0275\u0275element(6,"dw-option",9),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(7,"div",10),M.\u0275\u0275elementStart(8,"div",11),M.\u0275\u0275listener("click",function(){return M.\u0275\u0275restoreView(n),M.\u0275\u0275nextContext().getMaterialGroups()}),M.\u0275\u0275element(9,"em",12),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(10,"input",13),M.\u0275\u0275listener("ngModelChange",function(e){return M.\u0275\u0275restoreView(n),M.\u0275\u0275nextContext().searchValue=e})("keydown",function(e){return M.\u0275\u0275restoreView(n),M.\u0275\u0275nextContext().onKeydown("oldInput",e)}),M.\u0275\u0275elementEnd(),M.\u0275\u0275template(11,xt,2,0,"div",14),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(12,"div",15),M.\u0275\u0275elementStart(13,"div",16),M.\u0275\u0275template(14,_t,2,3,"div",17),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(15,"dw-radio-group",18),M.\u0275\u0275listener("ngModelChange",function(e){return M.\u0275\u0275restoreView(n),M.\u0275\u0275nextContext().origPartId=e}),M.\u0275\u0275template(16,Vt,24,11,"div",19),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd()}if(2&e){var r=M.\u0275\u0275nextContext();M.\u0275\u0275advance(3),M.\u0275\u0275property("ngModel",r.typeIdx),M.\u0275\u0275advance(7),M.\u0275\u0275property("ngModel",r.searchValue),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf",r.searchValue),M.\u0275\u0275advance(3),M.\u0275\u0275property("ngForOf",r.materialGroups),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngModel",r.origPartId),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngForOf",r.materialGroups)}}function Lt(e,t){if(1&e&&M.\u0275\u0275element(0,"app-big-img",51),2&e){var n=M.\u0275\u0275nextContext().$implicit;M.\u0275\u0275property("item",n)}}function Rt(e,t){if(1&e&&(M.\u0275\u0275elementStart(0,"tr"),M.\u0275\u0275elementStart(1,"td",38),M.\u0275\u0275element(2,"label",56),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(3,"td"),M.\u0275\u0275text(4),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(5,"td"),M.\u0275\u0275text(6),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(7,"td"),M.\u0275\u0275text(8),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(9,"td",57),M.\u0275\u0275text(10),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(11,"td"),M.\u0275\u0275template(12,Lt,1,1,"app-big-img",43),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd()),2&e){var n=t.$implicit;M.\u0275\u0275advance(1),M.\u0275\u0275property("dwAlign","center"),M.\u0275\u0275advance(1),M.\u0275\u0275property("dwValue",n.material_id+""+n.parts_delivery_details_id),M.\u0275\u0275advance(2),M.\u0275\u0275textInterpolate1(" ",n.material_code," "),M.\u0275\u0275advance(2),M.\u0275\u0275textInterpolate1(" ",n.material_name," "),M.\u0275\u0275advance(2),M.\u0275\u0275textInterpolate1(" ",n.specification," "),M.\u0275\u0275advance(2),M.\u0275\u0275textInterpolate1(" ",n.canUse," "),M.\u0275\u0275advance(2),M.\u0275\u0275property("ngIf",n.url)}}function At(e,t){if(1&e){var n=M.\u0275\u0275getCurrentView();M.\u0275\u0275elementStart(0,"div",3),M.\u0275\u0275elementStart(1,"dw-checkbox-wrapper",52),M.\u0275\u0275listener("dwOnChange",function(e){return M.\u0275\u0275restoreView(n),M.\u0275\u0275nextContext().checkboxChange(e)}),M.\u0275\u0275elementStart(2,"dw-table",53,24),M.\u0275\u0275elementStart(4,"thead"),M.\u0275\u0275elementStart(5,"tr",25),M.\u0275\u0275elementStart(6,"th",54),M.\u0275\u0275element(7,"span",27),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(8,"th",54),M.\u0275\u0275elementStart(9,"span",27),M.\u0275\u0275text(10,"\u914d\u4ef6\u7f16\u53f7"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(11,"th",54),M.\u0275\u0275elementStart(12,"span",27),M.\u0275\u0275text(13,"\u914d\u4ef6\u540d\u79f0"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(14,"th",54),M.\u0275\u0275elementStart(15,"span",27),M.\u0275\u0275text(16,"\u89c4\u683c"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(17,"th",55),M.\u0275\u0275elementStart(18,"span",27),M.\u0275\u0275text(19,"\u6570\u91cf"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(20,"th",54),M.\u0275\u0275elementStart(21,"span",27),M.\u0275\u0275text(22,"\u56fe\u7247"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(23,"tbody"),M.\u0275\u0275template(24,Rt,13,7,"tr",34),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd()}if(2&e){var r=M.\u0275\u0275reference(3),i=M.\u0275\u0275nextContext();M.\u0275\u0275advance(2),M.\u0275\u0275property("dwData",i.newParts)("dwPageSize",10),M.\u0275\u0275advance(22),M.\u0275\u0275property("ngForOf",r.data)}}function Nt(e,t){if(1&e){var n=M.\u0275\u0275getCurrentView();M.\u0275\u0275elementStart(0,"div",22),M.\u0275\u0275listener("click",function(){var e=M.\u0275\u0275restoreView(n).index;return M.\u0275\u0275nextContext(2).swichNavForMode1(e)}),M.\u0275\u0275text(1),M.\u0275\u0275elementEnd()}if(2&e){var r=t.$implicit,i=t.index,a=M.\u0275\u0275nextContext(2);M.\u0275\u0275classMap(a.currNewMode1Tab==i?"swiper-tab-list tab-on":"swiper-tab-list"),M.\u0275\u0275advance(1),M.\u0275\u0275textInterpolate1(" ",r.itemGroupName," ")}}function jt(e,t){if(1&e&&M.\u0275\u0275element(0,"app-big-img",51),2&e){var n=M.\u0275\u0275nextContext().$implicit;M.\u0275\u0275property("item",n)}}function zt(e,t){if(1&e&&(M.\u0275\u0275elementStart(0,"tr"),M.\u0275\u0275elementStart(1,"td",38),M.\u0275\u0275element(2,"label",56),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(3,"td"),M.\u0275\u0275text(4),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(5,"td"),M.\u0275\u0275text(6),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(7,"td"),M.\u0275\u0275text(8),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(9,"td",57),M.\u0275\u0275text(10),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(11,"td"),M.\u0275\u0275template(12,jt,1,1,"app-big-img",43),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd()),2&e){var n=t.$implicit;M.\u0275\u0275advance(1),M.\u0275\u0275property("dwAlign","center"),M.\u0275\u0275advance(1),M.\u0275\u0275property("dwValue",n.material_id+""+n.parts_delivery_details_id),M.\u0275\u0275advance(2),M.\u0275\u0275textInterpolate1(" ",n.material_code," "),M.\u0275\u0275advance(2),M.\u0275\u0275textInterpolate1(" ",n.material_name," "),M.\u0275\u0275advance(2),M.\u0275\u0275textInterpolate1(" ",n.specification," "),M.\u0275\u0275advance(2),M.\u0275\u0275textInterpolate1(" ",n.parts_delivery_details_id?n.canUse:n.inv_qty," "),M.\u0275\u0275advance(2),M.\u0275\u0275property("ngIf",n.url)}}function Bt(e,t){if(1&e&&(M.\u0275\u0275elementStart(0,"div"),M.\u0275\u0275elementStart(1,"dw-table",53,24),M.\u0275\u0275elementStart(3,"thead"),M.\u0275\u0275elementStart(4,"tr",25),M.\u0275\u0275elementStart(5,"th",54),M.\u0275\u0275element(6,"span",27),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(7,"th",54),M.\u0275\u0275elementStart(8,"span",27),M.\u0275\u0275text(9,"\u914d\u4ef6\u7f16\u53f7"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(10,"th",54),M.\u0275\u0275elementStart(11,"span",27),M.\u0275\u0275text(12,"\u914d\u4ef6\u540d\u79f0"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(13,"th",54),M.\u0275\u0275elementStart(14,"span",27),M.\u0275\u0275text(15,"\u89c4\u683c"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(16,"th",55),M.\u0275\u0275elementStart(17,"span",27),M.\u0275\u0275text(18,"\u6570\u91cf"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(19,"th",54),M.\u0275\u0275elementStart(20,"span",27),M.\u0275\u0275text(21,"\u56fe\u7247"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(22,"tbody"),M.\u0275\u0275template(23,zt,13,7,"tr",34),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd()),2&e){var n=t.index,r=M.\u0275\u0275reference(2),i=M.\u0275\u0275nextContext(2);M.\u0275\u0275classMap(i.currNewMode1Tab==n?"scroll-box":"scroll-box hide"),M.\u0275\u0275advance(1),M.\u0275\u0275property("dwData",i.materialGroupsForMode1[n].list)("dwPageSize",10),M.\u0275\u0275advance(22),M.\u0275\u0275property("ngForOf",r.data)}}function $t(e,t){if(1&e){var n=M.\u0275\u0275getCurrentView();M.\u0275\u0275elementStart(0,"div",3),M.\u0275\u0275elementStart(1,"div",58),M.\u0275\u0275elementStart(2,"div",16),M.\u0275\u0275template(3,Nt,2,3,"div",17),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(4,"dw-checkbox-wrapper",52),M.\u0275\u0275listener("dwOnChange",function(e){return M.\u0275\u0275restoreView(n),M.\u0275\u0275nextContext().checkboxChange(e)}),M.\u0275\u0275template(5,Bt,24,5,"div",19),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd()}if(2&e){var r=M.\u0275\u0275nextContext();M.\u0275\u0275advance(3),M.\u0275\u0275property("ngForOf",r.materialGroupsForMode1),M.\u0275\u0275advance(2),M.\u0275\u0275property("ngForOf",r.materialGroupsForMode1)}}function qt(e,t){1&e&&M.\u0275\u0275element(0,"dw-option",7)}function Wt(e,t){if(1&e){var n=M.\u0275\u0275getCurrentView();M.\u0275\u0275elementStart(0,"div",20),M.\u0275\u0275listener("click",function(){return M.\u0275\u0275restoreView(n),M.\u0275\u0275nextContext(2).clearInput("noRelate")}),M.\u0275\u0275element(1,"em",21),M.\u0275\u0275elementEnd()}}function Gt(e,t){if(1&e){var n=M.\u0275\u0275getCurrentView();M.\u0275\u0275elementStart(0,"div",22),M.\u0275\u0275listener("click",function(){var e=M.\u0275\u0275restoreView(n).index;return M.\u0275\u0275nextContext(2).swichNavForNoRelate(e)}),M.\u0275\u0275text(1),M.\u0275\u0275elementEnd()}if(2&e){var r=t.$implicit,i=t.index,a=M.\u0275\u0275nextContext(2);M.\u0275\u0275classMap(a.currNewTab==i?"swiper-tab-list tab-on":"swiper-tab-list"),M.\u0275\u0275advance(1),M.\u0275\u0275textInterpolate1(" ",r.itemGroupName," ")}}function Ut(e,t){1&e&&(M.\u0275\u0275elementStart(0,"th",35),M.\u0275\u0275elementStart(1,"span",27),M.\u0275\u0275text(2,"\u5e8f\u5217\u53f7"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd())}function Ht(e,t){1&e&&(M.\u0275\u0275elementStart(0,"th",36),M.\u0275\u0275elementStart(1,"span",27),M.\u0275\u0275text(2,"\u5728\u4fdd\u60c5\u51b5"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd()),2&e&&M.\u0275\u0275property("dwAlign","center")}function Xt(e,t){1&e&&(M.\u0275\u0275elementStart(0,"th",37),M.\u0275\u0275elementStart(1,"span",27),M.\u0275\u0275text(2,"\u5230\u671f\u66f4\u6362\u65e5\u671f"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd())}function Qt(e,t){1&e&&(M.\u0275\u0275elementStart(0,"span",44),M.\u0275\u0275element(1,"em",45),M.\u0275\u0275elementEnd())}function Kt(e,t){if(1&e&&(M.\u0275\u0275elementStart(0,"td"),M.\u0275\u0275text(1),M.\u0275\u0275elementEnd()),2&e){var n=M.\u0275\u0275nextContext().$implicit;M.\u0275\u0275advance(1),M.\u0275\u0275textInterpolate1(" ",n.sn," ")}}function Jt(e,t){1&e&&(M.\u0275\u0275elementStart(0,"span",49),M.\u0275\u0275text(1,"\u4fdd\u5185"),M.\u0275\u0275elementEnd())}function Zt(e,t){1&e&&(M.\u0275\u0275elementStart(0,"span",50),M.\u0275\u0275text(1,"\u4fdd\u5916"),M.\u0275\u0275elementEnd())}function Yt(e,t){if(1&e&&(M.\u0275\u0275elementStart(0,"td",46),M.\u0275\u0275template(1,Jt,2,0,"span",47),M.\u0275\u0275template(2,Zt,2,0,"span",48),M.\u0275\u0275elementEnd()),2&e){var n=M.\u0275\u0275nextContext().$implicit;M.\u0275\u0275property("dwAlign","center"),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf",n.underWarranty),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf",!n.underWarranty)}}function en(e,t){if(1&e&&(M.\u0275\u0275elementStart(0,"td"),M.\u0275\u0275text(1),M.\u0275\u0275pipe(2,"date"),M.\u0275\u0275elementEnd()),2&e){var n=M.\u0275\u0275nextContext().$implicit;M.\u0275\u0275advance(1),M.\u0275\u0275textInterpolate1(" ",M.\u0275\u0275pipeBind2(2,1,n.replacement_date,"yyyy-MM-dd")," ")}}function tn(e,t){if(1&e&&M.\u0275\u0275element(0,"app-big-img",51),2&e){var n=M.\u0275\u0275nextContext().$implicit;M.\u0275\u0275property("item",n)}}function nn(e,t){if(1&e&&(M.\u0275\u0275elementStart(0,"tr"),M.\u0275\u0275elementStart(1,"td",38),M.\u0275\u0275element(2,"label",56),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(3,"td"),M.\u0275\u0275template(4,Qt,2,0,"span",40),M.\u0275\u0275text(5),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(6,"td"),M.\u0275\u0275text(7),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(8,"td"),M.\u0275\u0275text(9),M.\u0275\u0275elementEnd(),M.\u0275\u0275template(10,Kt,2,1,"td",41),M.\u0275\u0275template(11,Yt,3,3,"td",42),M.\u0275\u0275template(12,en,3,4,"td",41),M.\u0275\u0275elementStart(13,"td"),M.\u0275\u0275template(14,tn,1,1,"app-big-img",43),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd()),2&e){var n=t.$implicit,r=M.\u0275\u0275nextContext(3);M.\u0275\u0275advance(1),M.\u0275\u0275property("dwAlign","center"),M.\u0275\u0275advance(1),M.\u0275\u0275property("dwValue",n.materialId+n.sn+n.replacement_date),M.\u0275\u0275advance(2),M.\u0275\u0275property("ngIf",n.quickwear_part),M.\u0275\u0275advance(1),M.\u0275\u0275textInterpolate1(" ",n.materialCode," "),M.\u0275\u0275advance(2),M.\u0275\u0275textInterpolate1(" ",n.materialName," "),M.\u0275\u0275advance(2),M.\u0275\u0275textInterpolate1(" ",n.specification," "),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf","0"===r.typeIdx),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf","0"===r.typeIdx),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf","0"===r.typeIdx),M.\u0275\u0275advance(2),M.\u0275\u0275property("ngIf",n.url)}}function rn(e,t){if(1&e){var n=M.\u0275\u0275getCurrentView();M.\u0275\u0275elementStart(0,"div"),M.\u0275\u0275elementStart(1,"dw-table",23,24),M.\u0275\u0275listener("dwPageIndexChange",function(e){var t=M.\u0275\u0275restoreView(n).index;return M.\u0275\u0275nextContext(2).materialGroupsForNoRelate[t].pageIndex=e})("dwPageSizeChange",function(e){var t=M.\u0275\u0275restoreView(n).index;return M.\u0275\u0275nextContext(2).materialGroupsForNoRelate[t].pageSize=e})("dwPageIndexChange",function(e){return M.\u0275\u0275restoreView(n),M.\u0275\u0275nextContext(2).newPageIndexChange(e)}),M.\u0275\u0275elementStart(3,"thead"),M.\u0275\u0275elementStart(4,"tr",25),M.\u0275\u0275elementStart(5,"th",26),M.\u0275\u0275element(6,"span",27),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(7,"th",28),M.\u0275\u0275elementStart(8,"span",27),M.\u0275\u0275text(9,"\u914d\u4ef6\u7f16\u53f7"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(10,"th",29),M.\u0275\u0275elementStart(11,"span",27),M.\u0275\u0275text(12,"\u914d\u4ef6\u540d\u79f0"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(13,"th",29),M.\u0275\u0275elementStart(14,"span",27),M.\u0275\u0275text(15,"\u89c4\u683c"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275template(16,Ut,3,0,"th",30),M.\u0275\u0275template(17,Ht,3,1,"th",31),M.\u0275\u0275template(18,Xt,3,0,"th",32),M.\u0275\u0275elementStart(19,"th",33),M.\u0275\u0275elementStart(20,"span",27),M.\u0275\u0275text(21,"\u56fe\u7247"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(22,"tbody"),M.\u0275\u0275template(23,nn,15,10,"tr",34),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd()}if(2&e){var r=t.index,i=M.\u0275\u0275reference(2),a=M.\u0275\u0275nextContext(2);M.\u0275\u0275classMap(a.currNewTab==r?"scroll-box":"scroll-box hide"),M.\u0275\u0275advance(1),M.\u0275\u0275property("dwData",a.materialGroupsForNoRelate[r].list)("dwFrontPagination",!1)("dwTotal",a.materialGroupsForNoRelate[r].itemCount)("dwPageIndex",a.materialGroupsForNoRelate[r].pageIndex)("dwPageSize",a.materialGroupsForNoRelate[r].pageSize),M.\u0275\u0275advance(15),M.\u0275\u0275property("ngIf","0"===a.typeIdx),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf","0"===a.typeIdx),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf","0"===a.typeIdx),M.\u0275\u0275advance(5),M.\u0275\u0275property("ngForOf",i.data)}}function an(e,t){if(1&e){var n=M.\u0275\u0275getCurrentView();M.\u0275\u0275elementStart(0,"div",3),M.\u0275\u0275elementStart(1,"div",4),M.\u0275\u0275elementStart(2,"div",5),M.\u0275\u0275elementStart(3,"dw-select",6),M.\u0275\u0275listener("ngModelChange",function(e){return M.\u0275\u0275restoreView(n),M.\u0275\u0275nextContext().typeIdx=e})("ngModelChange",function(e){return M.\u0275\u0275restoreView(n),M.\u0275\u0275nextContext().bindPickerChange(e,"noRelate")}),M.\u0275\u0275template(4,qt,1,0,"dw-option",59),M.\u0275\u0275element(5,"dw-option",8),M.\u0275\u0275element(6,"dw-option",9),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(7,"div",10),M.\u0275\u0275elementStart(8,"div",11),M.\u0275\u0275listener("click",function(){return M.\u0275\u0275restoreView(n),M.\u0275\u0275nextContext().getMaterialGroupsForNoRelate()}),M.\u0275\u0275element(9,"em",12),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(10,"input",13),M.\u0275\u0275listener("ngModelChange",function(e){return M.\u0275\u0275restoreView(n),M.\u0275\u0275nextContext().searchValue=e})("keydown",function(e){return M.\u0275\u0275restoreView(n),M.\u0275\u0275nextContext().onKeydown("newInputNoRelate",e)}),M.\u0275\u0275elementEnd(),M.\u0275\u0275template(11,Wt,2,0,"div",14),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(12,"div",15),M.\u0275\u0275elementStart(13,"div",16),M.\u0275\u0275template(14,Gt,2,3,"div",17),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(15,"dw-checkbox-wrapper",52),M.\u0275\u0275listener("dwOnChange",function(e){return M.\u0275\u0275restoreView(n),M.\u0275\u0275nextContext().checkboxChange(e)}),M.\u0275\u0275template(16,rn,24,11,"div",19),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd()}if(2&e){var r=M.\u0275\u0275nextContext();M.\u0275\u0275advance(3),M.\u0275\u0275property("ngModel",r.typeIdx),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf","1"===r.type),M.\u0275\u0275advance(6),M.\u0275\u0275property("ngModel",r.searchValue),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf",r.searchValue),M.\u0275\u0275advance(3),M.\u0275\u0275property("ngForOf",r.materialGroupsForNoRelate),M.\u0275\u0275advance(2),M.\u0275\u0275property("ngForOf",r.materialGroupsForNoRelate)}}function on(e,t){1&e&&M.\u0275\u0275element(0,"dw-option",7)}function ln(e,t){1&e&&M.\u0275\u0275element(0,"dw-option",62)}function dn(e,t){if(1&e){var n=M.\u0275\u0275getCurrentView();M.\u0275\u0275elementStart(0,"div",20),M.\u0275\u0275listener("click",function(){return M.\u0275\u0275restoreView(n),M.\u0275\u0275nextContext(2).clearInput("machineReceive")}),M.\u0275\u0275element(1,"em",21),M.\u0275\u0275elementEnd()}}function cn(e,t){if(1&e){var n=M.\u0275\u0275getCurrentView();M.\u0275\u0275elementStart(0,"div",22),M.\u0275\u0275listener("click",function(){var e=M.\u0275\u0275restoreView(n).index;return M.\u0275\u0275nextContext(2).swichNavForMachineReceive(e)}),M.\u0275\u0275text(1),M.\u0275\u0275elementEnd()}if(2&e){var r=t.$implicit,i=t.index,a=M.\u0275\u0275nextContext(2);M.\u0275\u0275classMap(a.currNewTab==i?"swiper-tab-list tab-on":"swiper-tab-list"),M.\u0275\u0275advance(1),M.\u0275\u0275textInterpolate1(" ",r.itemGroupName," ")}}function sn(e,t){1&e&&(M.\u0275\u0275elementStart(0,"th",35),M.\u0275\u0275elementStart(1,"span",27),M.\u0275\u0275text(2,"\u5e8f\u5217\u53f7"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd())}function mn(e,t){1&e&&(M.\u0275\u0275elementStart(0,"th",36),M.\u0275\u0275elementStart(1,"span",27),M.\u0275\u0275text(2,"\u5728\u4fdd\u60c5\u51b5"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd()),2&e&&M.\u0275\u0275property("dwAlign","center")}function pn(e,t){1&e&&(M.\u0275\u0275elementStart(0,"th",37),M.\u0275\u0275elementStart(1,"span",27),M.\u0275\u0275text(2,"\u5230\u671f\u66f4\u6362\u65e5\u671f"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd())}function un(e,t){1&e&&(M.\u0275\u0275elementStart(0,"th",64),M.\u0275\u0275elementStart(1,"span",27),M.\u0275\u0275text(2,"\u6570\u91cf"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd())}function fn(e,t){1&e&&(M.\u0275\u0275elementStart(0,"span",44),M.\u0275\u0275element(1,"em",45),M.\u0275\u0275elementEnd())}function vn(e,t){if(1&e&&(M.\u0275\u0275elementStart(0,"td"),M.\u0275\u0275text(1),M.\u0275\u0275elementEnd()),2&e){var n=M.\u0275\u0275nextContext().$implicit;M.\u0275\u0275advance(1),M.\u0275\u0275textInterpolate1(" ",n.sn," ")}}function gn(e,t){1&e&&(M.\u0275\u0275elementStart(0,"span",49),M.\u0275\u0275text(1,"\u4fdd\u5185"),M.\u0275\u0275elementEnd())}function hn(e,t){1&e&&(M.\u0275\u0275elementStart(0,"span",50),M.\u0275\u0275text(1,"\u4fdd\u5916"),M.\u0275\u0275elementEnd())}function wn(e,t){if(1&e&&(M.\u0275\u0275elementStart(0,"td",46),M.\u0275\u0275template(1,gn,2,0,"span",47),M.\u0275\u0275template(2,hn,2,0,"span",48),M.\u0275\u0275elementEnd()),2&e){var n=M.\u0275\u0275nextContext().$implicit;M.\u0275\u0275property("dwAlign","center"),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf",n.underWarranty),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf",!n.underWarranty)}}function yn(e,t){if(1&e&&(M.\u0275\u0275elementStart(0,"td"),M.\u0275\u0275text(1),M.\u0275\u0275pipe(2,"date"),M.\u0275\u0275elementEnd()),2&e){var n=M.\u0275\u0275nextContext().$implicit;M.\u0275\u0275advance(1),M.\u0275\u0275textInterpolate1(" ",M.\u0275\u0275pipeBind2(2,1,n.replacement_date,"yyyy-MM-dd")," ")}}function xn(e,t){if(1&e&&(M.\u0275\u0275elementStart(0,"td",57),M.\u0275\u0275text(1),M.\u0275\u0275elementEnd()),2&e){var n=M.\u0275\u0275nextContext().$implicit;M.\u0275\u0275advance(1),M.\u0275\u0275textInterpolate1(" ",n.parts_delivery_details_id?n.canUse:n.inv_qty," ")}}function _n(e,t){if(1&e&&M.\u0275\u0275element(0,"app-big-img",51),2&e){var n=M.\u0275\u0275nextContext().$implicit;M.\u0275\u0275property("item",n)}}function Cn(e,t){if(1&e&&(M.\u0275\u0275elementStart(0,"tr"),M.\u0275\u0275elementStart(1,"td",38),M.\u0275\u0275element(2,"label",56),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(3,"td"),M.\u0275\u0275template(4,fn,2,0,"span",40),M.\u0275\u0275text(5),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(6,"td"),M.\u0275\u0275text(7),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(8,"td"),M.\u0275\u0275text(9),M.\u0275\u0275elementEnd(),M.\u0275\u0275template(10,vn,2,1,"td",41),M.\u0275\u0275template(11,wn,3,3,"td",42),M.\u0275\u0275template(12,yn,3,4,"td",41),M.\u0275\u0275template(13,xn,2,1,"td",65),M.\u0275\u0275elementStart(14,"td"),M.\u0275\u0275template(15,_n,1,1,"app-big-img",43),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd()),2&e){var n=t.$implicit,r=M.\u0275\u0275nextContext(3);M.\u0275\u0275advance(1),M.\u0275\u0275property("dwAlign","center"),M.\u0275\u0275advance(1),M.\u0275\u0275property("dwValue",n.materialId+n.sn+n.parts_delivery_details_id+n.replacement_date),M.\u0275\u0275advance(2),M.\u0275\u0275property("ngIf",n.quickwear_part),M.\u0275\u0275advance(1),M.\u0275\u0275textInterpolate1(" ",n.materialCode," "),M.\u0275\u0275advance(2),M.\u0275\u0275textInterpolate1(" ",n.materialName," "),M.\u0275\u0275advance(2),M.\u0275\u0275textInterpolate1(" ",n.specification," "),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf","0"===r.typeIdx),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf","0"===r.typeIdx),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf","0"===r.typeIdx),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf","3"===r.typeIdx||"4"===r.typeIdx),M.\u0275\u0275advance(2),M.\u0275\u0275property("ngIf",n.url)}}function Sn(e,t){if(1&e){var n=M.\u0275\u0275getCurrentView();M.\u0275\u0275elementStart(0,"div"),M.\u0275\u0275elementStart(1,"dw-table",23,24),M.\u0275\u0275listener("dwPageIndexChange",function(e){var t=M.\u0275\u0275restoreView(n).index;return M.\u0275\u0275nextContext(2).materialGroupsForMachineReceive[t].pageIndex=e})("dwPageSizeChange",function(e){var t=M.\u0275\u0275restoreView(n).index;return M.\u0275\u0275nextContext(2).materialGroupsForMachineReceive[t].pageSize=e})("dwPageIndexChange",function(e){return M.\u0275\u0275restoreView(n),M.\u0275\u0275nextContext(2).pageIndexChange(e)}),M.\u0275\u0275elementStart(3,"thead"),M.\u0275\u0275elementStart(4,"tr",25),M.\u0275\u0275elementStart(5,"th",26),M.\u0275\u0275element(6,"span",27),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(7,"th",28),M.\u0275\u0275elementStart(8,"span",27),M.\u0275\u0275text(9,"\u914d\u4ef6\u7f16\u53f7"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(10,"th",29),M.\u0275\u0275elementStart(11,"span",27),M.\u0275\u0275text(12,"\u914d\u4ef6\u540d\u79f0"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(13,"th",29),M.\u0275\u0275elementStart(14,"span",27),M.\u0275\u0275text(15,"\u89c4\u683c"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275template(16,sn,3,0,"th",30),M.\u0275\u0275template(17,mn,3,1,"th",31),M.\u0275\u0275template(18,pn,3,0,"th",32),M.\u0275\u0275template(19,un,3,0,"th",63),M.\u0275\u0275elementStart(20,"th",33),M.\u0275\u0275elementStart(21,"span",27),M.\u0275\u0275text(22,"\u56fe\u7247"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(23,"tbody"),M.\u0275\u0275template(24,Cn,16,11,"tr",34),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd()}if(2&e){var r=t.index,i=M.\u0275\u0275reference(2),a=M.\u0275\u0275nextContext(2);M.\u0275\u0275classMap(a.currNewTab==r?"scroll-box":"scroll-box hide"),M.\u0275\u0275advance(1),M.\u0275\u0275property("dwData",a.materialGroupsForMachineReceive[r].list)("dwFrontPagination",!1)("dwTotal",a.materialGroupsForMachineReceive[r].itemCount)("dwPageIndex",a.materialGroupsForMachineReceive[r].pageIndex)("dwPageSize",a.materialGroupsForMachineReceive[r].pageSize),M.\u0275\u0275advance(15),M.\u0275\u0275property("ngIf","0"===a.typeIdx),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf","0"===a.typeIdx),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf","0"===a.typeIdx),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf","3"===a.typeIdx||"4"===a.typeIdx),M.\u0275\u0275advance(5),M.\u0275\u0275property("ngForOf",i.data)}}function bn(e,t){if(1&e){var n=M.\u0275\u0275getCurrentView();M.\u0275\u0275elementStart(0,"div",3),M.\u0275\u0275elementStart(1,"div",4),M.\u0275\u0275elementStart(2,"div",5),M.\u0275\u0275elementStart(3,"dw-select",6),M.\u0275\u0275listener("ngModelChange",function(e){return M.\u0275\u0275restoreView(n),M.\u0275\u0275nextContext().typeIdx=e})("ngModelChange",function(e){return M.\u0275\u0275restoreView(n),M.\u0275\u0275nextContext().bindPickerChange(e,"machineReceive")}),M.\u0275\u0275template(4,on,1,0,"dw-option",59),M.\u0275\u0275element(5,"dw-option",8),M.\u0275\u0275element(6,"dw-option",9),M.\u0275\u0275element(7,"dw-option",60),M.\u0275\u0275template(8,ln,1,0,"dw-option",61),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(9,"div",10),M.\u0275\u0275elementStart(10,"div",11),M.\u0275\u0275listener("click",function(){return M.\u0275\u0275restoreView(n),M.\u0275\u0275nextContext().getMaterialGroupsForMachineReceive()}),M.\u0275\u0275element(11,"em",12),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(12,"input",13),M.\u0275\u0275listener("ngModelChange",function(e){return M.\u0275\u0275restoreView(n),M.\u0275\u0275nextContext().searchValue=e})("keydown",function(e){return M.\u0275\u0275restoreView(n),M.\u0275\u0275nextContext().onKeydown("newInputMachineReceive",e)}),M.\u0275\u0275elementEnd(),M.\u0275\u0275template(13,dn,2,0,"div",14),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(14,"div",15),M.\u0275\u0275elementStart(15,"div",16),M.\u0275\u0275template(16,cn,2,3,"div",17),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(17,"dw-checkbox-wrapper",52),M.\u0275\u0275listener("dwOnChange",function(e){return M.\u0275\u0275restoreView(n),M.\u0275\u0275nextContext().checkboxChange(e)}),M.\u0275\u0275template(18,Sn,25,12,"div",19),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd()}if(2&e){var r=M.\u0275\u0275nextContext();M.\u0275\u0275advance(3),M.\u0275\u0275property("ngModel",r.typeIdx),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf","1"===r.type),M.\u0275\u0275advance(4),M.\u0275\u0275property("ngIf",r.is_service_mode1),M.\u0275\u0275advance(4),M.\u0275\u0275property("ngModel",r.searchValue),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf",r.searchValue),M.\u0275\u0275advance(3),M.\u0275\u0275property("ngForOf",r.materialGroupsForMachineReceive),M.\u0275\u0275advance(2),M.\u0275\u0275property("ngForOf",r.materialGroupsForMachineReceive)}}var In=function(){return{height:"450px",overflow:"auto","padding-bottom":"8px"}},En=function(){var e=function(){function e(t,n){p(this,e),this.message=t,this.serviceOrderDetailSrv=n,this.partVisibleChanged=new M.EventEmitter,this.partStepOneVisible=new M.EventEmitter,this.isChangeReport=!1,this.partIdx="",this.choose_type="",this.product_file_id="",this.service_order_id="",this.service_mode="",this.is_service_mode1=!1,this.isMachineReceive=!1,this.type="1",this.service_site_id="",this.relate_to_inventory=!0,this.typeIdx="0",this.searchValue="",this.currOrigTab=0,this.origParts=[],this.materialGroups=[],this.origPartId="",this.newParts=[],this.newPartIds=[],this.materialGroupsForNoRelate=[],this.currNewTab=0,this.materialGroupsForMode1=[],this.currNewMode1Tab=0,this.materialGroupsForMachineReceive=[],this.serviceDocUnderWarranty=!1}return f(e,[{key:"getServiceDocUnderWarranty",value:function(e){this.serviceDocUnderWarranty=e,console.log(this.serviceDocUnderWarranty)}},{key:"initData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"new",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"0",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"1";this.partIdx="",this.choose_type=e,this.product_file_id=t,this.service_order_id=n,this.service_mode=r,this.is_service_mode1=1===r,this.service_site_id=i,this.isMachineReceive="0"!==a,this.type=o,this.typeIdx="0",this.searchValue="",this.origPartId="",this.newPartIds=[],"old"===this.choose_type?this.getMaterialGroups():this.getAutoSettings()}},{key:"addOrEditOldPart",value:function(e,t){this.isChangeReport=t,this.partIdx=e}},{key:"getMaterialGroups",value:function(){var e=this,t="ProductMaterialGroups?productFileId=".concat(this.product_file_id,"&searchValue=").concat(this.searchValue),n="getMaterialGroups";"1"===this.typeIdx&&(t="AllMaterialGroups?searchValue=".concat(this.searchValue),n="getMaterialGroups"),"2"===this.typeIdx&&(t="QuickwearPartAllMaterialGroups?productFileId=".concat(this.product_file_id,"&searchValue=").concat(this.searchValue),n="getQuickwearPartAllMaterialGroups"),this.serviceOrderDetailSrv[n](t).subscribe(function(t){e.origParts=[],e.materialGroups=t;for(var n=0;n<e.materialGroups.length;n++)e.materialGroups[n].list=[],e.materialGroups[n].pageSize=10,e.materialGroups[n].pageIndex=1,e.materialGroups[n].allPages=Math.ceil(e.materialGroups[n].itemCount/e.materialGroups[n].pageSize);e.currOrigTab=0,e.materialGroups.length&&e.getOrigParts()})}},{key:"pageIndexChange",value:function(e){this.materialGroups[this.currOrigTab].pageIndex=e,this.getOrigParts()}},{key:"getOrigParts",value:function(){var e=this,t="ProductMaterialsByGroupId?productFileId=".concat(this.product_file_id,"&itemGroupId=").concat(this.materialGroups[this.currOrigTab].itemGroupId,"&searchValue=").concat(this.searchValue),n="getMaterialList";"1"===this.typeIdx&&(t="AllMaterialsByGroupId?searchValue=".concat(this.searchValue,"&itemGroupId=").concat(this.materialGroups[this.currOrigTab].itemGroupId,"&pageIndex=").concat(this.materialGroups[this.currOrigTab].pageIndex,"&pageSize=").concat(this.materialGroups[this.currOrigTab].pageSize),n="getMaterialList"),"2"===this.typeIdx&&(t="productFile/QuickwearPart/MaterialForOpenner?productFileId=".concat(this.product_file_id,"&searchValue=").concat(this.searchValue,"&itemGroupId=").concat(this.materialGroups[this.currOrigTab].itemGroupId,"&pageIndex=").concat(this.materialGroups[this.currOrigTab].pageIndex,"&pageSize=").concat(this.materialGroups[this.currOrigTab].pageSize),n="getQuotationMaterialList"),this.serviceOrderDetailSrv[n](t).subscribe(function(t){var n="2"===e.typeIdx?t.data.quotation:t;n.forEach(function(t){t.sn=t.sn?t.sn:"",t.materialId=t.materialId||t.material_id,t.materialCode=t.materialCode||t.material_code,t.materialName=t.materialName||t.material_name,t.underWarranty=0===t.underWarranty||1===t.underWarranty?t.underWarranty:e.serviceDocUnderWarranty?1:0}),e.materialGroups[e.currOrigTab].list=n,console.log(e.materialGroups[e.currOrigTab].list)})}},{key:"clearInput",value:function(e){this.searchValue="","orig"===e?this.getMaterialGroups():"machineReceive"===e?this.getMaterialGroupsForMachineReceive():this.getMaterialGroupsForNoRelate()}},{key:"bindPickerChange",value:function(e,t){"orig"===t&&this.getMaterialGroups(),"machineReceive"===t&&this.getMaterialGroupsForMachineReceive(),"noRelate"===t&&this.getMaterialGroupsForNoRelate()}},{key:"swichNav",value:function(e){this.currOrigTab!==e&&(this.currOrigTab=e,this.materialGroups[this.currOrigTab].list.length||this.getOrigParts())}},{key:"close",value:function(){this.choose_type="",this.partVisibleChanged.emit(null)}},{key:"nextStep",value:function(){var e=this;if(console.log(this.origPartId),this.origPartId){var t={materialId:"",materialCode:"",materialName:"",underWarranty:0,origQty:0,sn_management:"",sn:"",specification:"",replacement_date:""};this.materialGroups.forEach(function(n){n.list.forEach(function(n){n.materialId+n.sn+n.replacement_date===e.origPartId&&(t=n)})});var n=t.specification?"_"+t.specification:"";this.partVisibleChanged.emit(""===this.partIdx?{origPartId:t.materialId,origName:"(".concat(t.materialCode,")").concat(t.materialName).concat(n),needReturn:1===t.underWarranty,underWarranty:1===t.underWarranty,partIdx:this.partIdx,origQty:t.origQty?t.origQty:t.materialId?1:0,origSn:t.sn||"",newOrigQty:0,newPartId:0,partName:"",qty:0,customerSettlementPrice:0,siteSettlementPrice:0,employeeSettlementPrice:0,partsDeliveryDetailsId:0,origSnManagement:"1"===t.sn_management,snManagement:!1,sn:"",origReplacementDate:t.replacement_date,oldPartSource:"0"}:{origPartId:t.materialId,origName:"(".concat(t.materialCode,")").concat(t.materialName).concat(n),needReturn:1===t.underWarranty,underWarranty:1===t.underWarranty,partIdx:this.partIdx,origQty:t.origQty?t.origQty:t.materialId?1:0,origSnManagement:"1"===t.sn_management,origSn:t.sn||"",origReplacementDate:t.replacement_date,oldPartSource:"0"})}else this.partVisibleChanged.emit(null)}},{key:"chooseOk",value:function(){var e=this;if(this.newPartIds.length){var t={material_id:0,material_code:"",material_name:"",customer_settlement_price:0,site_settlement_price:0,employee_settlement_price:0,unit_qty:0,parts_delivery_details_id:0,sn_management:"",sn:"",specification:"",need_return:!1,canUse:0,newPartSource:"1",replacement_date:null};this.newParts.forEach(function(n){if(e.newPartIds.indexOf(n.material_id+""+n.parts_delivery_details_id)>=0){var r=(t=n).specification?"_"+t.specification:"";e.partVisibleChanged.emit({partIdx:e.partIdx,origPartId:t.material_id,origName:"(".concat(t.material_code,")").concat(t.material_name).concat(r),underWarranty:!!e.serviceDocUnderWarranty,needReturn:t.need_return||!1,origQty:"1"===t.sn_management?1:t.parts_delivery_details_id?t.canUse:1,newOrigQty:t.parts_delivery_details_id?t.canUse:999999,newPartId:t.material_id,partName:"(".concat(t.material_code,")").concat(t.material_name).concat(r),qty:t.material_id?"1"===t.sn_management?1:t.canUse:0,customerSettlementPrice:t.customer_settlement_price||0,siteSettlementPrice:t.site_settlement_price||0,employeeSettlementPrice:t.employee_settlement_price||0,partsDeliveryDetailsId:t.parts_delivery_details_id||0,origSn:"",origSnManagement:"1"===t.sn_management,snManagement:"1"===t.sn_management,sn:t.sn||"",newPartSource:t.newPartSource,oldPartSource:"old"===e.choose_type?"0":"1",origReplacementDate:t.replacement_date||null})}}),this.choose_type=""}else this.message.create("error","\u8bf7\u81f3\u5c11\u9009\u62e9\u4e00\u4e2a\u65b0\u96f6\u914d\u4ef6\uff01")}},{key:"chooseOkForMode1",value:function(){var e=this;if(this.newPartIds.length){var t={material_id:0,material_code:"",material_name:"",customer_settlement_price:0,site_settlement_price:0,employee_settlement_price:0,unit_qty:0,parts_delivery_details_id:0,sn_management:"",sn:"",specification:"",need_return:!1,canUse:0,newPartSource:"1",replacement_date:null};this.materialGroupsForMode1.forEach(function(n){n.list.forEach(function(n){if(e.newPartIds.indexOf(n.material_id+""+n.parts_delivery_details_id)>=0){var r=(t=n).specification?"_"+t.specification:"";e.partVisibleChanged.emit({partIdx:e.partIdx,origPartId:t.material_id,origName:"(".concat(t.material_code,")").concat(t.material_name).concat(r),underWarranty:!!e.serviceDocUnderWarranty,needReturn:t.need_return||!1,origQty:"1"===t.sn_management?1:t.parts_delivery_details_id?t.canUse:1,newOrigQty:t.parts_delivery_details_id?t.canUse:999999,newPartId:t.material_id,partName:"(".concat(t.material_code,")").concat(t.material_name).concat(r),qty:t.material_id?"1"===t.sn_management?1:t.parts_delivery_details_id?t.canUse:1:0,customerSettlementPrice:t.customer_settlement_price||0,siteSettlementPrice:t.site_settlement_price||0,employeeSettlementPrice:t.employee_settlement_price||0,partsDeliveryDetailsId:t.parts_delivery_details_id?t.parts_delivery_details_id:0,origSn:"",origSnManagement:"1"===t.sn_management,snManagement:"1"===t.sn_management,sn:t.sn||"",newPartSource:t.newPartSource,oldPartSource:"old"===e.choose_type?"0":"1",origReplacementDate:t.replacement_date||null})}})}),this.choose_type=""}else this.message.create("error","\u8bf7\u81f3\u5c11\u9009\u62e9\u4e00\u4e2a\u65b0\u96f6\u914d\u4ef6\uff01")}},{key:"ngOnInit",value:function(){}},{key:"getAutoSettings",value:function(){var e=this;this.serviceOrderDetailSrv.getAutoSettings().subscribe(function(t){e.relate_to_inventory=t.relate_to_inventory,e.relate_to_inventory&&(e.isMachineReceive?(e.typeIdx="1"===e.type?"0":"1",e.getMaterialGroupsForMachineReceive()):(1===e.service_mode&&e.getMaterialGroupsForMode1(),2===e.service_mode&&e.serviceOrderDetailSrv.getNewMaterialListByOrder(e.service_order_id).subscribe(function(t){t.forEach(function(e){e.newPartSource="2"}),e.newParts=t}))),e.relate_to_inventory||(e.typeIdx="1"===e.type?"0":"1",e.getMaterialGroupsForNoRelate())})}},{key:"newPageIndexChange",value:function(e){this.materialGroupsForNoRelate[this.currNewTab].pageIndex=e,this.getNewPartsForNoRelate()}},{key:"getMaterialGroupsForMode1",value:function(){var e=this;this.materialGroupsForMode1=[],this.newParts=[],this.serviceOrderDetailSrv.getNewMaterialListBySite(this.service_order_id).subscribe(function(t){t.length&&(t.forEach(function(e){e.parts_delivery_details_id=0,e.newPartSource="1"}),e.materialGroupsForMode1.push({itemGroupName:"\u6211\u7684\u9886\u7528",list:t})),e.serviceOrderDetailSrv.getNewMaterialListByOrder(e.service_order_id).subscribe(function(t){t.length&&(t.forEach(function(e){e.newPartSource="2"}),e.materialGroupsForMode1.push({itemGroupName:"\u914d\u4ef6\u7533\u8bf7",list:t}))})})}},{key:"getMaterialGroupsForNoRelate",value:function(){var e=this,t="ProductMaterialGroups?productFileId=".concat(this.product_file_id,"&searchValue=").concat(this.searchValue),n="getMaterialGroups";"1"===this.typeIdx&&(t="AllMaterialGroups?searchValue=".concat(this.searchValue),n="getMaterialGroups"),"2"===this.typeIdx&&(t="QuickwearPartAllMaterialGroups?productFileId=".concat(this.product_file_id,"&searchValue=").concat(this.searchValue),n="getQuickwearPartAllMaterialGroups"),this.serviceOrderDetailSrv[n](t).subscribe(function(t){e.materialGroupsForNoRelate=t;for(var n=0;n<e.materialGroupsForNoRelate.length;n++)e.materialGroupsForNoRelate[n].list=[],e.materialGroupsForNoRelate[n].pageSize=10,e.materialGroupsForNoRelate[n].pageIndex=1,e.materialGroupsForNoRelate[n].allPages=Math.ceil(e.materialGroupsForNoRelate[n].itemCount/e.materialGroupsForNoRelate[n].pageSize);e.currNewTab=0,e.materialGroupsForNoRelate.length&&e.getNewPartsForNoRelate()})}},{key:"getNewPartsForNoRelate",value:function(){var e=this,t="ProductMaterialsByGroupId?productFileId=".concat(this.product_file_id,"&itemGroupId=").concat(this.materialGroupsForNoRelate[this.currNewTab].itemGroupId,"&searchValue=").concat(this.searchValue),n="getMaterialList";"1"===this.typeIdx&&(t="AllMaterialsByGroupId?searchValue=".concat(this.searchValue,"&itemGroupId=").concat(this.materialGroupsForNoRelate[this.currNewTab].itemGroupId,"&pageIndex=").concat(this.materialGroupsForNoRelate[this.currNewTab].pageIndex,"&pageSize=").concat(this.materialGroupsForNoRelate[this.currNewTab].pageSize),n="getMaterialList"),"2"===this.typeIdx&&(t="productFile/QuickwearPart/MaterialForOpenner?productFileId=".concat(this.product_file_id,"&searchValue=").concat(this.searchValue,"&itemGroupId=").concat(this.materialGroupsForNoRelate[this.currNewTab].itemGroupId,"&pageIndex=").concat(this.materialGroupsForNoRelate[this.currNewTab].pageIndex,"&pageSize=").concat(this.materialGroupsForNoRelate[this.currNewTab].pageSize),n="getQuotationMaterialList"),this.serviceOrderDetailSrv[n](t).subscribe(function(t){var n="2"===e.typeIdx?t.data.quotation:t;n.forEach(function(e){e.sn=e.sn?e.sn:"",e.materialId=e.materialId||e.material_id,e.materialCode=e.materialCode||e.material_code,e.materialName=e.materialName||e.material_name,e.newPartSource="3"}),e.materialGroupsForNoRelate[e.currNewTab].list=n})}},{key:"swichNavForMode1",value:function(e){this.currNewMode1Tab!==e&&(this.currNewMode1Tab=e)}},{key:"swichNavForNoRelate",value:function(e){this.currNewTab!==e&&(this.currNewTab=e,this.materialGroupsForNoRelate[this.currNewTab].list.length||this.getNewPartsForNoRelate())}},{key:"swichNavForMachineReceive",value:function(e){this.currNewTab!==e&&(this.currNewTab=e,this.materialGroupsForMachineReceive[this.currNewTab].list.length||this.getNewPartsForMachineReceive())}},{key:"chooseOkForNoRelate",value:function(){var e=this;if(this.newPartIds.length){console.log(this.newPartIds);var t={materialId:0,materialCode:"",materialName:"",customer_settlement_price:0,site_settlement_price:0,employee_settlement_price:0,sn_management:"",sn:"",specification:"",newPartSource:"1",replacement_date:null};this.materialGroupsForNoRelate.forEach(function(n){n.list.forEach(function(n){if(e.newPartIds.indexOf(n.materialId+n.sn+n.replacement_date)>=0){var r=(t=n).specification?"_"+t.specification:"";e.partVisibleChanged.emit({partIdx:e.partIdx,origPartId:t.materialId,origName:"(".concat(t.materialCode,")").concat(t.materialName).concat(r),underWarranty:!!e.serviceDocUnderWarranty,needReturn:!1,origQty:1,newOrigQty:999999,newPartId:t.materialId,partName:"(".concat(t.materialCode,")").concat(t.materialName).concat(r),qty:1,customerSettlementPrice:t.customer_settlement_price||0,siteSettlementPrice:t.site_settlement_price||0,employeeSettlementPrice:t.employee_settlement_price||0,partsDeliveryDetailsId:0,origSn:"",origSnManagement:"1"===t.sn_management,snManagement:"1"===t.sn_management,sn:t.sn||"",newPartSource:t.newPartSource,oldPartSource:"old"===e.choose_type?"0":"1",origReplacementDate:t.replacement_date||null})}})}),this.choose_type=""}else this.message.create("error","\u8bf7\u81f3\u5c11\u9009\u62e9\u4e00\u4e2a\u65b0\u96f6\u914d\u4ef6\uff01")}},{key:"getMaterialGroupsForMachineReceive",value:function(){var e=this,t="ProductMaterialGroups?productFileId=".concat(this.product_file_id,"&searchValue=").concat(this.searchValue),n="getMaterialGroups";"1"===this.typeIdx&&(t="AllMaterialGroups?searchValue=".concat(this.searchValue),n="getMaterialGroups"),"2"===this.typeIdx&&(t="QuickwearPartAllMaterialGroups?productFileId=".concat(this.product_file_id,"&searchValue=").concat(this.searchValue),n="getQuickwearPartAllMaterialGroups"),"3"===this.typeIdx&&(t="PartsDeliveryDetailGroups?serviceOrderId=".concat(this.service_order_id,"&searchValue=").concat(this.searchValue),n="getMaterialGroups"),"4"===this.typeIdx&&(t="EngineerMaterialGroups?serviceOrderId=".concat(this.service_order_id,"&searchValue=").concat(this.searchValue),n="getMaterialGroups"),this.serviceOrderDetailSrv[n](t).subscribe(function(t){e.materialGroupsForMachineReceive=t;for(var n=0;n<e.materialGroupsForMachineReceive.length;n++)e.materialGroupsForMachineReceive[n].list=[],e.materialGroupsForMachineReceive[n].pageSize=10,e.materialGroupsForMachineReceive[n].pageIndex=1,e.materialGroupsForMachineReceive[n].allPages=Math.ceil(e.materialGroupsForMachineReceive[n].itemCount/e.materialGroupsForMachineReceive[n].pageSize);e.currNewTab=0,e.materialGroupsForMachineReceive.length&&e.getNewPartsForMachineReceive()})}},{key:"getNewPartsForMachineReceive",value:function(){var e=this,t="ProductMaterialsByGroupId?productFileId=".concat(this.product_file_id,"&itemGroupId=").concat(this.materialGroupsForMachineReceive[this.currNewTab].itemGroupId,"&searchValue=").concat(this.searchValue),n="getMaterialList";"1"===this.typeIdx&&(t="AllMaterialsByGroupId?searchValue=".concat(this.searchValue,"&itemGroupId=").concat(this.materialGroupsForMachineReceive[this.currNewTab].itemGroupId,"&pageIndex=").concat(this.materialGroupsForMachineReceive[this.currNewTab].pageIndex,"&pageSize=").concat(this.materialGroupsForMachineReceive[this.currNewTab].pageSize),n="getMaterialList"),"2"===this.typeIdx&&(t="productFile/QuickwearPart/MaterialForOpenner?productFileId=".concat(this.product_file_id,"&searchValue=").concat(this.searchValue,"&itemGroupId=").concat(this.materialGroupsForMachineReceive[this.currNewTab].itemGroupId,"&pageIndex=").concat(this.materialGroupsForMachineReceive[this.currNewTab].pageIndex,"&pageSize=").concat(this.materialGroupsForMachineReceive[this.currNewTab].pageSize),n="getQuotationMaterialList"),"3"===this.typeIdx&&(t="PartsDeliveryDetailMaterialForOpener?serviceOrderId=".concat(this.service_order_id,"&searchValue=").concat(this.searchValue,"&itemGroupId=").concat(this.materialGroupsForMachineReceive[this.currNewTab].itemGroupId,"&pageIndex=").concat(this.materialGroupsForMachineReceive[this.currNewTab].pageIndex,"&pageSize=").concat(this.materialGroupsForMachineReceive[this.currNewTab].pageSize),n="getMaterialList"),"4"===this.typeIdx&&(t="EngineerMaterialForOpener?serviceOrderId=".concat(this.service_order_id,"&searchValue=").concat(this.searchValue,"&itemGroupId=").concat(this.materialGroupsForMachineReceive[this.currNewTab].itemGroupId,"&pageIndex=").concat(this.materialGroupsForMachineReceive[this.currNewTab].pageIndex,"&pageSize=").concat(this.materialGroupsForMachineReceive[this.currNewTab].pageSize),n="getMaterialList"),this.serviceOrderDetailSrv[n](t).subscribe(function(t){var n="0"===e.typeIdx||"1"===e.typeIdx?t:t.data.quotation;n.forEach(function(t){t.sn=t.sn?t.sn:"",t.materialId=t.materialId||t.material_id,t.materialCode=t.materialCode||t.material_code,t.materialName=t.materialName||t.material_name,t.newPartSource="3"===e.typeIdx?"2":"4"===e.typeIdx?"1":"3",t.parts_delivery_details_id=t.parts_delivery_details_id||0}),e.materialGroupsForMachineReceive[e.currNewTab].list=n})}},{key:"chooseOkForMachineReceive",value:function(){var e=this;if(this.newPartIds.length){var t={materialId:0,materialCode:"",materialName:"",customer_settlement_price:0,site_settlement_price:0,employee_settlement_price:0,need_return:!1,sn_management:"",sn:"",specification:"",parts_delivery_details_id:0,canUse:0,newPartSource:"1",replacement_date:null};this.materialGroupsForMachineReceive.forEach(function(n){n.list.forEach(function(n){if(e.newPartIds.indexOf(n.materialId+n.sn+n.parts_delivery_details_id+n.replacement_date)>=0){var r=(t=n).specification?"_"+t.specification:"";e.partVisibleChanged.emit({partIdx:e.partIdx,origPartId:t.materialId,origName:"(".concat(t.materialCode,")").concat(t.materialName).concat(r),underWarranty:!!e.serviceDocUnderWarranty,needReturn:"3"!==t.newPartSource&&!!t.need_return&&t.need_return,origQty:"1"===t.sn_management?1:t.parts_delivery_details_id?t.canUse:1,newOrigQty:t.parts_delivery_details_id?t.canUse:999999,newPartId:t.materialId,partName:"(".concat(t.materialCode,")").concat(t.materialName).concat(r),qty:t.materialId?"1"===t.sn_management?1:t.parts_delivery_details_id?t.canUse:1:0,customerSettlementPrice:t.customer_settlement_price||0,siteSettlementPrice:t.site_settlement_price||0,employeeSettlementPrice:t.employee_settlement_price||0,partsDeliveryDetailsId:t.parts_delivery_details_id||0,origSn:"",origSnManagement:"1"===t.sn_management,snManagement:"1"===t.sn_management,sn:t.sn||"",newPartSource:t.newPartSource,oldPartSource:"old"===e.choose_type?"0":"1",origReplacementDate:t.replacement_date||null})}})}),this.choose_type=""}else this.message.create("error","\u8bf7\u81f3\u5c11\u9009\u62e9\u4e00\u4e2a\u65b0\u96f6\u914d\u4ef6\uff01")}},{key:"checkboxChange",value:function(e){this.newPartIds=e}},{key:"onKeydown",value:function(e,t){13===t.keyCode&&("oldInput"===e?this.getMaterialGroups():"newInputNoRelate"===e?this.getMaterialGroupsForNoRelate():this.getMaterialGroupsForMachineReceive())}}]),e}();return e.\u0275fac=function(t){return new(t||e)(M.\u0275\u0275directiveInject(g.DwMessageService),M.\u0275\u0275directiveInject(m.v))},e.\u0275cmp=M.\u0275\u0275defineComponent({type:e,selectors:[["app-part-opener"]],inputs:{visible:"visible"},outputs:{partVisibleChanged:"partVisibleChanged",partStepOneVisible:"partStepOneVisible"},decls:10,vars:25,consts:[["dwTitle","\u9009\u62e9\u539f\u96f6\u914d\u4ef6",3,"dwBodyStyle","dwMaskClosable","dwWidth","dwVisible","dwVisibleChange","dwOnCancel","dwOnOk"],["dwModalContent",""],["dwTitle","\u9009\u62e9\u65b0\u96f6\u914d\u4ef6",3,"dwBodyStyle","dwMaskClosable","dwWidth","dwVisible","dwVisibleChange","dwOnCancel","dwOnOk"],[1,"wrapper"],[1,"top-box"],[1,"select-box"],[2,"width","100%",3,"ngModel","ngModelChange"],["dwValue","0","dwLabel","\u5e38\u7528\u914d\u4ef6"],["dwValue","1","dwLabel","\u914d\u4ef6\u4fe1\u606f"],["dwValue","2","dwLabel","\u6613\u635f\u4ef6\u6e05\u5355"],[1,"search-box"],[1,"search",3,"click"],["dw-icon","","dwType","search","dwTheme","outline"],["dw-input","","type","text","placeholder","\u641c\u7d22",3,"ngModel","ngModelChange","keydown"],["class","close",3,"click",4,"ngIf"],[1,"choose-wrap","hasInput"],[1,"swiper-tab"],[3,"class","click",4,"ngFor","ngForOf"],[1,"radio-group",3,"ngModel","ngModelChange"],[3,"class",4,"ngFor","ngForOf"],[1,"close",3,"click"],["dw-icon","","dwTheme","fill","dwType","close-circle",1,"ant-input-clear-icon"],[3,"click"],[3,"dwData","dwFrontPagination","dwTotal","dwPageIndex","dwPageSize","dwPageIndexChange","dwPageSizeChange"],["dwTable",""],["dw-tr",""],["dw-th","","dwWidth","40px"],["translate",""],["dw-th","","dwWidth","96px"],["dw-th","","dwWidth","98px"],["dw-th","","dwWidth","86px",4,"ngIf"],["dw-th","","dwWidth","86px",3,"dwAlign",4,"ngIf"],["dw-th","","dwWidth","100px",4,"ngIf"],["dw-th","","dwWidth","84px"],[4,"ngFor","ngForOf"],["dw-th","","dwWidth","86px"],["dw-th","","dwWidth","86px",3,"dwAlign"],["dw-th","","dwWidth","100px"],["width","40",3,"dwAlign"],["dw-radio","",3,"dwValue"],["dw-tooltip","","dwTooltipTitle","\u6613\u635f\u4ef6","class","quickPart",4,"ngIf"],[4,"ngIf"],[3,"dwAlign",4,"ngIf"],[3,"item",4,"ngIf"],["dw-tooltip","","dwTooltipTitle","\u6613\u635f\u4ef6",1,"quickPart"],[1,"point"],[3,"dwAlign"],["class","warranty",4,"ngIf"],["class","warranty red",4,"ngIf"],[1,"warranty"],[1,"warranty","red"],[3,"item"],[1,"radio-group",3,"dwOnChange"],[3,"dwData","dwPageSize"],["dw-th",""],["dw-th","","dwAlign","right"],["dw-checkbox","",3,"dwValue"],["dwAlign","right"],[1,"choose-wrap"],["dwValue","0","dwLabel","\u5e38\u7528\u914d\u4ef6",4,"ngIf"],["dwValue","3","dwLabel","\u914d\u4ef6\u7533\u8bf7"],["dwValue","4","dwLabel","\u6211\u7684\u9886\u7528",4,"ngIf"],["dwValue","4","dwLabel","\u6211\u7684\u9886\u7528"],["dw-th","","dwWidth","80px","dwAlign","right",4,"ngIf"],["dw-th","","dwWidth","80px","dwAlign","right"],["dwAlign","right",4,"ngIf"]],template:function(e,t){1&e&&(M.\u0275\u0275elementStart(0,"dw-modal",0),M.\u0275\u0275listener("dwVisibleChange",function(e){return"old"===t.choose_type&&(t.visible=e)})("dwOnCancel",function(){return t.close()})("dwOnOk",function(){return t.nextStep()}),M.\u0275\u0275template(1,Tt,17,6,"ng-template",1),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(2,"dw-modal",2),M.\u0275\u0275listener("dwVisibleChange",function(e){return"new"===t.choose_type&&t.relate_to_inventory&&!t.isMachineReceive&&!(t.is_service_mode1=e)})("dwOnCancel",function(){return t.close()})("dwOnOk",function(){return t.chooseOk()}),M.\u0275\u0275template(3,At,25,3,"ng-template",1),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(4,"dw-modal",2),M.\u0275\u0275listener("dwVisibleChange",function(e){return"new"===t.choose_type&&t.relate_to_inventory&&!t.isMachineReceive&&(t.is_service_mode1=e)})("dwOnCancel",function(){return t.close()})("dwOnOk",function(){return t.chooseOkForMode1()}),M.\u0275\u0275template(5,$t,6,2,"ng-template",1),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(6,"dw-modal",2),M.\u0275\u0275listener("dwVisibleChange",function(e){return"new"===t.choose_type&&!(t.relate_to_inventory=e)})("dwOnCancel",function(){return t.close()})("dwOnOk",function(){return t.chooseOkForNoRelate()}),M.\u0275\u0275template(7,an,17,6,"ng-template",1),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(8,"dw-modal",2),M.\u0275\u0275listener("dwVisibleChange",function(e){return"new"===t.choose_type&&t.relate_to_inventory&&(t.isMachineReceive=e)})("dwOnCancel",function(){return t.close()})("dwOnOk",function(){return t.chooseOkForMachineReceive()}),M.\u0275\u0275template(9,bn,19,7,"ng-template",1),M.\u0275\u0275elementEnd()),2&e&&(M.\u0275\u0275property("dwBodyStyle",M.\u0275\u0275pureFunction0(20,In))("dwMaskClosable",!0)("dwWidth",900)("dwVisible","old"===t.choose_type&&t.visible),M.\u0275\u0275advance(2),M.\u0275\u0275property("dwBodyStyle",M.\u0275\u0275pureFunction0(21,In))("dwMaskClosable",!0)("dwWidth",900)("dwVisible","new"===t.choose_type&&t.relate_to_inventory&&!t.isMachineReceive&&!t.is_service_mode1),M.\u0275\u0275advance(2),M.\u0275\u0275property("dwBodyStyle",M.\u0275\u0275pureFunction0(22,In))("dwMaskClosable",!0)("dwWidth",900)("dwVisible","new"===t.choose_type&&t.relate_to_inventory&&!t.isMachineReceive&&t.is_service_mode1),M.\u0275\u0275advance(2),M.\u0275\u0275property("dwBodyStyle",M.\u0275\u0275pureFunction0(23,In))("dwMaskClosable",!0)("dwWidth",900)("dwVisible","new"===t.choose_type&&!t.relate_to_inventory),M.\u0275\u0275advance(2),M.\u0275\u0275property("dwBodyStyle",M.\u0275\u0275pureFunction0(24,In))("dwMaskClosable",!0)("dwWidth",900)("dwVisible","new"===t.choose_type&&t.relate_to_inventory&&t.isMachineReceive))},directives:[A.DwModalComponent,A.DwModalContentDirective,ht.DwSelectComponent,s.NgControlStatus,s.NgModel,ht.DwOptionComponent,q.u,W.DwIconDirective,Q.DwInputDirective,s.DefaultValueAccessor,T.NgIf,T.NgForOf,H.DwRadioGroupComponent,we.DwTableComponent,ye.Ct,we.DwTheadComponent,we.DwTrDirective,we.DwTableCellDirective,we.DwThMeasureDirective,ye.BL,xe.TranslateDirective,we.DwTbodyComponent,we.DwCellAlignDirective,H.DwRadioComponent,wt.DwTooltipDirective,yt.a,Fe.DwCheckboxWrapperComponent,Fe.DwCheckboxComponent],pipes:[T.DatePipe],styles:[".top-box[_ngcontent-%COMP%]{width:100%;height:32px;display:flex;margin-bottom:24px}.select-box[_ngcontent-%COMP%]{width:120px;height:100%;margin-right:24px}.search-box[_ngcontent-%COMP%]{flex:1;height:100%;position:relative}.search-box[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]{width:30px;height:100%;display:flex;align-items:center;justify-content:center;position:absolute;top:0;left:0;z-index:2}.search-box[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]{font-size:16px;color:#999}.search-box[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{position:absolute;top:0;right:8px;font-size:20px}.search-box[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]   .ant-input-clear-icon[_ngcontent-%COMP%]:last-child{font-size:16px}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;height:32px;background:#fff;border-radius:4px;padding:0 30px}.wrapper[_ngcontent-%COMP%]{height:100%}.choose-wrap[_ngcontent-%COMP%]{height:100%;flex:1;display:flex}.choose-wrap.hasInput[_ngcontent-%COMP%]{height:calc(100% - 56px)}.swiper-tab[_ngcontent-%COMP%]{width:120px;height:100%;overflow-y:auto;margin-right:24px}.swiper-tab[_ngcontent-%COMP%]   .swiper-tab-list[_ngcontent-%COMP%]{width:100%;min-height:40px;line-height:40px;text-align:center;color:#000000a6;font-size:14px;background:#e8e8e8;cursor:pointer}.swiper-tab[_ngcontent-%COMP%]   .swiper-tab-list.tab-on[_ngcontent-%COMP%]{color:#fff;background:#00a3ff}.radio-group[_ngcontent-%COMP%]{flex:1;height:100%;position:relative;overflow:auto}.scroll-box[_ngcontent-%COMP%]{height:100%}.scroll-box.hide[_ngcontent-%COMP%]{display:none}.warranty[_ngcontent-%COMP%]{display:inline-block;width:60px;height:24px;line-height:22px;text-align:center;color:#00af26;font-size:12px;border:1px solid #84d997;border-radius:12px}.warranty.red[_ngcontent-%COMP%]{color:#fe3a3a;border-color:#fe4949}.ant-radio-wrapper[_ngcontent-%COMP%]{margin-right:0}.quickPart[_ngcontent-%COMP%]   .point[_ngcontent-%COMP%]{display:inline-block;width:6px;height:6px;border-radius:3px;background-color:#ffbe68;margin-bottom:3px}"]}),e}();function Dn(e,t){1&e&&(M.\u0275\u0275elementStart(0,"div",6),M.\u0275\u0275text(1,"\u8bf7\u8f93\u5165\u65b0\u5e8f\u5217\u53f7"),M.\u0275\u0275elementEnd())}function On(e,t){1&e&&(M.\u0275\u0275elementStart(0,"div",6),M.\u0275\u0275text(1,"\u8bf7\u8f93\u5165\u65b0\u9879\u76ee\u53f7"),M.\u0275\u0275elementEnd())}var kn=function(){return{standalone:!0}};function Mn(e,t){if(1&e){var n=M.\u0275\u0275getCurrentView();M.\u0275\u0275elementStart(0,"div",2),M.\u0275\u0275template(1,Dn,2,0,"div",3),M.\u0275\u0275template(2,On,2,0,"div",3),M.\u0275\u0275elementStart(3,"div",4),M.\u0275\u0275elementStart(4,"input",5),M.\u0275\u0275listener("ngModelChange",function(e){return M.\u0275\u0275restoreView(n),M.\u0275\u0275nextContext().currentSn=e}),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd()}if(2&e){var r=M.\u0275\u0275nextContext();M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf","1"===r.type),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf","2"===r.type),M.\u0275\u0275advance(2),M.\u0275\u0275property("ngModelOptions",M.\u0275\u0275pureFunction0(4,kn))("ngModel",r.currentSn)}}var Pn=function(){return{height:"120px",overflow:"auto","padding-bottom":"24px"}},Fn=function(){var e=function(){function e(t){p(this,e),this.message=t,this.type="1",this.currentSn="",this.snVisibleChanged=new M.EventEmitter}return f(e,[{key:"initData",value:function(e,t){this.type=t,this.currentSn=e}},{key:"close",value:function(){this.snVisibleChanged.emit(null)}},{key:"chooseOk",value:function(){this.currentSn=this.currentSn.trim(),this.currentSn?this.snVisibleChanged.emit(this.currentSn):this.message.create("error","\u8bf7\u8f93\u5165\u65b0"+("1"===this.type?"\u5e8f\u5217\u53f7":"\u9879\u76ee\u53f7"))}},{key:"ngOnInit",value:function(){}}]),e}();return e.\u0275fac=function(t){return new(t||e)(M.\u0275\u0275directiveInject(g.DwMessageService))},e.\u0275cmp=M.\u0275\u0275defineComponent({type:e,selectors:[["app-sn-opener"]],inputs:{visible:"visible"},outputs:{snVisibleChanged:"snVisibleChanged"},decls:2,vars:7,consts:[[3,"dwBodyStyle","dwMaskClosable","dwWidth","dwVisible","dwTitle","dwOkDisabled","dwVisibleChange","dwOnCancel","dwOnOk"],["dwModalContent",""],[1,"in-box"],["class","col-label","style","margin-bottom: 8px;",4,"ngIf"],[1,"col-input"],["dw-input","",3,"ngModelOptions","ngModel","ngModelChange"],[1,"col-label",2,"margin-bottom","8px"]],template:function(e,t){1&e&&(M.\u0275\u0275elementStart(0,"dw-modal",0),M.\u0275\u0275listener("dwVisibleChange",function(e){return t.visible=e})("dwOnCancel",function(){return t.close()})("dwOnOk",function(){return t.chooseOk()}),M.\u0275\u0275template(1,Mn,5,5,"ng-template",1),M.\u0275\u0275elementEnd()),2&e&&M.\u0275\u0275property("dwBodyStyle",M.\u0275\u0275pureFunction0(6,Pn))("dwMaskClosable",!0)("dwWidth",360)("dwVisible",t.visible)("dwTitle","1"===t.type?"\u5e8f\u5217\u53f7\u53d8\u66f4":"\u9879\u76ee\u53f7\u53d8\u66f4")("dwOkDisabled",!t.currentSn)},directives:[A.DwModalComponent,A.DwModalContentDirective,T.NgIf,Q.DwInputDirective,s.DefaultValueAccessor,s.NgControlStatus,s.NgModel],styles:[""]}),e}(),Vn=i(93761),Tn=i(96670),Ln=i(41937),Rn=i(39288),An=i(119);function Nn(e,t){1&e&&(M.\u0275\u0275elementStart(0,"span"),M.\u0275\u0275text(1,"\u5e8f\u5217\u53f7\uff1a"),M.\u0275\u0275elementEnd())}function jn(e,t){1&e&&(M.\u0275\u0275elementStart(0,"span"),M.\u0275\u0275text(1,"\u9879\u76ee\u53f7\uff1a"),M.\u0275\u0275elementEnd())}function zn(e,t){if(1&e){var n=M.\u0275\u0275getCurrentView();M.\u0275\u0275elementStart(0,"div",36),M.\u0275\u0275listener("click",function(){M.\u0275\u0275restoreView(n);var e=M.\u0275\u0275nextContext(2);return M.\u0275\u0275reference(7).initData(e.docInfo.currentSn,e.docInfo.type),e.openSn()}),M.\u0275\u0275element(1,"img",37),M.\u0275\u0275element(2,"img",38),M.\u0275\u0275elementEnd()}}function Bn(e,t){if(1&e&&M.\u0275\u0275element(0,"dw-option",39),2&e){var n=t.$implicit;M.\u0275\u0275property("dwLabel",n.service_type_name)("dwValue",n.service_type_id)}}function $n(e,t){1&e&&(M.\u0275\u0275elementContainerStart(0),M.\u0275\u0275elementStart(1,"dw-form-label",40),M.\u0275\u0275text(2,"\u5b89\u88c5/\u8c03\u8bd5\u65e5\u671f\uff1a"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(3,"div",41),M.\u0275\u0275element(4,"dw-range-picker",42),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(5,"dw-form-label",40),M.\u0275\u0275text(6,"\u9a8c\u6536\u65e5\u671f\uff1a"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(7,"div",9),M.\u0275\u0275element(8,"dw-date-picker",43),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementContainerEnd())}function qn(e,t){if(1&e){var n=M.\u0275\u0275getCurrentView();M.\u0275\u0275elementStart(0,"div",57),M.\u0275\u0275elementStart(1,"div",58),M.\u0275\u0275listener("click",function(){M.\u0275\u0275restoreView(n);var e=M.\u0275\u0275nextContext().$implicit;return M.\u0275\u0275nextContext(3).deleteEquipment(e.index)}),M.\u0275\u0275element(2,"img",59),M.\u0275\u0275element(3,"img",60),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd()}}function Wn(e,t){if(1&e&&(M.\u0275\u0275elementStart(0,"tr"),M.\u0275\u0275elementStart(1,"td"),M.\u0275\u0275text(2),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(3,"td"),M.\u0275\u0275text(4),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(5,"td"),M.\u0275\u0275text(6),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(7,"td"),M.\u0275\u0275text(8),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(9,"td"),M.\u0275\u0275text(10),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(11,"td"),M.\u0275\u0275text(12),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(13,"td",55),M.\u0275\u0275template(14,qn,4,0,"div",56),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd()),2&e){var n=t.$implicit;M.\u0275\u0275advance(2),M.\u0275\u0275textInterpolate1(" ",n.code," "),M.\u0275\u0275advance(2),M.\u0275\u0275textInterpolate1(" ",n.name," "),M.\u0275\u0275advance(2),M.\u0275\u0275textInterpolate1(" ",n.sn," "),M.\u0275\u0275advance(2),M.\u0275\u0275textInterpolate1(" ",n.item_group_name," "),M.\u0275\u0275advance(2),M.\u0275\u0275textInterpolate1(" ",n.specification," "),M.\u0275\u0275advance(2),M.\u0275\u0275textInterpolate1(" ",n.model," "),M.\u0275\u0275advance(2),M.\u0275\u0275property("ngIf",!n.depot_repair_status||"0"===n.depot_repair_status)}}function Gn(e,t){if(1&e){var n=M.\u0275\u0275getCurrentView();M.\u0275\u0275elementStart(0,"div",20),M.\u0275\u0275elementStart(1,"dw-form-label",44),M.\u0275\u0275text(2,"\u7ef4\u4fee\u8bbe\u5907\u4fe1\u606f"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(3,"div",22),M.\u0275\u0275elementStart(4,"div",45),M.\u0275\u0275listener("click",function(){M.\u0275\u0275restoreView(n);var e=M.\u0275\u0275reference(7),t=M.\u0275\u0275nextContext(2);return e.initData(t.getConfigValue())}),M.\u0275\u0275element(5,"em",46),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(6,"app-opener-frontend",47,48),M.\u0275\u0275listener("selectedChanged",function(e){return M.\u0275\u0275restoreView(n),M.\u0275\u0275nextContext(2).openSelect(e)}),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(8,"dw-table",49,50),M.\u0275\u0275elementStart(10,"thead"),M.\u0275\u0275elementStart(11,"tr",51),M.\u0275\u0275elementStart(12,"th",52),M.\u0275\u0275elementStart(13,"span",53),M.\u0275\u0275text(14,"\u8bbe\u5907\u7f16\u53f7"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(15,"th",52),M.\u0275\u0275elementStart(16,"span",53),M.\u0275\u0275text(17,"\u8bbe\u5907\u540d\u79f0"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(18,"th",52),M.\u0275\u0275elementStart(19,"span",53),M.\u0275\u0275text(20,"\u5e8f\u5217\u53f7"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(21,"th",52),M.\u0275\u0275elementStart(22,"span",53),M.\u0275\u0275text(23,"\u4ea7\u54c1\u5206\u7c7b"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(24,"th",52),M.\u0275\u0275elementStart(25,"span",53),M.\u0275\u0275text(26,"\u89c4\u683c"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(27,"th",52),M.\u0275\u0275elementStart(28,"span",53),M.\u0275\u0275text(29,"\u578b\u53f7"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(30,"th",54),M.\u0275\u0275elementStart(31,"span",53),M.\u0275\u0275text(32,"\u64cd\u4f5c"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(33,"tbody"),M.\u0275\u0275template(34,Wn,15,7,"tr",34),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd()}if(2&e){var r=M.\u0275\u0275reference(9),i=M.\u0275\u0275nextContext(2);M.\u0275\u0275advance(8),M.\u0275\u0275property("dwData",i.equipments_for_show)("dwFrontPagination",!1)("dwShowPagination",!1),M.\u0275\u0275advance(26),M.\u0275\u0275property("ngForOf",r.data)}}function Un(e,t){if(1&e){var n=M.\u0275\u0275getCurrentView();M.\u0275\u0275elementStart(0,"em",76),M.\u0275\u0275listener("click",function(){M.\u0275\u0275restoreView(n);var e=M.\u0275\u0275nextContext(2).$implicit;return M.\u0275\u0275nextContext(3).clearFaultLocation(e)}),M.\u0275\u0275elementEnd()}}function Hn(e,t){if(1&e){var n=M.\u0275\u0275getCurrentView();M.\u0275\u0275template(0,Un,1,0,"em",73),M.\u0275\u0275elementStart(1,"button",74),M.\u0275\u0275listener("click",function(){M.\u0275\u0275restoreView(n);var e=M.\u0275\u0275nextContext().$implicit;return M.\u0275\u0275nextContext(3).openServiceEmployeeWin(e)}),M.\u0275\u0275element(2,"em",75),M.\u0275\u0275elementEnd()}if(2&e){var r=M.\u0275\u0275nextContext().$implicit;M.\u0275\u0275property("ngIf",r.faultLocationName)}}function Xn(e,t){if(1&e){var n=M.\u0275\u0275getCurrentView();M.\u0275\u0275elementStart(0,"div",77),M.\u0275\u0275listener("click",function(){M.\u0275\u0275restoreView(n);var e=M.\u0275\u0275nextContext().index;return M.\u0275\u0275nextContext(3).openPhrase(e,"faultPhrase")}),M.\u0275\u0275text(1,"+ \u5e38\u7528\u8bed "),M.\u0275\u0275elementEnd()}}function Qn(e,t){if(1&e){var n=M.\u0275\u0275getCurrentView();M.\u0275\u0275elementStart(0,"div",78),M.\u0275\u0275text(1),M.\u0275\u0275elementStart(2,"img",79),M.\u0275\u0275listener("click",function(){M.\u0275\u0275restoreView(n);var e=M.\u0275\u0275nextContext().index;return M.\u0275\u0275nextContext(3).delPhrase(e,"faultPhrase")}),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd()}if(2&e){var r=M.\u0275\u0275nextContext().$implicit;M.\u0275\u0275advance(1),M.\u0275\u0275textInterpolate1(" ",r.faultPhrase," ")}}function Kn(e,t){if(1&e){var n=M.\u0275\u0275getCurrentView();M.\u0275\u0275elementStart(0,"div",77),M.\u0275\u0275listener("click",function(){M.\u0275\u0275restoreView(n);var e=M.\u0275\u0275nextContext().index;return M.\u0275\u0275nextContext(3).openPhrase(e,"programmePhrase")}),M.\u0275\u0275text(1,"+ \u5e38\u7528\u8bed"),M.\u0275\u0275elementEnd()}}function Jn(e,t){if(1&e){var n=M.\u0275\u0275getCurrentView();M.\u0275\u0275elementStart(0,"div",78),M.\u0275\u0275text(1),M.\u0275\u0275elementStart(2,"img",79),M.\u0275\u0275listener("click",function(){M.\u0275\u0275restoreView(n);var e=M.\u0275\u0275nextContext().index;return M.\u0275\u0275nextContext(3).delPhrase(e,"programmePhrase")}),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd()}if(2&e){var r=M.\u0275\u0275nextContext().$implicit;M.\u0275\u0275advance(1),M.\u0275\u0275textInterpolate1(" ",r.programmePhrase," ")}}var Zn=function(){return{standalone:!0}};function Yn(e,t){if(1&e){var n=M.\u0275\u0275getCurrentView();M.\u0275\u0275elementStart(0,"tr"),M.\u0275\u0275elementStart(1,"td"),M.\u0275\u0275text(2),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(3,"td"),M.\u0275\u0275text(4),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(5,"td"),M.\u0275\u0275elementStart(6,"dw-input-group",67),M.\u0275\u0275elementStart(7,"input",68),M.\u0275\u0275listener("ngModelChange",function(e){return M.\u0275\u0275restoreView(n).$implicit.faultLocationName=e}),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275template(8,Hn,3,1,"ng-template",null,69,M.\u0275\u0275templateRefExtractor),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(10,"td"),M.\u0275\u0275template(11,Xn,2,0,"div",70),M.\u0275\u0275template(12,Qn,3,1,"div",71),M.\u0275\u0275elementStart(13,"input",72),M.\u0275\u0275listener("ngModelChange",function(e){return M.\u0275\u0275restoreView(n).$implicit.breakdownDescription=e}),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(14,"td"),M.\u0275\u0275template(15,Kn,2,0,"div",70),M.\u0275\u0275template(16,Jn,3,1,"div",71),M.\u0275\u0275elementStart(17,"input",72),M.\u0275\u0275listener("ngModelChange",function(e){return M.\u0275\u0275restoreView(n).$implicit.processingDescription=e}),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(18,"td"),M.\u0275\u0275elementStart(19,"div",57),M.\u0275\u0275elementStart(20,"div",58),M.\u0275\u0275listener("click",function(){var e=M.\u0275\u0275restoreView(n).index;return M.\u0275\u0275nextContext(3).deleteGrid("breakdown",e)}),M.\u0275\u0275element(21,"img",59),M.\u0275\u0275element(22,"img",60),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd()}if(2&e){var r=t.$implicit,i=M.\u0275\u0275reference(9);M.\u0275\u0275advance(2),M.\u0275\u0275textInterpolate1(" ",r.breakdownCode," "),M.\u0275\u0275advance(2),M.\u0275\u0275textInterpolate1(" ",r.breakdownName," "),M.\u0275\u0275advance(2),M.\u0275\u0275property("dwSuffix",i),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngModel",r.faultLocationName)("ngModelOptions",M.\u0275\u0275pureFunction0(13,Zn)),M.\u0275\u0275advance(4),M.\u0275\u0275property("ngIf",!r.faultPhrase),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf",r.faultPhrase),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngModelOptions",M.\u0275\u0275pureFunction0(14,Zn))("ngModel",r.breakdownDescription),M.\u0275\u0275advance(2),M.\u0275\u0275property("ngIf",!r.programmePhrase),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf",r.programmePhrase),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngModelOptions",M.\u0275\u0275pureFunction0(15,Zn))("ngModel",r.processingDescription)}}function er(e,t){if(1&e){var n=M.\u0275\u0275getCurrentView();M.\u0275\u0275elementStart(0,"div",20),M.\u0275\u0275elementStart(1,"dw-form-label",61),M.\u0275\u0275text(2,"\u6545\u969c\u89e3\u51b3\u60c5\u51b5"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(3,"div",22),M.\u0275\u0275elementStart(4,"div",45),M.\u0275\u0275listener("click",function(){M.\u0275\u0275restoreView(n);var e=M.\u0275\u0275nextContext(2);return M.\u0275\u0275reference(3).initData(e.breakdowns),e.isBreakdownVisible=!0}),M.\u0275\u0275element(5,"em",46),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(6,"dw-table",49,62),M.\u0275\u0275elementStart(8,"thead"),M.\u0275\u0275elementStart(9,"tr",51),M.\u0275\u0275elementStart(10,"th",63),M.\u0275\u0275elementStart(11,"span",53),M.\u0275\u0275text(12,"\u6545\u969c\u7f16\u53f7"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(13,"th",64),M.\u0275\u0275elementStart(14,"span",53),M.\u0275\u0275text(15,"\u6545\u969c\u540d\u79f0"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(16,"th",64),M.\u0275\u0275elementStart(17,"span",53),M.\u0275\u0275text(18,"\u6545\u969c\u90e8\u4f4d"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(19,"th",65),M.\u0275\u0275elementStart(20,"span",53),M.\u0275\u0275text(21,"\u6545\u969c\u63cf\u8ff0"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(22,"th",65),M.\u0275\u0275elementStart(23,"span",53),M.\u0275\u0275text(24,"\u5904\u7406\u8bf4\u660e"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(25,"th",66),M.\u0275\u0275elementStart(26,"span",53),M.\u0275\u0275text(27,"\u64cd\u4f5c"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(28,"tbody"),M.\u0275\u0275template(29,Yn,23,16,"tr",34),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd()}if(2&e){var r=M.\u0275\u0275reference(7),i=M.\u0275\u0275nextContext(2);M.\u0275\u0275advance(1),M.\u0275\u0275property("dwRequired",!i.docInfo.installDebugAccept),M.\u0275\u0275advance(5),M.\u0275\u0275property("dwData",i.breakdowns)("dwFrontPagination",!1)("dwShowPagination",!1),M.\u0275\u0275advance(19),M.\u0275\u0275property("dwAlign","center"),M.\u0275\u0275advance(4),M.\u0275\u0275property("ngForOf",r.data)}}function tr(e,t){if(1&e&&(M.\u0275\u0275elementStart(0,"span",91),M.\u0275\u0275element(1,"em",92),M.\u0275\u0275elementEnd()),2&e){var n=M.\u0275\u0275nextContext(3);M.\u0275\u0275property("dwTooltipTitle",n.need_return_tooltip)}}function nr(e,t){if(1&e){var n=M.\u0275\u0275getCurrentView();M.\u0275\u0275elementStart(0,"button",100),M.\u0275\u0275listener("click",function(){M.\u0275\u0275restoreView(n);var e=M.\u0275\u0275nextContext().index,t=M.\u0275\u0275nextContext(3),r=M.\u0275\u0275reference(5);return r.getServiceDocUnderWarranty(t.serviceDocUnderWarranty),r.initData("old",t.product_file_id,t.service_order_id),r.addOrEditOldPart(e,t.isChangeReport),t.openSpareParts()}),M.\u0275\u0275element(1,"em",101),M.\u0275\u0275elementEnd()}}function rr(e,t){if(1&e){var n=M.\u0275\u0275getCurrentView();M.\u0275\u0275elementStart(0,"button",102),M.\u0275\u0275listener("click",function(){M.\u0275\u0275restoreView(n);var e=M.\u0275\u0275nextContext().index;return M.\u0275\u0275nextContext(3).deleteOldPart(e)}),M.\u0275\u0275element(1,"em",103),M.\u0275\u0275elementEnd()}}function ir(e,t){if(1&e){var n=M.\u0275\u0275getCurrentView();M.\u0275\u0275elementStart(0,"input",104),M.\u0275\u0275listener("ngModelChange",function(e){return M.\u0275\u0275restoreView(n),M.\u0275\u0275nextContext().$implicit.origSn=e}),M.\u0275\u0275elementEnd()}if(2&e){var r=M.\u0275\u0275nextContext().$implicit;M.\u0275\u0275property("ngModelOptions",M.\u0275\u0275pureFunction0(2,Zn))("ngModel",r.origSn)}}function ar(e,t){if(1&e&&(M.\u0275\u0275elementStart(0,"span"),M.\u0275\u0275text(1),M.\u0275\u0275elementEnd()),2&e){var n=M.\u0275\u0275nextContext().$implicit;M.\u0275\u0275advance(1),M.\u0275\u0275textInterpolate(n.origSn)}}function or(e,t){if(1&e){var n=M.\u0275\u0275getCurrentView();M.\u0275\u0275elementStart(0,"input",104),M.\u0275\u0275listener("ngModelChange",function(e){return M.\u0275\u0275restoreView(n),M.\u0275\u0275nextContext().$implicit.sn=e}),M.\u0275\u0275elementEnd()}if(2&e){var r=M.\u0275\u0275nextContext().$implicit;M.\u0275\u0275property("ngModelOptions",M.\u0275\u0275pureFunction0(2,Zn))("ngModel",r.sn)}}function lr(e,t){if(1&e&&(M.\u0275\u0275elementStart(0,"span"),M.\u0275\u0275text(1),M.\u0275\u0275elementEnd()),2&e){var n=M.\u0275\u0275nextContext().$implicit;M.\u0275\u0275advance(1),M.\u0275\u0275textInterpolate(n.sn)}}function dr(e,t){if(1&e){var n=M.\u0275\u0275getCurrentView();M.\u0275\u0275elementStart(0,"div",57),M.\u0275\u0275elementStart(1,"div",58),M.\u0275\u0275listener("click",function(){M.\u0275\u0275restoreView(n);var e=M.\u0275\u0275nextContext().index;return M.\u0275\u0275nextContext(3).deleteGrid("part",e)}),M.\u0275\u0275element(2,"img",59),M.\u0275\u0275element(3,"img",60),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd()}}function cr(e,t){if(1&e){var n=M.\u0275\u0275getCurrentView();M.\u0275\u0275elementStart(0,"tr"),M.\u0275\u0275elementStart(1,"td"),M.\u0275\u0275text(2),M.\u0275\u0275template(3,nr,2,0,"button",93),M.\u0275\u0275template(4,rr,2,0,"button",94),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(5,"td"),M.\u0275\u0275template(6,ir,1,3,"input",95),M.\u0275\u0275template(7,ar,2,1,"span",10),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(8,"td"),M.\u0275\u0275elementStart(9,"dw-input-number",96),M.\u0275\u0275listener("ngModelChange",function(e){return M.\u0275\u0275restoreView(n).$implicit.origQty=e}),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(10,"td",97),M.\u0275\u0275elementStart(11,"label",98),M.\u0275\u0275listener("ngModelChange",function(e){return M.\u0275\u0275restoreView(n).$implicit.needReturn=e}),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(12,"td"),M.\u0275\u0275text(13),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(14,"td"),M.\u0275\u0275template(15,or,1,3,"input",95),M.\u0275\u0275template(16,lr,2,1,"span",10),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(17,"td"),M.\u0275\u0275elementStart(18,"dw-input-number",99),M.\u0275\u0275listener("ngModelChange",function(e){return M.\u0275\u0275restoreView(n).$implicit.qty=e})("ngModelChange",function(){var e=M.\u0275\u0275restoreView(n).index;return M.\u0275\u0275nextContext(3).newQtyChange(e)}),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(19,"td"),M.\u0275\u0275elementStart(20,"dw-input-number",96),M.\u0275\u0275listener("ngModelChange",function(e){return M.\u0275\u0275restoreView(n).$implicit.customerSettlementPrice=e}),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(21,"td",97),M.\u0275\u0275text(22),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(23,"td"),M.\u0275\u0275template(24,dr,4,0,"div",56),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd()}if(2&e){var r=t.$implicit,i=M.\u0275\u0275nextContext(3);M.\u0275\u0275advance(2),M.\u0275\u0275textInterpolate1(" ",r.origName," "),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf",i.isChangeReport&&(!r.origPartId||""!==r.partIdx||!r.serviceDocPartchangeId)||!i.isChangeReport),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf",(i.isChangeReport&&(!r.origPartId||""!==r.partIdx||!r.serviceDocPartchangeId)||!i.isChangeReport)&&r.origPartId),M.\u0275\u0275advance(2),M.\u0275\u0275property("ngIf",r.origSnManagement&&(!i.isChangeReport||i.isChangeReport&&(""!==r.partIdx||!r.serviceDocPartchangeId))),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf",!r.origSnManagement),M.\u0275\u0275advance(2),M.\u0275\u0275property("ngModelOptions",M.\u0275\u0275pureFunction0(31,Zn))("ngModel",r.origQty)("dwDisabled",!r.origPartId||i.isChangeReport&&""===r.partIdx&&r.serviceDocPartchangeId||r.origSnManagement)("dwMin",0)("dwPrecision",2),M.\u0275\u0275advance(1),M.\u0275\u0275property("dwAlign","center"),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngModelOptions",M.\u0275\u0275pureFunction0(32,Zn))("ngModel",r.needReturn)("dwDisabled",!(!(i.recycle_unchangeable||!r.origPartId||!r.newPartId||i.isChangeReport&&""===r.partIdx&&r.serviceDocPartchangeId||i.isChangeReport&&"1"===r.writeoffStatus)||i.isChangeReport&&r.serviceDocPartchangeId&&i.isSuperAdmin&&"1"!==r.writeoff_status&&r.newPartSource)),M.\u0275\u0275advance(2),M.\u0275\u0275textInterpolate1(" ",r.partName," "),M.\u0275\u0275advance(2),M.\u0275\u0275property("ngIf",r.snManagement&&(!i.isChangeReport||i.isChangeReport&&!r.serviceDocPartchangeId)),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf",!r.snManagement||i.isChangeReport&&r.serviceDocPartchangeId),M.\u0275\u0275advance(2),M.\u0275\u0275property("ngModel",r.qty)("ngModelOptions",M.\u0275\u0275pureFunction0(33,Zn))("dwDisabled",i.isChangeReport&&r.serviceDocPartchangeId||r.snManagement||!r.newPartId)("dwMin",0)("dwMax",r.newOrigQty)("dwPrecision",2),M.\u0275\u0275advance(2),M.\u0275\u0275property("ngModelOptions",M.\u0275\u0275pureFunction0(34,Zn))("ngModel",r.customerSettlementPrice)("dwDisabled",i.isChangeReport&&r.serviceDocPartchangeId||!r.newPartId)("dwMin",0)("dwPrecision",2),M.\u0275\u0275advance(1),M.\u0275\u0275property("dwAlign","right"),M.\u0275\u0275advance(1),M.\u0275\u0275textInterpolate1(" ",(r.customerSettlementPrice*r.qty).toFixed(2)," "),M.\u0275\u0275advance(2),M.\u0275\u0275property("ngIf",!i.isChangeReport||i.isChangeReport&&!r.serviceDocPartchangeId)}}function sr(e,t){if(1&e){var n=M.\u0275\u0275getCurrentView();M.\u0275\u0275elementStart(0,"div",20),M.\u0275\u0275elementStart(1,"div",21),M.\u0275\u0275text(2,"\u96f6\u914d\u4ef6\u66f4\u6362"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(3,"div",22),M.\u0275\u0275elementStart(4,"div",80),M.\u0275\u0275listener("click",function(){M.\u0275\u0275restoreView(n);var e=M.\u0275\u0275nextContext(2),t=M.\u0275\u0275reference(5);return t.getServiceDocUnderWarranty(e.serviceDocUnderWarranty),t.addOrEditOldPart("",e.isChangeReport),t.initData("new",e.product_file_id,e.service_order_id,e.service_mode,e.service_site_id,e.docInfo.depotRepairStatus,e.docInfo.type),e.openSpareParts()}),M.\u0275\u0275element(5,"em",46),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(6,"div",81),M.\u0275\u0275element(7,"em",82),M.\u0275\u0275elementStart(8,"div",83),M.\u0275\u0275listener("click",function(){M.\u0275\u0275restoreView(n);var e=M.\u0275\u0275nextContext(2),t=M.\u0275\u0275reference(5);return t.getServiceDocUnderWarranty(e.serviceDocUnderWarranty),t.initData("old",e.product_file_id,e.service_order_id),t.addOrEditOldPart("",e.isChangeReport),e.openSpareParts()}),M.\u0275\u0275text(9," \u62c6\u4ef6 "),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(10,"dw-table",49,84),M.\u0275\u0275elementStart(12,"thead"),M.\u0275\u0275elementStart(13,"tr",51),M.\u0275\u0275elementStart(14,"th",85),M.\u0275\u0275elementStart(15,"span",53),M.\u0275\u0275text(16,"\u539f\u96f6\u914d\u4ef6"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(17,"th",86),M.\u0275\u0275elementStart(18,"span",53),M.\u0275\u0275text(19,"\u539f\u5e8f\u5217\u53f7"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(20,"th",87),M.\u0275\u0275elementStart(21,"span",53),M.\u0275\u0275text(22,"\u539f\u4ef6\u6570\u91cf"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(23,"th",88),M.\u0275\u0275elementStart(24,"div",53),M.\u0275\u0275text(25,"\u9700\u56de\u6536\xa0 "),M.\u0275\u0275template(26,tr,2,1,"span",89),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(27,"th",85),M.\u0275\u0275elementStart(28,"span",53),M.\u0275\u0275text(29,"\u65b0\u96f6\u914d\u4ef6"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(30,"th",86),M.\u0275\u0275elementStart(31,"span",53),M.\u0275\u0275text(32,"\u65b0\u5e8f\u5217\u53f7"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(33,"th",87),M.\u0275\u0275elementStart(34,"span",53),M.\u0275\u0275text(35,"\u66f4\u6362\u6570\u91cf"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(36,"th",90),M.\u0275\u0275elementStart(37,"span",53),M.\u0275\u0275text(38,"\u5355\u4ef7"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(39,"th",88),M.\u0275\u0275elementStart(40,"span",53),M.\u0275\u0275text(41,"\u5408\u8ba1"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(42,"th",66),M.\u0275\u0275elementStart(43,"span",53),M.\u0275\u0275text(44,"\u64cd\u4f5c"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(45,"tbody"),M.\u0275\u0275template(46,cr,25,35,"tr",34),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd()}if(2&e){var r=M.\u0275\u0275reference(11),i=M.\u0275\u0275nextContext(2);M.\u0275\u0275advance(10),M.\u0275\u0275property("dwData",i.spareParts)("dwFrontPagination",!1)("dwShowPagination",!1),M.\u0275\u0275advance(13),M.\u0275\u0275property("dwAlign","center"),M.\u0275\u0275advance(3),M.\u0275\u0275property("ngIf",!i.isSuperAdmin&&i.isChangeReport),M.\u0275\u0275advance(13),M.\u0275\u0275property("dwAlign","right"),M.\u0275\u0275advance(3),M.\u0275\u0275property("dwAlign","center"),M.\u0275\u0275advance(4),M.\u0275\u0275property("ngForOf",r.data)}}function mr(e,t){if(1&e){var n=M.\u0275\u0275getCurrentView();M.\u0275\u0275elementStart(0,"tr"),M.\u0275\u0275elementStart(1,"td"),M.\u0275\u0275text(2),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(3,"td"),M.\u0275\u0275text(4),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(5,"td"),M.\u0275\u0275elementStart(6,"dw-input-number",108),M.\u0275\u0275listener("ngModelChange",function(e){return M.\u0275\u0275restoreView(n).$implicit.customer_settlement_price=e}),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(7,"td"),M.\u0275\u0275elementStart(8,"input",72),M.\u0275\u0275listener("ngModelChange",function(e){return M.\u0275\u0275restoreView(n).$implicit.process_description=e}),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(9,"td"),M.\u0275\u0275elementStart(10,"div",57),M.\u0275\u0275elementStart(11,"div",58),M.\u0275\u0275listener("click",function(){var e=M.\u0275\u0275restoreView(n).index;return M.\u0275\u0275nextContext(3).deleteGrid("serviceItem",e)}),M.\u0275\u0275element(12,"img",59),M.\u0275\u0275element(13,"img",60),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd()}if(2&e){var r=t.$implicit;M.\u0275\u0275advance(2),M.\u0275\u0275textInterpolate1(" ",r.service_item_code," "),M.\u0275\u0275advance(2),M.\u0275\u0275textInterpolate1(" ",r.service_item_name," "),M.\u0275\u0275advance(2),M.\u0275\u0275property("ngModelOptions",M.\u0275\u0275pureFunction0(9,Zn))("ngModel",r.customer_settlement_price)("dwMin",0)("dwStep",1)("dwPrecision",2),M.\u0275\u0275advance(2),M.\u0275\u0275property("ngModelOptions",M.\u0275\u0275pureFunction0(10,Zn))("ngModel",r.process_description)}}function pr(e,t){if(1&e){var n=M.\u0275\u0275getCurrentView();M.\u0275\u0275elementStart(0,"div",20),M.\u0275\u0275elementStart(1,"div",21),M.\u0275\u0275text(2,"\u670d\u52a1\u9879\u76ee"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(3,"div",22),M.\u0275\u0275elementStart(4,"div",45),M.\u0275\u0275listener("click",function(){return M.\u0275\u0275restoreView(n),M.\u0275\u0275nextContext(2).openServiceItem()}),M.\u0275\u0275element(5,"em",46),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(6,"dw-table",49,105),M.\u0275\u0275elementStart(8,"thead"),M.\u0275\u0275elementStart(9,"tr",51),M.\u0275\u0275elementStart(10,"th",63),M.\u0275\u0275elementStart(11,"span",53),M.\u0275\u0275text(12,"\u9879\u76ee\u7f16\u53f7"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(13,"th",64),M.\u0275\u0275elementStart(14,"span",53),M.\u0275\u0275text(15,"\u9879\u76ee\u540d\u79f0"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(16,"th",106),M.\u0275\u0275elementStart(17,"span",53),M.\u0275\u0275text(18,"\u4ef7\u683c"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(19,"th",107),M.\u0275\u0275elementStart(20,"span",53),M.\u0275\u0275text(21,"\u5904\u7406\u8bf4\u660e"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(22,"th",66),M.\u0275\u0275elementStart(23,"span",53),M.\u0275\u0275text(24,"\u64cd\u4f5c"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(25,"tbody"),M.\u0275\u0275template(26,mr,14,11,"tr",34),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd()}if(2&e){var r=M.\u0275\u0275reference(7),i=M.\u0275\u0275nextContext(2);M.\u0275\u0275advance(6),M.\u0275\u0275property("dwData",i.serviceItems)("dwFrontPagination",!1)("dwShowPagination",!1),M.\u0275\u0275advance(16),M.\u0275\u0275property("dwAlign","center"),M.\u0275\u0275advance(4),M.\u0275\u0275property("ngForOf",r.data)}}var ur=function(){return{width:"100%"}};function fr(e,t){if(1&e&&M.\u0275\u0275element(0,"img",109),2&e){var n=M.\u0275\u0275nextContext(2);M.\u0275\u0275property("src",n.previewImage,M.\u0275\u0275sanitizeUrl)("ngStyle",M.\u0275\u0275pureFunction0(2,ur))}}function vr(e,t){if(1&e&&(M.\u0275\u0275elementStart(0,"div"),M.\u0275\u0275elementStart(1,"a"),M.\u0275\u0275text(2),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd()),2&e){var n=M.\u0275\u0275nextContext().$implicit;M.\u0275\u0275advance(2),M.\u0275\u0275textInterpolate(n.title)}}function gr(e,t){1&e&&(M.\u0275\u0275elementStart(0,"div",114),M.\u0275\u0275text(1),M.\u0275\u0275pipe(2,"translate"),M.\u0275\u0275elementEnd()),2&e&&(M.\u0275\u0275advance(1),M.\u0275\u0275textInterpolate(M.\u0275\u0275pipeBind1(2,1,"dw-demo-image-viewer-audit")))}function hr(e,t){if(1&e&&M.\u0275\u0275template(0,gr,3,3,"div",113),2&e){var n=M.\u0275\u0275nextContext().$implicit;M.\u0275\u0275property("ngIf",n.isAudit)}}function wr(e,t){if(1&e&&(M.\u0275\u0275elementContainerStart(0),M.\u0275\u0275elementStart(1,"dw-image-viewer-list-item",110),M.\u0275\u0275template(2,vr,3,1,"ng-template",null,111,M.\u0275\u0275templateRefExtractor),M.\u0275\u0275template(4,hr,1,1,"ng-template",null,112,M.\u0275\u0275templateRefExtractor),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementContainerEnd()),2&e){var n=t.$implicit,r=M.\u0275\u0275reference(5),i=M.\u0275\u0275nextContext(2);M.\u0275\u0275advance(1),M.\u0275\u0275property("dwListType","picture-card")("dwFile",n)("dwItemAction",i.listActionMap2[n.uid])("dwDesignTpl",r)("onPreview",i.handlePreview2)("onRemove",i.handleRemove2)("onCheck",i.handleCheck)("onOtherAction",i.handleOtherAction)}}function yr(e,t){if(1&e){var n=M.\u0275\u0275getCurrentView();M.\u0275\u0275elementStart(0,"dw-upload",117),M.\u0275\u0275listener("dwFileListChange",function(e){return M.\u0275\u0275restoreView(n),M.\u0275\u0275nextContext(3).attachmentsList=e})("dwChange",function(e){return M.\u0275\u0275restoreView(n),M.\u0275\u0275nextContext(3).handleChange(e)}),M.\u0275\u0275elementStart(1,"button",118),M.\u0275\u0275element(2,"em",31),M.\u0275\u0275text(3,"\u4e0a\u4f20\u6587\u4ef6"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd()}if(2&e){var r=M.\u0275\u0275nextContext(3);M.\u0275\u0275property("dwFileList",r.attachmentsList)("dwBeforeUpload",r.beforeUploadFiles)("dwShowUploadList",!1)("dwAccept",".doc,.docx,.xls,.xlsx,.pdf,.ppt,.pptx")}}function xr(e,t){if(1&e){var n=M.\u0275\u0275getCurrentView();M.\u0275\u0275elementStart(0,"div"),M.\u0275\u0275elementStart(1,"div",119),M.\u0275\u0275elementStart(2,"div",120),M.\u0275\u0275element(3,"em",121),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(4,"div",122),M.\u0275\u0275text(5),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(6,"div",123),M.\u0275\u0275listener("click",function(){var e=M.\u0275\u0275restoreView(n).index;return M.\u0275\u0275nextContext(3).deleteFile(e)}),M.\u0275\u0275element(7,"em",103),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd()}if(2&e){var r=t.$implicit;M.\u0275\u0275advance(4),M.\u0275\u0275property("title",r.name),M.\u0275\u0275advance(1),M.\u0275\u0275textInterpolate(r.name)}}function _r(e,t){if(1&e&&(M.\u0275\u0275elementStart(0,"div",20),M.\u0275\u0275elementStart(1,"div",21),M.\u0275\u0275text(2," \u4e0a\u4f20\u9644\u4ef6 "),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(3,"div",22),M.\u0275\u0275elementStart(4,"div",23),M.\u0275\u0275template(5,yr,4,4,"dw-upload",115),M.\u0275\u0275template(6,xr,8,2,"div",34),M.\u0275\u0275elementStart(7,"div",116),M.\u0275\u0275text(8,"\u652f\u6301\u6269\u5c55\u540d\uff1a.doc .docx .xlsx .xls .ppt .pptx .pdf"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd()),2&e){var n=M.\u0275\u0275nextContext(2);M.\u0275\u0275advance(5),M.\u0275\u0275property("ngIf",n.attachmentsList.length<5),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngForOf",n.attachmentsList)}}function Cr(e,t){if(1&e&&(M.\u0275\u0275elementStart(0,"div",20),M.\u0275\u0275elementStart(1,"dw-form-label",61),M.\u0275\u0275text(2,"\u5ba2\u6237\u7b7e\u540d"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(3,"div",22),M.\u0275\u0275element(4,"input",124),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd()),2&e){var n=M.\u0275\u0275nextContext(2);M.\u0275\u0275advance(1),M.\u0275\u0275property("dwRequired",1===n.service_mode),M.\u0275\u0275advance(3),M.\u0275\u0275property("required",1===n.service_mode)("readonly",n.isChangeReport)}}var Sr=function(){return{showPreviewIcon:!0}},br=function(){return{showPreviewIcon:!0,showRemoveIcon:!0}},Ir=function(e){return{marginBottom:e}},Er=function(e){return{"my-list":e}};function Dr(e,t){if(1&e){var n=M.\u0275\u0275getCurrentView();M.\u0275\u0275elementStart(0,"div",8),M.\u0275\u0275elementStart(1,"div",9),M.\u0275\u0275text(2),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(3,"div",9),M.\u0275\u0275text(4),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(5,"div",9),M.\u0275\u0275text(6),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(7,"div",9),M.\u0275\u0275template(8,Nn,2,0,"span",10),M.\u0275\u0275template(9,jn,2,0,"span",10),M.\u0275\u0275text(10),M.\u0275\u0275template(11,zn,3,0,"div",11),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(12,"form",12),M.\u0275\u0275elementStart(13,"div",13),M.\u0275\u0275elementStart(14,"dw-form-label",14),M.\u0275\u0275text(15,"\u670d\u52a1\u7c7b\u578b\uff1a"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(16,"div",9),M.\u0275\u0275elementStart(17,"dw-select",15),M.\u0275\u0275listener("ngModelChange",function(e){return M.\u0275\u0275restoreView(n),M.\u0275\u0275nextContext().serviceTypeChange(e)}),M.\u0275\u0275template(18,Bn,1,2,"dw-option",16),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275template(19,$n,9,0,"ng-container",10),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(20,"div",17),M.\u0275\u0275elementStart(21,"div",18),M.\u0275\u0275template(22,Gn,35,4,"div",19),M.\u0275\u0275template(23,er,30,6,"div",19),M.\u0275\u0275template(24,sr,47,8,"div",19),M.\u0275\u0275template(25,pr,27,5,"div",19),M.\u0275\u0275elementStart(26,"div",20),M.\u0275\u0275elementStart(27,"div",21),M.\u0275\u0275text(28,"\u4e0a\u4f20\u7167\u7247"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(29,"div",22),M.\u0275\u0275elementStart(30,"div",23),M.\u0275\u0275elementStart(31,"dw-upload",24),M.\u0275\u0275listener("dwFileListChange",function(e){return M.\u0275\u0275restoreView(n),M.\u0275\u0275nextContext().pictures=e})("dwChange",function(){return M.\u0275\u0275restoreView(n),M.\u0275\u0275nextContext().onUploadChange()}),M.\u0275\u0275element(32,"em",25),M.\u0275\u0275elementStart(33,"div",26),M.\u0275\u0275text(34,"\u4e0a\u4f20"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(35,"dw-modal",27),M.\u0275\u0275listener("dwOnCancel",function(){return M.\u0275\u0275restoreView(n),M.\u0275\u0275nextContext().previewVisible=!1}),M.\u0275\u0275template(36,fr,1,3,"ng-template",null,28,M.\u0275\u0275templateRefExtractor),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(38,"div",20),M.\u0275\u0275elementStart(39,"div",21),M.\u0275\u0275text(40,"\u4e0a\u4f20\u89c6\u9891"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(41,"div",22),M.\u0275\u0275elementStart(42,"div",23),M.\u0275\u0275elementStart(43,"dw-upload",29),M.\u0275\u0275listener("dwFileListChange",function(e){return M.\u0275\u0275restoreView(n),M.\u0275\u0275nextContext().thumbnailList2=e})("dwChange",function(e){return M.\u0275\u0275restoreView(n),M.\u0275\u0275nextContext().uploadChange(e)}),M.\u0275\u0275elementStart(44,"button",30),M.\u0275\u0275element(45,"em",31),M.\u0275\u0275elementStart(46,"span"),M.\u0275\u0275text(47,"\u4e0a\u4f20\u89c6\u9891"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(48,"div",32),M.\u0275\u0275elementStart(49,"div",33),M.\u0275\u0275template(50,wr,6,8,"ng-container",34),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275template(51,_r,9,2,"div",19),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(52,"div",20),M.\u0275\u0275elementStart(53,"div",21),M.\u0275\u0275text(54,"\u5907\u6ce8"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(55,"div",22),M.\u0275\u0275element(56,"textarea",35),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275template(57,Cr,5,3,"div",19),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd()}if(2&e){var r=M.\u0275\u0275reference(37),i=M.\u0275\u0275nextContext();M.\u0275\u0275advance(2),M.\u0275\u0275textInterpolate1(" \u5355\u53f7\uff1a ",i.docInfo.serviceDocNo," "),M.\u0275\u0275advance(2),M.\u0275\u0275textInterpolate1(" \u8bbe\u5907\u540d\u79f0\uff1a ",i.docInfo.productFileName," "),M.\u0275\u0275advance(2),M.\u0275\u0275textInterpolate1(" \u5ba2\u6237\u540d\u79f0\uff1a ",i.docInfo.customerName," "),M.\u0275\u0275advance(2),M.\u0275\u0275property("ngIf","1"===i.docInfo.type),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf","2"===i.docInfo.type),M.\u0275\u0275advance(1),M.\u0275\u0275textInterpolate1(" ",i.docInfo.currentSn," "),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf",!i.isChangeReport),M.\u0275\u0275advance(1),M.\u0275\u0275property("formGroup",i.form),M.\u0275\u0275advance(5),M.\u0275\u0275property("dwDisabled",i.isChangeReport),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngForOf",i.serviceTypes),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf",i.docInfo.installDebugAccept),M.\u0275\u0275advance(3),M.\u0275\u0275property("ngIf","2"===i.docInfo.type),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf",i.docInfo.breakdownCondition),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf",i.docInfo.sparepartChange),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf",i.docInfo.serviceItem&&!i.isChangeReport),M.\u0275\u0275advance(6),M.\u0275\u0275property("dwFileList",i.pictures)("dwShowButton",i.pictures.length<5&&!i.isChangeReport)("dwPreview",i.handlePreview)("dwBeforeUpload",i.beforeUpload)("dwAccept",".png,.jpg")("dwShowUploadList",i.isChangeReport?M.\u0275\u0275pureFunction0(40,Sr):M.\u0275\u0275pureFunction0(41,br)),M.\u0275\u0275advance(4),M.\u0275\u0275property("dwVisible",i.previewVisible)("dwContent",r)("dwFooter",null),M.\u0275\u0275advance(3),M.\u0275\u0275styleMap(M.\u0275\u0275pureFunction1(42,Ir,i.thumbnailList2.length?"6px":"20px")),M.\u0275\u0275classMap(i.pictures.length||!i.isChangeReport?"margin-top-14":""),M.\u0275\u0275advance(5),M.\u0275\u0275property("dwCustomRequest",i.customReq)("dwFileList",i.thumbnailList2)("dwShowUploadList",!1)("dwShowButton",i.thumbnailList2.length<3&&!i.isChangeReport)("dwMultiple",!0)("dwDisabled",i.isCheckShow2||i.fileUploadingCount>0)("dwAccept",".mp4"),M.\u0275\u0275advance(1),M.\u0275\u0275property("disabled",i.isCheckShow2||i.fileUploadingCount>0||3==i.thumbnailList2.length),M.\u0275\u0275advance(5),M.\u0275\u0275property("ngClass",M.\u0275\u0275pureFunction1(44,Er,i.isDemoStyle)),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngForOf",i.thumbnailList2),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf",i.docInfo.installDebugAccept),M.\u0275\u0275advance(6),M.\u0275\u0275property("ngIf",i.isChangeReport&&i.form.value.signature&&"null"!=i.form.value.signature||!i.isChangeReport)}}var Or=function(){return{height:"calc(100vh - 155px)",overflow:"auto","padding-top":"0"}},kr=function(){var n=function(){function n(e,r,i,a,l,d,c,m,u,f,v,g){var h=this;p(this,n),this.http=e,this.fb=r,this.serviceOrderDetailSrv=i,this.serviceItemSelectService=a,this.message=l,this.modalService=d,this.dwUploadFileMangementService=c,this.dwImageViewerListService=m,this.serviceOrderSrv=u,this.phraseOpenerService=f,this.datePipe=v,this.faultLocationOpenerService=g,this.visibleChanged=new M.EventEmitter,this.isSuperAdmin=!1,this.isChangeReport=!1,this.recycle_unchangeable=!1,this.docInfo={serviceDocId:"",serviceDocNo:"",type:"1",productFileName:"",customerName:"",breakdownCondition:!1,serviceItem:!1,sparepartChange:!1,installDebugAccept:!1,originalSn:"",currentSn:"",depotRepairStatus:"0"},this.product_file_id="",this.service_order_id="",this.service_doc_id="",this.service_order_equipment=[],this.equipments_for_show=[],this.isBreakdownVisible=!1,this.isSparePartVisible=!1,this.isSnVisible=!1,this.breakdowns=[],this.spareParts=[],this.serviceItems=[],this.pictures=[],this.previewImage="",this.previewVisible=!1,this.serviceTypes=[],this.attachmentsList=[],this.need_return_tooltip='\u82e5\u60a8\u60f3\u53d8\u66f4\u539f\u62a5\u544a\u4e2d\u7684"\u9700\u56de\u6536"\u9009\u9879\uff0c\u8bf7\u8054\u7cfb\u7ba1\u7406\u5458\u5904\u7406\u3002',this.underWarrantyList=[],this.serviceDocUnderWarranty=!1,this.service_mode="",this.service_site_id="",this.beforeUpload=function(e,t){return new _.Observable(function(t){var n="image/jpeg"===e.type||"image/png"===e.type;if(!n)return h.message.create("error","\u8bf7\u4e0a\u4f20jpg\u6216png\u683c\u5f0f\u56fe\u7247\uff01"),void t.complete();var r=e.size/1024/1024<=5;if(!r)return h.message.create("error","\u4e0a\u4f20\u6587\u4ef6\u5927\u5c0f\u8d85\u8fc75M\uff01"),void t.complete();t.next(n&&r),t.complete()})},this.handlePreview=function(e){return(0,o.mG)(h,void 0,void 0,t().mark(function n(){return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=!e.url&&!e.preview,!t.t0){t.next=5;break}return t.next=4,this.getBase64(e.originFileObj);case 4:e.preview=t.sent;case 5:console.log("handlePreview",e),this.previewImage=e.url||e.preview,this.previewVisible=!0;case 8:case"end":return t.stop()}},n,this)}))},this.beforeUploadFiles=function(e,t){return new _.Observable(function(t){console.log(e);var n=e.name.split("."),r=n[n.length-1].indexOf("xls")>=0||n[n.length-1].indexOf("doc")>=0||n[n.length-1].indexOf("ppt")>=0||n[n.length-1].indexOf("pdf")>=0;if(!r)return h.message.create("error","\u8bf7\u4e0a\u4f20\u6b63\u786e\u683c\u5f0f\u6587\u4ef6\uff01"),void t.complete();var i=e.size/1024/1024<=5;if(!i)return h.message.create("error","\u4e0a\u4f20\u6587\u4ef6\u5927\u5c0f\u8d85\u8fc75M\uff01"),void t.complete();t.next(r&&i),t.complete()})},this.thumbnailList2=[],this.listActionMap2={},this.isCheckShow2=!1,this.isDemoStyle=!1,this.customReq=function(e){var t=e.file;if(!("video/mp4"!==t.type&&"video/avi"!==t.type&&"video/rmvb"!==t.type&&"video/3gp"!==t.type&&"video/flv"!==t.type||t.size/1024/1024>10))return h.serviceOrderSrv.uploadFile(t,!0,null,"",{shrink:"100000",width:"200"}).subscribe(function(t){"success"===t.status?(t.primaryKey="id-"+Math.random().toString(36).substring(2),e.onSuccess(t,e.file,null)):"error"===t.status?e.onError(t,e.file):e.onProgress(t,e.file)},function(t){e.onError(t,e.file)})},this.handlePreview2=function(e){return h.dwImageViewerListService.previewModal(e,h.thumbnailList2,h.viewerAction2,h.handlePrevious2,h.handleNext2)},this.handlePrevious2=function(e){return h.dwImageViewerListService.previous(h.thumbnailList2,e,h.viewerAction2)},this.handleNext2=function(e){return h.dwImageViewerListService.next(h.thumbnailList2,e,h.viewerAction2)},this.handleRemove2=function(e){return _.Observable.create(function(t){"uploading"===e.status?(h.dwUploadFileMangementService.cancelUploading(e.uid),h.listRemove2(e.uid),t.next("ok"),t.complete()):"error"===e.status?(h.listRemove2(e.uid),t.next("ok"),t.complete()):h.serviceOrderSrv.deleteFile(e.dmcFileId).subscribe(function(n){h.listRemove2(e.uid),t.next("ok"),t.complete()},function(e){console.log(e),t.next("error"),t.complete()})})},this.handleCheck=function(e){return _.Observable.create(function(t){for(var n=h.thumbnailList2.length,r=0;r<n;r++)h.thumbnailList2[r].uid===e.uid&&(h.thumbnailList2[r].check=!h.thumbnailList2[r].check);t.next("ok"),t.complete()})},this.handleOtherAction=function(e,t){return _.Observable.create(function(n){switch(t){case"my-action-0":h.message.create("success","uid:"+e.uid+"<br>"+e.name),n.next("ok"),n.complete();break;default:h.message.create("success","uid:"+e.uid+"<br>actionId:"+t),n.next("ok"),n.complete()}})},this.form=this.fb.group({remark:[""],signature:[""],serviceType:["",s.Validators.required],installationDateRange:[""],acceptanceDate:[""]})}return f(n,[{key:"initData",value:function(e,t,n,r,i){var a=this;this.product_file_id=e,this.service_order_id=t,this.service_doc_id=n,this.service_mode=r,console.log("service_mode",r),1===r?this.form.get("signature").setValidators([s.Validators.required]):this.form.get("signature").clearValidators(),this.service_site_id=i,this.serviceOrderDetailSrv.getServiceTypes().subscribe(function(e){a.serviceTypes=e}),this.serviceOrderDetailSrv.getSummaryInfo(this.service_doc_id).subscribe(function(e){a.docInfo=e.data,a.serviceDocUnderWarranty=e.data.underWarranty,console.log("serviceDocUnderWarranty",a.serviceDocUnderWarranty),e.data.serviceOrderEquipments.forEach(function(e){e.$state="u",e.product_equipment_list_id=e.equipment_id,e.sn=e.equipment_sn}),a.service_order_equipment=e.data.serviceOrderEquipments,a.getEquipmentsForShow(),a.docInfo.installDebugAccept?(a.form.get("installationDateRange").setValidators([s.Validators.required]),a.form.get("acceptanceDate").setValidators([s.Validators.required])):(a.form.get("installationDateRange").clearValidators(),a.form.get("acceptanceDate").clearValidators()),a.form.get("installationDateRange").reset(),a.form.get("acceptanceDate").reset(),a.form.get("serviceType").setValue(e.data.serviceTypeId),"2"===e.data.statue&&e.data.serviceItem&&a.serviceOrderDetailSrv.getQuotationServiceItems(t).subscribe(function(e){var t=[];e.forEach(function(e){t.push({customer_settlement_price:e.customerSettlementPrice,employee_settlement_price:e.employeeSettlementPrice,process_description:e.processDescription,service_item_code:e.serviceItemCode,service_item_id:parseInt(e.serviceItemId),service_item_name:e.serviceItemName,site_settlement_price:e.siteSettlementPrice})}),a.serviceItems=t})}),this.serviceOrderDetailSrv.getAutoSettings().subscribe(function(e){a.serviceOrderDetailSrv.getCurrentEmployee().subscribe(function(t){var n=t.value.function.split(""),r=1===n.filter(function(e){return"1"===e}).length&&"1"===n[0];a.recycle_unchangeable=e.recycle_unchangeable&&r},function(e){e.hasOwnProperty("error")&&e.error.hasOwnProperty("errorMessage")&&e.error.errorMessage&&a.message.error(e.error.errorMessage)})},function(e){e.hasOwnProperty("error")&&e.error.hasOwnProperty("errorMessage")&&e.error.errorMessage&&a.message.error(e.error.errorMessage)})}},{key:"getReportInfo",value:function(e){var t=this;this.isChangeReport=!0,this.http.get("restful/service/serviceDoc/ServiceReport/IsSuperAdmin").subscribe(function(e){t.isSuperAdmin=e.data}),this.serviceOrderDetailSrv.getServiceReportInfo(e).subscribe(function(e){console.log(e);var n=e.service_doc;t.form.setValue({remark:n.serviceRemark,signature:n.signature||"null",serviceType:n.serviceTypeId,installationDateRange:n.installationDateBegin?[n.installationDateBegin,n.installationDateEnd]:"",acceptanceDate:n.acceptanceDate||""}),t.breakdowns=e.service_doc_breakdown;var r=[];e.service_doc_partchange.forEach(function(e){r.push({serviceDocPartchangeId:e.serviceDocPartchangeId,origPartId:e.origPartId,origName:e.origPartCode?"(".concat(e.origPartCode,")").concat(e.origPartName).concat(e.origSpecification?"_"+e.origSpecification:""):"",underWarranty:e.underWarranty,origQty:e.origQty,needReturn:e.needReturn,newPartId:e.partId,partName:e.partCode?"(".concat(e.partCode,")").concat(e.partName).concat(e.specification?"_"+e.specification:""):"",qty:e.qty,newPartSource:e.newPartSource,partsDeliveryDetailsId:e.partsDeliveryDetailsId,sourceId:e.sourceId,writeoffStatus:e.writeoffStatus,origSn:e.origSn,sn:e.sn,snManagement:"1"===e.snManagement,customerSettlementPrice:e.customerSettlementPrice,partIdx:""})}),t.spareParts=r;var i=[];e.service_doc_serviceitem.forEach(function(e){i.push({customer_settlement_price:e.customerSettlementPrice,employee_settlement_price:e.employeeSettlementPrice,process_description:e.processDescription,service_item_code:e.serviceItemCode,service_item_id:e.serviceItemId,service_item_name:e.serviceItemName,site_settlement_price:e.siteSettlementPrice})}),t.serviceItems=i,t.initVideoData(e.service_doc.videos),e.service_doc.pictures?function(){var n=e.service_doc.pictures.split(","),r=[],i=function(e){n[e]&&r.push(new Promise(function(r,i){t.serviceOrderDetailSrv.getFileById(n[e]).subscribe(function(t){r({uid:n[e],name:n[e],status:"done",url:t.value})})}))};for(var a in n)i(a);Promise.all(r).then(function(e){t.pictures=e})}():t.pictures=[],e.service_doc.annexs&&(e.service_doc.annexs.forEach(function(e){t.attachmentsList.push(e)}),t.attachmentsList.forEach(function(e){e.name=e.annex_name,e.uid=e.annex_id,e.state=""}))})}},{key:"ngOnInit",value:function(){}},{key:"openSn",value:function(){this.isSnVisible=!0}},{key:"snChangeVisible",value:function(e){e&&(this.docInfo.currentSn=e),this.isSnVisible=!1}},{key:"getConfigValue",value:function(){return{modalTitle:"\u9009\u62e9\u8bbe\u5907",modalWidth:"50%",multiSelect:!0,tableIdField:"product_equipment_list_id",tableNameField:"name",returnFields:["product_equipment_list_id","code","name","model","sn","specification","item_group_name"],tablePageSize:10,tableColDefs:[{title:"\u8bbe\u5907\u7f16\u53f7",field:"code"},{title:"\u8bbe\u5907\u540d\u79f0",field:"name"},{title:"\u8bbe\u5907\u578b\u53f7",field:"model"},{title:"\u5e8f\u5217\u53f7",field:"sn"},{title:"\u89c4\u683c",field:"specification"}],tableCustomTag:function(e){return"("+e.code+")"+e.name},dataSourceUrl:"restful/service/productFile/ProductFile/ProductEquipmentList?productFileId=".concat(this.product_file_id),dwHttp:this.http}}},{key:"openSelect",value:function(e){var t=this;e.forEach(function(e){console.log("element",e),t.equipments_for_show.filter(function(t){return e.product_equipment_list_id===t.product_equipment_list_id}).length||t.service_order_equipment.push(Object.assign({$state:"c"},e))}),this.getEquipmentsForShow()}},{key:"deleteEquipment",value:function(e){"c"===this.service_order_equipment[e].$state?this.service_order_equipment.splice(e,1):this.service_order_equipment[e].$state="d",this.getEquipmentsForShow()}},{key:"getEquipmentsForShow",value:function(){var e=[];this.service_order_equipment.forEach(function(t,n){"d"!==t.$state&&e.push(Object.assign({index:n},t))}),this.equipments_for_show=e}},{key:"breakChangeVisible",value:function(e){if(e){var t=[],n=[];this.breakdowns.length&&this.breakdowns.forEach(function(e){t.push(e),n.push(e.breakdownId)}),e.forEach(function(e){e.child.forEach(function(e){n.indexOf(e.id)<0&&t.push({breakdownId:e.id,breakdownCode:e.code,breakdownName:e.name,breakdownDescription:"",processingDescription:"",faultPhrase:"",programmePhrase:"",faultLocationName:"",faultLocationId:0})})}),this.breakdowns=t}this.isBreakdownVisible=!1}},{key:"openSpareParts",value:function(){this.isSparePartVisible=!0}},{key:"partChangeVisible",value:function(e){if(console.log("par====>",e),e&&""!==e.partIdx)this.spareParts[e.partIdx].serviceDocPartchangeId=this.spareParts[e.partIdx].serviceDocPartchangeId?this.spareParts[e.partIdx].serviceDocPartchangeId:0,this.spareParts[e.partIdx].origPartId=e.origPartId,this.spareParts[e.partIdx].origName=e.origName,this.spareParts[e.partIdx].needReturn=e.needReturn,this.spareParts[e.partIdx].partIdx=e.partIdx,this.spareParts[e.partIdx].underWarranty=e.underWarranty,this.spareParts[e.partIdx].origQty=e.origQty,this.spareParts[e.partIdx].origSnManagement=e.origSnManagement,this.spareParts[e.partIdx].origSn=e.origSn,this.spareParts[e.partIdx].origReplacementDate=e.origReplacementDate,this.spareParts[e.partIdx].oldPartSource=e.oldPartSource;else if(e){e.serviceDocPartchangeId=0;var t=[],n=!0,r=0;if(this.spareParts.length)for(var i in this.spareParts.forEach(function(n){t.push(n),e.snManagement&&e.partsDeliveryDetailsId&&!n.serviceDocPartchangeId&&n.newPartId+""+n.partsDeliveryDetailsId==e.newPartId+""+e.partsDeliveryDetailsId&&(r+=1)}),t)if(t[i].origPartId+t[i].origSn===e.origPartId+e.origSn&&t[i].newPartId+t[i].sn===e.newPartId+e.sn&&!t[i].serviceDocPartchangeId&&!t[i].snManagement&&t[i].partsDeliveryDetailsId===e.partsDeliveryDetailsId){t[i].qty=t[i].qty===t[i].newOrigQty?t[i].qty:t[i].qty+1,n=!1;break}if(n)if(e.snManagement&&e.partsDeliveryDetailsId)if(r>=e.newOrigQty)this.message.create("error","\u8be5\u914d\u4ef6\u5df2\u5728\u62a5\u544a\u4e2d\u5168\u90e8\u4f7f\u7528");else for(var a=0;a<e.newOrigQty-r;a++){var o=JSON.parse(JSON.stringify(e));t.push(o)}else t.push(e);this.spareParts=t}this.isSparePartVisible=!1}},{key:"openServiceItem",value:function(){var e=this;this.serviceItemSelectService.setConfig([],!0),this.serviceItemSelectService.open([]).subscribe(function(t){var n=t.data;console.log(n);var r=[],i=[];e.serviceItems.length&&e.serviceItems.forEach(function(e){r.push(e.service_item_id),i.push(e)}),n.service_item.forEach(function(e){r.indexOf(e.service_item_id)<0&&(e.process_description="",i.push(e))}),e.serviceItems=i})}},{key:"deleteGrid",value:function(e,t){if("equipment"===e){var n=[];this.service_order_equipment.forEach(function(e){n.push(e)}),n.splice(t,1),this.service_order_equipment=n}else if("breakdown"===e){var r=[];this.breakdowns.forEach(function(e){r.push(e)}),r.splice(t,1),this.breakdowns=r}else if("part"===e){var i=[];this.spareParts.forEach(function(e){i.push(e)}),i.splice(t,1),this.spareParts=i}else{var a=[];this.serviceItems.forEach(function(e){a.push(e)}),a.splice(t,1),this.serviceItems=a}}},{key:"deleteOldPart",value:function(e){this.spareParts[e].newPartId?(this.spareParts[e].origPartId=0,this.spareParts[e].origName="",this.spareParts[e].needReturn=!1,this.spareParts[e].underWarranty=!1,this.spareParts[e].partIdx="",this.spareParts[e].origQty=0,this.spareParts[e].origSnManagement=!1,this.spareParts[e].origSn="",this.spareParts[e].origReplacementDate=null):this.deleteGrid("part",e)}},{key:"onUploadChange",value:function(){this.pictures.forEach(function(e){e.status="done"})}},{key:"getBase64",value:function(e){return new Promise(function(t,n){var r=new FileReader;r.readAsDataURL(e),r.onload=function(){return t(r.result)},r.onerror=function(e){return n(e)}})}},{key:"deleteFile",value:function(e){this.attachmentsList.splice(e,1)}},{key:"close",value:function(){this.breakdowns=[],this.spareParts=[],this.serviceItems=[],this.pictures=[],this.thumbnailList2=[],this.form.setValue({remark:"",signature:"",serviceType:"",installationDateRange:"",acceptanceDate:""}),this.attachmentsList=[],this.form.get("signature").reset(),this.visibleChanged.emit(!1)}},{key:"handleOk",value:function(){var t=this;if("2"!==this.docInfo.type||this.equipments_for_show.length)if(!this.docInfo.breakdownCondition||this.breakdowns.length||this.docInfo.installDebugAccept){var n=[];if(this.breakdowns.length&&(n=this.breakdowns.filter(function(e){return!e.breakdownDescription.trim()&&!e.faultPhrase||!e.processingDescription.trim()&&!e.programmePhrase}),console.log("errorList",n)),n&&n.length)this.message.create("error",n[0].breakdownDescription.trim()||n[0].faultPhrase?"("+n[0].breakdownCode+")"+n[0].breakdownName+" \u672a\u586b\u5199\u5904\u7406\u8bf4\u660e":"("+n[0].breakdownCode+")"+n[0].breakdownName+" \u672a\u586b\u5199\u6545\u969c\u63cf\u8ff0");else if(this.docInfo.installDebugAccept||0!==this.spareParts.length||0!==this.serviceItems.length||0!==this.breakdowns.length)if(this.docInfo.installDebugAccept&&new Date(this.form.value.acceptanceDate).getTime()<new Date(this.form.value.installationDateRange[1]).getTime())this.message.create("error","\u9a8c\u6536\u65e5\u671f\u4e0d\u53ef\u5c0f\u4e8e\u8c03\u8bd5\u65e5\u671f");else{var r=!0;if(this.spareParts.forEach(function(e){(e.origPartId&&e.origQty<=0||e.newPartId&&e.qty<=0)&&(r=!1)}),r){if(!this.recycle_unchangeable&&this.spareParts){var i=[];this.spareParts.forEach(function(e){e.underWarranty&&!e.needReturn&&(!(t.recycle_unchangeable||!e.origPartId||!e.newPartId||t.isChangeReport&&""===e.partIdx&&e.serviceDocPartchangeId||t.isChangeReport&&"1"===e.writeoffStatus)||t.isChangeReport&&e.serviceDocPartchangeId&&t.isSuperAdmin&&"1"!==e.writeoff_status&&e.newPartSource)&&i.push(e.origName)}),this.underWarrantyList=i,console.log("underWarrantyList",this.underWarrantyList)}if(this.underWarrantyList&&this.underWarrantyList.length)this.modalService.warning({dwTitle:"\u6e29\u99a8\u63d0\u793a",dwContent:'<div>\u4ee5\u4e0b\u914d\u4ef6\u5728\u4fdd\u4fee\u671f\u5185\uff0c\u4f46\u672a\u52fe\u9009\u9700\u56de\u6536\uff0c\u60a8\u786e\u8ba4\u4e0d\u9700\u8fdb\u884c\u56de\u6536\u561b?\u63d0\u4ea4\u540e\u5c06\u65e0\u6cd5\u4fee\u6539\u3002</div>\n                    <div class="underWarranty"><span>\u914d\u4ef6\uff1a</span><span class="underWarranty-blue">'.concat(this.underWarrantyList.toString(),"</span></div>"),dwOkText:"\u53d6\u6d88",dwOkType:"primary",dwOnCancel:function(){var n=t.spareParts.filter(function(e){return e.partsDeliveryDetailsId>0}),r=[],i=[];if(n.length){n.forEach(function(e){r.indexOf(e.partsDeliveryDetailsId)>=0?i[r.indexOf(e.partsDeliveryDetailsId)].totalNum+=e.qty:(r.push(e.partsDeliveryDetailsId),i.push({partName:e.partName,maxNum:e.newOrigQty,totalNum:e.qty}))});var a,o=e(i);try{for(o.s();!(a=o.n()).done;){var l=a.value;if(l.totalNum>l.maxNum)return void t.message.create("error","\u65b0\u96f6\u914d\u4ef6\u201c"+l.partName+"\u201d\u7684\u603b\u6570\u91cf\u4e0d\u53ef\u8d85\u8fc7\u53d1\u8d27\u6570\u91cf"+l.maxNum)}}catch(d){o.e(d)}finally{o.f()}}"create"===t.type?t.serviceOrderDetailSrv.checkNotCompletePartsApply(t.service_doc_id).subscribe(function(e){e.data[0].acount>=1?t.modalService.confirm({dwIconType:"exclamation-circle",dwOkText:"\u76f4\u63a5\u63d0\u4ea4",dwTitle:"\u63d0\u793a",dwContent:"\u6b64\u5de5\u5355\u63d0\u4ea4\u7684\u914d\u4ef6\u7533\u8bf7\u5355\u8fd8\u672a\u5ba1\u6838\u786e\u8ba4\uff0c\u82e5\u540e\u7eed\u4ecd\u9700\u53d1\u8d27\uff0c\u8bf7\u5728\u63d0\u4ea4\u62a5\u544a\u524d\u5148\u5b8c\u6210\u5ba1\u6838\uff01",dwOnOk:function(){t.alertUpdateDate()},dwOnCancel:function(){}}):t.alertUpdateDate()},function(e){e.hasOwnProperty("error")&&e.error.hasOwnProperty("errorMessage")&&e.error.errorMessage&&t.message.error(e.error.errorMessage)}):t.uploadFile()},dwCancelText:"\u786e\u8ba4",dwOnOk:function(){}});else{var a=this.spareParts.filter(function(e){return e.partsDeliveryDetailsId>0}),o=[],l=[];if(a.length){a.forEach(function(e){o.indexOf(e.partsDeliveryDetailsId)>=0?l[o.indexOf(e.partsDeliveryDetailsId)].totalNum+=e.qty:(o.push(e.partsDeliveryDetailsId),l.push({partName:e.partName,maxNum:e.newOrigQty,totalNum:e.qty}))});var d,c=e(l);try{for(c.s();!(d=c.n()).done;){var s=d.value;if(s.totalNum>s.maxNum)return void this.message.create("error","\u65b0\u96f6\u914d\u4ef6\u201c"+s.partName+"\u201d\u7684\u603b\u6570\u91cf\u4e0d\u53ef\u8d85\u8fc7\u53d1\u8d27\u6570\u91cf"+s.maxNum)}}catch(m){c.e(m)}finally{c.f()}}"create"===this.type?this.serviceOrderDetailSrv.checkNotCompletePartsApply(this.service_doc_id).subscribe(function(e){e.data[0].acount>=1?t.modalService.confirm({dwIconType:"exclamation-circle",dwOkText:"\u76f4\u63a5\u63d0\u4ea4",dwTitle:"\u63d0\u793a",dwContent:"\u6b64\u5de5\u5355\u63d0\u4ea4\u7684\u914d\u4ef6\u7533\u8bf7\u5355\u8fd8\u672a\u5ba1\u6838\u786e\u8ba4\uff0c\u82e5\u540e\u7eed\u4ecd\u9700\u53d1\u8d27\uff0c\u8bf7\u5728\u63d0\u4ea4\u62a5\u544a\u524d\u5148\u5b8c\u6210\u5ba1\u6838\uff01",dwOnOk:function(){t.alertUpdateDate()},dwOnCancel:function(){}}):t.alertUpdateDate()},function(e){e.hasOwnProperty("error")&&e.error.hasOwnProperty("errorMessage")&&e.error.errorMessage&&t.message.error(e.error.errorMessage)}):this.uploadFile()}}else this.message.create("error","\u914d\u4ef6\u6570\u91cf\u9700\u5927\u4e8e0")}else this.message.create("error","\u62a5\u544a\u4e2d\uff0c\u6545\u969c\u3001\u96f6\u914d\u4ef6\u3001\u670d\u52a1\u9879\u76ee\u4e0d\u53ef\u540c\u65f6\u4e3a\u7a7a\uff0c\u8bf7\u81f3\u5c11\u586b\u5199\u4e00\u9879\u3002")}else this.message.create("error","\u8bf7\u9009\u62e9\u6545\u969c\u89e3\u51b3\u60c5\u51b5");else this.message.create("error","\u8bf7\u9009\u62e9\u8bbe\u5907\u4fe1\u606f")}},{key:"alertUpdateDate",value:function(){var e=this;this.docInfo.installDebugAccept?this.serviceOrderDetailSrv.serviceOrderRecordShowAlert(this.product_file_id).subscribe(function(t){if(t.data.length){var n=[];t.data.forEach(function(e,t){t<3&&n.push(e)}),t.data.length>3&&n.push("..."),e.modalService.confirm({dwIconType:"exclamation-circle",dwOkText:"\u786e\u8ba4\u63d0\u4ea4",dwTitle:"\u63d0\u793a",dwWidth:"500px",dwContent:"\u5f53\u524d\u4ea7\u54c1\u5df2\u8fdb\u884c\u8fc7\u5b89\u88c5\u9a8c\u6536\uff0c\u5de5\u5355\u5355\u53f7\uff1a".concat(n,"\uff0c\u672c\u6b21\u62a5\u544a\u63d0\u4ea4\u4f1a\u518d\u6b21\u66f4\u65b0\u8be5\u4ea7\u54c1\u7684\u5b89\u88c5\u548c\u9a8c\u6536\u65e5\u671f\u3002"),dwOnOk:function(){e.uploadFile()},dwOnCancel:function(){}})}else e.uploadFile()},function(t){t.hasOwnProperty("error")&&t.error.hasOwnProperty("errorMessage")&&t.error.errorMessage&&e.message.error(t.error.errorMessage)}):this.uploadFile()}},{key:"uploadFile",value:function(){var e=this,n=[],r=this.pictures;console.log(r);for(var i=function(i){n.push(new Promise(function(n,a){return(0,o.mG)(e,void 0,void 0,t().mark(function e(){var a,o=this;return t().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=r[i].name,!r[i].thumbUrl){e.next=7;break}return e.next=4,this.getBase64(r[i].originFileObj);case 4:e.t1=e.sent,e.next=8;break;case 7:e.t1=r[i].url;case 8:e.t2=e.t1,a={name:e.t0,base64String:e.t2},setTimeout(function(){o.serviceOrderDetailSrv.uploadImg(a).subscribe(function(e){n(e)})},200);case 11:case"end":return e.stop()}},e,this)}))}))},a=0;a<r.length;a++)i(a);Promise.all(n).then(function(t){console.log(t),"create"===e.type?e.create(t.join(",")):e.modify()})}},{key:"handleCancel",value:function(){this.close()}},{key:"create",value:function(e){var n=this,r=[];this.service_order_equipment.forEach(function(e){var t=Object.assign({},e);Object.assign(t,{equipment_id:e.product_equipment_list_id,equipment_sn:e.sn,product_file_id:n.product_file_id,product_file_sn:n.docInfo.currentSn}),r.push(t)});var i=[];this.breakdowns.forEach(function(e){i.push({breakdownId:e.breakdownId,processingDescription:e.processingDescription,breakdownDescription:e.breakdownDescription,faultPhrase:e.faultPhrase,programmePhrase:e.programmePhrase,faultLocationId:e.faultLocationId||0})});var a=[];this.serviceItems.forEach(function(e){a.push({serviceItemId:e.service_item_id,processDescription:e.process_description,customerSettlementPrice:e.customer_settlement_price,siteSettlementPrice:e.site_settlement_price,employeeSettlementPrice:e.employee_settlement_price})});var l=[],d=!0,c=[];if(this.spareParts.forEach(function(e){return e.snManagement&&!e.sn?(d=!1,void n.message.create("error","\u65b0\u96f6\u914d\u4ef6\u201c"+e.partName+"\u201d\u7684\u5e8f\u5217\u53f7\u4e0d\u53ef\u4e3a\u7a7a")):e.origSnManagement&&!e.origSn?(d=!1,void n.message.create("error","\u539f\u96f6\u914d\u4ef6\u201c"+e.origName+"\u201d\u7684\u5e8f\u5217\u53f7\u4e0d\u53ef\u4e3a\u7a7a")):e.snManagement&&e.origPartId+e.origSn===e.newPartId+e.sn?(d=!1,void n.message.create("error","\u65b0\u65e7\u96f6\u914d\u4ef6\u4e0d\u53ef\u5b8c\u5168\u76f8\u540c")):(c.push(e.snManagement?e.origPartId+e.origSn+e.newPartId+e.sn:e.origPartId+e.origSn+e.newPartId+e.sn+e.partsDeliveryDetailsId),void l.push({origPartId:e.origPartId,underWarranty:e.underWarranty,origQty:e.origQty,needReturn:e.needReturn,partId:e.newPartId,qty:e.qty,customerSettlementPrice:e.customerSettlementPrice,siteSettlementPrice:e.siteSettlementPrice,employeeSettlementPrice:e.employeeSettlementPrice,newPartSource:e.newPartSource,sourceId:e.partsDeliveryDetailsId,writeoffStatus:0,origSn:e.origSn||"",snManagement:e.snManagement?"1":"0",sn:e.sn,origReplacementDate:e.origReplacementDate,oldPartSource:e.oldPartSource}))}),d)if(c.filter(function(e,t,n){return n.indexOf(e)===t}).length<c.length)this.message.create("error","\u8bf7\u52ff\u91cd\u590d\u9009\u62e9\u914d\u4ef6");else{var s=[],m=[];this.attachmentsList.forEach(function(e){return(0,o.mG)(n,void 0,void 0,t().mark(function n(){var r,i=this;return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:(r=new FormData).append("file",e.originFileObj),m.push(new Promise(function(e,t){i.serviceOrderDetailSrv.saveAttachments(r).subscribe(function(n){n.success?(s.push(n.data),e(n)):(i.message.create("error","\u9644\u4ef6\u4fdd\u5b58\u5931\u8d25\uff01"),t())},function(e){e.hasOwnProperty("error")&&e.error.hasOwnProperty("errorMessage")&&e.error.errorMessage&&i.message.error(e.error.errorMessage)})}));case 2:case"end":return t.stop()}},n)}))}),Promise.all(m).then(function(t){var o={serviceReport:JSON.stringify({serviceDocId:n.docInfo.serviceDocId,fileType:n.docInfo.type,productEquipments:r,breakdowns:i,serviceItems:a,serviceDocPartChanges:l,pictures:e,serviceRemark:n.form.value.remark,signature:n.form.value.signature?n.form.value.signature:"",serviceTypeId:n.form.value.serviceType,currentSn:n.docInfo.currentSn,repair_video:n.videos,install:n.docInfo.installDebugAccept?{installationDate:n.form.value.installationDateRange?n.datePipe.transform(n.form.value.installationDateRange[0],"yyyy-MM-dd"):"",installationDateEnd:n.form.value.installationDateRange?n.datePipe.transform(n.form.value.installationDateRange[1],"yyyy-MM-dd"):"",acceptanceDate:n.form.value.acceptanceDate?n.datePipe.transform(n.form.value.acceptanceDate,"yyyy-MM-dd"):"",annex:s.join(",")}:null})};console.log(JSON.parse(o.serviceReport)),n.serviceOrderDetailSrv.createReport(o).subscribe(function(e){n.form.setValue({remark:"",signature:"",serviceType:"",installationDateRange:"",acceptanceDate:""}),n.attachmentsList=[],n.form.get("signature").reset(),n.visibleChanged.emit(!0),n.message.create("success","\u63d0\u4ea4\u6210\u529f\uff01")},function(e){e.hasOwnProperty("error")&&e.error.hasOwnProperty("errorMessage")&&e.error.errorMessage&&n.message.error(e.error.errorMessage)})})}}},{key:"modify",value:function(){var e=this;console.log(this.spareParts);var n=[];this.service_order_equipment.forEach(function(t){var r=Object.assign({},t);Object.assign(r,{equipment_id:t.product_equipment_list_id,equipment_sn:t.sn,product_file_id:e.product_file_id,product_file_sn:e.docInfo.currentSn}),n.push(r)});var r=[];this.breakdowns.forEach(function(e){r.push({breakdownId:e.breakdownId,processingDescription:e.processingDescription,breakdownDescription:e.breakdownDescription,faultPhrase:e.faultPhrase,programmePhrase:e.programmePhrase,faultLocationId:e.faultLocationId||0})});var i=[];this.serviceItems.forEach(function(e){i.push({serviceItemId:e.service_item_id,processDescription:e.process_description,customerSettlementPrice:e.customer_settlement_price,siteSettlementPrice:e.site_settlement_price,employeeSettlementPrice:e.employee_settlement_price})});var a=[],l=!0,d=[];if(this.spareParts.forEach(function(t){return t.snManagement&&!t.sn?(l=!1,void e.message.create("error","\u65b0\u96f6\u914d\u4ef6\u201c"+t.partName+"\u201d\u7684\u5e8f\u5217\u53f7\u4e0d\u53ef\u4e3a\u7a7a")):t.snManagement&&t.origPartId+t.origSn===t.newPartId+t.sn?(l=!1,void e.message.create("error","\u65b0\u65e7\u96f6\u914d\u4ef6\u4e0d\u53ef\u5b8c\u5168\u76f8\u540c")):t.origSnManagement&&!t.origSn?(l=!1,void e.message.create("error","\u539f\u96f6\u914d\u4ef6\u201c"+t.origName+"\u201d\u7684\u5e8f\u5217\u53f7\u4e0d\u53ef\u4e3a\u7a7a")):(d.push(t.snManagement?t.origPartId+t.origSn+t.newPartId+t.sn:t.origPartId+t.origSn+t.newPartId+t.sn+t.serviceDocPartchangeId+t.partsDeliveryDetailsId),void a.push({serviceDocPartchangeId:t.serviceDocPartchangeId,origPartId:t.origPartId,underWarranty:t.underWarranty,origQty:t.origQty,origSn:t.origSn||"",needReturn:t.needReturn,partId:t.newPartId,qty:t.qty,newPartSource:t.newPartSource,customerSettlementPrice:t.customerSettlementPrice,siteSettlementPrice:t.siteSettlementPrice,employeeSettlementPrice:t.employeeSettlementPrice,sourceId:t.partsDeliveryDetailsId,writeoffStatus:0,snManagement:t.snManagement?"1":"0",sn:t.sn,origReplacementDate:t.origReplacementDate,oldPartSource:t.oldPartSource}))}),l)if(d.filter(function(e,t,n){return n.indexOf(e)===t}).length<d.length)this.message.create("error","\u8bf7\u52ff\u91cd\u590d\u9009\u62e9\u914d\u4ef6");else{var c=[],s=[];this.attachmentsList.forEach(function(n){return(0,o.mG)(e,void 0,void 0,t().mark(function e(){var r,i=this;return t().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.annex_id?c.push(n.annex_id):((r=new FormData).append("file",n.originFileObj),s.push(new Promise(function(e,t){i.serviceOrderDetailSrv.saveAttachments(r).subscribe(function(n){n.success?(c.push(n.data),e(n)):(i.message.create("error","\u9644\u4ef6\u4fdd\u5b58\u5931\u8d25\uff01"),t())},function(e){e.hasOwnProperty("error")&&e.error.hasOwnProperty("errorMessage")&&e.error.errorMessage&&i.message.error(e.error.errorMessage)})})));case 1:case"end":return e.stop()}},e)}))}),Promise.all(s).then(function(t){var o={serviceReport:JSON.stringify({serviceDocId:e.docInfo.serviceDocId,fileType:e.docInfo.type,productEquipments:n,breakdowns:r,serviceItems:i,serviceDocPartChanges:a,serviceRemark:e.form.value.remark,serviceTypeId:e.form.value.serviceType,install:e.docInfo.installDebugAccept?{installationDate:e.form.value.installationDateRange?e.datePipe.transform(e.form.value.installationDateRange[0],"yyyy-MM-dd"):"",installationDateEnd:e.form.value.installationDateRange?e.datePipe.transform(e.form.value.installationDateRange[1],"yyyy-MM-dd"):"",acceptanceDate:e.form.value.acceptanceDate?e.datePipe.transform(e.form.value.acceptanceDate,"yyyy-MM-dd"):"",annex:c.join(",")}:null})};console.log(JSON.parse(o.serviceReport)),e.serviceOrderDetailSrv.modifyReport(o).subscribe(function(t){console.log(t),e.form.setValue({remark:"",signature:"",serviceType:"",installationDateRange:"",acceptanceDate:""}),e.attachmentsList=[],e.form.get("signature").reset(),e.visibleChanged.emit(!0),e.message.create("success","\u63d0\u4ea4\u6210\u529f\uff01")},function(t){t.hasOwnProperty("error")&&t.error.hasOwnProperty("errorMessage")&&t.error.errorMessage&&e.message.error(t.error.errorMessage)})})}}},{key:"openPhrase",value:function(e,t){var n=this;this.phraseOpenerService.setConfig("faultPhrase"===t?"1":"2"),this.phraseOpenerService.open([]).subscribe(function(r){"faultPhrase"===t?n.breakdowns[e].faultPhrase=r.data.common_phrase[0].phrase:n.breakdowns[e].programmePhrase=r.data.common_phrase[0].phrase})}},{key:"delPhrase",value:function(e,t){"faultPhrase"===t?this.breakdowns[e].faultPhrase="":this.breakdowns[e].programmePhrase=""}},{key:"newQtyChange",value:function(e){var t=this.spareParts[e];t.origPartId&&!t.origSnManagement&&(this.spareParts[e].origQty=this.spareParts[e].qty)}},{key:"serviceTypeChange",value:function(e){if(this.serviceTypes.length)for(var t in this.serviceTypes)if(this.serviceTypes[t].service_type_id===e)return this.docInfo.breakdownCondition=this.serviceTypes[t].breakdown_condition,this.docInfo.sparepartChange=this.serviceTypes[t].sparepart_change,this.docInfo.serviceItem=this.serviceTypes[t].service_item,this.docInfo.installDebugAccept=this.serviceTypes[t].install_debug_accept,this.docInfo.breakdownCondition||(this.breakdowns=[]),this.docInfo.sparepartChange||(this.spareParts=[]),this.docInfo.serviceItem||(this.serviceItems=[]),void(this.docInfo.installDebugAccept?(this.form.get("installationDateRange").setValidators([s.Validators.required]),this.form.get("acceptanceDate").setValidators([s.Validators.required])):(this.form.get("installationDateRange").clearValidators(),this.form.get("installationDateRange").reset(),this.form.get("acceptanceDate").clearValidators(),this.form.get("acceptanceDate").reset(),this.attachmentsList=[]))}},{key:"fileUploadingCount",get:function(){var e=0;return this.thumbnailList2.forEach(function(t){"uploading"===t.status&&(e+=1)}),e}},{key:"videos",get:function(){var e=[];return this.thumbnailList2.forEach(function(t){e.push(t.response.fileId)}),e.join(",")}},{key:"uploadChange",value:function(e){var t=e.file;if(t.title=t.name,t.dmcFileId=null,t.isAudit=!1,e.event&&e.event.hasOwnProperty("percent")&&(t.percent=e.event.percent),t.response&&(t.url=t.response.shareUrl?t.response.shareUrl:null,t.thumbUrl=t.response.shrinkUrl?t.response.shrinkUrl:null,t.percent=t.response.percent,t.dmcFileId=t.response.fileId),"done"===t.status){t.message="";var n=t.name.split(".");n.length>0&&(t.title=n[0]),this.listActionMap2[t.uid]=Object.assign({},this.listActionDefault2)}for(var r=this.thumbnailList2.length,i=0;i<r;i++)if(t.uid===this.thumbnailList2[i].uid){this.thumbnailList2[i]=Object.assign({},t);break}if("video/mp4"!==t.type&&"video/avi"!==t.type&&"video/rmvb"!==t.type&&"video/3gp"!==t.type&&"video/flv"!==t.type)return this.message.create("error","\u8bf7\u4e0a\u4f20avi\u30013gp\u3001mp4\u3001flv\u3001rmvb\u683c\u5f0f\u89c6\u9891\uff01"),void this.thumbnailList2.splice(this.thumbnailList2.length-1);t.size/1024/1024>10&&(this.message.create("error","\u4e0a\u4f20\u6587\u4ef6\u5927\u5c0f\u8d85\u8fc710M\uff01"),this.thumbnailList2.splice(this.thumbnailList2.length-1))}},{key:"cancelUploading",value:function(){var e=this,t=[];this.thumbnailList2.forEach(function(n){"uploading"===n.status&&(e.dwUploadFileMangementService.cancelUploading(n.uid),t.push(n.uid))})}},{key:"listRemove2",value:function(e){delete this.listActionMap2[e];var t=this.dwImageViewerListService.listRemove(this.thumbnailList2,e);t.isRemove&&this.message.create("success",t.removeItem.name+",\u5220\u9664\u6210\u529f")}},{key:"initVideoData",value:function(e){var t=this;this.thumbnailList2.splice(0),e.forEach(function(e){t.thumbnailList2.push({uid:e.uid,type:e.type,title:e.titue,name:e.name,size:e.size,url:e.url,status:"done",dmcFileId:e.uid,response:{fileId:e.uid}}),t.isChangeReport&&(t.listActionMap2[e.uid]={dwPreview:{show:!0,title:"\u9884\u89c8"},dwCheck:{show:!1,title:"\u68c0\u67e5"},dwDownload:{show:!1,title:"\u4e0b\u8f7d"},dwRemove:{show:!1,title:"\u5220\u9664"}})})}},{key:"clearFaultLocation",value:function(e){e.faultLocationName="",e.faultLocationId=0}},{key:"openServiceEmployeeWin",value:function(e){this.faultLocationOpenerService.open([]).subscribe(function(t){if(null!=t&&0!==t.length){var n=t[0];e.faultLocationName=n.name,e.faultLocationId=n.fault_location_id}})}}]),n}();return n.\u0275fac=function(e){return new(e||n)(M.\u0275\u0275directiveInject(k.DwDapHttpClient),M.\u0275\u0275directiveInject(s.FormBuilder),M.\u0275\u0275directiveInject(m.v),M.\u0275\u0275directiveInject(L.y),M.\u0275\u0275directiveInject(g.DwMessageService),M.\u0275\u0275directiveInject(A.DwModalService),M.\u0275\u0275directiveInject(ut.DwUploadFileMangementService),M.\u0275\u0275directiveInject(v.DwImageViewerListService),M.\u0275\u0275directiveInject(C.R),M.\u0275\u0275directiveInject(pt.M),M.\u0275\u0275directiveInject(T.DatePipe),M.\u0275\u0275directiveInject(vt))},n.\u0275cmp=M.\u0275\u0275defineComponent({type:n,selectors:[["app-service-report"]],inputs:{type:"type",visible:"visible"},outputs:{visibleChanged:"visibleChanged"},features:[M.\u0275\u0275ProvidersFeature([L.y,pt.M,vt])],decls:8,vars:12,consts:[[3,"dwBodyStyle","dwMaskClosable","dwWidth","dwVisible","dwTitle","dwOkDisabled","dwOkText","dwVisibleChange","dwOnCancel","dwOnOk"],["dwModalContent",""],[3,"visible","isMultyChoose","breakVisibleChanged"],["child1",""],[3,"visible","partStepOneVisible","partVisibleChanged"],["child2",""],[3,"visible","snVisibleChanged"],["child3",""],[1,"title-info"],[1,"item"],[4,"ngIf"],[3,"click",4,"ngIf"],["dw-form","",1,"report_form",3,"formGroup"],[1,"servicetype-info"],["dwRequired","",2,"width","106px","text-align","left"],["required","","formControlName","serviceType",2,"width","100%",3,"dwDisabled","ngModelChange"],[3,"dwLabel","dwValue",4,"ngFor","ngForOf"],[1,"report-content"],[1,"report_form"],["class","box",4,"ngIf"],[1,"box"],[1,"label"],[1,"cont-table"],[1,"clearfix"],["dwAction","https://www.mocky.io/v2/5cc8019d300000980a055e76","dwListType","picture-card",3,"dwFileList","dwShowButton","dwPreview","dwBeforeUpload","dwAccept","dwShowUploadList","dwFileListChange","dwChange"],["dw-icon","","dwType","plus"],[1,"ant-upload-text"],[3,"dwVisible","dwContent","dwFooter","dwOnCancel"],["modalContent",""],["dwAction","",3,"dwCustomRequest","dwFileList","dwShowUploadList","dwShowButton","dwMultiple","dwDisabled","dwAccept","dwFileListChange","dwChange"],["dw-button","",3,"disabled"],["dw-icon","","dwType","upload"],["dw-col","","dwSpan","24"],[1,"ant-upload-list","ant-upload-list-picture-card",2,"margin-left","-8px",3,"ngClass"],[4,"ngFor","ngForOf"],["dw-input","","maxlength","200","placeholder","200\u5b57\u4ee5\u5185","formControlName","remark",2,"width","520px","height","120px"],[3,"click"],["src","../../../../../../assets/img/icon_edit.png","alt","\u7f16\u8f91",1,"action-icon"],["src","../../../../../../assets/img/icon_edit_hover.png","alt","\u7f16\u8f91",1,"action-icon"],[3,"dwLabel","dwValue"],["dwRequired",""],[1,"item",2,"width","240px"],["formControlName","installationDateRange",2,"width","100%"],["formControlName","acceptanceDate"],["dwRequired","",2,"width","106px"],[1,"plus-icon",3,"click"],["dw-icon","","dwType","plus","dwTheme","outline"],[3,"selectedChanged"],["selectOpener",""],[3,"dwData","dwFrontPagination","dwShowPagination"],["dwTable5",""],["dw-tr",""],["dw-th",""],["translate",""],["dw-th","","dwRight","",1,"align-center"],[1,"align-center"],["class","action-grid",4,"ngIf"],[1,"action-grid"],["title","\u5220\u9664",3,"click"],["src","../../../../../../assets/img/icon_delete.png","alt","\u5220\u9664",1,"action-icon"],["src","../../../../../../assets/img/icon_delete_hover.png","alt","\u5220\u9664",1,"action-icon"],[2,"width","106px",3,"dwRequired"],["dwTable",""],["dw-th","","width","144"],["dw-th","","width","160"],["dw-th","","width","200"],["dw-th","","width","136",3,"dwAlign"],["dwSearch","",3,"dwSuffix"],["dw-input","","type","text","readonly","","dw-input","",3,"ngModel","ngModelOptions","ngModelChange"],["suffixServiceEmployeeData",""],["class","choose-phrase",3,"click",4,"ngIf"],["class","phrase",4,"ngIf"],["dw-input","","type","text","maxlength","255",3,"ngModelOptions","ngModel","ngModelChange"],["dw-icon","","class","ant-input-clear-icon","dwTheme","fill","dwType","close-circle",3,"click",4,"ngIf"],["dw-button","","dwType","primary","dwSearch","",3,"click"],["dw-icon","","dwType","search","dwTheme","outline"],["dw-icon","","dwTheme","fill","dwType","close-circle",1,"ant-input-clear-icon",3,"click"],[1,"choose-phrase",3,"click"],[1,"phrase"],["src","../../../../../../assets/img/icon_cancel.png","alt","\u5220\u9664",3,"click"],["dw-button","","dwType","default",1,"plus-icon",3,"click"],[1,"change-old"],["dw-icon","","dwType","ellipsis"],[1,"old-btn",3,"click"],["dwTable2",""],["dw-th","","width","210"],["dw-th","","width","120"],["dw-th","","width","110"],["dw-th","","width","120",3,"dwAlign"],["dw-tooltip","",3,"dwTooltipTitle",4,"ngIf"],["dw-th","","width","130"],["dw-tooltip","",3,"dwTooltipTitle"],["dw-icon","","dwType","info-circle",2,"font-size","16px","color","#0D9DEF"],["dw-button","","dwType","default","style","cursor: pointer;margin-left: 2px;","class","partButton",3,"click",4,"ngIf"],["dw-button","","dwType","default","class","partButton","style","cursor: pointer;margin-left: 4px;",3,"click",4,"ngIf"],["dw-input","",3,"ngModelOptions","ngModel","ngModelChange",4,"ngIf"],[3,"ngModelOptions","ngModel","dwDisabled","dwMin","dwPrecision","ngModelChange"],[3,"dwAlign"],["dw-checkbox","","dwValue","data.origPartId",3,"ngModelOptions","ngModel","dwDisabled","ngModelChange"],[3,"ngModel","ngModelOptions","dwDisabled","dwMin","dwMax","dwPrecision","ngModelChange"],["dw-button","","dwType","default",1,"partButton",2,"cursor","pointer","margin-left","2px",3,"click"],["dw-icon","","dwType","plus-square","dwTheme","outline"],["dw-button","","dwType","default",1,"partButton",2,"cursor","pointer","margin-left","4px",3,"click"],["dw-icon","","dwType","delete","dwTheme","outline"],["dw-input","",3,"ngModelOptions","ngModel","ngModelChange"],["dwTable3",""],["dw-th","","width","136"],["dw-th","","width","264"],[3,"ngModelOptions","ngModel","dwMin","dwStep","dwPrecision","ngModelChange"],["alt","\u7167\u7247",3,"src","ngStyle"],[3,"dwListType","dwFile","dwItemAction","dwDesignTpl","onPreview","onRemove","onCheck","onOtherAction"],["titleTpl",""],["designTpl",""],["class","myTitleTag",4,"ngIf"],[1,"myTitleTag"],["style","margin-bottom: 8px;","dwAction","https://www.mocky.io/v2/5cc8019d300000980a055e76",3,"dwFileList","dwBeforeUpload","dwShowUploadList","dwAccept","dwFileListChange","dwChange",4,"ngIf"],[1,"tip"],["dwAction","https://www.mocky.io/v2/5cc8019d300000980a055e76",2,"margin-bottom","8px",3,"dwFileList","dwBeforeUpload","dwShowUploadList","dwAccept","dwFileListChange","dwChange"],["dw-button",""],["dw-row","",1,"chosen-file"],["dw-col","",1,"type-icon"],["dw-icon","","dwType","paper-clip","dwTheme","outline"],["dw-col","",1,"file-name",3,"title"],["dw-col","",1,"del",3,"click"],["dw-input","","maxlength","10","formControlName","signature",2,"width","340px",3,"required","readonly"]],template:function(e,t){1&e&&(M.\u0275\u0275elementStart(0,"dw-modal",0),M.\u0275\u0275listener("dwVisibleChange",function(e){return t.visible=e})("dwOnCancel",function(){return t.handleCancel()})("dwOnOk",function(){return t.handleOk()}),M.\u0275\u0275template(1,Dr,58,46,"ng-template",1),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(2,"app-breakdown-opener",2,3),M.\u0275\u0275listener("breakVisibleChanged",function(e){return t.breakChangeVisible(e)}),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(4,"app-part-opener",4,5),M.\u0275\u0275listener("partStepOneVisible",function(){return t.openSpareParts()})("partVisibleChanged",function(e){return t.partChangeVisible(e)}),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(6,"app-sn-opener",6,7),M.\u0275\u0275listener("snVisibleChanged",function(e){return t.snChangeVisible(e)}),M.\u0275\u0275elementEnd()),2&e&&(M.\u0275\u0275property("dwBodyStyle",M.\u0275\u0275pureFunction0(11,Or))("dwMaskClosable",!0)("dwWidth",1200)("dwVisible",t.visible)("dwTitle","create"==t.type?"\u586b\u5199\u670d\u52a1\u62a5\u544a":"\u66f4\u6539\u670d\u52a1\u62a5\u544a")("dwOkDisabled",!t.form.valid)("dwOkText","\u63d0\u4ea4"),M.\u0275\u0275advance(2),M.\u0275\u0275property("visible",t.isBreakdownVisible)("isMultyChoose",!0),M.\u0275\u0275advance(2),M.\u0275\u0275property("visible",t.isSparePartVisible),M.\u0275\u0275advance(2),M.\u0275\u0275property("visible",t.isSnVisible))},directives:[A.DwModalComponent,A.DwModalContentDirective,gt.Y,En,Fn,T.NgIf,s.\u0275NgNoValidate,s.NgControlStatusGroup,$.DwFormDirective,s.FormGroupDirective,B.DwColDirective,$.DwFormLabelComponent,ht.DwSelectComponent,s.RequiredValidator,s.NgControlStatus,s.FormControlName,T.NgForOf,h.DwUploadComponent,q.u,W.DwIconDirective,Vn.DwButtonComponent,Tn.uG,T.NgClass,Q.DwInputDirective,s.DefaultValueAccessor,s.MaxLengthValidator,ht.DwOptionComponent,Ln.DwDatePickerComponent,Ln.DwRangePickerComponent,Rn.R,we.DwTableComponent,ye.Ct,we.DwTheadComponent,we.DwTrDirective,we.DwTableCellDirective,we.DwThMeasureDirective,ye.BL,xe.TranslateDirective,we.DwCellFixedDirective,we.DwTbodyComponent,we.DwCellAlignDirective,Q.DwInputGroupComponent,Q.DwInputGroupWhitSuffixOrPrefixDirective,s.NgModel,wt.DwTooltipDirective,An.DwInputNumberComponent,Fe.DwCheckboxComponent,T.NgStyle,v.DwImageViewerListItemComponent,B.DwRowDirective],pipes:[xe.TranslatePipe],styles:[".margin-top-14[_ngcontent-%COMP%]{margin-top:-14px}.title-info[_ngcontent-%COMP%]{height:60px;border-bottom:1px solid #d9d9d9;display:flex;align-items:center}.title-info[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{color:#000000d9;font-size:14px;margin-right:36px;display:flex}.title-info[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:last-child{margin-right:0}.title-info[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:hover{cursor:pointer}.title-info[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:hover   .action-icon[_ngcontent-%COMP%]{display:none}.title-info[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:hover   .action-icon[_ngcontent-%COMP%]:last-of-type{display:block}.servicetype-info[_ngcontent-%COMP%]{height:60px;margin-bottom:10px;border-bottom:1px solid #d9d9d9;display:flex;align-items:center}.servicetype-info[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{color:#000000d9;font-size:14px;margin-right:36px;width:150px;display:block}.report-content[_ngcontent-%COMP%]{overflow-y:auto}.plus-icon[_ngcontent-%COMP%]{width:48px;height:32px;border:1px solid #d0d0d0;border-radius:4px;background:#f5f5f5;display:flex;align-items:center;justify-content:center;margin-bottom:16px;color:#999;font-size:20px;cursor:pointer}.plus-icon.in-grid[_ngcontent-%COMP%]{display:inline-block;margin:0;text-align:center}.box[_ngcontent-%COMP%]{width:100%;display:flex;margin-bottom:20px}.box[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{width:96px;font-size:14px;text-align:right;white-space:nowrap}.box[_ngcontent-%COMP%]   .cont-table[_ngcontent-%COMP%]{flex:1;position:relative}.box[_ngcontent-%COMP%]   .cont-table[_ngcontent-%COMP%]   .change-old[_ngcontent-%COMP%]{width:52px;height:32px;display:flex;align-items:center;justify-content:center;position:absolute;top:0;right:0;z-index:2;cursor:pointer}.box[_ngcontent-%COMP%]   .cont-table[_ngcontent-%COMP%]   .change-old[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]{font-size:24px}.box[_ngcontent-%COMP%]   .cont-table[_ngcontent-%COMP%]   .change-old[_ngcontent-%COMP%]   .old-btn[_ngcontent-%COMP%]{display:none;width:52px;height:32px;line-height:30px;text-align:center;color:#009def;border:1px solid #e9e9e9;background:#fff;position:absolute;top:24px;right:0;z-index:3}.box[_ngcontent-%COMP%]   .cont-table[_ngcontent-%COMP%]   .change-old[_ngcontent-%COMP%]:hover   .old-btn[_ngcontent-%COMP%]{display:block}.choose-phrase[_ngcontent-%COMP%]{display:inline-block;height:32px;line-height:32px;padding:0 10px;color:#666;background:#eaeaea;font-size:13px;margin-bottom:10px;cursor:pointer}.phrase[_ngcontent-%COMP%]{display:inline-block;height:32px;line-height:32px;padding:0 10px;color:#fff;background:#5ebaef;font-size:13px;margin-bottom:10px}.phrase[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:14px;height:14px;margin-left:5px;vertical-align:-2px;cursor:pointer}.chosen-file[_ngcontent-%COMP%]{margin:8px 0}.tip[_ngcontent-%COMP%]{color:#00000073;font-size:14px;margin-top:8px}.file-name[_ngcontent-%COMP%]{width:200px;margin-left:5px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.del[_ngcontent-%COMP%]{display:none}.chosen-file[_ngcontent-%COMP%]:hover   .del[_ngcontent-%COMP%]{display:block}.chosen-file[_ngcontent-%COMP%]:hover   .del[_ngcontent-%COMP%]:hover   em[_ngcontent-%COMP%]{color:#40a9ff;cursor:pointer}  .underWarranty{margin-top:8px}  .underWarranty .underWarranty-blue{color:#0d9def}.partButton[_ngcontent-%COMP%]{background-color:transparent;padding:0;border:none}"]}),n}();function Mr(e,t){if(1&e){var n=M.\u0275\u0275getCurrentView();M.\u0275\u0275elementStart(0,"span",38),M.\u0275\u0275listener("click",function(){M.\u0275\u0275restoreView(n);var e=M.\u0275\u0275nextContext().index;return M.\u0275\u0275nextContext(2).deleteOldPart(e)}),M.\u0275\u0275element(1,"em",39),M.\u0275\u0275elementEnd()}}var Pr=function(){return{standalone:!0}};function Fr(e,t){if(1&e){var n=M.\u0275\u0275getCurrentView();M.\u0275\u0275elementStart(0,"input",40),M.\u0275\u0275listener("ngModelChange",function(e){return M.\u0275\u0275restoreView(n),M.\u0275\u0275nextContext().$implicit.origSn=e}),M.\u0275\u0275elementEnd()}if(2&e){var r=M.\u0275\u0275nextContext().$implicit;M.\u0275\u0275property("ngModelOptions",M.\u0275\u0275pureFunction0(2,Pr))("ngModel",r.origSn)}}function Vr(e,t){if(1&e&&(M.\u0275\u0275elementStart(0,"span"),M.\u0275\u0275text(1),M.\u0275\u0275elementEnd()),2&e){var n=M.\u0275\u0275nextContext().$implicit;M.\u0275\u0275advance(1),M.\u0275\u0275textInterpolate(n.origSn)}}function Tr(e,t){if(1&e){var n=M.\u0275\u0275getCurrentView();M.\u0275\u0275elementStart(0,"input",41),M.\u0275\u0275listener("ngModelChange",function(e){return M.\u0275\u0275restoreView(n),M.\u0275\u0275nextContext().$implicit.sn=e}),M.\u0275\u0275elementEnd()}if(2&e){var r=M.\u0275\u0275nextContext().$implicit;M.\u0275\u0275property("ngModel",r.sn)}}function Lr(e,t){if(1&e){var n=M.\u0275\u0275getCurrentView();M.\u0275\u0275elementStart(0,"tr"),M.\u0275\u0275elementStart(1,"td"),M.\u0275\u0275text(2),M.\u0275\u0275elementStart(3,"span",24),M.\u0275\u0275listener("click",function(){var e=M.\u0275\u0275restoreView(n).index,t=M.\u0275\u0275nextContext(2),r=M.\u0275\u0275reference(3);return r.initData("old",t.product_file_id,t.service_order_id),r.addOrEditOldPart(e,!1),t.openSpareParts()}),M.\u0275\u0275element(4,"em",25),M.\u0275\u0275elementEnd(),M.\u0275\u0275template(5,Mr,2,0,"span",26),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(6,"td"),M.\u0275\u0275template(7,Fr,1,3,"input",27),M.\u0275\u0275template(8,Vr,2,1,"span",28),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(9,"td"),M.\u0275\u0275elementStart(10,"dw-input-number",29),M.\u0275\u0275listener("ngModelChange",function(e){return M.\u0275\u0275restoreView(n).$implicit.origQty=e}),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(11,"td",30),M.\u0275\u0275elementStart(12,"label",31),M.\u0275\u0275listener("ngModelChange",function(e){return M.\u0275\u0275restoreView(n).$implicit.needReturn=e}),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(13,"td"),M.\u0275\u0275text(14),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(15,"td"),M.\u0275\u0275template(16,Tr,1,1,"input",32),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(17,"td"),M.\u0275\u0275elementStart(18,"dw-input-number",33),M.\u0275\u0275listener("ngModelChange",function(e){return M.\u0275\u0275restoreView(n).$implicit.qty=e})("ngModelChange",function(){var e=M.\u0275\u0275restoreView(n).index;return M.\u0275\u0275nextContext(2).newQtyChange(e)}),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(19,"td"),M.\u0275\u0275elementStart(20,"dw-input-number",29),M.\u0275\u0275listener("ngModelChange",function(e){return M.\u0275\u0275restoreView(n).$implicit.customerSettlementPrice=e}),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(21,"td"),M.\u0275\u0275text(22),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(23,"td"),M.\u0275\u0275elementStart(24,"div",34),M.\u0275\u0275elementStart(25,"div",35),M.\u0275\u0275listener("click",function(){var e=M.\u0275\u0275restoreView(n).index;return M.\u0275\u0275nextContext(2).deleteGrid(e)}),M.\u0275\u0275element(26,"img",36),M.\u0275\u0275element(27,"img",37),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd()}if(2&e){var r=t.$implicit;M.\u0275\u0275advance(2),M.\u0275\u0275textInterpolate1(" ",r.origName," "),M.\u0275\u0275advance(3),M.\u0275\u0275property("ngIf",r.origPartId),M.\u0275\u0275advance(2),M.\u0275\u0275property("ngIf",r.origSnManagement),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf",!r.origSnManagement),M.\u0275\u0275advance(2),M.\u0275\u0275property("ngModel",r.origQty)("dwDisabled",!r.origPartId||r.origSnManagement)("dwMin",1)("dwPrecision",0),M.\u0275\u0275advance(1),M.\u0275\u0275property("dwAlign","center"),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngModel",r.needReturn)("dwDisabled",!r.origPartId),M.\u0275\u0275advance(2),M.\u0275\u0275textInterpolate1(" ",r.partName," "),M.\u0275\u0275advance(2),M.\u0275\u0275property("ngIf",r.snManagement),M.\u0275\u0275advance(2),M.\u0275\u0275property("ngModel",r.qty)("dwDisabled",r.snManagement||!r.newPartId)("dwMin",1)("dwMax",r.newOrigQty)("dwPrecision",0),M.\u0275\u0275advance(2),M.\u0275\u0275property("ngModel",r.customerSettlementPrice)("dwDisabled",!r.newPartId)("dwMin",0)("dwPrecision",2),M.\u0275\u0275advance(2),M.\u0275\u0275textInterpolate1(" ",(r.customerSettlementPrice*r.qty).toFixed(2)," ")}}function Rr(e,t){if(1&e){var n=M.\u0275\u0275getCurrentView();M.\u0275\u0275elementStart(0,"div",4),M.\u0275\u0275elementStart(1,"div",5),M.\u0275\u0275text(2),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(3,"div",5),M.\u0275\u0275text(4),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(5,"div",5),M.\u0275\u0275text(6),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(7,"div",6),M.\u0275\u0275elementStart(8,"div",7),M.\u0275\u0275elementStart(9,"div",8),M.\u0275\u0275elementStart(10,"div",9),M.\u0275\u0275text(11,"\u96f6\u914d\u4ef6\u66f4\u6362"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(12,"div",10),M.\u0275\u0275elementStart(13,"div",11),M.\u0275\u0275listener("click",function(){M.\u0275\u0275restoreView(n);var e=M.\u0275\u0275nextContext();return M.\u0275\u0275reference(3).initData("new",e.product_file_id,e.service_order_id,e.service_mode,e.service_site_id),e.openSpareParts()}),M.\u0275\u0275element(14,"em",12),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(15,"dw-table",13,14),M.\u0275\u0275elementStart(17,"thead"),M.\u0275\u0275elementStart(18,"tr",15),M.\u0275\u0275elementStart(19,"th",16),M.\u0275\u0275elementStart(20,"span",17),M.\u0275\u0275text(21,"\u539f\u96f6\u914d\u4ef6"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(22,"th",18),M.\u0275\u0275elementStart(23,"span",17),M.\u0275\u0275text(24,"\u539f\u5e8f\u5217\u53f7"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(25,"th",18),M.\u0275\u0275elementStart(26,"span",17),M.\u0275\u0275text(27,"\u539f\u4ef6\u6570\u91cf"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(28,"th",19),M.\u0275\u0275elementStart(29,"span",17),M.\u0275\u0275text(30,"\u9700\u56de\u6536"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(31,"th",16),M.\u0275\u0275elementStart(32,"span",17),M.\u0275\u0275text(33,"\u65b0\u96f6\u914d\u4ef6"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(34,"th",18),M.\u0275\u0275elementStart(35,"span",17),M.\u0275\u0275text(36,"\u65b0\u5e8f\u5217\u53f7"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(37,"th",20),M.\u0275\u0275elementStart(38,"span",17),M.\u0275\u0275text(39,"\u66f4\u6362\u6570\u91cf"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(40,"th",20),M.\u0275\u0275elementStart(41,"span",17),M.\u0275\u0275text(42,"\u5355\u4ef7"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(43,"th",20),M.\u0275\u0275elementStart(44,"span",17),M.\u0275\u0275text(45,"\u5408\u8ba1"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(46,"th",21),M.\u0275\u0275elementStart(47,"span",17),M.\u0275\u0275text(48,"\u64cd\u4f5c"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(49,"tbody"),M.\u0275\u0275template(50,Lr,28,23,"tr",22),M.\u0275\u0275elementStart(51,"tr"),M.\u0275\u0275elementStart(52,"td"),M.\u0275\u0275elementStart(53,"div",23),M.\u0275\u0275listener("click",function(){M.\u0275\u0275restoreView(n);var e=M.\u0275\u0275nextContext(),t=M.\u0275\u0275reference(3);return t.initData("old",e.product_file_id,e.service_order_id),t.addOrEditOldPart("",!1),e.openSpareParts()}),M.\u0275\u0275element(54,"em",12),M.\u0275\u0275text(55,"\u6dfb\u52a0\u539f\u96f6\u914d\u4ef6 "),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275element(56,"td"),M.\u0275\u0275element(57,"td"),M.\u0275\u0275element(58,"td"),M.\u0275\u0275element(59,"td"),M.\u0275\u0275element(60,"td"),M.\u0275\u0275element(61,"td"),M.\u0275\u0275element(62,"td"),M.\u0275\u0275element(63,"td"),M.\u0275\u0275element(64,"td"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd()}if(2&e){var r=M.\u0275\u0275reference(16),i=M.\u0275\u0275nextContext();M.\u0275\u0275advance(2),M.\u0275\u0275textInterpolate1(" \u5355\u53f7\uff1a ",i.docInfo.serviceDocNo," "),M.\u0275\u0275advance(2),M.\u0275\u0275textInterpolate1(" \u8bbe\u5907\u540d\u79f0\uff1a ",i.docInfo.productFileName," "),M.\u0275\u0275advance(2),M.\u0275\u0275textInterpolate1(" \u5ba2\u6237\u540d\u79f0\uff1a ",i.docInfo.customerName," "),M.\u0275\u0275advance(9),M.\u0275\u0275property("dwNoResult",null)("dwData",i.spareParts)("dwFrontPagination",!1)("dwShowPagination",!1),M.\u0275\u0275advance(13),M.\u0275\u0275property("dwAlign","center"),M.\u0275\u0275advance(18),M.\u0275\u0275property("dwAlign","center"),M.\u0275\u0275advance(4),M.\u0275\u0275property("ngForOf",r.data)}}var Ar=function(){return{height:"calc(100vh - 155px)",overflow:"auto","padding-top":"0"}},Nr=function(){var e=function(){function e(t,n){p(this,e),this.serviceOrderDetailSrv=t,this.message=n,this.visibleChanged=new M.EventEmitter,this.docInfo={serviceDocId:"",serviceDocNo:"",productFileName:"",customerName:"",breakdownCondition:!1,serviceItem:!1,sparepartChange:!1},this.product_file_id="",this.service_order_id="",this.service_doc_id="",this.service_mode="",this.service_site_id="",this.isSparePartVisible=!1,this.spareParts=[]}return f(e,[{key:"initData",value:function(e,t,n,r,i){var a=this;this.product_file_id=e,this.service_order_id=t,this.service_doc_id=n,this.service_mode=r,this.service_site_id=i,this.serviceOrderDetailSrv.getSummaryInfo(this.service_doc_id).subscribe(function(e){a.docInfo=e.data})}},{key:"openSpareParts",value:function(){this.isSparePartVisible=!0}},{key:"partChangeVisible",value:function(e){if(e&&""!==e.partIdx)this.spareParts[e.partIdx].origPartId=e.origPartId,this.spareParts[e.partIdx].origName=e.origName,this.spareParts[e.partIdx].needReturn=e.needReturn,this.spareParts[e.partIdx].partIdx=e.partIdx,this.spareParts[e.partIdx].underWarranty=e.underWarranty,this.spareParts[e.partIdx].origQty=e.origQty,this.spareParts[e.partIdx].origSnManagement=e.origSnManagement,this.spareParts[e.partIdx].origSn=e.origSn;else if(e){var t=[],n=!0;if(this.spareParts.length)for(var r in this.spareParts.forEach(function(e){t.push(e)}),t)if(t[r].origPartId+t[r].origSn===e.origPartId+e.origSn&&t[r].newPartId+t[r].sn===e.newPartId+e.sn){t[r].qty=t[r].qty===t[r].newOrigQty?t[r].qty:t[r].qty+1,n=!1;break}n&&t.push(e),this.spareParts=t}this.isSparePartVisible=!1}},{key:"newQtyChange",value:function(e){var t=this.spareParts[e];t.origPartId&&!t.origSnManagement&&(this.spareParts[e].origQty=this.spareParts[e].qty)}},{key:"deleteGrid",value:function(e){var t=[];this.spareParts.forEach(function(e){t.push(e)}),t.splice(e,1),this.spareParts=t}},{key:"deleteOldPart",value:function(e){this.spareParts[e].newPartId?(this.spareParts[e].origPartId=0,this.spareParts[e].origName="",this.spareParts[e].needReturn=!1,this.spareParts[e].underWarranty=!1,this.spareParts[e].partIdx="",this.spareParts[e].origQty=0,this.spareParts[e].origSnManagement=!1,this.spareParts[e].origSn=""):this.deleteGrid(e)}},{key:"close",value:function(){this.spareParts=[],this.visibleChanged.emit(!1)}},{key:"handleOk",value:function(){0!==this.spareParts.length?this.create():this.message.create("error","\u8bf7\u9009\u62e9\u96f6\u914d\u4ef6\u66f4\u6362")}},{key:"handleCancel",value:function(){this.close()}},{key:"create",value:function(){var e=this,t=[],n=!0,r=[];this.spareParts.forEach(function(i){return i.snManagement&&!i.sn?(n=!1,void e.message.create("error","\u65b0\u96f6\u914d\u4ef6\u201c"+i.partName+"\u201d\u7684\u5e8f\u5217\u53f7\u4e0d\u53ef\u4e3a\u7a7a")):i.origSnManagement&&!i.origSn?(n=!1,void e.message.create("error","\u539f\u96f6\u914d\u4ef6\u201c"+i.origName+"\u201d\u7684\u5e8f\u5217\u53f7\u4e0d\u53ef\u4e3a\u7a7a")):i.snManagement&&i.origPartId+i.origSn===i.newPartId+i.sn?(n=!1,void e.message.create("error","\u65b0\u65e7\u96f6\u914d\u4ef6\u4e0d\u53ef\u5b8c\u5168\u76f8\u540c")):(r.push(i.origPartId+i.origSn+i.newPartId+i.sn),void t.push({origPartId:i.origPartId,underWarranty:i.underWarranty,origQty:i.origQty,needReturn:i.needReturn,partId:i.newPartId,qty:i.qty,customerSettlementPrice:i.customerSettlementPrice,siteSettlementPrice:i.siteSettlementPrice,employeeSettlementPrice:i.employeeSettlementPrice,newPartSource:i.partsDeliveryDetailsId?2:1,sourceId:i.partsDeliveryDetailsId,writeoffStatus:0,origSn:i.origSn||"",snManagement:i.snManagement?"1":"0",sn:i.sn}))});var i={serviceReport:JSON.stringify({serviceDocId:this.docInfo.serviceDocId,serviceDocPartChanges:t})};n&&(r.filter(function(e,t,n){return n.indexOf(e)===t}).length<r.length?this.message.create("error","\u8bf7\u52ff\u91cd\u590d\u9009\u62e9\u914d\u4ef6"):this.serviceOrderDetailSrv.serviceDocPartChanges(i).subscribe(function(t){e.visibleChanged.emit(!0),e.message.create("success","\u63d0\u4ea4\u6210\u529f\uff01")},function(t){t.hasOwnProperty("error")&&t.error.hasOwnProperty("errorMessage")&&t.error.errorMessage&&e.message.error(t.error.errorMessage)}))}},{key:"ngOnInit",value:function(){}}]),e}();return e.\u0275fac=function(t){return new(t||e)(M.\u0275\u0275directiveInject(m.v),M.\u0275\u0275directiveInject(g.DwMessageService))},e.\u0275cmp=M.\u0275\u0275defineComponent({type:e,selectors:[["app-add-partchange-record"]],inputs:{visible:"visible"},outputs:{visibleChanged:"visibleChanged"},decls:4,vars:8,consts:[[3,"dwBodyStyle","dwMaskClosable","dwWidth","dwVisible","dwTitle","dwOkText","dwVisibleChange","dwOnCancel","dwOnOk"],["dwModalContent",""],[3,"visible","partStepOneVisible","partVisibleChanged"],["child2",""],[1,"title-info"],[1,"item"],[1,"report-content"],[1,"report_form"],[1,"box"],[1,"label"],[1,"cont-table"],[1,"plus-icon",3,"click"],["dw-icon","","dwType","plus","dwTheme","outline"],[3,"dwNoResult","dwData","dwFrontPagination","dwShowPagination"],["dwTable2",""],["dw-tr",""],["dw-th","","width","200"],["translate",""],["dw-th","","width","120"],["dw-th","","width","120",3,"dwAlign"],["dw-th","","width","184"],["dw-th","","width","136",3,"dwAlign"],[4,"ngFor","ngForOf"],[2,"cursor","pointer",3,"click"],[2,"cursor","pointer","margin-left","2px",3,"click"],["dw-icon","","dwType","plus-square","dwTheme","outline"],["style","cursor: pointer;margin-left: 4px;",3,"click",4,"ngIf"],["dw-input","",3,"ngModelOptions","ngModel","ngModelChange",4,"ngIf"],[4,"ngIf"],[3,"ngModel","dwDisabled","dwMin","dwPrecision","ngModelChange"],[3,"dwAlign"],["dw-checkbox","","dwValue","data.origPartId",3,"ngModel","dwDisabled","ngModelChange"],["dw-input","",3,"ngModel","ngModelChange",4,"ngIf"],[3,"ngModel","dwDisabled","dwMin","dwMax","dwPrecision","ngModelChange"],[1,"action-grid"],["title","\u5220\u9664",3,"click"],["src","../../../../../../assets/img/icon_delete.png","alt","\u5220\u9664",1,"action-icon"],["src","../../../../../../assets/img/icon_delete_hover.png","alt","\u5220\u9664",1,"action-icon"],[2,"cursor","pointer","margin-left","4px",3,"click"],["dw-icon","","dwType","delete","dwTheme","outline"],["dw-input","",3,"ngModelOptions","ngModel","ngModelChange"],["dw-input","",3,"ngModel","ngModelChange"]],template:function(e,t){1&e&&(M.\u0275\u0275elementStart(0,"dw-modal",0),M.\u0275\u0275listener("dwVisibleChange",function(e){return t.visible=e})("dwOnCancel",function(){return t.handleCancel()})("dwOnOk",function(){return t.handleOk()}),M.\u0275\u0275template(1,Rr,65,10,"ng-template",1),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(2,"app-part-opener",2,3),M.\u0275\u0275listener("partStepOneVisible",function(){return t.openSpareParts()})("partVisibleChanged",function(e){return t.partChangeVisible(e)}),M.\u0275\u0275elementEnd()),2&e&&(M.\u0275\u0275property("dwBodyStyle",M.\u0275\u0275pureFunction0(7,Ar))("dwMaskClosable",!0)("dwWidth",992)("dwVisible",t.visible)("dwTitle","\u8865\u5f55\u96f6\u914d\u4ef6\u66f4\u6362")("dwOkText","\u4fdd\u5b58"),M.\u0275\u0275advance(2),M.\u0275\u0275property("visible",t.isSparePartVisible))},directives:[A.DwModalComponent,A.DwModalContentDirective,En,q.u,W.DwIconDirective,we.DwTableComponent,ye.Ct,we.DwTheadComponent,we.DwTrDirective,we.DwTableCellDirective,we.DwThMeasureDirective,ye.BL,xe.TranslateDirective,we.DwCellAlignDirective,we.DwTbodyComponent,T.NgForOf,T.NgIf,An.DwInputNumberComponent,s.NgControlStatus,s.NgModel,Fe.DwCheckboxComponent,Q.DwInputDirective,s.DefaultValueAccessor],styles:[".title-info[_ngcontent-%COMP%]{height:60px;margin-bottom:20px;border-bottom:1px solid #d9d9d9;display:flex;align-items:center}.title-info[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{color:#000000d9;font-size:14px;margin-right:36px}.title-info[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:last-child{margin-right:0}.report-content[_ngcontent-%COMP%]{overflow-y:auto}.plus-icon[_ngcontent-%COMP%]{width:48px;height:32px;border:1px solid #d0d0d0;border-radius:4px;background:#f5f5f5;display:flex;align-items:center;justify-content:center;margin-bottom:16px;color:#999;font-size:20px;cursor:pointer}.plus-icon.in-grid[_ngcontent-%COMP%]{display:inline-block;margin:0;text-align:center}.box[_ngcontent-%COMP%]{width:100%;display:flex;margin-bottom:20px}.box[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{width:86px;font-size:14px;text-align:right;white-space:nowrap}.box[_ngcontent-%COMP%]   .cont-table[_ngcontent-%COMP%]{flex:1}"]}),e}();function jr(e,t){if(1&e&&(M.\u0275\u0275elementContainerStart(0),M.\u0275\u0275elementStart(1,"tr",10),M.\u0275\u0275elementStart(2,"td"),M.\u0275\u0275text(3),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(4,"td"),M.\u0275\u0275text(5),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(6,"td"),M.\u0275\u0275text(7),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(8,"td"),M.\u0275\u0275text(9),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(10,"td"),M.\u0275\u0275text(11),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(12,"td"),M.\u0275\u0275text(13),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(14,"td",11),M.\u0275\u0275text(15),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(16,"td"),M.\u0275\u0275text(17),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementContainerEnd()),2&e){var n=t.$implicit;M.\u0275\u0275advance(3),M.\u0275\u0275textInterpolate1(" ",n.code," "),M.\u0275\u0275advance(2),M.\u0275\u0275textInterpolate1(" ",n.name," "),M.\u0275\u0275advance(2),M.\u0275\u0275textInterpolate1(" ",n.specification," "),M.\u0275\u0275advance(2),M.\u0275\u0275textInterpolate1(" ",n.model," "),M.\u0275\u0275advance(2),M.\u0275\u0275textInterpolate1(" ",n.item_group_name," "),M.\u0275\u0275advance(2),M.\u0275\u0275textInterpolate1(" ",n.sn," "),M.\u0275\u0275advance(2),M.\u0275\u0275textInterpolate1(" ",n.quantity," "),M.\u0275\u0275advance(2),M.\u0275\u0275textInterpolate1(" ",n.remark," ")}}function zr(e,t){if(1&e&&(M.\u0275\u0275elementStart(0,"dw-table",2,3),M.\u0275\u0275elementStart(2,"thead"),M.\u0275\u0275elementStart(3,"tr",4),M.\u0275\u0275elementStart(4,"th",5),M.\u0275\u0275elementStart(5,"span",6),M.\u0275\u0275text(6,"\u8bbe\u5907\u7f16\u53f7"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(7,"th",5),M.\u0275\u0275elementStart(8,"span",6),M.\u0275\u0275text(9,"\u8bbe\u5907\u540d\u79f0"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(10,"th",5),M.\u0275\u0275elementStart(11,"span",6),M.\u0275\u0275text(12,"\u89c4\u683c"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(13,"th",5),M.\u0275\u0275elementStart(14,"span",6),M.\u0275\u0275text(15,"\u578b\u53f7"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(16,"th",7),M.\u0275\u0275elementStart(17,"span",6),M.\u0275\u0275text(18,"\u5206\u7c7b"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(19,"th",5),M.\u0275\u0275elementStart(20,"span",6),M.\u0275\u0275text(21,"\u5e8f\u5217\u53f7"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(22,"th",8),M.\u0275\u0275elementStart(23,"span",6),M.\u0275\u0275text(24,"\u6570\u91cf"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(25,"th",5),M.\u0275\u0275elementStart(26,"span",6),M.\u0275\u0275text(27,"\u5907\u6ce8"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(28,"tbody"),M.\u0275\u0275template(29,jr,18,8,"ng-container",9),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd()),2&e){var n=M.\u0275\u0275reference(1),r=M.\u0275\u0275nextContext();M.\u0275\u0275property("dwData",r.product_equipment_list),M.\u0275\u0275advance(29),M.\u0275\u0275property("ngForOf",n.data)}}var Br=function(){return{"padding-bottom":"24px"}},$r=function(){var e=function(){function e(t){p(this,e),this.message=t,this.productInfo={},this.product_equipment_list=[],this.visibleChanged=new M.EventEmitter}return f(e,[{key:"initData",value:function(e,t){this.productInfo=e,this.product_equipment_list=t}},{key:"close",value:function(){this.visibleChanged.emit(null)}},{key:"ngOnInit",value:function(){}}]),e}();return e.\u0275fac=function(t){return new(t||e)(M.\u0275\u0275directiveInject(g.DwMessageService))},e.\u0275cmp=M.\u0275\u0275defineComponent({type:e,selectors:[["app-product-equipments"]],inputs:{visible:"visible"},outputs:{visibleChanged:"visibleChanged"},decls:2,vars:7,consts:[[3,"dwBodyStyle","dwMaskClosable","dwWidth","dwVisible","dwTitle","dwFooter","dwVisibleChange","dwOnCancel"],["dwModalContent",""],[3,"dwData"],["dwTable",""],["dw-tr",""],["dw-th","","width","100"],["translate",""],["dw-th","","width","90"],["dw-th","","width","70",1,"align-right"],[4,"ngFor","ngForOf"],["dw-tbody-tr",""],[1,"align-right"]],template:function(e,t){1&e&&(M.\u0275\u0275elementStart(0,"dw-modal",0),M.\u0275\u0275listener("dwVisibleChange",function(e){return t.visible=e})("dwOnCancel",function(){return t.close()}),M.\u0275\u0275template(1,zr,30,2,"ng-template",1),M.\u0275\u0275elementEnd()),2&e&&(M.\u0275\u0275propertyInterpolate("dwTitle","\u8bbe\u5907\u4fe1\u606f("+t.productInfo.product_file_name+" "+t.productInfo.product_file_code+")"),M.\u0275\u0275property("dwBodyStyle",M.\u0275\u0275pureFunction0(6,Br))("dwMaskClosable",!0)("dwWidth",860)("dwVisible",t.visible)("dwFooter",null))},directives:[A.DwModalComponent,A.DwModalContentDirective,we.DwTableComponent,ye.Ct,we.DwTheadComponent,we.DwTrDirective,we.DwTableCellDirective,we.DwThMeasureDirective,ye.BL,xe.TranslateDirective,we.DwTbodyComponent,T.NgForOf],styles:[""]}),e}(),qr=i(80419),Wr=i(37568),Gr=i(64840),Ur=i(45907),Hr=i(48005),Xr=i(57252),Qr=["productFileChild"];function Kr(e,t){if(1&e){var n=M.\u0275\u0275getCurrentView();M.\u0275\u0275elementContainerStart(0),M.\u0275\u0275elementStart(1,"div",119),M.\u0275\u0275elementStart(2,"a",120),M.\u0275\u0275listener("click",function(){return M.\u0275\u0275restoreView(n),M.\u0275\u0275nextContext().returnToList()}),M.\u0275\u0275element(3,"img",121),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(4,"h2",122),M.\u0275\u0275elementStart(5,"span",123),M.\u0275\u0275text(6,"\u670d\u52a1\u5de5\u5355\u8be6\u60c5"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275element(7,"dw-divider"),M.\u0275\u0275elementContainerEnd()}}function Jr(e,t){if(1&e&&(M.\u0275\u0275elementStart(0,"div",124),M.\u0275\u0275text(1),M.\u0275\u0275elementEnd()),2&e){var n=M.\u0275\u0275nextContext();M.\u0275\u0275advance(1),M.\u0275\u0275textInterpolate1(" ",n.serviceOrderBaseInfo.fault_phrase," ")}}function Zr(e,t){if(1&e&&(M.\u0275\u0275elementStart(0,"span"),M.\u0275\u0275text(1),M.\u0275\u0275elementEnd()),2&e){var n=M.\u0275\u0275nextContext();M.\u0275\u0275advance(1),M.\u0275\u0275textInterpolate1("(",n.serviceOrderBaseInfo.channel_explanation,")")}}function Yr(e,t){1&e&&(M.\u0275\u0275elementContainerStart(0),M.\u0275\u0275text(1," \u670d\u52a1\u65b9\u5f0f: \u4e0a\u95e8\u670d\u52a1 "),M.\u0275\u0275elementContainerEnd())}function ei(e,t){1&e&&(M.\u0275\u0275elementContainerStart(0),M.\u0275\u0275text(1," \u670d\u52a1\u65b9\u5f0f: \u8fdc\u7a0b\u670d\u52a1 "),M.\u0275\u0275elementContainerEnd())}function ti(e,t){if(1&e&&(M.\u0275\u0275elementStart(0,"dw-form-item"),M.\u0275\u0275elementStart(1,"dw-form-control",7),M.\u0275\u0275template(2,Yr,2,0,"ng-container",1),M.\u0275\u0275template(3,ei,2,0,"ng-container",1),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd()),2&e){var n=M.\u0275\u0275nextContext();M.\u0275\u0275advance(1),M.\u0275\u0275property("dwSm",18)("dwXs",24),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf",1===n.service_mode),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf",2===n.service_mode)}}var ni=function(){return{width:"100%"}};function ri(e,t){if(1&e&&M.\u0275\u0275element(0,"img",125),2&e){var n=M.\u0275\u0275nextContext();M.\u0275\u0275property("src",n.previewImage,M.\u0275\u0275sanitizeUrl)("ngStyle",M.\u0275\u0275pureFunction0(2,ni))}}function ii(e,t){if(1&e&&(M.\u0275\u0275elementStart(0,"div"),M.\u0275\u0275elementStart(1,"a"),M.\u0275\u0275text(2),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd()),2&e){var n=M.\u0275\u0275nextContext().$implicit;M.\u0275\u0275advance(2),M.\u0275\u0275textInterpolate(n.title)}}function ai(e,t){if(1&e&&(M.\u0275\u0275elementContainerStart(0),M.\u0275\u0275elementStart(1,"dw-image-viewer-list-item",126),M.\u0275\u0275template(2,ii,3,1,"ng-template",null,127,M.\u0275\u0275templateRefExtractor),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementContainerEnd()),2&e){var n=t.$implicit,r=M.\u0275\u0275nextContext();M.\u0275\u0275advance(1),M.\u0275\u0275property("dwListType","picture-card")("dwFile",n)("dwItemAction",r.listActionMap2[n.uid])("onPreview",r.handlePreview2)}}function oi(e,t){if(1&e&&M.\u0275\u0275element(0,"img",143),2&e){var n=M.\u0275\u0275nextContext(2).$implicit;M.\u0275\u0275property("src",n.file_context[0],M.\u0275\u0275sanitizeUrl)}}function li(e,t){1&e&&M.\u0275\u0275element(0,"img",144)}function di(e,t){if(1&e&&(M.\u0275\u0275elementStart(0,"div",133),M.\u0275\u0275elementStart(1,"div",134),M.\u0275\u0275template(2,oi,1,1,"img",135),M.\u0275\u0275template(3,li,1,0,"img",136),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(4,"div",137),M.\u0275\u0275elementStart(5,"div",138),M.\u0275\u0275text(6),M.\u0275\u0275elementStart(7,"span"),M.\u0275\u0275text(8),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(9,"div",139),M.\u0275\u0275elementStart(10,"div",140),M.\u0275\u0275text(11,"\u5e8f\u5217\u53f7\uff1a"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(12,"div",141),M.\u0275\u0275text(13),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(14,"div",139),M.\u0275\u0275elementStart(15,"div",140),M.\u0275\u0275text(16,"\u578b\u53f7\uff1a"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(17,"div",141),M.\u0275\u0275text(18),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(19,"div",139),M.\u0275\u0275elementStart(20,"div",140),M.\u0275\u0275text(21,"\u89c4\u683c\uff1a"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(22,"div",141),M.\u0275\u0275text(23),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(24,"div",139),M.\u0275\u0275elementStart(25,"div",140),M.\u0275\u0275text(26,"\u6570\u91cf\uff1a"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(27,"div",141),M.\u0275\u0275text(28),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(29,"div",142),M.\u0275\u0275text(30,"\u62a5\u4fee"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd()),2&e){var n=M.\u0275\u0275nextContext().$implicit;M.\u0275\u0275advance(2),M.\u0275\u0275property("ngIf",n.file_context&&n.file_context[0]),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf",!n.file_context||!n.file_context[0]),M.\u0275\u0275advance(3),M.\u0275\u0275textInterpolate1(" ",n.name,""),M.\u0275\u0275advance(2),M.\u0275\u0275textInterpolate(n.code),M.\u0275\u0275advance(5),M.\u0275\u0275textInterpolate(n.sn),M.\u0275\u0275advance(5),M.\u0275\u0275textInterpolate(n.model),M.\u0275\u0275advance(5),M.\u0275\u0275textInterpolate(n.specification),M.\u0275\u0275advance(5),M.\u0275\u0275textInterpolate(n.quantity)}}function ci(e,t){if(1&e&&(M.\u0275\u0275elementContainerStart(0),M.\u0275\u0275template(1,di,31,8,"div",132),M.\u0275\u0275elementContainerEnd()),2&e){var n=t.$implicit;M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf",1===n.is_repair)}}function si(e,t){if(1&e){var n=M.\u0275\u0275getCurrentView();M.\u0275\u0275elementStart(0,"dw-tab",128),M.\u0275\u0275elementStart(1,"div",129),M.\u0275\u0275listener("click",function(){M.\u0275\u0275restoreView(n);var e=M.\u0275\u0275nextContext();return M.\u0275\u0275reference(389).initData(e.serviceOrderBaseInfo,e.product_equipment_list),e.searchEquipments()}),M.\u0275\u0275element(2,"em",130),M.\u0275\u0275text(3,"\u67e5\u8be2\u4ea7\u7ebf/\u9879\u76ee\u8bbe\u5907\u6e05\u5355 "),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(4,"div",131),M.\u0275\u0275template(5,ci,2,1,"ng-container",22),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd()}if(2&e){var r=M.\u0275\u0275nextContext();M.\u0275\u0275advance(5),M.\u0275\u0275property("ngForOf",r.product_equipment_list)}}function mi(e,t){if(1&e&&(M.\u0275\u0275elementStart(0,"div",139),M.\u0275\u0275text(1),M.\u0275\u0275pipe(2,"date"),M.\u0275\u0275elementEnd()),2&e){var n=M.\u0275\u0275nextContext().$implicit;M.\u0275\u0275advance(1),M.\u0275\u0275textInterpolate(M.\u0275\u0275pipeBind2(2,1,n.field_value,"yyyy-MM-dd"))}}function pi(e,t){if(1&e&&(M.\u0275\u0275elementStart(0,"div",139),M.\u0275\u0275text(1),M.\u0275\u0275elementEnd()),2&e){var n=M.\u0275\u0275nextContext().$implicit;M.\u0275\u0275advance(1),M.\u0275\u0275textInterpolate(n.field_value)}}function ui(e,t){if(1&e&&(M.\u0275\u0275elementStart(0,"div",147),M.\u0275\u0275elementStart(1,"div",148),M.\u0275\u0275elementStart(2,"div",149),M.\u0275\u0275text(3),M.\u0275\u0275elementEnd(),M.\u0275\u0275template(4,mi,3,4,"div",42),M.\u0275\u0275template(5,pi,2,1,"div",42),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd()),2&e){var n=t.$implicit;M.\u0275\u0275advance(3),M.\u0275\u0275textInterpolate1("",n.field_label,"\uff1a"),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf","DATEPICKER"===n.field_type),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf","DATEPICKER"!==n.field_type)}}function fi(e,t){if(1&e&&(M.\u0275\u0275elementStart(0,"dw-tab",145),M.\u0275\u0275elementStart(1,"div",6),M.\u0275\u0275template(2,ui,6,3,"div",146),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd()),2&e){var n=M.\u0275\u0275nextContext();M.\u0275\u0275advance(2),M.\u0275\u0275property("ngForOf",n.custFields)}}function vi(e,t){if(1&e){var n=M.\u0275\u0275getCurrentView();M.\u0275\u0275elementStart(0,"div",160),M.\u0275\u0275elementStart(1,"dw-upload",161),M.\u0275\u0275listener("dwFileListChange",function(e){return M.\u0275\u0275restoreView(n),M.\u0275\u0275nextContext(2).technologyList=e})("dwChange",function(e){return M.\u0275\u0275restoreView(n),M.\u0275\u0275nextContext(2).handleFileChange(e)}),M.\u0275\u0275elementStart(2,"button",162),M.\u0275\u0275element(3,"em",163),M.\u0275\u0275text(4,"\u4e0a\u4f20\u6587\u4ef6 "),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(5,"div",142),M.\u0275\u0275text(6,"\u652f\u6301\u6269\u5c55\u540d\uff1a.doc .docx .pdf .xlsx .xls .ppt .pptx "),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd()}if(2&e){var r=M.\u0275\u0275nextContext(2);M.\u0275\u0275property("disabled",r.technologyList.length>=5),M.\u0275\u0275advance(1),M.\u0275\u0275property("dwFileList",r.technologyList)("dwBeforeUpload",r.beforeUploadFiles)("dwShowUploadList",!1)("dwAccept",".doc,.docx,.pdf,.xls,.xlsx,.ppt"),M.\u0275\u0275advance(1),M.\u0275\u0275property("disabled",r.technologyList.length>=5||"disabled"===r.uploadatecdocs)}}function gi(e,t){1&e&&M.\u0275\u0275element(0,"img",175)}function hi(e,t){1&e&&M.\u0275\u0275element(0,"img",176)}function wi(e,t){1&e&&M.\u0275\u0275element(0,"img",177)}function yi(e,t){1&e&&M.\u0275\u0275element(0,"img",178)}function xi(e,t){if(1&e){var n=M.\u0275\u0275getCurrentView();M.\u0275\u0275elementStart(0,"button",183),M.\u0275\u0275listener("click",function(){M.\u0275\u0275restoreView(n);var e=M.\u0275\u0275nextContext(2),t=e.index,r=e.$implicit;return M.\u0275\u0275nextContext(2).deleteFile(t,r.file_info_id)}),M.\u0275\u0275element(1,"em",184),M.\u0275\u0275text(2," \u5220\u9664 "),M.\u0275\u0275elementEnd()}if(2&e){var r=M.\u0275\u0275nextContext(4);M.\u0275\u0275propertyInterpolate("angularticsLabel",r.userInfo.tenantId+","+r.userInfo.userId),M.\u0275\u0275property("dwType","defult")("dwActionId","deletetecdocs")("dwDefaultAuthorized","disabled")("angularticsCategory","\u670d\u52a1\u5de5\u5355")}}function _i(e,t){if(1&e){var n=M.\u0275\u0275getCurrentView();M.\u0275\u0275elementStart(0,"div",179),M.\u0275\u0275elementStart(1,"button",180),M.\u0275\u0275listener("click",function(){M.\u0275\u0275restoreView(n);var e=M.\u0275\u0275nextContext().$implicit;return M.\u0275\u0275nextContext(2).downloadTechnogyFile(e.id)}),M.\u0275\u0275element(2,"em",181),M.\u0275\u0275text(3," \u4e0b\u8f7d "),M.\u0275\u0275elementEnd(),M.\u0275\u0275template(4,xi,3,5,"button",182),M.\u0275\u0275elementEnd()}if(2&e){var r=M.\u0275\u0275nextContext(3);M.\u0275\u0275advance(1),M.\u0275\u0275property("dwType","defult"),M.\u0275\u0275advance(3),M.\u0275\u0275property("ngIf",r.serviceOrderCurrentLink.state<5)}}function Ci(e,t){if(1&e){var n=M.\u0275\u0275getCurrentView();M.\u0275\u0275elementStart(0,"div",154),M.\u0275\u0275elementStart(1,"div",155),M.\u0275\u0275template(2,gi,1,0,"img",164),M.\u0275\u0275template(3,hi,1,0,"img",165),M.\u0275\u0275template(4,wi,1,0,"img",166),M.\u0275\u0275template(5,yi,1,0,"img",167),M.\u0275\u0275elementStart(6,"div",168),M.\u0275\u0275elementStart(7,"div",169),M.\u0275\u0275text(8),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(9,"div",170),M.\u0275\u0275text(10),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(11,"div",171),M.\u0275\u0275text(12),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(13,"div",158),M.\u0275\u0275elementStart(14,"a",172),M.\u0275\u0275listener("click",function(e){var t=M.\u0275\u0275restoreView(n).index,r=M.\u0275\u0275nextContext(2);return r.showActBox(t),r.stopProp(e)}),M.\u0275\u0275element(15,"em",173),M.\u0275\u0275elementEnd(),M.\u0275\u0275template(16,_i,5,2,"div",174),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd()}if(2&e){var r=t.$implicit,i=t.index,a=M.\u0275\u0275nextContext(2);M.\u0275\u0275advance(2),M.\u0275\u0275property("ngIf",r.name.indexOf(".xls")>=0),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf",r.name.indexOf(".doc")>=0),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf",r.name.indexOf(".pdf")>=0),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf",r.name.indexOf(".ppt")>=0),M.\u0275\u0275advance(2),M.\u0275\u0275property("title",r.name),M.\u0275\u0275advance(1),M.\u0275\u0275textInterpolate(r.name),M.\u0275\u0275advance(1),M.\u0275\u0275property("title",r.file_update_name),M.\u0275\u0275advance(1),M.\u0275\u0275textInterpolate(r.file_update_name),M.\u0275\u0275advance(2),M.\u0275\u0275textInterpolate(r.file_update_time),M.\u0275\u0275advance(1),M.\u0275\u0275classMap(a.actIdx===i?"":"static"),M.\u0275\u0275advance(3),M.\u0275\u0275property("ngIf",a.actIdx===i)}}function Si(e,t){if(1&e&&(M.\u0275\u0275elementStart(0,"dw-tab",150),M.\u0275\u0275elementStart(1,"div",6),M.\u0275\u0275elementStart(2,"div",151),M.\u0275\u0275template(3,vi,7,6,"div",152),M.\u0275\u0275elementStart(4,"div",153),M.\u0275\u0275elementStart(5,"div",154),M.\u0275\u0275elementStart(6,"div",155),M.\u0275\u0275text(7,"\u540d\u79f0"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(8,"div",156),M.\u0275\u0275text(9,"\u4e0a\u4f20\u8005"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(10,"div",157),M.\u0275\u0275text(11,"\u4e0a\u4f20\u65f6\u95f4"),M.\u0275\u0275elementEnd(),M.\u0275\u0275element(12,"div",158),M.\u0275\u0275elementEnd(),M.\u0275\u0275template(13,Ci,17,13,"div",159),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd()),2&e){var n=M.\u0275\u0275nextContext();M.\u0275\u0275advance(3),M.\u0275\u0275property("ngIf",n.serviceOrderCurrentLink.state<5&&"hidden"!==n.uploadatecdocs),M.\u0275\u0275advance(10),M.\u0275\u0275property("ngForOf",n.technologyList)}}function bi(e,t){if(1&e&&M.\u0275\u0275element(0,"img",191),2&e){var n=M.\u0275\u0275nextContext(2);M.\u0275\u0275propertyInterpolate("src",n.serviceOrderCurrentLink.file_context,M.\u0275\u0275sanitizeUrl)}}function Ii(e,t){1&e&&M.\u0275\u0275element(0,"img",192)}function Ei(e,t){if(1&e){var n=M.\u0275\u0275getCurrentView();M.\u0275\u0275elementStart(0,"button",193),M.\u0275\u0275listener("dwClick",function(){M.\u0275\u0275restoreView(n);var e=M.\u0275\u0275nextContext(2),t=M.\u0275\u0275reference(124);return e.modify(),t.initData(e.service_order_id,e.serviceOrderBaseInfo.latitude)}),M.\u0275\u0275elementStart(1,"span",67),M.\u0275\u0275text(2),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd()}if(2&e){var r=M.\u0275\u0275nextContext(2);M.\u0275\u0275propertyInterpolate("angularticsLabel",r.userInfo.tenantId+","+r.userInfo.userId),M.\u0275\u0275property("dwType","primary")("dwActionId","assign")("dwDefaultAuthorized","disabled")("angularticsCategory","\u670d\u52a1\u5de5\u5355"),M.\u0275\u0275advance(2),M.\u0275\u0275textInterpolate(r.serviceOrderCurrentLink.button_show)}}function Di(e,t){if(1&e){var n=M.\u0275\u0275getCurrentView();M.\u0275\u0275elementStart(0,"button",194),M.\u0275\u0275listener("dwClick",function(){M.\u0275\u0275restoreView(n);var e=M.\u0275\u0275nextContext(2),t=M.\u0275\u0275reference(122);return e.modify(),t.initData(e.service_order_id,e.technologyList)}),M.\u0275\u0275elementStart(1,"span",67),M.\u0275\u0275text(2),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd()}if(2&e){var r=M.\u0275\u0275nextContext(2);M.\u0275\u0275propertyInterpolate("angularticsLabel",r.userInfo.tenantId+","+r.userInfo.userId),M.\u0275\u0275property("dwType","primary")("dwActionId","distribute")("dwDefaultAuthorized","disabled")("angularticsCategory","\u670d\u52a1\u5de5\u5355"),M.\u0275\u0275advance(2),M.\u0275\u0275textInterpolate(r.serviceOrderCurrentLink.button_show)}}function Oi(e,t){if(1&e){var n=M.\u0275\u0275getCurrentView();M.\u0275\u0275elementStart(0,"button",195),M.\u0275\u0275listener("dwClick",function(){M.\u0275\u0275restoreView(n);var e=M.\u0275\u0275nextContext(2);return M.\u0275\u0275reference(383).initData(e.product_file_id,e.service_order_id,e.service_doc_id,e.service_mode),e.report("create")}),M.\u0275\u0275elementStart(1,"span",67),M.\u0275\u0275text(2),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd()}if(2&e){var r=M.\u0275\u0275nextContext(2);M.\u0275\u0275propertyInterpolate("angularticsLabel",r.userInfo.tenantId+","+r.userInfo.userId),M.\u0275\u0275property("dwType","primary")("dwActionId","writeservicereport")("dwDefaultAuthorized","disabled")("angularticsCategory","\u670d\u52a1\u5de5\u5355"),M.\u0275\u0275advance(2),M.\u0275\u0275textInterpolate(r.serviceOrderCurrentLink.button_show)}}function ki(e,t){if(1&e&&(M.\u0275\u0275elementStart(0,"div",139),M.\u0275\u0275elementStart(1,"div",185),M.\u0275\u0275template(2,bi,1,1,"img",186),M.\u0275\u0275template(3,Ii,1,0,"img",187),M.\u0275\u0275elementStart(4,"span",138),M.\u0275\u0275text(5),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275template(6,Ei,3,6,"button",188),M.\u0275\u0275template(7,Di,3,6,"button",189),M.\u0275\u0275template(8,Oi,3,6,"button",190),M.\u0275\u0275elementEnd()),2&e){var n=M.\u0275\u0275nextContext();M.\u0275\u0275advance(2),M.\u0275\u0275property("ngIf",n.serviceOrderCurrentLink.file_context),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf",!n.serviceOrderCurrentLink.file_context),M.\u0275\u0275advance(2),M.\u0275\u0275textInterpolate(n.serviceOrderCurrentLink.employee_name),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf","1"==n.serviceOrderCurrentLink.state),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf","2"==n.serviceOrderCurrentLink.state&&!n.serviceOrderBaseInfo.assign_to_pool&&(n.serviceOrderBaseInfo.service_site_id==n.currentServiceSiteId||n.distribution_all&&"1"===n.currentServiceSiteType)),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf","4"==n.serviceOrderCurrentLink.state&&2==n.service_mode&&n.isNowUser)}}function Mi(e,t){if(1&e){var n=M.\u0275\u0275getCurrentView();M.\u0275\u0275elementStart(0,"img",200),M.\u0275\u0275listener("click",function(){return M.\u0275\u0275restoreView(n),M.\u0275\u0275nextContext(3).showCommunication()}),M.\u0275\u0275elementEnd()}}function Pi(e,t){if(1&e){var n=M.\u0275\u0275getCurrentView();M.\u0275\u0275elementStart(0,"img",201),M.\u0275\u0275listener("click",function(){return M.\u0275\u0275restoreView(n),M.\u0275\u0275nextContext(3).showWorkrecord()}),M.\u0275\u0275elementEnd()}}function Fi(e,t){if(1&e&&(M.\u0275\u0275elementStart(0,"div",197),M.\u0275\u0275template(1,Mi,1,0,"img",198),M.\u0275\u0275template(2,Pi,1,0,"img",199),M.\u0275\u0275elementEnd()),2&e){var n=M.\u0275\u0275nextContext(2);M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf",0!=n.processrecordCount),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf",0!=n.workrecordCount)}}function Vi(e,t){if(1&e&&M.\u0275\u0275template(0,Fi,3,2,"div",196),2&e){var n=M.\u0275\u0275nextContext();M.\u0275\u0275property("ngIf",0!=n.processrecordCount||0!=n.workrecordCount)}}function Ti(e,t){if(1&e){var n=M.\u0275\u0275getCurrentView();M.\u0275\u0275elementStart(0,"div",172),M.\u0275\u0275listener("click",function(){M.\u0275\u0275restoreView(n);var e=M.\u0275\u0275nextContext(2).$implicit;return M.\u0275\u0275nextContext().showDispatch(e.process_details)}),M.\u0275\u0275element(1,"img",210),M.\u0275\u0275elementStart(2,"span"),M.\u0275\u0275text(3,"\u6d3e\u5de5\u5907\u6ce8"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd()}}function Li(e,t){1&e&&(M.\u0275\u0275elementStart(0,"span"),M.\u0275\u0275text(1,"|"),M.\u0275\u0275elementEnd())}function Ri(e,t){if(1&e){var n=M.\u0275\u0275getCurrentView();M.\u0275\u0275elementStart(0,"div",172),M.\u0275\u0275listener("click",function(){M.\u0275\u0275restoreView(n);var e=M.\u0275\u0275nextContext(3),t=M.\u0275\u0275reference(132);return e.showEngineerClock(),t.initData(e.clockList,e.serviceOrderBaseInfo.doc_no)}),M.\u0275\u0275element(1,"img",211),M.\u0275\u0275elementStart(2,"span"),M.\u0275\u0275text(3,"\u534f\u540c\u4eba\u6253\u5361\u8be6\u60c5"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd()}}function Ai(e,t){if(1&e&&(M.\u0275\u0275elementStart(0,"div",208),M.\u0275\u0275template(1,Ti,4,0,"div",209),M.\u0275\u0275template(2,Li,2,0,"span",1),M.\u0275\u0275template(3,Ri,4,0,"div",209),M.\u0275\u0275elementEnd()),2&e){var n=M.\u0275\u0275nextContext().$implicit,r=M.\u0275\u0275nextContext();M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf",n.process_details),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf",n.process_details&&r.clockList.length),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf",r.clockList.length)}}var Ni=function(){return{showPreviewIcon:!0}};function ji(e,t){if(1&e){var n=M.\u0275\u0275getCurrentView();M.\u0275\u0275elementStart(0,"div",212),M.\u0275\u0275elementStart(1,"dw-upload",15),M.\u0275\u0275listener("dwFileListChange",function(e){return M.\u0275\u0275restoreView(n),M.\u0275\u0275nextContext().$implicit.child.pictureInfos=e}),M.\u0275\u0275element(2,"em",16),M.\u0275\u0275elementStart(3,"div",17),M.\u0275\u0275text(4,"\u4e0a\u4f20"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd()}if(2&e){var r=M.\u0275\u0275nextContext().$implicit,i=M.\u0275\u0275nextContext();M.\u0275\u0275advance(1),M.\u0275\u0275property("dwFileList",r.child.pictureInfos)("dwShowButton",r.child.pictureInfos.length<0)("dwShowUploadList",M.\u0275\u0275pureFunction0(4,Ni))("dwPreview",i.handlePreviewClockIn)}}function zi(e,t){if(1&e&&(M.\u0275\u0275elementStart(0,"dw-timeline-item",202),M.\u0275\u0275elementStart(1,"div",203),M.\u0275\u0275elementStart(2,"span",204),M.\u0275\u0275text(3),M.\u0275\u0275pipe(4,"date"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(5,"span",205),M.\u0275\u0275text(6),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(7,"span",206),M.\u0275\u0275text(8),M.\u0275\u0275template(9,Ai,4,3,"div",207),M.\u0275\u0275template(10,ji,5,5,"div",76),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd()),2&e){var n=t.$implicit,r=M.\u0275\u0275nextContext();M.\u0275\u0275property("dwColor","#d8d8d8"),M.\u0275\u0275advance(3),M.\u0275\u0275textInterpolate(M.\u0275\u0275pipeBind2(4,6,n.process_time,"yyyy/MM/dd HH:mm")),M.\u0275\u0275advance(3),M.\u0275\u0275textInterpolate(r.getProcessStateLable(n.process_state)),M.\u0275\u0275advance(2),M.\u0275\u0275textInterpolate1(" ",n.remark," "),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf","3"===n.process_state),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf","13"===n.process_state||"14"===n.process_state)}}function Bi(e,t){1&e&&M.\u0275\u0275element(0,"img",239)}function $i(e,t){1&e&&M.\u0275\u0275element(0,"img",240)}function qi(e,t){if(1&e&&(M.\u0275\u0275elementStart(0,"div",233),M.\u0275\u0275elementStart(1,"div",234),M.\u0275\u0275text(2,"\u5e8f\u5217\u53f7\u53d8\u66f4"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(3,"div",236),M.\u0275\u0275elementStart(4,"p"),M.\u0275\u0275text(5),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(6,"span"),M.\u0275\u0275text(7),M.\u0275\u0275template(8,Bi,1,0,"img",237),M.\u0275\u0275template(9,$i,1,0,"img",238),M.\u0275\u0275text(10),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd()),2&e){var n=M.\u0275\u0275nextContext(3);M.\u0275\u0275advance(5),M.\u0275\u0275textInterpolate("0"===n.agreeChangeSn?"\u4e0d\u540c\u610f":"\u540c\u610f\u53d8\u66f4"),M.\u0275\u0275advance(2),M.\u0275\u0275textInterpolate1(" ( ",n.originalSn," "),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf","0"===n.agreeChangeSn),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf","1"===n.agreeChangeSn),M.\u0275\u0275advance(1),M.\u0275\u0275textInterpolate1(" ",n.currentSn," ) ")}}function Wi(e,t){if(1&e&&(M.\u0275\u0275elementStart(0,"div",227),M.\u0275\u0275element(1,"img",228),M.\u0275\u0275elementStart(2,"div",229),M.\u0275\u0275elementStart(3,"div",230),M.\u0275\u0275text(4,"\u5ba1\u67e5\u7ed3\u679c"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(5,"div",231),M.\u0275\u0275template(6,qi,11,5,"div",232),M.\u0275\u0275elementStart(7,"div",233),M.\u0275\u0275elementStart(8,"div",234),M.\u0275\u0275text(9,"\u8d23\u4efb\u5f52\u5c5e"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(10,"div",235),M.\u0275\u0275text(11),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(12,"div",233),M.\u0275\u0275elementStart(13,"div",234),M.\u0275\u0275text(14,"\u610f\u89c1"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(15,"div",235),M.\u0275\u0275text(16),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(17,"div",138),M.\u0275\u0275text(18),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(19,"div",204),M.\u0275\u0275text(20),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd()),2&e){var n=M.\u0275\u0275nextContext(2);M.\u0275\u0275advance(6),M.\u0275\u0275property("ngIf",n.originalSn!==n.currentSn),M.\u0275\u0275advance(5),M.\u0275\u0275textInterpolate(n.orderReviewInfo.review_responsible_party),M.\u0275\u0275advance(5),M.\u0275\u0275textInterpolate(n.orderReviewInfo.review_opinions),M.\u0275\u0275advance(2),M.\u0275\u0275textInterpolate1("\u5ba1\u67e5\u4eba\uff1a",n.orderReviewInfo.review_employee_name,""),M.\u0275\u0275advance(2),M.\u0275\u0275textInterpolate(n.orderReviewInfo.review_date)}}function Gi(e,t){if(1&e){var n=M.\u0275\u0275getCurrentView();M.\u0275\u0275elementStart(0,"div",241),M.\u0275\u0275listener("dwClick",function(){M.\u0275\u0275restoreView(n);var e=M.\u0275\u0275nextContext(2),t=M.\u0275\u0275reference(383);return t.initData(e.product_file_id,e.service_order_id,e.service_doc_id,e.service_mode,e.serviceOrderBaseInfo.service_site_id),t.getReportInfo(e.service_doc_id),e.report("modify")}),M.\u0275\u0275element(1,"img",242),M.\u0275\u0275text(2," \u66f4\u6539\u62a5\u544a "),M.\u0275\u0275elementEnd()}if(2&e){var r=M.\u0275\u0275nextContext(2);M.\u0275\u0275propertyInterpolate("angularticsLabel",r.userInfo.tenantId+","+r.userInfo.userId),M.\u0275\u0275property("dwActionId","changeservicereport")("dwDefaultAuthorized","disabled")("angularticsCategory","\u670d\u52a1\u5de5\u5355")}}function Ui(e,t){if(1&e){var n=M.\u0275\u0275getCurrentView();M.\u0275\u0275elementStart(0,"div",243),M.\u0275\u0275listener("dwClick",function(){M.\u0275\u0275restoreView(n);var e=M.\u0275\u0275nextContext(2),t=M.\u0275\u0275reference(130);return e.review(),t.initData(e.service_order_id,e.originalSn,e.currentSn,e.orderReviewInfo,e.serviceOrderBaseInfo.type)}),M.\u0275\u0275element(1,"img",244),M.\u0275\u0275text(2," \u5ba1\u67e5"),M.\u0275\u0275elementEnd()}if(2&e){var r=M.\u0275\u0275nextContext(2);M.\u0275\u0275propertyInterpolate("angularticsLabel",r.userInfo.tenantId+","+r.userInfo.userId),M.\u0275\u0275property("dwActionId","review")("dwDefaultAuthorized","disabled")("angularticsCategory","\u670d\u52a1\u5de5\u5355")}}function Hi(e,t){if(1&e){var n=M.\u0275\u0275getCurrentView();M.\u0275\u0275elementStart(0,"div",245),M.\u0275\u0275listener("dwClick",function(){M.\u0275\u0275restoreView(n);var e=M.\u0275\u0275nextContext(2),t=M.\u0275\u0275reference(130);return e.review(),t.initData(e.service_order_id,e.originalSn,e.currentSn,e.orderReviewInfo,e.serviceOrderBaseInfo.type)}),M.\u0275\u0275element(1,"img",242),M.\u0275\u0275text(2," \u66f4\u6539\u5ba1\u67e5\u7ed3\u679c"),M.\u0275\u0275elementEnd()}if(2&e){var r=M.\u0275\u0275nextContext(2);M.\u0275\u0275propertyInterpolate("angularticsLabel",r.userInfo.tenantId+","+r.userInfo.userId),M.\u0275\u0275property("dwActionId","review")("dwDefaultAuthorized","disabled")("angularticsCategory","\u670d\u52a1\u5de5\u5355")}}function Xi(e,t){if(1&e){var n=M.\u0275\u0275getCurrentView();M.\u0275\u0275elementStart(0,"div",246),M.\u0275\u0275listener("dwClick",function(){M.\u0275\u0275restoreView(n);var e=M.\u0275\u0275nextContext(2);return e.changeFaq(e.service_doc_id)}),M.\u0275\u0275element(1,"img",247),M.\u0275\u0275text(2," \u8f6c\u77e5\u8bc6\u5e93"),M.\u0275\u0275elementEnd()}if(2&e){var r=M.\u0275\u0275nextContext(2);M.\u0275\u0275propertyInterpolate("angularticsLabel",r.userInfo.tenantId+","+r.userInfo.userId),M.\u0275\u0275property("dwDefaultAuthorized","disabled")("dwActionId","generatedkb")("angularticsCategory","\u670d\u52a1\u5de5\u5355")}}function Qi(e,t){1&e&&M.\u0275\u0275element(0,"img",250)}function Ki(e,t){if(1&e){var n=M.\u0275\u0275getCurrentView();M.\u0275\u0275elementStart(0,"button",248),M.\u0275\u0275listener("dwClick",function(){M.\u0275\u0275restoreView(n);var e=M.\u0275\u0275nextContext(2);return e.exportPDF(e.service_doc_id)}),M.\u0275\u0275template(1,Qi,1,0,"img",249),M.\u0275\u0275text(2," \u5bfc\u51fa "),M.\u0275\u0275elementEnd()}if(2&e){var r=M.\u0275\u0275nextContext(2);M.\u0275\u0275propertyInterpolate("angularticsLabel",r.userInfo.tenantId+","+r.userInfo.userId),M.\u0275\u0275property("dwDefaultAuthorized","disabled")("dwActionId","export")("angularticsCategory","\u670d\u52a1\u5de5\u5355")("dwLoading",r.isDownloading),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf",!r.isDownloading)}}function Ji(e,t){1&e&&(M.\u0275\u0275elementStart(0,"div",251),M.\u0275\u0275element(1,"img",252),M.\u0275\u0275elementEnd())}function Zi(e,t){if(1&e&&(M.\u0275\u0275elementStart(0,"div",213),M.\u0275\u0275elementStart(1,"div",214),M.\u0275\u0275element(2,"img",215),M.\u0275\u0275elementStart(3,"div",216),M.\u0275\u0275text(4," \u5de5\u7a0b\u5e08 "),M.\u0275\u0275elementStart(5,"span",217),M.\u0275\u0275text(6),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(7,"div",218),M.\u0275\u0275text(8),M.\u0275\u0275pipe(9,"date"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275template(10,Wi,21,5,"div",219),M.\u0275\u0275elementStart(11,"div",220),M.\u0275\u0275template(12,Gi,3,4,"div",221),M.\u0275\u0275template(13,Ui,3,4,"div",222),M.\u0275\u0275template(14,Hi,3,4,"div",223),M.\u0275\u0275template(15,Xi,3,4,"div",224),M.\u0275\u0275template(16,Ki,3,6,"button",225),M.\u0275\u0275elementEnd(),M.\u0275\u0275template(17,Ji,2,0,"div",226),M.\u0275\u0275elementEnd(),M.\u0275\u0275element(18,"dw-divider"),M.\u0275\u0275elementEnd()),2&e){var n=M.\u0275\u0275nextContext();M.\u0275\u0275advance(6),M.\u0275\u0275textInterpolate(n.install.employee_name),M.\u0275\u0275advance(2),M.\u0275\u0275textInterpolate(M.\u0275\u0275pipeBind2(9,9,n.install.end_time,"yyyy-MM-dd HH:mm:ss")),M.\u0275\u0275advance(2),M.\u0275\u0275property("ngIf",n.isReviewStamp),M.\u0275\u0275advance(2),M.\u0275\u0275property("ngIf","4"==n.service_doc_state&&n.isReviewEnable&&!n.serviceOrderBaseInfo.customer_settled&&!n.serviceOrderBaseInfo.site_settled&&!n.serviceOrderBaseInfo.employee_settled),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf",n.isReviewEnable),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf",n.isReviewStamp&&n.isInSixMonths),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf",n.isReviewStamp&&!n.isFaqChanged),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf","5"==n.serviceOrderCurrentLink.state||"6"==n.serviceOrderCurrentLink.state),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf",n.isFaqChanged)}}function Yi(e,t){1&e&&(M.\u0275\u0275elementStart(0,"p",62),M.\u0275\u0275text(1,"\u57fa\u672c\u4fe1\u606f"),M.\u0275\u0275elementEnd())}var ea=function(){return[1]};function ta(e,t){if(1&e&&(M.\u0275\u0275elementStart(0,"div",253),M.\u0275\u0275elementStart(1,"dw-table",254,255),M.\u0275\u0275elementStart(3,"tbody"),M.\u0275\u0275elementStart(4,"tr"),M.\u0275\u0275elementStart(5,"td",256),M.\u0275\u0275text(6," \u670d\u52a1\u7c7b\u578b "),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(7,"td",257),M.\u0275\u0275text(8),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(9,"td",258),M.\u0275\u0275text(10," \u5de5\u7a0b\u5e08 "),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(11,"td",257),M.\u0275\u0275text(12),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(13,"td",259),M.\u0275\u0275text(14," \u670d\u52a1\u5b8c\u6210\u65e5\u671f "),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(15,"td",257),M.\u0275\u0275text(16),M.\u0275\u0275pipe(17,"date"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(18,"tr"),M.\u0275\u0275elementStart(19,"td",260),M.\u0275\u0275text(20," \u5b89\u88c5\u8c03\u8bd5\u65e5\u671f "),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(21,"td",261),M.\u0275\u0275text(22),M.\u0275\u0275pipe(23,"date"),M.\u0275\u0275pipe(24,"date"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(25,"td",262),M.\u0275\u0275text(26," \u9a8c\u6536\u65e5\u671f "),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(27,"td"),M.\u0275\u0275text(28),M.\u0275\u0275pipe(29,"date"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd()),2&e){var n=M.\u0275\u0275nextContext();M.\u0275\u0275advance(1),M.\u0275\u0275property("dwData",M.\u0275\u0275pureFunction0(20,ea))("dwShowPagination",!1),M.\u0275\u0275advance(7),M.\u0275\u0275textInterpolate1(" ",n.install.service_type_name," "),M.\u0275\u0275advance(4),M.\u0275\u0275textInterpolate1(" ",n.install.employee_name," "),M.\u0275\u0275advance(4),M.\u0275\u0275textInterpolate1(" ",M.\u0275\u0275pipeBind2(17,8,n.install.end_time,"yyyy-MM-dd")," "),M.\u0275\u0275advance(6),M.\u0275\u0275textInterpolate2(" ",M.\u0275\u0275pipeBind2(23,11,n.install.installationDateBegin,"yyyy-MM-dd"),"~",M.\u0275\u0275pipeBind2(24,14,n.install.installationDateEnd,"yyyy-MM-dd")," "),M.\u0275\u0275advance(6),M.\u0275\u0275textInterpolate1(" ",M.\u0275\u0275pipeBind2(29,17,n.install.acceptanceDate,"yyyy-MM-dd")," ")}}function na(e,t){if(1&e&&(M.\u0275\u0275elementStart(0,"div",124),M.\u0275\u0275text(1),M.\u0275\u0275elementEnd()),2&e){var n=M.\u0275\u0275nextContext().$implicit;M.\u0275\u0275advance(1),M.\u0275\u0275textInterpolate1(" ",n.fault_phrase," ")}}function ra(e,t){if(1&e&&(M.\u0275\u0275elementStart(0,"div",124),M.\u0275\u0275text(1),M.\u0275\u0275elementEnd()),2&e){var n=M.\u0275\u0275nextContext().$implicit;M.\u0275\u0275advance(1),M.\u0275\u0275textInterpolate1(" ",n.programme_phrase," ")}}function ia(e,t){if(1&e&&(M.\u0275\u0275elementStart(0,"tr"),M.\u0275\u0275elementStart(1,"td",263),M.\u0275\u0275text(2),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(3,"td",263),M.\u0275\u0275text(4),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(5,"td",264),M.\u0275\u0275template(6,na,2,1,"div",12),M.\u0275\u0275text(7),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(8,"td",264),M.\u0275\u0275template(9,ra,2,1,"div",12),M.\u0275\u0275text(10),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd()),2&e){var n=t.$implicit;M.\u0275\u0275advance(2),M.\u0275\u0275textInterpolate1(" ",n.breakdown_show," "),M.\u0275\u0275advance(2),M.\u0275\u0275textInterpolate1(" ",n.name," "),M.\u0275\u0275advance(2),M.\u0275\u0275property("ngIf",n.fault_phrase),M.\u0275\u0275advance(1),M.\u0275\u0275textInterpolate1(" ",n.breakdown_description," "),M.\u0275\u0275advance(2),M.\u0275\u0275property("ngIf",n.programme_phrase),M.\u0275\u0275advance(1),M.\u0275\u0275textInterpolate1(" ",n.processing_description," ")}}function aa(e,t){1&e&&(M.\u0275\u0275elementStart(0,"th",265),M.\u0275\u0275elementStart(1,"span",67),M.\u0275\u0275text(2,"\u73b0\u573a\u786e\u8ba4\u56fe\u7247"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd())}function oa(e,t){if(1&e&&(M.\u0275\u0275elementStart(0,"span",271),M.\u0275\u0275text(1),M.\u0275\u0275elementEnd()),2&e){var n=M.\u0275\u0275nextContext().$implicit;M.\u0275\u0275advance(1),M.\u0275\u0275textInterpolate(n.orig_qty)}}function la(e,t){1&e&&(M.\u0275\u0275elementStart(0,"span",271),M.\u0275\u0275text(1,"\u221a"),M.\u0275\u0275elementEnd())}function da(e,t){1&e&&(M.\u0275\u0275elementStart(0,"span",272),M.\u0275\u0275text(1,"\xd7"),M.\u0275\u0275elementEnd())}var ca=function(e,t){return{url:e,file_id:t}};function sa(e,t){if(1&e&&M.\u0275\u0275element(0,"app-big-img",274),2&e){var n=M.\u0275\u0275nextContext(2).$implicit;M.\u0275\u0275property("item",M.\u0275\u0275pureFunction2(1,ca,n.confirmed_picture,n.confirmed_picture_id))}}function ma(e,t){if(1&e&&(M.\u0275\u0275elementStart(0,"td"),M.\u0275\u0275template(1,sa,1,4,"app-big-img",273),M.\u0275\u0275elementEnd()),2&e){var n=M.\u0275\u0275nextContext().$implicit;M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf",n.confirmed_picture_id)}}function pa(e,t){if(1&e&&(M.\u0275\u0275elementStart(0,"span",271),M.\u0275\u0275text(1),M.\u0275\u0275elementEnd()),2&e){var n=M.\u0275\u0275nextContext().$implicit;M.\u0275\u0275advance(1),M.\u0275\u0275textInterpolate(n.qty)}}function ua(e,t){if(1&e&&(M.\u0275\u0275elementStart(0,"tr"),M.\u0275\u0275elementStart(1,"td"),M.\u0275\u0275text(2),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(3,"td"),M.\u0275\u0275text(4),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(5,"td",266),M.\u0275\u0275template(6,oa,2,1,"span",267),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(7,"td",268),M.\u0275\u0275template(8,la,2,0,"span",267),M.\u0275\u0275template(9,da,2,0,"span",269),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(10,"td",270),M.\u0275\u0275text(11),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(12,"td"),M.\u0275\u0275text(13),M.\u0275\u0275elementEnd(),M.\u0275\u0275template(14,ma,2,1,"td",1),M.\u0275\u0275elementStart(15,"td",266),M.\u0275\u0275template(16,pa,2,1,"span",267),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd()),2&e){var n=t.$implicit,r=M.\u0275\u0275nextContext();M.\u0275\u0275advance(2),M.\u0275\u0275textInterpolate1(" ",n.orig_show," "),M.\u0275\u0275advance(2),M.\u0275\u0275textInterpolate1(" ",n.orig_sn," "),M.\u0275\u0275advance(2),M.\u0275\u0275property("ngIf",n.orig_qty),M.\u0275\u0275advance(2),M.\u0275\u0275property("ngIf",n.orig_qty&&n.need_return),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf",n.orig_qty&&!n.need_return),M.\u0275\u0275advance(2),M.\u0275\u0275textInterpolate1(" ",n.new_show," "),M.\u0275\u0275advance(2),M.\u0275\u0275textInterpolate1(" ",n.sn," "),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf",r.showConfirmedPicture),M.\u0275\u0275advance(2),M.\u0275\u0275property("ngIf",n.qty)}}function fa(e,t){if(1&e&&(M.\u0275\u0275elementStart(0,"tr"),M.\u0275\u0275elementStart(1,"td"),M.\u0275\u0275text(2),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(3,"td",275),M.\u0275\u0275text(4),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd()),2&e){var n=t.$implicit;M.\u0275\u0275advance(2),M.\u0275\u0275textInterpolate1(" ",n.service_item_show," "),M.\u0275\u0275advance(2),M.\u0275\u0275textInterpolate1(" ",n.process_description," ")}}function va(e,t){if(1&e&&M.\u0275\u0275element(0,"img",276),2&e){var n=M.\u0275\u0275nextContext(2);M.\u0275\u0275property("src",n.previewImage,M.\u0275\u0275sanitizeUrl)("ngStyle",M.\u0275\u0275pureFunction0(2,ni))}}function ga(e,t){if(1&e){var n=M.\u0275\u0275getCurrentView();M.\u0275\u0275elementStart(0,"div",212),M.\u0275\u0275elementStart(1,"dw-upload",15),M.\u0275\u0275listener("dwFileListChange",function(e){return M.\u0275\u0275restoreView(n),M.\u0275\u0275nextContext().docInfoFileContextList=e}),M.\u0275\u0275element(2,"em",16),M.\u0275\u0275elementStart(3,"div",17),M.\u0275\u0275text(4,"\u4e0a\u4f20"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(5,"dw-modal",18),M.\u0275\u0275listener("dwOnCancel",function(){return M.\u0275\u0275restoreView(n),M.\u0275\u0275nextContext().previewVisible=!1}),M.\u0275\u0275template(6,va,1,3,"ng-template",null,19,M.\u0275\u0275templateRefExtractor),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd()}if(2&e){var r=M.\u0275\u0275reference(7),i=M.\u0275\u0275nextContext();M.\u0275\u0275advance(1),M.\u0275\u0275property("dwFileList",i.docInfoFileContextList)("dwShowButton",i.docInfoFileContextList.length<0)("dwShowUploadList",M.\u0275\u0275pureFunction0(7,Ni))("dwPreview",i.handlePreview),M.\u0275\u0275advance(4),M.\u0275\u0275property("dwVisible",i.previewVisible)("dwContent",r)("dwFooter",null)}}function ha(e,t){if(1&e&&(M.\u0275\u0275elementStart(0,"div"),M.\u0275\u0275elementStart(1,"a"),M.\u0275\u0275text(2),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd()),2&e){var n=M.\u0275\u0275nextContext().$implicit;M.\u0275\u0275advance(2),M.\u0275\u0275textInterpolate(n.title)}}function wa(e,t){if(1&e&&(M.\u0275\u0275elementContainerStart(0),M.\u0275\u0275elementStart(1,"dw-image-viewer-list-item",126),M.\u0275\u0275template(2,ha,3,1,"ng-template",null,127,M.\u0275\u0275templateRefExtractor),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementContainerEnd()),2&e){var n=t.$implicit,r=M.\u0275\u0275nextContext(2);M.\u0275\u0275advance(1),M.\u0275\u0275property("dwListType","picture-card")("dwFile",n)("dwItemAction",r.listActionMap2_2[n.uid])("onPreview",r.handlePreview2_2)}}var ya=function(){return{"my-list":!1}};function xa(e,t){if(1&e&&(M.\u0275\u0275elementStart(0,"div",212),M.\u0275\u0275elementStart(1,"div",21),M.\u0275\u0275template(2,wa,4,4,"ng-container",22),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd()),2&e){var n=M.\u0275\u0275nextContext();M.\u0275\u0275advance(1),M.\u0275\u0275property("ngClass",M.\u0275\u0275pureFunction0(2,ya)),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngForOf",n.thumbnailList2_2)}}function _a(e,t){1&e&&(M.\u0275\u0275elementStart(0,"p",277),M.\u0275\u0275text(1,"\u9644\u4ef6"),M.\u0275\u0275elementEnd())}function Ca(e,t){1&e&&M.\u0275\u0275element(0,"img",175)}function Sa(e,t){1&e&&M.\u0275\u0275element(0,"img",176)}function ba(e,t){1&e&&M.\u0275\u0275element(0,"img",177)}function Ia(e,t){1&e&&M.\u0275\u0275element(0,"img",178)}function Ea(e,t){if(1&e){var n=M.\u0275\u0275getCurrentView();M.\u0275\u0275elementStart(0,"div",279),M.\u0275\u0275template(1,Ca,1,0,"img",164),M.\u0275\u0275template(2,Sa,1,0,"img",165),M.\u0275\u0275template(3,ba,1,0,"img",166),M.\u0275\u0275template(4,Ia,1,0,"img",167),M.\u0275\u0275elementStart(5,"div",169),M.\u0275\u0275text(6),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(7,"div",280),M.\u0275\u0275listener("click",function(){var e=M.\u0275\u0275restoreView(n).$implicit;return M.\u0275\u0275nextContext(2).downloadFile(e.annex_id)}),M.\u0275\u0275element(8,"em",181),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd()}if(2&e){var r=t.$implicit;M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf",r.annex_name&&r.annex_name.indexOf(".xls")>=0),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf",r.annex_name&&r.annex_name.indexOf(".doc")>=0),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf",r.annex_name&&r.annex_name.indexOf(".pdf")>=0),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf",r.annex_name&&r.annex_name.indexOf(".ppt")>=0),M.\u0275\u0275advance(1),M.\u0275\u0275property("title",r.annex_name),M.\u0275\u0275advance(1),M.\u0275\u0275textInterpolate(r.annex_name)}}function Da(e,t){if(1&e&&(M.\u0275\u0275elementStart(0,"div",212),M.\u0275\u0275template(1,Ea,9,6,"div",278),M.\u0275\u0275elementEnd()),2&e){var n=M.\u0275\u0275nextContext();M.\u0275\u0275advance(1),M.\u0275\u0275property("ngForOf",n.install.annexs)}}function Oa(e,t){if(1&e&&(M.\u0275\u0275elementStart(0,"p"),M.\u0275\u0275elementStart(1,"span",281),M.\u0275\u0275text(2),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd()),2&e){var n=M.\u0275\u0275nextContext();M.\u0275\u0275advance(2),M.\u0275\u0275textInterpolate1("\xa0\xa0",n.remark,"")}}function ka(e,t){if(1&e&&(M.\u0275\u0275elementStart(0,"p"),M.\u0275\u0275elementStart(1,"span",281),M.\u0275\u0275text(2),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd()),2&e){var n=M.\u0275\u0275nextContext();M.\u0275\u0275advance(2),M.\u0275\u0275textInterpolate1("\xa0\xa0",n.signature,"")}}function Ma(e,t){if(1&e&&(M.\u0275\u0275elementStart(0,"p"),M.\u0275\u0275element(1,"img",282),M.\u0275\u0275elementEnd()),2&e){var n=M.\u0275\u0275nextContext();M.\u0275\u0275advance(1),M.\u0275\u0275property("src",n.signature_picture,M.\u0275\u0275sanitizeUrl)}}function Pa(e,t){if(1&e){var n=M.\u0275\u0275getCurrentView();M.\u0275\u0275elementContainerStart(0),M.\u0275\u0275elementStart(1,"button",283),M.\u0275\u0275listener("click",function(){return M.\u0275\u0275restoreView(n),M.\u0275\u0275nextContext().editAmountInfo()}),M.\u0275\u0275element(2,"em",284),M.\u0275\u0275text(3," \u7f16\u8f91 "),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementContainerEnd()}}function Fa(e,t){if(1&e){var n=M.\u0275\u0275getCurrentView();M.\u0275\u0275elementContainerStart(0),M.\u0275\u0275elementStart(1,"button",285),M.\u0275\u0275listener("click",function(){return M.\u0275\u0275restoreView(n),M.\u0275\u0275nextContext().saveAmountInfo()}),M.\u0275\u0275element(2,"em",286),M.\u0275\u0275text(3," \u4fdd\u5b58 "),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementContainerEnd()}}function Va(e,t){if(1&e){var n=M.\u0275\u0275getCurrentView();M.\u0275\u0275elementContainerStart(0),M.\u0275\u0275elementStart(1,"button",283),M.\u0275\u0275listener("click",function(){return M.\u0275\u0275restoreView(n),M.\u0275\u0275nextContext().cancelAmountInfo()}),M.\u0275\u0275element(2,"em",287),M.\u0275\u0275text(3," \u53d6\u6d88 "),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementContainerEnd()}}function Ta(e,t){if(1&e){var n=M.\u0275\u0275getCurrentView();M.\u0275\u0275elementContainerStart(0),M.\u0275\u0275elementStart(1,"dw-input-number",290),M.\u0275\u0275listener("ngModelChange",function(e){return M.\u0275\u0275restoreView(n),M.\u0275\u0275nextContext().$implicit.customer_settlement_price=e})("ngModelChange",function(){return M.\u0275\u0275restoreView(n),M.\u0275\u0275nextContext(2).priceChange()}),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementContainerEnd()}if(2&e){var r=M.\u0275\u0275nextContext().$implicit;M.\u0275\u0275advance(1),M.\u0275\u0275property("ngModel",r.customer_settlement_price)("dwMin",0)("dwStep",1)("dwPrecision",2)}}function La(e,t){if(1&e&&(M.\u0275\u0275elementContainerStart(0),M.\u0275\u0275text(1),M.\u0275\u0275elementContainerEnd()),2&e){var n=M.\u0275\u0275nextContext().$implicit;M.\u0275\u0275advance(1),M.\u0275\u0275textInterpolate1(" ",n.customer_settlement_price.toFixed(2)," ")}}function Ra(e,t){if(1&e&&(M.\u0275\u0275elementStart(0,"tr"),M.\u0275\u0275elementStart(1,"td",288),M.\u0275\u0275text(2),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(3,"td"),M.\u0275\u0275text(4),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(5,"td"),M.\u0275\u0275text(6),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(7,"td"),M.\u0275\u0275text(8),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(9,"td",289),M.\u0275\u0275text(10),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(11,"td",289),M.\u0275\u0275template(12,Ta,2,4,"ng-container",1),M.\u0275\u0275template(13,La,2,1,"ng-container",1),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(14,"td",289),M.\u0275\u0275text(15),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd()),2&e){var n=t.$implicit,r=M.\u0275\u0275nextContext();M.\u0275\u0275advance(2),M.\u0275\u0275textInterpolate1(" ",n.rowNum," "),M.\u0275\u0275advance(2),M.\u0275\u0275textInterpolate1(" ",n.material_code," "),M.\u0275\u0275advance(2),M.\u0275\u0275textInterpolate1(" ",n.material_name," "),M.\u0275\u0275advance(2),M.\u0275\u0275textInterpolate1(" ",n.specification," "),M.\u0275\u0275advance(2),M.\u0275\u0275textInterpolate1(" ",n.qty," "),M.\u0275\u0275advance(2),M.\u0275\u0275property("ngIf",r.inAmountEdit),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf",!r.inAmountEdit),M.\u0275\u0275advance(2),M.\u0275\u0275textInterpolate1(" ",(n.customer_settlement_price*n.qty).toFixed(2)," ")}}function Aa(e,t){if(1&e){var n=M.\u0275\u0275getCurrentView();M.\u0275\u0275elementStart(0,"button",291),M.\u0275\u0275listener("click",function(){return M.\u0275\u0275restoreView(n),M.\u0275\u0275nextContext().openServiceItem()}),M.\u0275\u0275element(1,"em",16),M.\u0275\u0275text(2," \u670d\u52a1\u9879\u76ee "),M.\u0275\u0275elementEnd()}}function Na(e,t){1&e&&(M.\u0275\u0275elementStart(0,"th",292),M.\u0275\u0275elementStart(1,"span",67),M.\u0275\u0275text(2,"\u64cd\u4f5c"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd())}function ja(e,t){if(1&e){var n=M.\u0275\u0275getCurrentView();M.\u0275\u0275elementContainerStart(0),M.\u0275\u0275elementStart(1,"dw-input-number",290),M.\u0275\u0275listener("ngModelChange",function(e){return M.\u0275\u0275restoreView(n),M.\u0275\u0275nextContext().$implicit.customer_settlement_price=e})("ngModelChange",function(){return M.\u0275\u0275restoreView(n),M.\u0275\u0275nextContext(2).priceChange()}),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementContainerEnd()}if(2&e){var r=M.\u0275\u0275nextContext().$implicit;M.\u0275\u0275advance(1),M.\u0275\u0275property("ngModel",r.customer_settlement_price)("dwMin",0)("dwStep",1)("dwPrecision",2)}}function za(e,t){if(1&e&&(M.\u0275\u0275elementContainerStart(0),M.\u0275\u0275text(1),M.\u0275\u0275elementContainerEnd()),2&e){var n=M.\u0275\u0275nextContext().$implicit;M.\u0275\u0275advance(1),M.\u0275\u0275textInterpolate1(" ",n.customer_settlement_price.toFixed(2)," ")}}function Ba(e,t){if(1&e){var n=M.\u0275\u0275getCurrentView();M.\u0275\u0275elementContainerStart(0),M.\u0275\u0275elementStart(1,"input",293),M.\u0275\u0275listener("ngModelChange",function(e){return M.\u0275\u0275restoreView(n),M.\u0275\u0275nextContext().$implicit.process_description=e}),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementContainerEnd()}if(2&e){var r=M.\u0275\u0275nextContext().$implicit;M.\u0275\u0275advance(1),M.\u0275\u0275property("ngModel",r.process_description)}}function $a(e,t){if(1&e&&(M.\u0275\u0275elementContainerStart(0),M.\u0275\u0275text(1),M.\u0275\u0275elementContainerEnd()),2&e){var n=M.\u0275\u0275nextContext().$implicit;M.\u0275\u0275advance(1),M.\u0275\u0275textInterpolate1(" ",n.process_description," ")}}function qa(e,t){if(1&e){var n=M.\u0275\u0275getCurrentView();M.\u0275\u0275elementStart(0,"div",295),M.\u0275\u0275listener("click",function(){M.\u0275\u0275restoreView(n);var e=M.\u0275\u0275nextContext(2).$implicit;return M.\u0275\u0275nextContext().deleteServiceItem(e.service_item_id)}),M.\u0275\u0275element(1,"img",296),M.\u0275\u0275element(2,"img",297),M.\u0275\u0275elementEnd()}}function Wa(e,t){if(1&e&&(M.\u0275\u0275elementStart(0,"td"),M.\u0275\u0275elementStart(1,"div",179),M.\u0275\u0275template(2,qa,3,0,"div",294),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd()),2&e){var n=M.\u0275\u0275nextContext().$implicit;M.\u0275\u0275advance(2),M.\u0275\u0275property("ngIf",!n.service_doc_serviceitem_id)}}function Ga(e,t){if(1&e&&(M.\u0275\u0275elementStart(0,"tr"),M.\u0275\u0275elementStart(1,"td",288),M.\u0275\u0275text(2),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(3,"td"),M.\u0275\u0275text(4),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(5,"td",289),M.\u0275\u0275template(6,ja,2,4,"ng-container",1),M.\u0275\u0275template(7,za,2,1,"ng-container",1),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(8,"td",289),M.\u0275\u0275text(9),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(10,"td"),M.\u0275\u0275template(11,Ba,2,1,"ng-container",1),M.\u0275\u0275template(12,$a,2,1,"ng-container",1),M.\u0275\u0275elementEnd(),M.\u0275\u0275template(13,Wa,3,1,"td",1),M.\u0275\u0275elementEnd()),2&e){var n=t.$implicit,r=t.index,i=M.\u0275\u0275nextContext();M.\u0275\u0275advance(2),M.\u0275\u0275textInterpolate1(" ",r+1," "),M.\u0275\u0275advance(2),M.\u0275\u0275textInterpolate1(" ",n.service_item_name," "),M.\u0275\u0275advance(2),M.\u0275\u0275property("ngIf",i.inAmountEdit),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf",!i.inAmountEdit),M.\u0275\u0275advance(2),M.\u0275\u0275textInterpolate1(" ",n.customer_settlement_price.toFixed(2)," "),M.\u0275\u0275advance(2),M.\u0275\u0275property("ngIf",i.inAmountEdit),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf",!i.inAmountEdit),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf",i.inAmountEdit)}}function Ua(e,t){1&e&&(M.\u0275\u0275elementStart(0,"strong"),M.\u0275\u0275text(1,"0.00"),M.\u0275\u0275elementEnd())}function Ha(e,t){if(1&e&&(M.\u0275\u0275elementStart(0,"strong"),M.\u0275\u0275text(1),M.\u0275\u0275elementEnd()),2&e){var n=M.\u0275\u0275nextContext();M.\u0275\u0275advance(1),M.\u0275\u0275textInterpolate(n.actual_receipt_amt)}}function Xa(e,t){if(1&e){var n=M.\u0275\u0275getCurrentView();M.\u0275\u0275elementContainerStart(0),M.\u0275\u0275elementStart(1,"button",298),M.\u0275\u0275listener("click",function(){return M.\u0275\u0275restoreView(n),M.\u0275\u0275nextContext().openServiceCost()}),M.\u0275\u0275element(2,"em",16),M.\u0275\u0275text(3," \u670d\u52a1\u6210\u672c "),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementContainerEnd()}}function Qa(e,t){if(1&e){var n=M.\u0275\u0275getCurrentView();M.\u0275\u0275elementContainerStart(0),M.\u0275\u0275elementStart(1,"button",299),M.\u0275\u0275listener("click",function(){return M.\u0275\u0275restoreView(n),M.\u0275\u0275nextContext(2).toggleEditable()}),M.\u0275\u0275element(2,"em",284),M.\u0275\u0275text(3," \u7f16\u8f91 "),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementContainerEnd()}2&e&&(M.\u0275\u0275advance(1),M.\u0275\u0275property("dwActionId","servicecost")("dwDefaultAuthorized","disabled"))}function Ka(e,t){if(1&e){var n=M.\u0275\u0275getCurrentView();M.\u0275\u0275elementContainerStart(0),M.\u0275\u0275elementStart(1,"button",300),M.\u0275\u0275listener("click",function(){M.\u0275\u0275restoreView(n);var e=M.\u0275\u0275nextContext(2);return e.toggleEditable(),e.openServiceCost()}),M.\u0275\u0275element(2,"em",284),M.\u0275\u0275text(3," \u65b0\u589e "),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementContainerEnd()}2&e&&(M.\u0275\u0275advance(1),M.\u0275\u0275property("dwActionId","servicecost")("dwDefaultAuthorized","disabled"))}function Ja(e,t){if(1&e&&(M.\u0275\u0275elementContainerStart(0),M.\u0275\u0275template(1,Qa,4,2,"ng-container",1),M.\u0275\u0275template(2,Ka,4,2,"ng-container",1),M.\u0275\u0275elementContainerEnd()),2&e){var n=M.\u0275\u0275nextContext();M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf",n.serviceDocServiceCosts.activeRows.length),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf",!n.serviceDocServiceCosts.activeRows.length)}}function Za(e,t){if(1&e){var n=M.\u0275\u0275getCurrentView();M.\u0275\u0275elementContainerStart(0),M.\u0275\u0275elementStart(1,"button",301),M.\u0275\u0275listener("click",function(){return M.\u0275\u0275restoreView(n),M.\u0275\u0275nextContext().saveServiceDocServiceCosts()}),M.\u0275\u0275element(2,"em",286),M.\u0275\u0275text(3," \u4fdd\u5b58 "),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementContainerEnd()}if(2&e){var r=M.\u0275\u0275nextContext();M.\u0275\u0275advance(1),M.\u0275\u0275property("disabled",!r.service_doc.valid)}}function Ya(e,t){if(1&e){var n=M.\u0275\u0275getCurrentView();M.\u0275\u0275elementContainerStart(0),M.\u0275\u0275elementStart(1,"button",283),M.\u0275\u0275listener("click",function(){return M.\u0275\u0275restoreView(n),M.\u0275\u0275nextContext().cancelServiceDocServiceCosts()}),M.\u0275\u0275element(2,"em",287),M.\u0275\u0275text(3," \u53d6\u6d88 "),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementContainerEnd()}}function eo(e,t){1&e&&(M.\u0275\u0275elementContainerStart(0),M.\u0275\u0275elementStart(1,"th",302),M.\u0275\u0275text(2,"\u64cd\u4f5c"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementContainerEnd())}function to(e,t){if(1&e&&(M.\u0275\u0275elementContainerStart(0),M.\u0275\u0275elementStart(1,"div"),M.\u0275\u0275text(2),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementContainerEnd()),2&e){var n=M.\u0275\u0275nextContext().$implicit;M.\u0275\u0275advance(2),M.\u0275\u0275textInterpolate(n.cost_amt.toFixed(2))}}function no(e,t){1&e&&(M.\u0275\u0275elementContainerStart(0),M.\u0275\u0275element(1,"dw-input-number",306),M.\u0275\u0275elementContainerEnd()),2&e&&(M.\u0275\u0275advance(1),M.\u0275\u0275property("dwMin",0)("dwStep",1)("dwPrecision",2))}function ro(e,t){if(1&e&&(M.\u0275\u0275elementContainerStart(0),M.\u0275\u0275text(1),M.\u0275\u0275elementContainerEnd()),2&e){var n=M.\u0275\u0275nextContext().$implicit;M.\u0275\u0275advance(1),M.\u0275\u0275textInterpolate1(" ",n.description," ")}}function io(e,t){1&e&&(M.\u0275\u0275elementContainerStart(0),M.\u0275\u0275element(1,"input",307),M.\u0275\u0275elementContainerEnd())}function ao(e,t){if(1&e){var n=M.\u0275\u0275getCurrentView();M.\u0275\u0275elementContainerStart(0),M.\u0275\u0275elementStart(1,"td",308),M.\u0275\u0275elementStart(2,"div",179),M.\u0275\u0275elementStart(3,"div",309),M.\u0275\u0275elementStart(4,"a",310),M.\u0275\u0275listener("dwOnConfirm",function(){M.\u0275\u0275restoreView(n);var e=M.\u0275\u0275nextContext(2).$implicit;return M.\u0275\u0275nextContext().deleteServiceDocServiceCost(e)}),M.\u0275\u0275elementStart(5,"a",311),M.\u0275\u0275element(6,"img",312),M.\u0275\u0275element(7,"img",312),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementContainerEnd()}if(2&e){var r=M.\u0275\u0275nextContext(3);M.\u0275\u0275advance(3),M.\u0275\u0275property("dwActionId","servicecost")("dwDefaultAuthorized","disabled"),M.\u0275\u0275advance(1),M.\u0275\u0275property("dwPopconfirmTitle","\u662f\u5426\u5220\u9664")("dwOkText","\u786e\u5b9a")("dwCancelText","\u53d6\u6d88"),M.\u0275\u0275advance(2),M.\u0275\u0275propertyInterpolate1("src","",r.imageResource,"/icon_delete.png",M.\u0275\u0275sanitizeUrl),M.\u0275\u0275advance(1),M.\u0275\u0275propertyInterpolate1("src","",r.imageResource,"/icon_delete_hover.png",M.\u0275\u0275sanitizeUrl)}}function oo(e,t){if(1&e&&(M.\u0275\u0275elementContainerStart(0),M.\u0275\u0275elementStart(1,"tr",303),M.\u0275\u0275elementStart(2,"td",304),M.\u0275\u0275text(3),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(4,"td",305),M.\u0275\u0275template(5,to,3,1,"ng-container",1),M.\u0275\u0275template(6,no,2,3,"ng-container",1),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(7,"td",304),M.\u0275\u0275template(8,ro,2,1,"ng-container",1),M.\u0275\u0275template(9,io,2,0,"ng-container",1),M.\u0275\u0275elementEnd(),M.\u0275\u0275template(10,ao,8,7,"ng-container",1),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementContainerEnd()),2&e){var n=t.$implicit,r=M.\u0275\u0275nextContext().$implicit,i=M.\u0275\u0275nextContext();M.\u0275\u0275advance(1),M.\u0275\u0275property("formGroup",r),M.\u0275\u0275advance(2),M.\u0275\u0275textInterpolate2("(",n.service_cost_code,")",n.service_cost_name,""),M.\u0275\u0275advance(1),M.\u0275\u0275property("dwAlign",i.editable?"left":"right"),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf",!i.editable),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf",i.editable),M.\u0275\u0275advance(2),M.\u0275\u0275property("ngIf",!i.editable),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf",i.editable),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf",i.editable)}}function lo(e,t){if(1&e&&(M.\u0275\u0275elementContainerStart(0),M.\u0275\u0275template(1,oo,11,9,"ng-container",1),M.\u0275\u0275elementContainerEnd()),2&e){var n=t.$implicit;M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf",n.getRawValue())}}function co(e,t){if(1&e&&(M.\u0275\u0275elementContainerStart(0),M.\u0275\u0275element(1,"dw-extra-fields",315),M.\u0275\u0275elementContainerEnd()),2&e){var n=M.\u0275\u0275nextContext(2);M.\u0275\u0275advance(1),M.\u0275\u0275property("group",n.service_doc.controls[0])("dwDocument",n.dwDocument)}}function so(e,t){if(1&e&&(M.\u0275\u0275elementStart(0,"div"),M.\u0275\u0275text(1),M.\u0275\u0275pipe(2,"date"),M.\u0275\u0275elementEnd()),2&e){var n=M.\u0275\u0275nextContext(2).$implicit;M.\u0275\u0275advance(1),M.\u0275\u0275textInterpolate(M.\u0275\u0275pipeBind2(2,1,n.field_value,"yyyy-MM-dd"))}}function mo(e,t){if(1&e&&(M.\u0275\u0275elementStart(0,"div"),M.\u0275\u0275text(1),M.\u0275\u0275elementEnd()),2&e){var n=M.\u0275\u0275nextContext(2).$implicit;M.\u0275\u0275advance(1),M.\u0275\u0275textInterpolate(n.field_value)}}function po(e,t){if(1&e&&(M.\u0275\u0275elementContainerStart(0),M.\u0275\u0275elementStart(1,"div",148),M.\u0275\u0275elementStart(2,"div",149),M.\u0275\u0275text(3),M.\u0275\u0275elementEnd(),M.\u0275\u0275template(4,so,3,4,"div",1),M.\u0275\u0275template(5,mo,2,1,"div",1),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementContainerEnd()),2&e){var n=M.\u0275\u0275nextContext().$implicit;M.\u0275\u0275advance(3),M.\u0275\u0275textInterpolate1("",n.field_label,"\uff1a"),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf","DATEPICKER"===n.field_type),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf","DATEPICKER"!==n.field_type)}}function uo(e,t){if(1&e&&(M.\u0275\u0275elementStart(0,"div"),M.\u0275\u0275template(1,po,6,3,"ng-container",1),M.\u0275\u0275elementEnd()),2&e){var n=M.\u0275\u0275nextContext(2);M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf",!n.editable)}}function fo(e,t){if(1&e&&(M.\u0275\u0275elementStart(0,"div"),M.\u0275\u0275elementStart(1,"p",313),M.\u0275\u0275text(2,"\u9644\u52a0\u4fe1\u606f\uff1a"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(3,"div",314),M.\u0275\u0275template(4,co,2,2,"ng-container",1),M.\u0275\u0275template(5,uo,2,1,"div",22),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd()),2&e){var n=M.\u0275\u0275nextContext();M.\u0275\u0275advance(4),M.\u0275\u0275property("ngIf",n.editable),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngForOf",n.custCost)}}function vo(e,t){if(1&e){var n=M.\u0275\u0275getCurrentView();M.\u0275\u0275elementStart(0,"div"),M.\u0275\u0275elementStart(1,"p",318),M.\u0275\u0275text(2,"\u6682\u65e0\u7528\u6237\u8bc4\u4ef7\u4fe1\u606f\uff01"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(3,"div",319),M.\u0275\u0275elementStart(4,"button",320),M.\u0275\u0275listener("dwClick",function(){M.\u0275\u0275restoreView(n);var e=M.\u0275\u0275nextContext(2),t=M.\u0275\u0275reference(126);return e.evaluation(),t.initData(e.service_order_id)}),M.\u0275\u0275text(5,"\u5b8c\u5584\u8bc4\u4ef7"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd()}if(2&e){var r=M.\u0275\u0275nextContext(2);M.\u0275\u0275advance(4),M.\u0275\u0275propertyInterpolate("angularticsLabel",r.userInfo.tenantId+","+r.userInfo.userId),M.\u0275\u0275property("dwType","default")("dwActionId","evaluate")("dwDefaultAuthorized","disabled")("angularticsCategory","\u670d\u52a1\u5de5\u5355")}}function go(e,t){1&e&&(M.\u0275\u0275elementStart(0,"div",333),M.\u0275\u0275element(1,"img",334),M.\u0275\u0275text(2," \u95ee\u9898\u5df2\u89e3\u51b3 "),M.\u0275\u0275elementEnd())}function ho(e,t){1&e&&(M.\u0275\u0275elementStart(0,"div",333),M.\u0275\u0275element(1,"img",335),M.\u0275\u0275text(2," \u95ee\u9898\u672a\u89e3\u51b3 "),M.\u0275\u0275elementEnd())}function wo(e,t){1&e&&M.\u0275\u0275element(0,"em",336)}function yo(e,t){1&e&&(M.\u0275\u0275elementStart(0,"span",337),M.\u0275\u0275text(1,"\u5f88\u5dee"),M.\u0275\u0275elementEnd())}function xo(e,t){1&e&&(M.\u0275\u0275elementStart(0,"span",337),M.\u0275\u0275text(1,"\u5dee"),M.\u0275\u0275elementEnd())}function _o(e,t){1&e&&(M.\u0275\u0275elementStart(0,"span",337),M.\u0275\u0275text(1,"\u4e00\u822c"),M.\u0275\u0275elementEnd())}function Co(e,t){1&e&&(M.\u0275\u0275elementStart(0,"span",337),M.\u0275\u0275text(1,"\u6ee1\u610f"),M.\u0275\u0275elementEnd())}function So(e,t){1&e&&(M.\u0275\u0275elementStart(0,"span",337),M.\u0275\u0275text(1,"\u8d85\u8d5e"),M.\u0275\u0275elementEnd())}function bo(e,t){1&e&&M.\u0275\u0275element(0,"em",336)}function Io(e,t){1&e&&(M.\u0275\u0275elementStart(0,"span",337),M.\u0275\u0275text(1,"\u5f88\u5dee"),M.\u0275\u0275elementEnd())}function Eo(e,t){1&e&&(M.\u0275\u0275elementStart(0,"span",337),M.\u0275\u0275text(1,"\u5dee"),M.\u0275\u0275elementEnd())}function Do(e,t){1&e&&(M.\u0275\u0275elementStart(0,"span",337),M.\u0275\u0275text(1,"\u4e00\u822c"),M.\u0275\u0275elementEnd())}function Oo(e,t){1&e&&(M.\u0275\u0275elementStart(0,"span",337),M.\u0275\u0275text(1,"\u6ee1\u610f"),M.\u0275\u0275elementEnd())}function ko(e,t){1&e&&(M.\u0275\u0275elementStart(0,"span",337),M.\u0275\u0275text(1,"\u8d85\u8d5e"),M.\u0275\u0275elementEnd())}function Mo(e,t){1&e&&M.\u0275\u0275element(0,"em",336)}function Po(e,t){1&e&&(M.\u0275\u0275elementStart(0,"span",337),M.\u0275\u0275text(1,"\u5f88\u5dee"),M.\u0275\u0275elementEnd())}function Fo(e,t){1&e&&(M.\u0275\u0275elementStart(0,"span",337),M.\u0275\u0275text(1,"\u5dee"),M.\u0275\u0275elementEnd())}function Vo(e,t){1&e&&(M.\u0275\u0275elementStart(0,"span",337),M.\u0275\u0275text(1,"\u4e00\u822c"),M.\u0275\u0275elementEnd())}function To(e,t){1&e&&(M.\u0275\u0275elementStart(0,"span",337),M.\u0275\u0275text(1,"\u6ee1\u610f"),M.\u0275\u0275elementEnd())}function Lo(e,t){1&e&&(M.\u0275\u0275elementStart(0,"span",337),M.\u0275\u0275text(1,"\u8d85\u8d5e"),M.\u0275\u0275elementEnd())}function Ro(e,t){if(1&e){var n=M.\u0275\u0275getCurrentView();M.\u0275\u0275elementStart(0,"div"),M.\u0275\u0275elementStart(1,"dw-table",321,322),M.\u0275\u0275elementStart(3,"thead"),M.\u0275\u0275elementStart(4,"tr",65),M.\u0275\u0275elementStart(5,"th",323),M.\u0275\u0275template(6,go,3,0,"div",324),M.\u0275\u0275template(7,ho,3,0,"div",324),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(8,"tbody"),M.\u0275\u0275elementStart(9,"tr"),M.\u0275\u0275elementStart(10,"td",325),M.\u0275\u0275elementStart(11,"div"),M.\u0275\u0275elementStart(12,"span",326),M.\u0275\u0275text(13,"\u670d\u52a1\u54cd\u5e94\u901f\u5ea6"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(14,"dw-rate",327),M.\u0275\u0275listener("ngModelChange",function(e){return M.\u0275\u0275restoreView(n),M.\u0275\u0275nextContext(2).serviceResponseSpeed=e}),M.\u0275\u0275elementEnd(),M.\u0275\u0275template(15,wo,1,0,"ng-template",null,328,M.\u0275\u0275templateRefExtractor),M.\u0275\u0275template(17,yo,2,0,"span",329),M.\u0275\u0275template(18,xo,2,0,"span",329),M.\u0275\u0275template(19,_o,2,0,"span",329),M.\u0275\u0275template(20,Co,2,0,"span",329),M.\u0275\u0275template(21,So,2,0,"span",329),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(22,"div"),M.\u0275\u0275elementStart(23,"span",326),M.\u0275\u0275text(24,"\u670d\u52a1\u6001\u5ea6"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(25,"dw-rate",327),M.\u0275\u0275listener("ngModelChange",function(e){return M.\u0275\u0275restoreView(n),M.\u0275\u0275nextContext(2).serviceAttitude=e}),M.\u0275\u0275elementEnd(),M.\u0275\u0275template(26,bo,1,0,"ng-template",null,328,M.\u0275\u0275templateRefExtractor),M.\u0275\u0275template(28,Io,2,0,"span",329),M.\u0275\u0275template(29,Eo,2,0,"span",329),M.\u0275\u0275template(30,Do,2,0,"span",329),M.\u0275\u0275template(31,Oo,2,0,"span",329),M.\u0275\u0275template(32,ko,2,0,"span",329),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(33,"div"),M.\u0275\u0275elementStart(34,"span",326),M.\u0275\u0275text(35,"\u670d\u52a1\u6ee1\u610f\u5ea6"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(36,"dw-rate",327),M.\u0275\u0275listener("ngModelChange",function(e){return M.\u0275\u0275restoreView(n),M.\u0275\u0275nextContext(2).serviceSatisfaction=e}),M.\u0275\u0275elementEnd(),M.\u0275\u0275template(37,Mo,1,0,"ng-template",null,328,M.\u0275\u0275templateRefExtractor),M.\u0275\u0275template(39,Po,2,0,"span",329),M.\u0275\u0275template(40,Fo,2,0,"span",329),M.\u0275\u0275template(41,Vo,2,0,"span",329),M.\u0275\u0275template(42,To,2,0,"span",329),M.\u0275\u0275template(43,Lo,2,0,"span",329),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(44,"td"),M.\u0275\u0275elementStart(45,"div",330),M.\u0275\u0275elementStart(46,"div",331),M.\u0275\u0275text(47,"\u5ba2\u6237\u60f3\u8bf4"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(48,"div",332),M.\u0275\u0275text(49),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd()}if(2&e){var r=M.\u0275\u0275reference(16),i=M.\u0275\u0275nextContext(2);M.\u0275\u0275advance(1),M.\u0275\u0275property("dwData",M.\u0275\u0275pureFunction0(26,ea))("dwFrontPagination",!1),M.\u0275\u0275advance(5),M.\u0275\u0275property("ngIf","5"==i.problemSolving),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf","0"==i.problemSolving),M.\u0275\u0275advance(7),M.\u0275\u0275property("dwCharacter",r)("ngModel",i.serviceResponseSpeed),M.\u0275\u0275advance(3),M.\u0275\u0275property("ngIf","1"==i.serviceResponseSpeed),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf","2"==i.serviceResponseSpeed),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf","3"==i.serviceResponseSpeed),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf","4"==i.serviceResponseSpeed),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf","5"==i.serviceResponseSpeed),M.\u0275\u0275advance(4),M.\u0275\u0275property("dwCharacter",r)("ngModel",i.serviceAttitude),M.\u0275\u0275advance(3),M.\u0275\u0275property("ngIf","1"==i.serviceAttitude),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf","2"==i.serviceAttitude),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf","3"==i.serviceAttitude),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf","4"==i.serviceAttitude),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf","5"==i.serviceAttitude),M.\u0275\u0275advance(4),M.\u0275\u0275property("dwCharacter",r)("ngModel",i.serviceSatisfaction),M.\u0275\u0275advance(3),M.\u0275\u0275property("ngIf","1"==i.serviceSatisfaction),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf","2"==i.serviceSatisfaction),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf","3"==i.serviceSatisfaction),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf","4"==i.serviceSatisfaction),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf","5"==i.serviceSatisfaction),M.\u0275\u0275advance(6),M.\u0275\u0275textInterpolate(i.customer_feedback)}}function Ao(e,t){if(1&e){var n=M.\u0275\u0275getCurrentView();M.\u0275\u0275elementStart(0,"div"),M.\u0275\u0275elementStart(1,"p",318),M.\u0275\u0275text(2,"\u6682\u65e0\u56de\u8bbf\u8bb0\u5f55\uff01"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(3,"div",319),M.\u0275\u0275elementStart(4,"button",338),M.\u0275\u0275listener("dwClick",function(){M.\u0275\u0275restoreView(n);var e=M.\u0275\u0275nextContext(2),t=M.\u0275\u0275reference(128);return e.returnvisit(),t.initData(e.service_order_id)}),M.\u0275\u0275text(5,"\u670d\u52a1\u56de\u8bbf"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd()}if(2&e){var r=M.\u0275\u0275nextContext(2);M.\u0275\u0275advance(4),M.\u0275\u0275propertyInterpolate("angularticsLabel",r.userInfo.tenantId+","+r.userInfo.userId),M.\u0275\u0275property("dwType","default")("dwActionId","returnvisit")("dwDefaultAuthorized","allow")("angularticsCategory","\u670d\u52a1\u5de5\u5355")}}function No(e,t){1&e&&(M.\u0275\u0275elementStart(0,"div",333),M.\u0275\u0275element(1,"img",334),M.\u0275\u0275text(2," \u95ee\u9898\u5df2\u89e3\u51b3 "),M.\u0275\u0275elementEnd())}function jo(e,t){1&e&&(M.\u0275\u0275elementStart(0,"div",333),M.\u0275\u0275element(1,"img",335),M.\u0275\u0275text(2," \u95ee\u9898\u672a\u89e3\u51b3 "),M.\u0275\u0275elementEnd())}function zo(e,t){1&e&&M.\u0275\u0275element(0,"em",336)}function Bo(e,t){1&e&&(M.\u0275\u0275elementStart(0,"span",337),M.\u0275\u0275text(1,"\u5f88\u5dee"),M.\u0275\u0275elementEnd())}function $o(e,t){1&e&&(M.\u0275\u0275elementStart(0,"span",337),M.\u0275\u0275text(1,"\u5dee"),M.\u0275\u0275elementEnd())}function qo(e,t){1&e&&(M.\u0275\u0275elementStart(0,"span",337),M.\u0275\u0275text(1,"\u4e00\u822c"),M.\u0275\u0275elementEnd())}function Wo(e,t){1&e&&(M.\u0275\u0275elementStart(0,"span",337),M.\u0275\u0275text(1,"\u6ee1\u610f"),M.\u0275\u0275elementEnd())}function Go(e,t){1&e&&(M.\u0275\u0275elementStart(0,"span",337),M.\u0275\u0275text(1,"\u8d85\u8d5e"),M.\u0275\u0275elementEnd())}function Uo(e,t){if(1&e){var n=M.\u0275\u0275getCurrentView();M.\u0275\u0275elementStart(0,"tr"),M.\u0275\u0275elementStart(1,"td"),M.\u0275\u0275elementStart(2,"span",326),M.\u0275\u0275text(3),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(4,"dw-rate",327),M.\u0275\u0275listener("ngModelChange",function(e){return M.\u0275\u0275restoreView(n),M.\u0275\u0275nextContext().$implicit.score=e}),M.\u0275\u0275elementEnd(),M.\u0275\u0275template(5,zo,1,0,"ng-template",null,328,M.\u0275\u0275templateRefExtractor),M.\u0275\u0275template(7,Bo,2,0,"span",329),M.\u0275\u0275template(8,$o,2,0,"span",329),M.\u0275\u0275template(9,qo,2,0,"span",329),M.\u0275\u0275template(10,Wo,2,0,"span",329),M.\u0275\u0275template(11,Go,2,0,"span",329),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(12,"td"),M.\u0275\u0275text(13),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd()}if(2&e){var r=M.\u0275\u0275reference(6),i=M.\u0275\u0275nextContext().$implicit;M.\u0275\u0275advance(3),M.\u0275\u0275textInterpolate(i.returnvisit_item_name),M.\u0275\u0275advance(1),M.\u0275\u0275property("dwCharacter",r)("ngModel",i.score),M.\u0275\u0275advance(3),M.\u0275\u0275property("ngIf","1"==i.score),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf","2"==i.score),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf","3"==i.score),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf","4"==i.score),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf","5"==i.score),M.\u0275\u0275advance(2),M.\u0275\u0275textInterpolate1(" ",i.explanation," ")}}function Ho(e,t){if(1&e&&(M.\u0275\u0275elementContainerStart(0),M.\u0275\u0275template(1,Uo,14,9,"tr",1),M.\u0275\u0275elementContainerEnd()),2&e){var n=t.$implicit;M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf","\u95ee\u9898\u89e3\u51b3\u60c5\u51b5"!==n.returnvisit_item_name)}}function Xo(e,t){if(1&e&&(M.\u0275\u0275elementStart(0,"div"),M.\u0275\u0275elementStart(1,"dw-table",321,339),M.\u0275\u0275elementStart(3,"thead"),M.\u0275\u0275elementStart(4,"tr",65),M.\u0275\u0275elementStart(5,"th",323),M.\u0275\u0275template(6,No,3,0,"div",324),M.\u0275\u0275template(7,jo,3,0,"div",324),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(8,"tbody"),M.\u0275\u0275elementStart(9,"tr"),M.\u0275\u0275elementStart(10,"td",340),M.\u0275\u0275elementStart(11,"span",341),M.\u0275\u0275text(12,"\u56de\u8bbf\u9879\u76ee"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(13,"td"),M.\u0275\u0275elementStart(14,"span",341),M.\u0275\u0275text(15,"\u8bf4\u660e"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275template(16,Ho,2,1,"ng-container",22),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd()),2&e){var n=M.\u0275\u0275reference(2),r=M.\u0275\u0275nextContext(2);M.\u0275\u0275advance(1),M.\u0275\u0275property("dwData",r.returnvisitList)("dwFrontPagination",!1),M.\u0275\u0275advance(5),M.\u0275\u0275property("ngIf",5===r.returnvisitProblemSolving),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf",0===r.returnvisitProblemSolving),M.\u0275\u0275advance(9),M.\u0275\u0275property("ngForOf",n.data)}}function Qo(e,t){if(1&e&&(M.\u0275\u0275elementStart(0,"dw-tab",316),M.\u0275\u0275elementStart(1,"div",317),M.\u0275\u0275elementStart(2,"p",277),M.\u0275\u0275text(3,"\u5ba2\u6237\u8bc4\u4ef7\uff1a"),M.\u0275\u0275elementEnd(),M.\u0275\u0275template(4,vo,6,5,"div",1),M.\u0275\u0275template(5,Ro,50,27,"div",1),M.\u0275\u0275elementStart(6,"p",62),M.\u0275\u0275text(7,"\u670d\u52a1\u56de\u8bbf\uff1a"),M.\u0275\u0275elementEnd(),M.\u0275\u0275template(8,Ao,6,5,"div",1),M.\u0275\u0275template(9,Xo,17,5,"div",1),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd()),2&e){var n=M.\u0275\u0275nextContext();M.\u0275\u0275advance(4),M.\u0275\u0275property("ngIf","5"==n.serviceOrderBaseInfo.state),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf","6"==n.serviceOrderBaseInfo.state),M.\u0275\u0275advance(3),M.\u0275\u0275property("ngIf","0"==n.serviceOrderBaseInfo.return_visit),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf","1"==n.serviceOrderBaseInfo.return_visit)}}function Ko(e,t){if(1&e&&(M.\u0275\u0275elementStart(0,"div",344),M.\u0275\u0275element(1,"img",345),M.\u0275\u0275elementStart(2,"div",346),M.\u0275\u0275elementStart(3,"div",204),M.\u0275\u0275text(4),M.\u0275\u0275pipe(5,"date"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(6,"div",347),M.\u0275\u0275text(7),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd()),2&e){var n=t.$implicit;M.\u0275\u0275advance(4),M.\u0275\u0275textInterpolate(M.\u0275\u0275pipeBind2(5,2,n.datetime,"yyyy/MM/dd HH:mm")),M.\u0275\u0275advance(3),M.\u0275\u0275textInterpolate(n.process_record)}}function Jo(e,t){if(1&e&&(M.\u0275\u0275elementStart(0,"div",342),M.\u0275\u0275template(1,Ko,8,5,"div",343),M.\u0275\u0275elementEnd()),2&e){var n=M.\u0275\u0275nextContext();M.\u0275\u0275advance(1),M.\u0275\u0275property("ngForOf",n.serviceOrderProcessrecordList)}}function Zo(e,t){1&e&&M.\u0275\u0275element(0,"app-product-file-detail",null,348)}function Yo(e,t){if(1&e){var n=M.\u0275\u0275getCurrentView();M.\u0275\u0275elementStart(0,"div",349),M.\u0275\u0275text(1," \u4ea7\u54c1\u6863\u6848 "),M.\u0275\u0275elementStart(2,"img",350),M.\u0275\u0275listener("click",function(){return M.\u0275\u0275restoreView(n),M.\u0275\u0275nextContext().productFileChild.showQrcode()}),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd()}}function el(e,t){if(1&e&&M.\u0275\u0275element(0,"img",365),2&e){var n=M.\u0275\u0275nextContext().$implicit;M.\u0275\u0275propertyInterpolate("src",n.headImg,M.\u0275\u0275sanitizeUrl)}}function tl(e,t){1&e&&M.\u0275\u0275element(0,"img",366)}function nl(e,t){1&e&&(M.\u0275\u0275elementStart(0,"span"),M.\u0275\u0275text(1,"\u2014"),M.\u0275\u0275elementEnd())}function rl(e,t){if(1&e){var n=M.\u0275\u0275getCurrentView();M.\u0275\u0275elementStart(0,"span",367),M.\u0275\u0275listener("click",function(){M.\u0275\u0275restoreView(n);var e=M.\u0275\u0275nextContext().$implicit;return M.\u0275\u0275nextContext(2).previewImageDetail(e.signature_picture)}),M.\u0275\u0275text(1,"\u70b9\u51fb\u67e5\u770b"),M.\u0275\u0275elementEnd()}}function il(e,t){1&e&&M.\u0275\u0275element(0,"img",373)}function al(e,t){1&e&&M.\u0275\u0275element(0,"img",374)}function ol(e,t){1&e&&M.\u0275\u0275element(0,"img",375)}function ll(e,t){1&e&&M.\u0275\u0275element(0,"img",376)}function dl(e,t){if(1&e){var n=M.\u0275\u0275getCurrentView();M.\u0275\u0275elementStart(0,"div",368),M.\u0275\u0275listener("click",function(){var e=M.\u0275\u0275restoreView(n).$implicit;return M.\u0275\u0275nextContext(3).downloadTechnogyFile(e.annexId)}),M.\u0275\u0275template(1,il,1,0,"img",369),M.\u0275\u0275template(2,al,1,0,"img",370),M.\u0275\u0275template(3,ol,1,0,"img",371),M.\u0275\u0275template(4,ll,1,0,"img",372),M.\u0275\u0275elementStart(5,"div",138),M.\u0275\u0275text(6),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd()}if(2&e){var r=t.$implicit;M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf",r.annexFileName.indexOf(".xls")>=0),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf",r.annexFileName.indexOf(".doc")>=0),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf",r.annexFileName.indexOf(".pdf")>=0),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf",r.annexFileName.indexOf(".ppt")>=0),M.\u0275\u0275advance(2),M.\u0275\u0275textInterpolate(r.annexFileName)}}var cl=function(){return{"0%":"#7BCAF7","100%":"#0D9DEF"}};function sl(e,t){if(1&e&&(M.\u0275\u0275elementStart(0,"div",352),M.\u0275\u0275elementStart(1,"div"),M.\u0275\u0275text(2),M.\u0275\u0275pipe(3,"date"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(4,"div",353),M.\u0275\u0275template(5,el,1,1,"img",354),M.\u0275\u0275template(6,tl,1,0,"img",355),M.\u0275\u0275elementStart(7,"div",356),M.\u0275\u0275elementStart(8,"div",357),M.\u0275\u0275elementStart(9,"span",138),M.\u0275\u0275text(10),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(11,"div",358),M.\u0275\u0275element(12,"dw-progress",359),M.\u0275\u0275elementEnd(),M.\u0275\u0275text(13),M.\u0275\u0275element(14,"img",360),M.\u0275\u0275text(15),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(16,"div",361),M.\u0275\u0275text(17),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(18,"div"),M.\u0275\u0275text(19," \u5ba2\u6237\u7b7e\u540d\uff1a "),M.\u0275\u0275template(20,nl,2,0,"span",1),M.\u0275\u0275template(21,rl,2,0,"span",362),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(22,"div",363),M.\u0275\u0275template(23,dl,7,5,"div",364),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd()),2&e){var n=t.$implicit;M.\u0275\u0275advance(2),M.\u0275\u0275textInterpolate(M.\u0275\u0275pipeBind2(3,13,n.datetime,"yyyy-MM-dd HH:mm")),M.\u0275\u0275advance(3),M.\u0275\u0275property("ngIf",n.headImg),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf",!n.headImg),M.\u0275\u0275advance(4),M.\u0275\u0275textInterpolate(n.employee_name),M.\u0275\u0275advance(2),M.\u0275\u0275property("dwShowInfo",!1)("dwPercent",n.rate_of_progress)("dwStrokeColor",M.\u0275\u0275pureFunction0(16,cl)),M.\u0275\u0275advance(1),M.\u0275\u0275textInterpolate1(" ",n.rate_of_progress,"% "),M.\u0275\u0275advance(2),M.\u0275\u0275textInterpolate1(" ",n.work_hours,"h "),M.\u0275\u0275advance(2),M.\u0275\u0275textInterpolate1(" ",n.job_content," "),M.\u0275\u0275advance(3),M.\u0275\u0275property("ngIf",!n.signature_picture),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf",n.signature_picture),M.\u0275\u0275advance(2),M.\u0275\u0275property("ngForOf",n.annexNameList)}}function ml(e,t){if(1&e&&(M.\u0275\u0275elementStart(0,"div",342),M.\u0275\u0275elementStart(1,"div",344),M.\u0275\u0275elementStart(2,"div"),M.\u0275\u0275template(3,sl,24,17,"div",351),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd()),2&e){var n=M.\u0275\u0275nextContext();M.\u0275\u0275advance(3),M.\u0275\u0275property("ngForOf",n.workrecordList)}}function pl(e,t){if(1&e&&M.\u0275\u0275element(0,"img",377),2&e){var n=M.\u0275\u0275nextContext();M.\u0275\u0275property("src",n.previewImage,M.\u0275\u0275sanitizeUrl)("ngStyle",M.\u0275\u0275pureFunction0(2,ni))}}function ul(e,t){if(1&e&&M.\u0275\u0275element(0,"img",378),2&e){var n=M.\u0275\u0275nextContext();M.\u0275\u0275property("src",n.previewImage,M.\u0275\u0275sanitizeUrl)("ngStyle",M.\u0275\u0275pureFunction0(2,ni))}}var fl=function(){return{x:"1000px"}},vl=function(){return{x:"680px"}},gl=function(){return{height:"calc(100% - 55px)",overflow:"auto","padding-bottom":"16px","padding-top":"0"}},hl=function(){return{height:"calc(100vh - 158px)",overflow:"auto",padding:"18px 24px"}},wl=function(){var n=function(){function n(e,r,i,a,l,d,c,s,m,u,f,v,g,h,y,x,C,S,b,I,E,D,O,k,M,P){var F=this;p(this,n),this.modalService=e,this.configService=r,this.productFileSrv=i,this.message=a,this.ssoService=l,this.dwRoutingMessageSrv=d,this.router=c,this.route=s,this.fb=m,this.serviceOrderDetailService=u,this.serviceOrderSrv=f,this.analytics=v,this.userService=g,this.dwMessageService=h,this.commonHttpService=y,this.dwDocument=x,this.dwImageViewerListService=C,this.dwImageViewerService=S,this.serviceCostOpenerService=b,this.serviceCostOpenerDataSourceService=I,this.datePipe=E,this.serviceItemSelectService=D,this.dwAuthFunctionPermissionRepository=O,this.serviceReportResource=k,this.imageResource=M,this.quantityMax=P,this.channelList=[{label:"\u5c0f\u7a0b\u5e8f",value:"1"},{label:"\u7535\u8bdd",value:"2"},{label:"QQ",value:"3"},{label:"\u90ae\u4ef6",value:"4"},{label:"\u5176\u4ed6",value:"5"}],this.routerTokbsApI="",this.reportType="",this.product_file_id="",this.service_doc_id="",this.service_mode=1,this.service_order_id="",this.currentStatusIndex=0,this.serviceDocMaterialList=[],this.showConfirmedPicture=!1,this.baseInfoFileContextList=[],this.docInfoFileContextList=[],this.calcMaterialDetailList=[],this.calcServiceItemDetailList=[],this.customerEvaluation="",this.problemSolving="5",this.serviceResponseSpeed=0,this.serviceAttitude=0,this.serviceSatisfaction=0,this.customer_feedback="",this.returnvisitList=[],this.returnvisitProblemSolving=5,this.isReviewEnable=!1,this.isReviewStamp=!1,this.review_responsible_partys=["\u5b89\u88c5","\u54c1\u8d28","\u8bbe\u8ba1","\u552e\u540e","\u5ba2\u6237","\u96f6\u4ef6\u8d28\u91cf","\u751f\u4ea7\u5236\u9020"],this.orderReviewInfo={review_date:"",review_employee_name:"",review_opinions:"",review_responsible_party:""},this.isNowUser=!1,this.isFaqChanged=!1,this.previewImage="",this.previewVisible=!1,this.previewVisibleClockIn=!1,this.userInfo={tenantId:"",userId:""},this.haveLoadReport=!1,this.haveLoadAmount=!1,this.haveLoadProcessrecord=!1,this.serviceOrderProcessrecordList=[],this.processrecordCount=0,this.distribution_all=!1,this.canEditAmount=!1,this.inAmountEdit=!1,this.isSettled=!0,this.isComponent=!1,this.product_equipment_list=[],this.custFields=[],this.custCost=[],this.serviceOrderHasCustomizeField=!1,this.serviceOrderHasCustomizeFieldCost=!1,this.service_doc=new w.DwDataTable([]),this.isClockVisible=!1,this.clockList=[],this.isCollapsed=!1,this.technologyList=[],this.technologyIds=[],this.showTechnology=!1,this.uploadatecdocs="allow",this.deletetecdocs="allow",this.actIdx=null,this.workrecordList=[],this.workrecordCount=0,this.isDownloading=!1,this.clockImgs=[{uid:"d2185cdc-d47c-41e8-a18a-a852a5d82a81",name:"img",status:"done",url:""},{uid:"d2185cdc-d47c-41e8-a18a-a852a5d82a81",name:"img",status:"done",url:""},{uid:"d2185cdc-d47c-41e8-a18a-a852a5d82a81",name:"img",status:"done",url:""}],this.isInSixMonths=!1,this.originalSn="",this.currentSn="",this.agreeChangeSn="0",this.installDebugAccept=!1,this.install={service_type_name:"",installationDateBegin:"",installationDateEnd:"",acceptanceDate:"",annexs:[],end_time:"",employee_name:""},this.signature="",this.signature_picture="",this.handlePreview=function(e){return(0,o.mG)(F,void 0,void 0,t().mark(function n(){return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:!e.url&&!e.preview&&(e.preview=e.thumbUrl),this.previewImage=e.url||e.preview,console.log(e),this.previewVisible=!0;case 1:case"end":return t.stop()}},n,this)}))},this.handlePreviewClockIn=function(e){return(0,o.mG)(F,void 0,void 0,t().mark(function n(){var r=this;return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.serviceOrderDetailService.getFileById(e.uid).subscribe(function(e){r.previewImage=e.value,r.previewVisibleClockIn=!0}),console.log(e);case 1:case"end":return t.stop()}},n,this)}))},this.thumbnailList2=[],this.listActionMap2={},this.handlePreview2=function(e){return F.dwImageViewerListService.previewModal(e,F.thumbnailList2,F.viewerAction2,F.handlePrevious2,F.handleNext2)},this.handlePrevious2=function(e){return F.dwImageViewerListService.previous(F.thumbnailList2,e,F.viewerAction2)},this.handleNext2=function(e){return F.dwImageViewerListService.next(F.thumbnailList2,e,F.viewerAction2)},this.thumbnailList2_2=[],this.listActionMap2_2={},this.handlePreview2_2=function(e){return F.dwImageViewerListService.previewModal(e,F.thumbnailList2_2,F.viewerAction2_2,F.handlePrevious2_2,F.handleNext2_2)},this.handlePrevious2_2=function(e){return F.dwImageViewerListService.previous(F.thumbnailList2_2,e,F.viewerAction2_2)},this.handleNext2_2=function(e){return F.dwImageViewerListService.next(F.thumbnailList2_2,e,F.viewerAction2_2)},this.isShowCommunication=!1,this.isShowWorksrecord=!1,this.signature_picture_visible=!1,this.beforeUploadFiles=function(e,t){return new _.Observable(function(t){console.log(e);var n=e.name.split("."),r=n[n.length-1].indexOf("xls")>=0||n[n.length-1].indexOf("doc")>=0||n[n.length-1].indexOf("ppt")>=0||n[n.length-1].indexOf("pdf")>=0;if(!r)return F.message.create("error","\u8bf7\u4e0a\u4f20\u6b63\u786e\u683c\u5f0f\u6587\u4ef6\uff01"),void t.complete();var i=e.size/1024/1024<=10;if(!i)return F.message.create("error","\u4e0a\u4f20\u6587\u4ef6\u5927\u5c0f\u8d85\u8fc710M\uff01"),void t.complete();t.next(r&&i),t.complete()})},this.getApiUrl().subscribe(function(e){F.routerTokbsApI=e}),this.route.paramMap.subscribe(function(e){F.service_order_id=e.get("id")||""}),this.route.queryParamMap.subscribe(function(e){F.queryHistory=e.get("queryHistory"),F.queryHistory&&(F.distribution_all=JSON.parse(e.get("queryHistory")).distribution_all)}),this.serviceOrderBaseInfo={type:"1",doc_date:new Date,is_under_warranty:!1,description:[""],appointment_date:new Date,picture_id:[""],contact:[""],contact_phone:[""],address:[""],latitude:null,longitude:null,delivery_date:new Date,service_type_name:[""],breakdown_name:[""],service_urgency_name:[""],doc_no:[""],customer_name:[""],product_file_code:[""],product_file_id:[""],product_file_name:[""],specification:[""],model:[""],sn:[""],state:[""],customer_settled:[""],site_settled:[""],employee_settled:[""],salesman:[""],telephone:[""],service_site_id:0,assign_to_pool:!1,remark:"",fault_phrase:"",review_employee_id:0,return_visit:"0",depot_repair_status:"0",channel:"2"},this.serviceOrderCurrentLink={state:[""],employee_name:[""],file_id:[""],employee_show:[""],state_show:[""],button_show:[""]},this.serviceDocServiceCosts=new w.DwDataTable([]),this.dwDocument.addControl("service_doc_servicecost",this.serviceDocServiceCosts)}return f(n,[{key:"getApiUrl",value:function(){return this.configService.get("kbsWebUrl")}},{key:"getFunction",value:function(){var e=this;this.dwAuthFunctionPermissionRepository.getFunctionPermissionAll().subscribe(function(t){console.log("response",t);var n=t.data.filter(function(e){return"service-order"===e.code})[0];e.uploadatecdocs=n.action.filter(function(e){return"uploadatecdocs"===e.id})[0].restriction,e.deletetecdocs=n.action.filter(function(e){return"deletetecdocs"===e.id})[0].restriction,console.log("\u4e0a\u4f20\u6743\u9650uploadatecdocs",e.uploadatecdocs,"\u5220\u9664\u6743\u9650deletetecdocs",e.deletetecdocs)})}},{key:"initBaseData",value:function(e){var t,n=this;if(null!=e){this.service_order_id=e.service_order_id,this.serviceOrderBaseInfo.type=e.type,this.serviceOrderBaseInfo.doc_date=e.doc_date,this.serviceOrderBaseInfo.doc_no=e.doc_no,this.serviceOrderBaseInfo.customer_name=e.customer_name,this.serviceOrderBaseInfo.product_file_code=e.product_file_code,this.serviceOrderBaseInfo.product_file_id=e.product_file_id,this.serviceOrderBaseInfo.product_file_name=e.product_file_name,this.serviceOrderBaseInfo.specification=e.specification,this.serviceOrderBaseInfo.model=e.model,this.serviceOrderBaseInfo.sn=e.sn,this.serviceOrderBaseInfo.is_under_warranty=e.is_under_warranty,this.serviceOrderBaseInfo.description=e.description,this.serviceOrderBaseInfo.appointment_date=e.appointment_date,this.serviceOrderBaseInfo.channel=e.channel?e.channel:"2",this.serviceOrderBaseInfo.channelLabel=null===(t=this.channelList.filter(function(e){return e.value===n.serviceOrderBaseInfo.channel})[0])||void 0===t?void 0:t.label,this.serviceOrderBaseInfo.channel_explanation=e.channel_explanation,this.serviceOrderBaseInfo.picture_id=e.picture_id,this.serviceOrderBaseInfo.contact=e.contact,this.serviceOrderBaseInfo.contact_phone=e.contact_phone,this.serviceOrderBaseInfo.address=e.address,this.serviceOrderBaseInfo.latitude=e.latitude,this.serviceOrderBaseInfo.longitude=e.longitude,this.serviceOrderBaseInfo.delivery_date=e.delivery_date,this.serviceOrderBaseInfo.service_type_name=e.service_type_name,this.serviceOrderBaseInfo.breakdown_name=e.breakdown_name,this.serviceOrderBaseInfo.service_urgency_name=e.service_urgency_name,this.serviceOrderBaseInfo.customer_settled=e.customer_settled,this.serviceOrderBaseInfo.site_settled=e.site_settled,this.serviceOrderBaseInfo.employee_settled=e.employee_settled,this.serviceOrderBaseInfo.file_contexts=e.file_context,this.serviceOrderBaseInfo.salesman=e.salesman,this.serviceOrderBaseInfo.telephone=e.telephone,this.serviceOrderBaseInfo.service_site_id=e.service_site_id,this.serviceOrderBaseInfo.assign_to_pool=e.assign_to_pool,this.serviceOrderBaseInfo.remark=e.remark,this.serviceOrderBaseInfo.fault_phrase=e.fault_phrase,this.serviceOrderBaseInfo.review_employee_id=e.review_employee_id,this.serviceOrderBaseInfo.return_visit=e.return_visit,this.serviceOrderBaseInfo.depot_repair_status=e.depot_repair_status;var r=e.pictures.split(","),i=[];for(var a in this.serviceOrderBaseInfo.file_contexts)this.serviceOrderBaseInfo.file_contexts[a]&&i.push({uid:r[a],name:e.file_name[a],status:"done",url:this.serviceOrderBaseInfo.file_contexts[a]});if(this.baseInfoFileContextList=i,this.thumbnailList2=e.child.videos,this.setFileAction(this.thumbnailList2,this.listActionMap2),this.serviceOrderBaseInfo.state=e.state,this.is_under_warranty_show="\u4e0d\u5728\u4fdd",this.serviceOrderBaseInfo.is_under_warranty&&(this.is_under_warranty_show="\u5728\u4fdd"),"6"===e.state){this.customerEvaluation=e.customer_evaluation;var o=this.customerEvaluation.split(",");this.problemSolving=o[0].toString(),this.serviceResponseSpeed=Number(o[1].toString()),this.serviceAttitude=Number(o[2].toString()),this.serviceSatisfaction=Number(o[3].toString()),this.customer_feedback=e.customer_feedback}this.isReviewEnable=0===e.review_employee_id&&("5"===e.state||"6"===e.state),0!==this.serviceOrderBaseInfo.review_employee_id?(this.isReviewStamp=!0,this.serviceOrderDetailService.getServiceOrderReview(this.service_order_id).subscribe(function(e){if(e.success){var t=e.data.review_responsible_party.split(","),r=[];for(var i in t)"1"===t[i]&&r.push(n.review_responsible_partys[i]);n.orderReviewInfo={review_date:e.data.review_date,review_employee_name:e.data.review_employee_name,review_opinions:e.data.review_opinions,review_responsible_party:r.join("\u3001")}}})):this.isReviewStamp=!1,this.checkEditable()}}},{key:"initLinkData",value:function(e){null!=e&&(this.serviceOrderCurrentLink.state=e.state,this.serviceOrderCurrentLink.employee_name=e.employee_name,this.serviceOrderCurrentLink.file_id=e.file_id,this.serviceOrderCurrentLink.file_context=e.file_context,this.showTechnology=this.serviceOrderCurrentLink.state<5||this.technologyList.length,this.setLinkShowInfo())}},{key:"getCurrentServiceSite",value:function(){var e=this;this.serviceOrderSrv.getCurrentServiceSiteInfo().subscribe(function(t){e.currentServiceSiteId=t.service_site_id,e.currentServiceSiteType=t.service_site_type})}},{key:"ngOnInit",value:function(){this.userInfo=this.userService.getUserInfo(),this.getFunction(),this.getCurrentServiceSite(),this.init(""),this.service_doc=new w.DwDataTable([{}]),this.viewerAction2=this.dwImageViewerService.viewerActionDefault(),this.viewerAction2.dwDownload.disabled=!0,this.viewerAction2.dwPrevious.disabled=!1,this.viewerAction2.dwNext.disabled=!1,this.viewerAction2_2=this.dwImageViewerService.viewerActionDefault(),this.viewerAction2_2.dwDownload.disabled=!0,this.viewerAction2_2.dwPrevious.disabled=!1,this.viewerAction2_2.dwNext.disabled=!1}},{key:"init",value:function(e){var t=this;e?(this.service_order_id=e,this.isComponent=!0):this.isComponent=!1,this.productFileSrv.getProductFileHasCustomizeField("service_order").subscribe(function(e){t.serviceOrderHasCustomizeField="true"===e.data}),this.productFileSrv.getProductFileHasCustomizeField("service_doc").subscribe(function(e){t.serviceOrderHasCustomizeFieldCost="true"===e.data}),""!==this.service_order_id&&(this.getServiceDocServiceCosts(),this.serviceOrderDetailService.getServiceOrderBaseInfo(this.service_order_id).subscribe(function(e){var n;if(e.success){var r=[];null===(n=e.data.service_order[0].child.technologyPrograms)||void 0===n||n.forEach(function(e){e.isUpload="u",e.name=e.technology_program_name,e.id=e.technology_program_id,r.push(e.technology_program_id)}),t.technologyList=e.data.service_order[0].child.technologyPrograms||[],t.technologyIds=r||[],console.log(t.technologyList),t.clockList=e.data.coordinationPeople||[],t.service_doc=new w.DwDataTable(e.data.$custFieldsConfig&&e.data.$custFieldsConfig.service_doc&&e.data.service_doc&&e.data.service_doc.length?e.data.service_doc:[{}]),t.dwDocument.setControl("service_doc",t.service_doc),console.log("\u6392\u67e5"),console.log(t.service_doc.controls[0]),t.initBaseData(e.data.service_order[0]),t.product_equipment_list=e.data.product_equipment_list||[];var i=t.month(e.data.service_order[0].end_time,6)+" 23:59:59",a=t.datePipe.transform(new Date,"yyyy-MM-dd")+" 23:59:59";if(t.isInSixMonths=new Date(i).getTime()-new Date(a).getTime()>=0,t.product_file_id=e.data.service_order[0].product_file_id,t.agreeChangeSn=e.data.service_order[0].agree_change_sn,e.data.service_order_returnvisit&&e.data.service_order_returnvisit.length){t.returnvisitList=e.data.service_order_returnvisit;var o=t.returnvisitList.filter(function(e){return"\u95ee\u9898\u89e3\u51b3\u60c5\u51b5"===e.returnvisit_item_name});t.returnvisitProblemSolving=o[0].score}var l=e.data.$custFieldsConfig&&e.data.$custFieldsConfig.service_order?e.data.$custFieldsConfig.service_order:[],d=e.data.service_order[0].cust_field?JSON.parse(e.data.service_order[0].cust_field):null;if(l.length){var c=[];l.forEach(function(e){if(c.push({field_type:e.field_type,field_label:e.field_label,field_value:null}),d)for(var t in d)e.field_id===t&&(c[c.length-1].field_value=d[t])}),t.custFields=c}var s=e.data.$custFieldsConfig&&e.data.$custFieldsConfig.service_doc?e.data.$custFieldsConfig.service_doc:[],m=e.data.service_doc[0]&&e.data.service_doc[0].cust_field?JSON.parse(e.data.service_doc[0].cust_field):null;if(s.length){var p=[];s.forEach(function(e){if(p.push({field_type:e.field_type,field_label:e.field_label,field_value:null,field_id:e.field_id}),m)for(var t in m)e.field_id===t&&(p[p.length-1].field_value=m[t])}),t.custCost=p}t.serviceOrderDetailService.getServiceOrderLink(t.service_order_id).subscribe(function(e){e.success&&1===e.data.service_order_pastrecords.length&&(t.initLinkData(e.data.service_order_pastrecords[0]),t.service_doc_id=e.data.service_order_pastrecords[0].service_doc_id,t.service_mode=e.data.service_order_pastrecords[0].service_mode,console.log("this.service_mode",t.service_mode),t.service_doc_state=e.data.service_order_pastrecords[0].service_doc_state,t.getWorkrecordList(t.service_doc_id),t.serviceOrderDetailService.getUserId().subscribe(function(n){0===n.errcode&&(t.isNowUser=n.value.employeeId===e.data.service_order_pastrecords[0].service_employee_id)}))})}}),this.serviceOrderDetailService.getServiceOrderProgress(this.service_order_id).subscribe(function(e){e.success&&(t.serviceOrderProgressList=e.data.service_order_pastrecords)}),this.serviceOrderDetailService.getServiceOrderProcessrecordListCount(this.service_order_id).subscribe(function(e){e.success&&(t.processrecordCount=e.data.service_order_processrecord[0].processrecordCount)}),this.loadProcessrecord())}},{key:"month",value:function(e,t){var n=new Date(e);n.setDate(n.getDate()-1);var r,i=n.getFullYear();n.getMonth()+t+1>12?(i+=1,r=n.getMonth()+t-11):r=n.getMonth()+t+1;var a=n.getDate(),o=new Date(i,r,0).getDate();return i+"-"+r+"-"+(o=o<a?o:a)}},{key:"onTabChange",value:function(e){var t=e.tab.dwTitle,n="\u8be6\u60c5-\u70b9\u51fb\u8fdb\u5ea6\u9875\u7b7e";"\u7ef4\u4fee\u62a5\u544a"===t&&(n="\u8be6\u60c5-\u70b9\u51fb\u7ef4\u4fee\u62a5\u544a\u9875\u7b7e",this.loadReport()),"\u8d39\u7528\u660e\u7ec6"===t&&(n="\u8be6\u60c5-\u70b9\u51fb\u8d39\u7528\u660e\u7ec6\u9875\u7b7e",this.loadAmount()),"\u7528\u6237\u8bc4\u4ef7"===t&&(n="\u8be6\u60c5-\u70b9\u51fb\u7528\u6237\u8bc4\u4ef7\u9875\u7b7e"),"\u5ba2\u6237\u6c9f\u901a\u8bb0\u5f55"===t&&(n="\u8be6\u60c5-\u70b9\u51fb\u5ba2\u6237\u6c9f\u901a\u8bb0\u5f55\u9875\u7b7e",this.loadProcessrecord()),this.analytics.eventTrack.next({action:n,properties:{category:"\u670d\u52a1\u5de5\u5355",label:this.userInfo.tenantId+","+this.userInfo.userId,value:0}})}},{key:"loadReport",value:function(){var e=this;this.haveLoadReport||this.serviceOrderDetailService.getServiceDocInfo(this.service_order_id).subscribe(function(t){if(t.success){e.haveLoadReport=!0,e.serviceDocBreakdownList=t.data.breakdown;var n=[];if(t.data.material.forEach(function(t){t.confirmed_picture_id&&n.push(new Promise(function(n,r){e.commonHttpService.get("restful/service/employee/Employee/File?file_id=".concat(t.confirmed_picture_id)).subscribe(function(e){t.confirmed_picture=e.value,n(1)})}))}),Promise.all(n).then(function(n){e.serviceDocMaterialList=t.data.material,e.showConfirmedPicture=t.data.material.some(function(e){return e.confirmed_picture_id})}),e.serviceDocServiceItemList=t.data.service_item,1===t.data.service_doc.length){e.originalSn=t.data.service_doc[0].original_sn,e.currentSn=t.data.service_doc[0].current_sn,e.isFaqChanged=t.data.service_doc[0].is_generated_kb,e.remark=t.data.service_doc[0].remark,e.installDebugAccept=t.data.service_order[0].install_debug_accept,e.install={service_type_name:t.data.service_order[0].service_type_name,installationDateBegin:t.data.service_doc[0].installation_date_begin,installationDateEnd:t.data.service_doc[0].installation_date_end,acceptanceDate:t.data.service_doc[0].acceptance_date,annexs:t.data.service_doc[0].child.annexs,end_time:t.data.service_order[0].end_time,employee_name:t.data.service_order[0].employee_name},e.signature=t.data.service_doc[0].signature||"",t.data.service_doc[0].signature_picture&&e.serviceOrderDetailService.getFileById(t.data.service_doc[0].signature_picture).subscribe(function(t){e.signature_picture=t.value}),e.thumbnailList2_2=t.data.service_doc[0].child.videos,e.setFileAction(e.thumbnailList2_2,e.listActionMap2_2);var r=t.data.service_doc[0].pictures.split(","),i=[];for(var a in t.data.service_doc[0].file_context)t.data.service_doc[0].file_context[a]&&i.push({uid:r[a],name:t.data.service_doc[0].file_name[a],status:"done",url:t.data.service_doc[0].file_context[a]});e.docInfoFileContextList=i}}})}},{key:"searchEquipments",value:function(){this.isEquipmentsVisible=!0}},{key:"equipmentsChangeVisible",value:function(e){this.isEquipmentsVisible=!1}},{key:"downloadFile",value:function(e){var t=this;this.serviceOrderDetailService.download({attachment_id:e}).subscribe(function(e){if(e)switch(e.type){case S.HttpEventType.Response:var t=URL.createObjectURL(e.body),n=document.createElement("a");n.href=t,n.style="visibility:hidden";var r=e.headers.get("Content-disposition").split("filename=")[1];n.download=decodeURI(r),document.body.appendChild(n),n.click(),document.body.removeChild(n)}},function(e){e.hasOwnProperty("error")&&e.error.hasOwnProperty("errorMessage")&&e.error.errorMessage&&t.message.error(e.error.errorMessage)})}},{key:"loadAmount",value:function(){var e=this;this.haveLoadAmount||this.serviceOrderDetailService.getServiceDocCalcDetail(this.service_order_id).subscribe(function(t){t.success&&(e.haveLoadAmount=!0,e.calcMaterialDetailList=[],e.calcServiceItemDetailList=t.data.service_item,1===t.data.service_doc_sum_temp.length&&(e.realAmount_material=t.data.service_doc_sum_temp[0].needAmount_material,e.realAmount_service_item=t.data.service_doc_sum_temp[0].needAmount_service_item,e.needAmount_all=t.data.service_doc_sum_temp[0].needAmount_all,e.realAmount_all=t.data.service_doc_sum_temp[0].realAmount_all),t.data.material.forEach(function(t){t.material_code&&e.calcMaterialDetailList.push(t)}),t.data.settlement_doc_details&&t.data.settlement_doc_details.length&&(e.isSettled=t.data.settlement_doc_details[0].settlement_doc_details_count>0),e.realAmount_material=e.realAmount_material.toFixed(2),e.realAmount_service_item=e.realAmount_service_item.toFixed(2),e.needAmount_all=e.needAmount_all.toFixed(2),e.realAmount_all=e.realAmount_all.toFixed(2),1===t.data.customer_settlement_doc.length&&(e.receivable_amt=t.data.customer_settlement_doc[0].receivable_amt.toFixed(2),e.actual_receipt_amt=t.data.customer_settlement_doc[0].actual_receipt_amt.toFixed(2)))})}},{key:"openServiceItem",value:function(){var e=this;this.serviceItemSelectService.setConfig([],!0),this.serviceItemSelectService.open([]).subscribe(function(t){var n=t.data;console.log(n);var r=[],i=[];e.calcServiceItemDetailList.length&&e.calcServiceItemDetailList.forEach(function(e){r.push(e.service_item_id),i.push(e)}),n.service_item.forEach(function(e){r.indexOf(e.service_item_id)<0&&i.push(e)}),e.calcServiceItemDetailList=i,e.priceChange()})}},{key:"deleteServiceItem",value:function(e){var t=[],n=[];this.calcServiceItemDetailList.forEach(function(e){t.push(e.service_item_id),n.push(e)}),n.splice(t.indexOf(e),1),this.calcServiceItemDetailList=n,this.priceChange()}},{key:"loadProcessrecord",value:function(){var e=this;this.haveLoadProcessrecord||this.serviceOrderDetailService.getServiceOrderProcessrecordList(this.service_order_id).subscribe(function(t){t.success&&(e.haveLoadProcessrecord=!0,e.serviceOrderProcessrecordList=t.data.service_order_processrecord)})}},{key:"loadReportInfoAfterUpdate",value:function(){this.haveLoadReport=!1,this.haveLoadAmount=!1,this.loadReport(),this.loadAmount()}},{key:"changeVisible",value:function(e){this.isVisible=!1,e&&(this.ngOnInit(),this.loadReportInfoAfterUpdate())}},{key:"changeAddPartVisible",value:function(e){this.isAddPartVisible=!1,e&&(this.ngOnInit(),this.loadReportInfoAfterUpdate())}},{key:"changeFaq",value:function(e){var t=this;this.serviceOrderDetailService.getServiceDocInfo(this.service_order_id).subscribe(function(n){if(n.success){if(t.serviceDocBreakdownList=n.data.breakdown,t.serviceDocMaterialList=n.data.material,t.serviceDocServiceItemList=n.data.service_item,!t.serviceDocBreakdownList.length)return void t.message.create("error","\u65e0\u6545\u969c\u89e3\u51b3\u60c5\u51b5\uff0c\u65e0\u6cd5\u8f6c\u77e5\u8bc6\u5e93");if(1===n.data.service_doc.length){t.isFaqChanged=n.data.service_doc[0].is_generated_kb,t.remark=n.data.service_doc[0].remark;var r=n.data.service_doc[0].pictures.split(","),i=[];for(var a in n.data.service_doc[0].file_context)n.data.service_doc[0].file_context[a]&&i.push({uid:r[a],name:n.data.service_doc[0].file_name[a],status:"done",url:n.data.service_doc[0].file_context[a]});if(t.docInfoFileContextList=i,!n.data.service_doc[0].last_level)return void t.message.create("error","\u6545\u969c\u7c7b\u578b\u9009\u62e9\u6709\u8bef");t.isFaqChanged?t.message.create("error","\u5df2\u8f6c\u77e5\u8bc6\u5e93\uff01"):t.ssoService.redirectUrl(t.routerTokbsApI+"/?routerLink=kbs/faq/faq-change/"+e,!0)}}})}},{key:"exportPDF",value:function(e){var t=this;this.isDownloading=!0,this.serviceOrderDetailService.exportPDF({serviceDocId:e}).subscribe(function(e){if(e)switch(e.type){case S.HttpEventType.Response:var n=URL.createObjectURL(e.body),r=document.createElement("a");r.href=n,r.style="visibility:hidden";var i=e.headers.get("Content-disposition").split("filename=")[1];r.download=decodeURI(i),document.body.appendChild(r),r.click(),document.body.removeChild(r),setTimeout(function(){t.isDownloading=!1},500)}},function(e){e.hasOwnProperty("error")&&e.error.hasOwnProperty("errorMessage")&&e.error.errorMessage&&(t.message.error(e.error.errorMessage),t.isDownloading=!1)})}},{key:"getProcessStateLable",value:function(e){return"1"===e?"\u63a5\u5230\u8bf7\u6c42":"2"===e?"\u5df2\u5206\u914d":"3"===e?"\u5df2\u6d3e\u5de5":"4"===e?"\u670d\u52a1\u4e2d":"5"===e?"\u670d\u52a1\u7ed3\u675f":"6"===e?"\u5df2\u8bc4\u4ef7\u5e76\u5173\u95ed":"7"===e?"\u5df2\u53d6\u6d88":"8"===e?"\u5df2\u9000\u5355":"9"===e?"\u5df2\u6539\u6d3e":"10"===e?"\u5df2\u6302\u5355":"11"===e?"\u5ba1\u67e5\u5b8c\u6210":"12"===e?"\u8865\u5f55\u96f6\u914d\u4ef6":"13"===e?"\u5df2\u6253\u5361\u51fa\u53d1":"14"===e?"\u5df2\u6253\u5361\u5230\u8fbe":"15"===e?"\u66f4\u6539\u670d\u52a1\u62a5\u544a":"16"===e?"\u670d\u52a1\u56de\u8bbf":"17"===e?"\u66f4\u6539\u5ba1\u67e5":"18"===e?"\u62a2\u5355\u6210\u529f":"19"===e?"\u8fd4\u5382\u7ef4\u4fee":"20"===e?"\u6574\u673a\u8fd4\u5382":"21"===e?"\u6574\u673a\u53d1\u51fa":""}},{key:"setLinkShowInfo",value:function(){"1"===this.serviceOrderCurrentLink.state?(this.serviceOrderCurrentLink.employee_show="\u63a5\u5355\u4eba",this.serviceOrderCurrentLink.state_show="\u5f85\u5206\u914d",this.serviceOrderCurrentLink.button_show="\u5f00\u59cb\u5206\u914d",this.currentStatusIndex=1,this.valid=!1):"2"===this.serviceOrderCurrentLink.state?(this.serviceOrderCurrentLink.employee_show="\u5206\u914d\u4eba",this.serviceOrderCurrentLink.state_show=this.serviceOrderBaseInfo.assign_to_pool?"\u5f85\u62a2\u5355":"\u5f85\u6d3e\u5de5",this.serviceOrderCurrentLink.button_show="\u5f00\u59cb\u6d3e\u5de5",this.valid=!1,this.currentStatusIndex=2):"3"===this.serviceOrderCurrentLink.state?(this.serviceOrderCurrentLink.employee_show="\u6d3e\u5de5\u5458",this.serviceOrderCurrentLink.state_show="\u5f85\u670d\u52a1",this.serviceOrderCurrentLink.button_show="\u5f00\u59cb\u670d\u52a1",this.currentStatusIndex=3,this.valid=!0):"4"===this.serviceOrderCurrentLink.state?(this.serviceOrderCurrentLink.employee_show="\u5de5\u7a0b\u5e08",this.serviceOrderCurrentLink.state_show="\u5f85\u56de\u5355",this.serviceOrderCurrentLink.button_show="\u586b\u5199\u62a5\u544a",this.currentStatusIndex=4,this.valid=!0):"5"===this.serviceOrderCurrentLink.state?(this.serviceOrderCurrentLink.employee_show="\u5904\u7406\u4eba",this.serviceOrderCurrentLink.state_show="\u5f85\u8bc4\u4ef7",this.serviceOrderCurrentLink.button_show="\u66f4\u6539\u62a5\u544a",this.valid=!0,this.currentStatusIndex=5):"6"===this.serviceOrderCurrentLink.state?(this.serviceOrderCurrentLink.employee_show="",this.serviceOrderCurrentLink.state_show="\u5df2\u5173\u95ed",this.serviceOrderCurrentLink.button_show="\u56de\u8bbf\u8bc4\u4ef7",this.valid=!0,this.currentStatusIndex=6):"7"===this.serviceOrderCurrentLink.state&&(this.serviceOrderCurrentLink.employee_show="",this.serviceOrderCurrentLink.state_show="\u5df2\u53d6\u6d88",this.serviceOrderCurrentLink.button_show="\u56de\u8bbf\u8bc4\u4ef7",this.valid=!0,this.currentStatusIndex=-1)}},{key:"report",value:function(e){"1"!==this.serviceOrderBaseInfo.depot_repair_status&&"2"!==this.serviceOrderBaseInfo.depot_repair_status?(this.reportType=e,this.isVisible=!0):this.message.create("error","\u5f53\u524d\u62a5\u4fee\u8bbe\u5907\u6b63\u8fdb\u884c\u8fd4\u5382\u7ef4\u4fee\uff0c\u8bf7\u5728\u6574\u673a\u5f52\u8fd8\u540e\uff0c\u518d\u8fdb\u884c\u670d\u52a1\u62a5\u544a\u7684\u586b\u5199\uff01")}},{key:"modify",value:function(){"1"===this.serviceOrderCurrentLink.state?this.distribution():"2"===this.serviceOrderCurrentLink.state&&this.dispatch()}},{key:"distribution",value:function(){this.isDistributionVisible=!0}},{key:"dispatch",value:function(){this.isDispatchVisible=!0}},{key:"changeDistributionVisible",value:function(e){this.isDistributionVisible=e,this.ngOnInit()}},{key:"changeDispatchVisible",value:function(e){this.isDispatchVisible=e,this.ngOnInit()}},{key:"changeEvaluationVisible",value:function(e){this.isEvaluationVisible=e,this.ngOnInit()}},{key:"changeReviewVisible",value:function(e){this.isReviewVisible=!1,e&&this.ngOnInit()}},{key:"evaluation",value:function(){this.isEvaluationVisible=!0}},{key:"returnvisit",value:function(){this.isReturnvisitVisible=!0}},{key:"changeReturnvisitVisible",value:function(e){this.isReturnvisitVisible=!1,e&&this.ngOnInit()}},{key:"review",value:function(){this.isReviewVisible=!0}},{key:"returnToList",value:function(){this.router.navigate(["../../"],{relativeTo:this.route,queryParams:{queryHistory:this.queryHistory}})}},{key:"openServiceCost",value:function(){var t=this;this.serviceCostOpenerService.setConfig(),this.serviceCostOpenerService.open([]).subscribe(function(n){var r=n.data;if(r&&r.length){var i=t.serviceDocServiceCosts.activeRows.filter(function(e){return r.map(function(e){return e.service_cost_id}).includes(e.getRawValue().service_cost_id)}).map(function(e){return e.getRawValue().service_cost_name});if(i.length>0)t.dwMessageService.warning("\u670d\u52a1\u6210\u672c\u5df2\u5b58\u5728: "+i);else{var a,o=e(r);try{for(o.s();!(a=o.n()).done;){var l=a.value,d=new E;d.service_order_id=Number(t.service_order_id),d.service_doc_id=Number(t.serviceDocId),d.service_cost_id=l.service_cost_id,d.service_cost_code=l.service_cost_code,d.service_cost_name=l.service_cost_name,t.serviceDocServiceCosts.pushRow(d)}}catch(c){o.e(c)}finally{o.f()}}}},function(e){e.hasOwnProperty("error")&&e.error.hasOwnProperty("errorMessage")&&e.error.errorMessage&&t.message.error(e.error.errorMessage)})}},{key:"toggleEditable",value:function(){!this.canEdit||(this.editable=!this.editable)}},{key:"saveServiceDocServiceCosts",value:function(){var e=this;if(this.serviceDocServiceCosts.rows.every(function(e){return""===e.$state})&&this.service_doc.rows.every(function(e){return""===e.$state}))return this.dwMessageService.warning("\u672a\u505a\u66f4\u6539"),this.toggleEditable(),void this.getBaseInfo();this.serviceDocServiceCosts.activeRows.some(function(e){return!e.getRawValue().cost_amt})?this.dwMessageService.error("\u4ef7\u683c\u4e0d\u80fd\u4e3a\u7a7a"):this.serviceDocServiceCosts.activeRows.some(function(t){return t.getRawValue().cost_amt>e.quantityMax})?this.dwMessageService.error("\u4ef7\u683c\u4e0d\u80fd\u5927\u4e8e"+this.quantityMax):(this.dwDocument._haveRead=!0,this.dwDocument.save().subscribe(function(t){e.dwMessageService.success("\u4fdd\u5b58\u6210\u529f"),e.toggleEditable(),e.getServiceDocServiceCosts(),e.getBaseInfo(),e.checkEditable()},function(t){t.hasOwnProperty("error")&&t.error.hasOwnProperty("errorMessage")&&t.error.errorMessage&&e.dwMessageService.error(t.error.errorMessage),e.toggleEditable(),e.getServiceDocServiceCosts(),e.getBaseInfo(),e.checkEditable()}))}},{key:"deleteServiceDocServiceCost",value:function(e){this.serviceDocServiceCosts.deleteRow(this.serviceDocServiceCosts.rows.findIndex(function(t){return t===e}))}},{key:"cancelServiceDocServiceCosts",value:function(){this.toggleEditable(),this.getServiceDocServiceCosts(),this.getBaseInfo()}},{key:"getBaseInfo",value:function(){var e=this;this.serviceOrderDetailService.getServiceOrderBaseInfo(this.service_order_id).subscribe(function(t){if(t.success){t.data.$custFieldsConfig&&t.data.$custFieldsConfig.service_doc&&t.data.service_doc&&t.data.service_doc.length?(console.log(111),e.service_doc=new w.DwDataTable(t.data.service_doc)):(console.log(222),e.service_doc=new w.DwDataTable([{}])),e.dwDocument.setControl("service_doc",e.service_doc),console.log("\u6392\u67e5"),console.log(e.service_doc.controls[0]),e.initBaseData(t.data.service_order[0]);var n=t.data.$custFieldsConfig&&t.data.$custFieldsConfig.service_order?t.data.$custFieldsConfig.service_order:[],r=t.data.service_order[0].cust_field?JSON.parse(t.data.service_order[0].cust_field):null;if(n.length){var i=[];n.forEach(function(e){if(i.push({field_type:e.field_type,field_label:e.field_label,field_value:null}),r)for(var t in r)e.field_id===t&&(i[i.length-1].field_value=r[t])}),e.custFields=i}var a=t.data.$custFieldsConfig&&t.data.$custFieldsConfig.service_doc?t.data.$custFieldsConfig.service_doc:[],o=t.data.service_doc[0]&&t.data.service_doc[0].cust_field?JSON.parse(t.data.service_doc[0].cust_field):null;if(a.length){var l=[];a.forEach(function(e){if(l.push({field_type:e.field_type,field_label:e.field_label,field_value:null,field_id:e.field_id}),o)for(var t in o)e.field_id===t&&(l[l.length-1].field_value=o[t])}),e.custCost=l}}})}},{key:"getServiceDocServiceCosts",value:function(){var e=this;this.commonHttpService.get("".concat(this.serviceReportResource,"/ServiceDocServiceCosts"),{serviceOrderId:String(this.service_order_id)}).subscribe(function(t){t.data&&t.data.length&&(e.serviceDocId=t.data[0].service_doc_id,t.data[0].service_doc_servicecost_id&&(e.dwDocument.clearTables(),e.serviceDocServiceCosts=new w.DwDataTable(t.data),e.dwDocument.addControl("service_doc_servicecost",e.serviceDocServiceCosts),e.dwDocument.setControl("service_doc",e.service_doc)))})}},{key:"sumServiceDocServiceCosts",value:function(){return this.serviceDocServiceCosts.activeRows.map(function(e){return e.getRawValue().cost_amt}).reduce(function(e,t){return e+t},0)}},{key:"checkEditable",value:function(){this.serviceOrderBaseInfo.review_employee_id?this.canEdit=!1:"5"===this.serviceOrderBaseInfo.state||"6"===this.serviceOrderBaseInfo.state?(this.canEdit=!0,this.canEditAmount="5"===this.serviceOrderBaseInfo.state&&!this.serviceOrderBaseInfo.customer_settled):this.canEdit=!1}},{key:"editAmountInfo",value:function(){var e=this;this.serviceOrderDetailService.getServiceOrderCustomerSettled(this.service_order_id).subscribe(function(t){t.customer_settled?(e.dwMessageService.error("\u5f53\u524d\u5de5\u5355\u5df2\u7ecf\u5ba2\u6237\u7ed3\u7b97\u5b8c\u6210\uff0c\u4e0d\u53ef\u4ee5\u4fee\u6539\uff01"),e.canEditAmount=!1,e.loadReportInfoAfterUpdate()):e.inAmountEdit=!0},function(t){t.hasOwnProperty("error")&&t.error.hasOwnProperty("errorMessage")&&t.error.errorMessage&&e.dwMessageService.error(t.error.errorMessage)})}},{key:"priceChange",value:function(){var e=0;this.calcMaterialDetailList.forEach(function(t){t.customer_settlement_price=parseFloat(t.customer_settlement_price||0),t.amount=parseFloat(t.customer_settlement_price)*parseFloat(t.qty),e+=parseFloat(t.amount)});var t=0;this.calcServiceItemDetailList.forEach(function(e){e.customer_settlement_price=parseFloat(e.customer_settlement_price||0),t+=parseFloat(e.customer_settlement_price)});var n=e+t;this.realAmount_material=e.toFixed(2),this.realAmount_service_item=t.toFixed(2),this.needAmount_all=n.toFixed(2)}},{key:"saveAmountInfo",value:function(){var e=this,t=[];this.calcMaterialDetailList.forEach(function(e){t.push({service_doc_partchange_id:e.service_doc_partchange_id,customer_settlement_price:e.customer_settlement_price,part_id:e.part_id,qty:e.qty,$state:"U"})});var n=[];this.calcServiceItemDetailList.forEach(function(e){n.push(e.service_doc_serviceitem_id?{service_doc_serviceitem_id:e.service_doc_serviceitem_id,service_item_id:e.service_item_id,customer_settlement_price:e.customer_settlement_price,process_description:e.process_description||"",$state:"U"}:{service_item_id:e.service_item_id,customer_settlement_price:e.customer_settlement_price,process_description:e.process_description||"",$state:"C"})}),this.serviceOrderDetailService.saveAmountInfo({dataset:{service_order:{service_order_id:this.service_order_id,service_doc_id:this.service_doc_id},service_doc_partchange:t,service_doc_serviceitem:n}}).subscribe(function(t){t.success?(e.inAmountEdit=!1,e.loadReportInfoAfterUpdate()):e.dwMessageService.error("\u6570\u636e\u4fdd\u5b58\u5931\u8d25\uff01")},function(t){t.hasOwnProperty("error")&&t.error.hasOwnProperty("errorMessage")&&t.error.errorMessage&&e.dwMessageService.error(t.error.errorMessage)})}},{key:"cancelAmountInfo",value:function(){this.inAmountEdit=!1,this.loadReportInfoAfterUpdate()}},{key:"setFileAction",value:function(e,t){e.forEach(function(e){t[e.uid]={dwPreview:{show:!0,title:"\u9884\u89c8"},dwCheck:{show:!0,title:"\u68c0\u67e5"},dwDownload:{show:!1,title:"\u4e0b\u8f7d"},dwRemove:{show:!1,title:"\u5220\u9664"}}})}},{key:"showCommunication",value:function(){this.analytics.eventTrack.next({action:"\u8be6\u60c5-\u70b9\u51fb\u5ba2\u6237\u6c9f\u901a\u8bb0\u5f55",properties:{category:"\u670d\u52a1\u5de5\u5355",label:this.userInfo.tenantId+","+this.userInfo.userId,value:0}}),this.isShowCommunication=!0}},{key:"cancelCommunication",value:function(){this.isShowCommunication=!1}},{key:"getWorkrecordList",value:function(e){var t=this;this.serviceOrderDetailService.getWorkrecord(e).subscribe(function(e){if(e.success){t.workrecordCount=e.data.length;var n=[];e.data.forEach(function(e){n.push(new Promise(function(n,r){e.employee_file_id?t.serviceOrderDetailService.getFileById(e.employee_file_id).subscribe(function(t){e.headImg=t.value||"",n(1)}):(e.headImg="",n(1))}))}),Promise.all(n).then(function(n){t.workrecordList=e.data,console.log("workrecordList===>",t.workrecordList)})}})}},{key:"showWorkrecord",value:function(){this.analytics.eventTrack.next({action:"\u8be6\u60c5-\u70b9\u51fb\u5de5\u4f5c\u65e5\u5fd7",properties:{category:"\u670d\u52a1\u5de5\u5355",label:this.userInfo.tenantId+","+this.userInfo.userId,value:0}}),this.isShowWorksrecord=!0}},{key:"cancelWorkrecord",value:function(){this.isShowWorksrecord=!1}},{key:"previewImageDetail",value:function(e){var t=this;e&&this.serviceOrderDetailService.getFileById(e).subscribe(function(e){t.previewImage=e.value,t.signature_picture_visible=!0})}},{key:"showEngineerClock",value:function(){this.isClockVisible=!0}},{key:"changeClock",value:function(e){this.isClockVisible=e}},{key:"seeDetail",value:function(e){var t=this;console.log("data====>",e,e.product_file_id,e.type),this.isCollapsed=!0,console.log(this.productFileChild),setTimeout(function(){t.productFileChild.initData(e.product_file_id,e.type)})}},{key:"showDispatch",value:function(e){this.modalService.create({dwTitle:"\u6d3e\u5de5\u5907\u6ce8",dwContent:e,dwOnOk:function(e){},dwOnCancel:function(){},dwFooter:null})}},{key:"handleFileChange",value:function(e){var t=this,n=!1;if(this.technologyList.forEach(function(e){e.isUpload=e.isUpload?"u":"c",n="c"===e.isUpload||n}),n){var r=new FormData;r.append("file",e.file.originFileObj),this.productFileSrv.saveAttachments(r).subscribe(function(e){e.success?(t.technologyIds.push(e.data),t.upLoadTechnologyList([{fileId:e.data,fileFlag:"C"}],"C")):t.message.create("error","\u6280\u672f\u65b9\u6848\u4e0a\u4f20\u5931\u8d25\uff01")},function(e){t.message.create("error","\u6280\u672f\u65b9\u6848\u4e0a\u4f20\u5931\u8d25\uff01"),t.getNewFile()})}}},{key:"deleteFile",value:function(e,t){var n=this;this.modalService.warning({dwTitle:"\u786e\u8ba4\u5220\u9664\u8be5\u6280\u672f\u65b9\u6848\uff1f",dwContent:"\u5220\u9664\u540e\u4e0d\u53ef\u6062\u590d",dwOkText:"\u786e\u5b9a",dwOkType:"primary",dwOnOk:function(r){var i=[{fileInfoId:t,fileFlag:"D"}];n.technologyIds.splice(e,1),n.upLoadTechnologyList(i,"D")},dwCancelText:"\u53d6\u6d88",dwOnCancel:function(){}})}},{key:"upLoadTechnologyList",value:function(e,t){var n=this,r={serviceOrderId:this.service_order_id,technologyProgram:this.technologyIds.join(","),fileInfos:e};this.serviceOrderSrv.changeTechnologyFile(r).subscribe(function(e){console.log(e),n.message.create("success","C"===t?"\u6280\u672f\u65b9\u6848\u4e0a\u4f20\u6210\u529f":"\u6280\u672f\u65b9\u6848\u5220\u9664\u6210\u529f"),n.getNewFile()},function(e){e.hasOwnProperty("error")&&e.error.hasOwnProperty("errorMessage")&&e.error.errorMessage&&n.message.error(e.error.errorMessage),n.getNewFile()})}},{key:"getNewFile",value:function(){var e=this;this.serviceOrderDetailService.getServiceOrderBaseInfo(this.service_order_id).subscribe(function(t){var n,r=[];null===(n=t.data.service_order[0].child.technologyPrograms)||void 0===n||n.forEach(function(e){e.isUpload="u",e.name=e.technology_program_name,e.id=e.technology_program_id,r.push(e.technology_program_id)}),e.technologyList=t.data.service_order[0].child.technologyPrograms||[],e.technologyIds=r||[],console.log(e.technologyList)})}},{key:"downloadTechnogyFile",value:function(e){var t=this;this.productFileSrv.download({attachment_id:e}).subscribe(function(e){if(e)switch(e.type){case S.HttpEventType.Response:var t=URL.createObjectURL(e.body),n=document.createElement("a");n.href=t,n.style="visibility:hidden";var r=e.headers.get("Content-disposition").split("filename=")[1];n.download=decodeURI(r),document.body.appendChild(n),n.click(),document.body.removeChild(n)}},function(e){e.hasOwnProperty("error")&&e.error.hasOwnProperty("errorMessage")&&e.error.errorMessage&&t.message.error(e.error.errorMessage)})}},{key:"showActBox",value:function(e){console.log(e),this.actIdx=e}},{key:"stopProp",value:function(e){e.stopPropagation()}},{key:"hideActBox",value:function(){console.log(this.actIdx),this.actIdx=null}}]),n}();return n.\u0275fac=function(e){return new(e||n)(M.\u0275\u0275directiveInject(A.DwModalService),M.\u0275\u0275directiveInject(x.DwSystemConfigService),M.\u0275\u0275directiveInject(R.U),M.\u0275\u0275directiveInject(g.DwMessageService),M.\u0275\u0275directiveInject(y.DwSsoService),M.\u0275\u0275directiveInject(u.DwRoutingMessageService),M.\u0275\u0275directiveInject(d.Router),M.\u0275\u0275directiveInject(d.ActivatedRoute),M.\u0275\u0275directiveInject(s.FormBuilder),M.\u0275\u0275directiveInject(m.v),M.\u0275\u0275directiveInject(C.R),M.\u0275\u0275directiveInject(b.DwAnalytics),M.\u0275\u0275directiveInject(I.DwUserService),M.\u0275\u0275directiveInject(g.DwMessageService),M.\u0275\u0275directiveInject(D.$),M.\u0275\u0275directiveInject(w.DwDocument),M.\u0275\u0275directiveInject(v.DwImageViewerListService),M.\u0275\u0275directiveInject(v.DwImageViewerService),M.\u0275\u0275directiveInject(V),M.\u0275\u0275directiveInject(P),M.\u0275\u0275directiveInject(T.DatePipe),M.\u0275\u0275directiveInject(L.y),M.\u0275\u0275directiveInject(N.DwAuthFunctionPermissionRepository),M.\u0275\u0275directiveInject("ServiceReportResource"),M.\u0275\u0275directiveInject("ImageResource"),M.\u0275\u0275directiveInject("QuantityMax"))},n.\u0275cmp=M.\u0275\u0275defineComponent({type:n,selectors:[["app-service-order-detail"]],viewQuery:function(e,t){var n;(1&e&&M.\u0275\u0275viewQuery(Qr,5),2&e)&&(M.\u0275\u0275queryRefresh(n=M.\u0275\u0275loadQuery())&&(t.productFileChild=n.first))},features:[M.\u0275\u0275ProvidersFeature([w.DwDocument,V,P,L.y,{provide:"DocumentResource",useValue:"restful/service/serviceDoc/ServiceReport/ServiceDocServiceCost"},{provide:"ImageResource",useValue:"../../../../../../assets/img"}])],decls:402,vars:191,consts:[[1,"dw-f-content-list","layoutClass","sales_layout","service-order-detail-page",3,"click"],[4,"ngIf"],[2,"display","flex"],[1,"box"],[1,"my-tab",3,"dwTabPosition","dwType","dwAnimated"],["dwTitle","\u57fa\u672c\u4fe1\u606f"],[1,"wrap"],[3,"dwSm","dwXs"],[1,"flex-word"],[1,"break-word"],[1,"break-word",2,"flex","1"],[1,"break-word",2,"color","#0D9DEF","cursor","pointer",3,"click"],["class","phrase",4,"ngIf"],[2,"display","inline-block"],[1,"clearfix",2,"display","inline-block"],["dwListType","picture-card",3,"dwFileList","dwShowButton","dwShowUploadList","dwPreview","dwFileListChange"],["dw-icon","","dwType","plus"],[1,"ant-upload-text"],[3,"dwVisible","dwContent","dwFooter","dwOnCancel"],["modalContent",""],["dw-col","","dwSpan","18",2,"display","inline-block"],[1,"ant-upload-list","ant-upload-list-picture-card",3,"ngClass"],[4,"ngFor","ngForOf"],["dwTitle","\u8bbe\u5907\u4fe1\u606f",4,"ngIf"],["dwTitle","\u9644\u52a0\u4fe1\u606f",4,"ngIf"],["dwTitle","\u6280\u672f\u65b9\u6848",4,"ngIf"],[1,"divide"],[1,"box2"],[3,"isDispatchVisible","visibleChanged"],["child1",""],[3,"isDistributionVisible","visibleChanged"],["child2",""],[3,"isEvaluationVisible","visibleChanged"],["childEvaluation",""],[3,"isReturnvisitVisible","visibleChanged"],["childReturnvisit",""],[3,"isReviewVisible","visibleChanged"],["childReview",""],[3,"isClockVisible","visibleChanged","previewChange"],["childClock",""],[1,"inner-box","inner"],[1,"now"],["class","info",4,"ngIf"],[1,"inner-box","noMarginBottom"],[1,"my-tab",3,"dwTabPosition","dwType","dwAnimated","dwSelectChange"],["dwTitle","\xa0\xa0\u8fdb\u5ea6\xa0\xa0","id","service-order-detail-progress-tab"],[2,"margin-top","24px","margin-left","8px"],[1,"steps",3,"dwCurrent"],["dwTitle","\u62a5\u4fee"],["dwTitle","\u5206\u914d"],["dwTitle","\u6d3e\u5de5"],["dwTitle","\u670d\u52a1",3,"dwSubtitle"],["dwTitle","\u56de\u5355"],["dwTitle","\u8bc4\u4ef7"],["communicateTemplate",""],[1,"header"],[1,"timeline"],["class","timeItem",3,"dwColor",4,"ngFor","ngForOf"],["dwTitle","\u7ef4\u4fee\u62a5\u544a","id","service-order-detail-report-tab"],["style","position: relative;margin-top: 16px;",4,"ngIf"],["class","sub-title",4,"ngIf"],["class","service-order-detail-evaluate-tab",4,"ngIf"],[1,"sub-title"],[3,"dwData"],["dwTable1",""],["dw-tr",""],["dw-th",""],["translate",""],[3,"dwData","dwScroll"],["dwTable2",""],["dw-th","","dwAlign","right"],["dw-th","",1,"align-center"],["dw-th","","width","100",4,"ngIf"],["dw-th","","dwAlign","right","width","60"],["dwTable3",""],["dw-th","",2,"min-width","96px","max-width","240px"],["class","clearfix",4,"ngIf"],["class","sub-title","style","margin-top: 0;",4,"ngIf"],["dwTitle","\u8d39\u7528\u660e\u7ec6","id","service-order-detail-amount-tab"],[2,"float","right"],[1,"grid-title"],[2,"font-size","14px"],[2,"color","#E53333","font-size","14px"],["dwTable4",""],["dw-th","",1,"align-right"],["dw-button","","dwType","default","style","margin-bottom: 16px;",3,"click",4,"ngIf"],["dwTable5",""],["dw-th","","width","46"],["dw-th","","width","72"],["dw-th","","width","106",1,"align-right"],["dw-th","","width","46","class","align-center",4,"ngIf"],[2,"margin-top","10px","margin-bottom","20px"],[2,"color","#000000","font-size","14px"],[2,"color","#E53333"],[2,"color","#000000"],[2,"font-size","14px","color","#666"],["dwTitle","\u670d\u52a1\u6210\u672c"],[2,"display","flex","justify-content","flex-end","margin-top","16px"],[2,"margin-top","20px",3,"dwData"],["ref_data",""],["dw-thead",""],["dw-th","","dwWidth","160px"],["dw-th","","dwWidth","140px",2,"padding-right","30px",3,"dwAlign"],["dw-th","","dwWidth","240px"],["dw-tbody",""],[2,"color","red"],["dwTitle","\u8bc4\u4ef7\u56de\u8bbf","id","service-order-detail-evaluate-tab",4,"ngIf"],[3,"type","visible","visibleChanged"],["child3",""],[3,"visible","visibleChanged"],["child4",""],["dwTitle","\u5ba2\u6237\u6c9f\u901a\u8bb0\u5f55",3,"dwBodyStyle","dwMaskClosable","dwWidth","dwVisible","dwFooter","dwVisibleChange","dwOnCancel"],["dwModalContent",""],["child5",""],[3,"dwTitle","dwFooter","dwBodyStyle","dwMaskClosable","dwWidth","dwVisible","dwOnCancel","dwVisibleChange"],["detailTitle",""],["dwTitle","\u5de5\u4f5c\u65e5\u5fd7",3,"dwBodyStyle","dwMaskClosable","dwWidth","dwVisible","dwFooter","dwVisibleChange","dwOnCancel"],["signature_picture_modalContent",""],["modalContentClockIn",""],[1,"issue_layout_head"],["translate","",2,"float","left","margin-right","6px","margin-left","-5px",3,"click"],["src","../../../../../../assets/img/arrow-left.svg","alt","\u8fd4\u56de"],[1,"issue_layout_title"],[2,"margin-left","3px"],[1,"phrase"],["alt","\u76f8\u5173\u56fe\u7247",3,"src","ngStyle"],[3,"dwListType","dwFile","dwItemAction","onPreview"],["titleTpl",""],["dwTitle","\u8bbe\u5907\u4fe1\u606f"],[1,"search_equipment_btn",3,"click"],["dw-icon","","dwType","search"],[1,"equipment_list"],["class","equipment",4,"ngIf"],[1,"equipment"],[1,"left_img"],["alt","\u8bbe\u5907",3,"src",4,"ngIf"],["src","../../../../../../assets/img/equipment.png","alt","\u8bbe\u5907",4,"ngIf"],[1,"right_info"],[1,"name"],[1,"info"],[1,"lable"],[1,"quipment_text"],[1,"tip"],["alt","\u8bbe\u5907",3,"src"],["src","../../../../../../assets/img/equipment.png","alt","\u8bbe\u5907"],["dwTitle","\u9644\u52a0\u4fe1\u606f"],["dw-row","",4,"ngFor","ngForOf"],["dw-row",""],["dw-col","",1,"flex-box",2,"flex","1","padding-right","16px"],[1,"label"],["dwTitle","\u6280\u672f\u65b9\u6848"],[1,"technologyBox"],["class","uploadBox",3,"disabled",4,"ngIf"],[1,"fileList"],[1,"fileRow"],[1,"fileName"],[1,"uploadName"],[1,"uploadTime"],[1,"operate"],["class","fileRow",4,"ngFor","ngForOf"],[1,"uploadBox",3,"disabled"],[2,"margin-bottom","16px",3,"dwFileList","dwBeforeUpload","dwShowUploadList","dwAccept","dwFileListChange","dwChange"],["dw-button","",3,"disabled"],["dw-icon","","dwType","upload"],["src","../../../../../../assets/img/icon_excel.png","alt","excel",4,"ngIf"],["src","../../../../../../assets/img/icon_word.png","alt","word",4,"ngIf"],["src","../../../../../../assets/img/icon_pdf.png","alt","pdf",4,"ngIf"],["src","../../../../../../assets/img/icon_ppt.png","alt","ppt",4,"ngIf"],[1,"nameInfo"],[1,"name",3,"title"],[1,"uploadName",3,"title"],[1,"uploadTime",2,"color","rgba(0,0,0,0.65)"],[3,"click"],["dw-icon","","dwType","ellipsis"],["class","action-grid",4,"ngIf"],["src","../../../../../../assets/img/icon_excel.png","alt","excel"],["src","../../../../../../assets/img/icon_word.png","alt","word"],["src","../../../../../../assets/img/icon_pdf.png","alt","pdf"],["src","../../../../../../assets/img/icon_ppt.png","alt","ppt"],[1,"action-grid"],["dw-button","","type","button","dw-col","",1,"action-button",3,"dwType","click"],["dw-icon","","dwType","download","dwTheme","outline"],["class","action-button","dw-button","","type","button","dw-col","","dwActionAuthorized","","angularticsAction","\u8be6\u60c5-\u70b9\u51fb\u5220\u9664\u6280\u672f\u65b9\u6848","dw-analyticsOn","click",3,"dwType","dwActionId","dwDefaultAuthorized","angularticsCategory","angularticsLabel","click",4,"ngIf"],["dw-button","","type","button","dw-col","","dwActionAuthorized","","angularticsAction","\u8be6\u60c5-\u70b9\u51fb\u5220\u9664\u6280\u672f\u65b9\u6848","dw-analyticsOn","click",1,"action-button",3,"dwType","dwActionId","dwDefaultAuthorized","angularticsCategory","angularticsLabel","click"],["dw-icon","","dwType","delete","dwTheme","outline"],[1,"left"],["alt","\u5934\u50cf",3,"src",4,"ngIf"],["src","../../../../../../assets/img/user-head.png","alt","\u5934\u50cf",4,"ngIf"],["dw-button","","dwActionAuthorized","","id","service-order-detail-assign","angularticsAction","\u8be6\u60c5-\u70b9\u51fb\u5f00\u59cb\u5206\u914d","dw-analyticsOn","click",3,"dwType","dwActionId","dwDefaultAuthorized","angularticsCategory","angularticsLabel","dwClick",4,"ngIf"],["dw-button","","dwActionAuthorized","","id","service-order-detail-distribute","angularticsAction","\u8be6\u60c5-\u70b9\u51fb\u5f00\u59cb\u6d3e\u5de5","dw-analyticsOn","click",3,"dwType","dwActionId","dwDefaultAuthorized","angularticsCategory","angularticsLabel","dwClick",4,"ngIf"],["dw-button","","dwActionAuthorized","","id","service-order-detail-write-report","angularticsAction","\u8be6\u60c5-\u70b9\u51fb\u586b\u5199\u62a5\u544a","dw-analyticsOn","click",3,"dwType","dwActionId","dwDefaultAuthorized","angularticsCategory","angularticsLabel","dwClick",4,"ngIf"],["alt","\u5934\u50cf",3,"src"],["src","../../../../../../assets/img/user-head.png","alt","\u5934\u50cf"],["dw-button","","dwActionAuthorized","","id","service-order-detail-assign","angularticsAction","\u8be6\u60c5-\u70b9\u51fb\u5f00\u59cb\u5206\u914d","dw-analyticsOn","click",3,"dwType","dwActionId","dwDefaultAuthorized","angularticsCategory","angularticsLabel","dwClick"],["dw-button","","dwActionAuthorized","","id","service-order-detail-distribute","angularticsAction","\u8be6\u60c5-\u70b9\u51fb\u5f00\u59cb\u6d3e\u5de5","dw-analyticsOn","click",3,"dwType","dwActionId","dwDefaultAuthorized","angularticsCategory","angularticsLabel","dwClick"],["dw-button","","dwActionAuthorized","","id","service-order-detail-write-report","angularticsAction","\u8be6\u60c5-\u70b9\u51fb\u586b\u5199\u62a5\u544a","dw-analyticsOn","click",3,"dwType","dwActionId","dwDefaultAuthorized","angularticsCategory","angularticsLabel","dwClick"],["class","serviceBox",4,"ngIf"],[1,"serviceBox"],["src","../../../../../../assets/img/icon-web-communication.png","title","\u5ba2\u6237\u6c9f\u901a\u8bb0\u5f55","style","height: 14px;width: 16px;cursor: pointer;margin-right: 4px;","alt","\u6c9f\u901a",3,"click",4,"ngIf"],["src","../../../../../../assets/img/icon-web-workrecord.png","title","\u5de5\u4f5c\u65e5\u5fd7","style","height: 14px;width: 16px;cursor: pointer;","alt","\u5de5\u4f5c\u65e5\u5fd7",3,"click",4,"ngIf"],["src","../../../../../../assets/img/icon-web-communication.png","title","\u5ba2\u6237\u6c9f\u901a\u8bb0\u5f55","alt","\u6c9f\u901a",2,"height","14px","width","16px","cursor","pointer","margin-right","4px",3,"click"],["src","../../../../../../assets/img/icon-web-workrecord.png","title","\u5de5\u4f5c\u65e5\u5fd7","alt","\u5de5\u4f5c\u65e5\u5fd7",2,"height","14px","width","16px","cursor","pointer",3,"click"],[1,"timeItem",3,"dwColor"],[1,"process-flex-box"],[1,"time"],[1,"process_state"],[1,"remark"],["class","extraInfo",4,"ngIf"],[1,"extraInfo"],[3,"click",4,"ngIf"],["src","../../../../../../assets/img/icon_dispatch_remark.png","alt","\u6d3e\u5de5\u5907\u6ce8"],["src","../../../../../../assets/img/icon_teamwork_clock.png","alt","\u534f\u540c\u4eba\u6253\u5361"],[1,"clearfix"],[2,"position","relative","margin-top","16px"],[1,"information"],["src","../../../../../../assets/img/service-order-page.png","alt","\u7ef4\u4fee\u62a5\u544a",1,"img"],[1,"infomation-word"],[2,"margin-left","5px"],[1,"infomation-time"],["class","watermark",4,"ngIf"],[2,"position","absolute","right","12px","top","40px","display","flex"],["class","mybutton","dwActionAuthorized","","id","service-order-detail-change-report","angularticsAction","\u8be6\u60c5-\u70b9\u51fb\u66f4\u6539\u62a5\u544a","dw-analyticsOn","click",3,"dwActionId","dwDefaultAuthorized","angularticsCategory","angularticsLabel","dwClick",4,"ngIf"],["class","mybutton","dwActionAuthorized","","id","service-order-detail-review","angularticsAction","\u8be6\u60c5-\u70b9\u51fb\u5ba1\u67e5","dw-analyticsOn","click",3,"dwActionId","dwDefaultAuthorized","angularticsCategory","angularticsLabel","dwClick",4,"ngIf"],["class","mybutton","dwActionAuthorized","","angularticsAction","\u8be6\u60c5-\u70b9\u51fb\u5ba1\u67e5","dw-analyticsOn","click",3,"dwActionId","dwDefaultAuthorized","angularticsCategory","angularticsLabel","dwClick",4,"ngIf"],["class","mybutton","dwActionAuthorized","","type","button","id","service-order-detail-generatedkb","angularticsAction","\u8be6\u60c5-\u70b9\u51fb\u8f6c\u77e5\u8bc6\u5e93","dw-analyticsOn","click",3,"dwDefaultAuthorized","dwActionId","angularticsCategory","angularticsLabel","dwClick",4,"ngIf"],["class","mybutton","dw-button","","dwType","text","dwActionAuthorized","","type","button","angularticsAction","\u8be6\u60c5-\u70b9\u51fb\u5bfc\u51fa","dw-analyticsOn","click",3,"dwDefaultAuthorized","dwActionId","angularticsCategory","angularticsLabel","dwLoading","dwClick",4,"ngIf"],["class","kbs2",4,"ngIf"],[1,"watermark"],["src","../../../../../../assets/img/img_ischecked.png","alt","\u5df2\u5ba1\u67e5"],[1,"review_result"],[1,"result_title"],[1,"result_content"],["class","result_item",4,"ngIf"],[1,"result_item"],[1,"result_label"],[1,"result_info"],[1,"result_info",2,"display","flex","align-items","center","flex-wrap","wrap"],["src","../../../../../../assets/img/icon_arrow2.png","alt","\u4e0d\u540c\u610f",4,"ngIf"],["src","../../../../../../assets/img/icon_arrow1.png","alt","\u540c\u610f",4,"ngIf"],["src","../../../../../../assets/img/icon_arrow2.png","alt","\u4e0d\u540c\u610f"],["src","../../../../../../assets/img/icon_arrow1.png","alt","\u540c\u610f"],["dwActionAuthorized","","id","service-order-detail-change-report","angularticsAction","\u8be6\u60c5-\u70b9\u51fb\u66f4\u6539\u62a5\u544a","dw-analyticsOn","click",1,"mybutton",3,"dwActionId","dwDefaultAuthorized","angularticsCategory","angularticsLabel","dwClick"],["src","../../../../../../assets/img/icon_edit_blue.png","alt","\u66f4\u6539",1,"write-icon"],["dwActionAuthorized","","id","service-order-detail-review","angularticsAction","\u8be6\u60c5-\u70b9\u51fb\u5ba1\u67e5","dw-analyticsOn","click",1,"mybutton",3,"dwActionId","dwDefaultAuthorized","angularticsCategory","angularticsLabel","dwClick"],["src","../../../../../../assets/img/icon_checkout.png","alt","\u5ba1\u67e5",1,"func-icon"],["dwActionAuthorized","","angularticsAction","\u8be6\u60c5-\u70b9\u51fb\u5ba1\u67e5","dw-analyticsOn","click",1,"mybutton",3,"dwActionId","dwDefaultAuthorized","angularticsCategory","angularticsLabel","dwClick"],["dwActionAuthorized","","type","button","id","service-order-detail-generatedkb","angularticsAction","\u8be6\u60c5-\u70b9\u51fb\u8f6c\u77e5\u8bc6\u5e93","dw-analyticsOn","click",1,"mybutton",3,"dwDefaultAuthorized","dwActionId","angularticsCategory","angularticsLabel","dwClick"],["src","../../../../../../assets/img/icon_knowledge.png","alt","\u8f6c\u77e5\u8bc6\u5e93",1,"knowledge-icon"],["dw-button","","dwType","text","dwActionAuthorized","","type","button","angularticsAction","\u8be6\u60c5-\u70b9\u51fb\u5bfc\u51fa","dw-analyticsOn","click",1,"mybutton",3,"dwDefaultAuthorized","dwActionId","angularticsCategory","angularticsLabel","dwLoading","dwClick"],["class","func-icon upload","src","../../../../../../assets/img/icon_upload.png","alt","\u5bfc\u51fa",4,"ngIf"],["src","../../../../../../assets/img/icon_upload.png","alt","\u5bfc\u51fa",1,"func-icon","upload"],[1,"kbs2"],["src","../../../../../../assets/img/kbs2.png","alt","\u77e5\u8bc6\u8d44\u4ea7"],[1,"service-order-detail-evaluate-tab"],[3,"dwData","dwShowPagination"],["dwTable00",""],[2,"font-weight","bold","border-top","1px solid #e8e8e8"],[2,"border-top","1px solid #e8e8e8"],["width","64",2,"font-weight","bold","border-top","1px solid #e8e8e8"],["width","106",2,"font-weight","bold","border-top","1px solid #e8e8e8"],["width","106",2,"font-weight","bold"],["colspan","3"],[2,"font-weight","bold"],[2,"min-width","96px","max-width","136px"],[2,"min-width","96px","max-width","200px"],["dw-th","","width","100"],["dwAlign","right"],["style","color:#2E8B57;",4,"ngIf"],[1,"align-center"],["style","color:#B22222;",4,"ngIf"],[2,"min-width","96px","max-width","196px"],[2,"color","#2E8B57"],[2,"color","#B22222"],[3,"item",4,"ngIf"],[3,"item"],[2,"min-width","96px","max-width","240px"],["alt","\u670d\u52a1\u7167\u7247",3,"src","ngStyle"],[1,"sub-title",2,"margin-top","0"],["class","file",4,"ngFor","ngForOf"],[1,"file"],[1,"download",3,"click"],[2,"font-size","14px","color","#666666"],["alt","\u5ba2\u6237\u7b7e\u540d",2,"width","300px",3,"src"],["dw-button","","dwType","default",3,"click"],["dw-icon","","dwType","edit"],["dw-button","","dwType","primary",3,"click"],["dw-icon","","dwType","save"],["dw-icon","","dwType","close-circle"],[2,"text-align","center","vertical-align","middle"],[1,"align-right"],[3,"ngModel","dwMin","dwStep","dwPrecision","ngModelChange"],["dw-button","","dwType","default",2,"margin-bottom","16px",3,"click"],["dw-th","","width","46",1,"align-center"],["dw-input","","type","text","maxlength","255",3,"ngModel","ngModelChange"],["title","\u5220\u9664",3,"click",4,"ngIf"],["title","\u5220\u9664",3,"click"],["src","../../../../../../assets/img/icon_delete.png","alt","\u5220\u9664",1,"action-icon"],["src","../../../../../../assets/img/icon_delete_hover.png","alt","\u5220\u9664",1,"action-icon"],["dw-button","","dwType","default",2,"float","left","margin-top","16px",3,"click"],["dw-button","","dwType","default","dwActionAuthorized","",3,"dwActionId","dwDefaultAuthorized","click"],["dw-button","","dwType","primary","dwActionAuthorized","",3,"dwActionId","dwDefaultAuthorized","click"],["dw-button","","dwType","primary",3,"disabled","click"],["dw-th","","dwWidth","64px","dwAlign","center"],["dw-tbody-tr","",3,"formGroup"],["dw-tbody-td",""],["dw-tbody-td","",2,"padding-right","30px",3,"dwAlign"],["formControlName","cost_amt",3,"dwMin","dwStep","dwPrecision"],["dw-input","","maxlength","50","formControlName","description"],["dw-tbody-td","",1,"align-center"],["title","\u5220\u9664","dwActionAuthorized","",3,"dwActionId","dwDefaultAuthorized"],["dw-popconfirm","",3,"dwPopconfirmTitle","dwOkText","dwCancelText","dwOnConfirm"],["dw-popconfirm",""],["alt","\u5220\u9664",1,"action-icon",3,"src"],[1,"sub-title",2,"margin-top","20px"],[1,"anther-info",2,"margin-left","20px"],["cols","1","labelSpan","20","inputSpan","20","tableName","service_doc",3,"group","dwDocument"],["dwTitle","\u8bc4\u4ef7\u56de\u8bbf","id","service-order-detail-evaluate-tab"],[1,"service-order-detail-evaluate-tab",2,"margin-top","16px"],[1,"no-data-text"],[2,"text-align","center"],["dw-button","","dwActionAuthorized","","id","service-order-detail-evaluate","angularticsAction","\u8be6\u60c5-\u70b9\u51fb\u5b8c\u5584\u8bc4\u4ef7","dw-analyticsOn","click",3,"dwType","dwActionId","dwDefaultAuthorized","angularticsCategory","angularticsLabel","dwClick"],[3,"dwData","dwFrontPagination"],["dwTable0",""],["dw-th","","colspan","2",2,"background","#fafafa","padding","12px 24px"],["class","resolve-text",4,"ngIf"],["width","320"],[1,"returnvisit-label"],["dwDisabled","",3,"dwCharacter","ngModel","ngModelChange"],["characterIcon",""],["class","score-text",4,"ngIf"],[2,"min-height","94px"],[2,"color","rgba(0,0,0,0.65)"],[2,"color","rgba(0,0,0,0.85)"],[1,"resolve-text"],["src","../../../../../../assets/img/img_right.png","alt","\u95ee\u9898\u5df2\u89e3\u51b3",2,"width","40px","margin-right","16px"],["src","../../../../../../assets/img/img_wrong.png","alt","\u95ee\u9898\u672a\u89e3\u51b3",2,"width","40px","margin-right","16px"],["dw-icon","","dwTheme","fill","dwType","heart"],[1,"score-text"],["dw-button","","dwActionAuthorized","","angularticsAction","\u8be6\u60c5-\u70b9\u51fb\u670d\u52a1\u56de\u8bbf","dw-analyticsOn","click",3,"dwType","dwActionId","dwDefaultAuthorized","angularticsCategory","angularticsLabel","dwClick"],["dwTable",""],["width","320","dwAlign","center"],["translate","",2,"font-weight","bold"],[1,"processrecord-wrap"],["class","processrecord-card",4,"ngFor","ngForOf"],[1,"processrecord-card"],["src","../../../../../../assets/img/icon_communication_gray.png","alt","\u6c9f\u901a",2,"height","25px","width","28px","margin-top","4px"],[1,"detail"],[1,"record"],["productFileChild",""],[1,"detail-title"],["src","../../../../../../assets/img/qrcode.png","alt","\u4e8c\u7ef4\u7801",1,"qrcode",3,"click"],["class","workrecordBox",4,"ngFor","ngForOf"],[1,"workrecordBox"],[1,"infoBox"],["class","head","alt","",3,"src",4,"ngIf"],["class","head","src","../../../../../../assets/img/user-head.png","alt","",4,"ngIf"],[1,"infoDetail"],[1,"row"],[2,"width","100px","margin-right","10px"],["dwSize","small",3,"dwShowInfo","dwPercent","dwStrokeColor"],["src","../../../../../../assets/img/icon_clock.png","alt","",1,"clock"],[2,"word-break","break-all"],["class","blue",3,"click",4,"ngIf"],[1,"files"],["class","file","style","cursor: pointer;",3,"click",4,"ngFor","ngForOf"],["alt","",1,"head",3,"src"],["src","../../../../../../assets/img/user-head.png","alt","",1,"head"],[1,"blue",3,"click"],[1,"file",2,"cursor","pointer",3,"click"],["class","logo","src","../../../../../../assets/img/icon_excel.png","alt","excel",4,"ngIf"],["class","logo","src","../../../../../../assets/img/icon_word.png","alt","word",4,"ngIf"],["class","logo","src","../../../../../../assets/img/icon_pdf.png","alt","pdf",4,"ngIf"],["class","logo","src","../../../../../../assets/img/icon_ppt.png","alt","ppt",4,"ngIf"],["src","../../../../../../assets/img/icon_excel.png","alt","excel",1,"logo"],["src","../../../../../../assets/img/icon_word.png","alt","word",1,"logo"],["src","../../../../../../assets/img/icon_pdf.png","alt","pdf",1,"logo"],["src","../../../../../../assets/img/icon_ppt.png","alt","ppt",1,"logo"],["alt","\u5ba2\u6237\u7b7e\u540d",3,"src","ngStyle"],["alt","\u6253\u5361\u7167\u7247",3,"src","ngStyle"]],template:function(e,t){if(1&e&&(M.\u0275\u0275elementStart(0,"dw-content",0),M.\u0275\u0275listener("click",function(){return t.hideActBox()}),M.\u0275\u0275template(1,Kr,8,0,"ng-container",1),M.\u0275\u0275elementStart(2,"div"),M.\u0275\u0275elementStart(3,"div",2),M.\u0275\u0275elementStart(4,"div",3),M.\u0275\u0275elementStart(5,"dw-tabset",4),M.\u0275\u0275elementStart(6,"dw-tab",5),M.\u0275\u0275elementStart(7,"div",6),M.\u0275\u0275elementStart(8,"dw-form-item"),M.\u0275\u0275elementStart(9,"dw-form-control",7),M.\u0275\u0275text(10),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(11,"dw-form-item"),M.\u0275\u0275elementStart(12,"dw-form-control",7),M.\u0275\u0275text(13),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(14,"dw-form-item"),M.\u0275\u0275elementStart(15,"dw-form-control",7),M.\u0275\u0275elementStart(16,"div",8),M.\u0275\u0275elementStart(17,"span"),M.\u0275\u0275text(18),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(19,"span",9),M.\u0275\u0275text(20),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(21,"dw-form-item"),M.\u0275\u0275elementStart(22,"dw-form-control",7),M.\u0275\u0275elementStart(23,"div",8),M.\u0275\u0275elementStart(24,"span"),M.\u0275\u0275text(25),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(26,"span",9),M.\u0275\u0275text(27),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(28,"dw-form-item"),M.\u0275\u0275elementStart(29,"dw-form-control",7),M.\u0275\u0275elementStart(30,"div",2),M.\u0275\u0275elementStart(31,"span"),M.\u0275\u0275text(32),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(33,"span",10),M.\u0275\u0275text(34),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(35,"dw-form-item"),M.\u0275\u0275elementStart(36,"dw-form-control",7),M.\u0275\u0275elementStart(37,"div",8),M.\u0275\u0275elementStart(38,"span"),M.\u0275\u0275text(39),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(40,"span",9),M.\u0275\u0275text(41),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(42,"dw-form-item"),M.\u0275\u0275elementStart(43,"dw-form-control",7),M.\u0275\u0275elementStart(44,"div",8),M.\u0275\u0275elementStart(45,"span"),M.\u0275\u0275text(46),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(47,"span",11),M.\u0275\u0275listener("click",function(){return t.seeDetail(t.serviceOrderBaseInfo)}),M.\u0275\u0275text(48),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(49,"dw-form-item"),M.\u0275\u0275elementStart(50,"dw-form-control",7),M.\u0275\u0275text(51),M.\u0275\u0275pipe(52,"date"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(53,"dw-form-item"),M.\u0275\u0275elementStart(54,"dw-form-control",7),M.\u0275\u0275text(55),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(56,"dw-form-item"),M.\u0275\u0275elementStart(57,"dw-form-control",7),M.\u0275\u0275text(58),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(59,"dw-form-item"),M.\u0275\u0275elementStart(60,"dw-form-control",7),M.\u0275\u0275text(61),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(62,"dw-form-item"),M.\u0275\u0275elementStart(63,"dw-form-control",7),M.\u0275\u0275text(64," \u95ee\u9898\u63cf\u8ff0:\xa0\xa0 "),M.\u0275\u0275template(65,Jr,2,1,"div",12),M.\u0275\u0275elementStart(66,"div",13),M.\u0275\u0275text(67),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(68,"dw-form-item"),M.\u0275\u0275elementStart(69,"dw-form-control",7),M.\u0275\u0275text(70),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(71,"dw-form-item"),M.\u0275\u0275elementStart(72,"dw-form-control",7),M.\u0275\u0275text(73),M.\u0275\u0275pipe(74,"date"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(75,"dw-form-item"),M.\u0275\u0275elementStart(76,"dw-form-control",7),M.\u0275\u0275text(77," \u9884\u7ea6\u6e20\u9053:\xa0\xa0"),M.\u0275\u0275elementStart(78,"span"),M.\u0275\u0275text(79),M.\u0275\u0275elementEnd(),M.\u0275\u0275template(80,Zr,2,1,"span",1),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275template(81,ti,4,4,"dw-form-item",1),M.\u0275\u0275elementStart(82,"dw-form-item"),M.\u0275\u0275elementStart(83,"dw-form-control",7),M.\u0275\u0275text(84),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(85,"dw-form-item"),M.\u0275\u0275elementStart(86,"dw-form-control",7),M.\u0275\u0275text(87),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(88,"dw-form-item"),M.\u0275\u0275elementStart(89,"dw-form-control",7),M.\u0275\u0275text(90),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(91,"dw-form-item"),M.\u0275\u0275elementStart(92,"dw-form-control",7),M.\u0275\u0275text(93),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(94,"dw-form-item"),M.\u0275\u0275elementStart(95,"dw-form-control",7),M.\u0275\u0275text(96),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(97,"dw-form-item"),M.\u0275\u0275elementStart(98,"dw-form-control",7),M.\u0275\u0275text(99," \u76f8\u5173\u56fe\u7247:\xa0\xa0 "),M.\u0275\u0275elementStart(100,"div",14),M.\u0275\u0275elementStart(101,"dw-upload",15),M.\u0275\u0275listener("dwFileListChange",function(e){return t.baseInfoFileContextList=e}),M.\u0275\u0275element(102,"em",16),M.\u0275\u0275elementStart(103,"div",17),M.\u0275\u0275text(104,"\u4e0a\u4f20"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(105,"dw-modal",18),M.\u0275\u0275listener("dwOnCancel",function(){return t.previewVisible=!1}),M.\u0275\u0275template(106,ri,1,3,"ng-template",null,19,M.\u0275\u0275templateRefExtractor),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(108,"dw-form-item"),M.\u0275\u0275text(109," \u6545\u969c\u89c6\u9891:\xa0\xa0 "),M.\u0275\u0275elementStart(110,"div",20),M.\u0275\u0275elementStart(111,"div",21),M.\u0275\u0275template(112,ai,4,4,"ng-container",22),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(113,"dw-form-item"),M.\u0275\u0275elementStart(114,"dw-form-control",7),M.\u0275\u0275text(115),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275template(116,si,6,1,"dw-tab",23),M.\u0275\u0275template(117,fi,3,1,"dw-tab",24),M.\u0275\u0275template(118,Si,14,2,"dw-tab",25),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275element(119,"div",26),M.\u0275\u0275elementStart(120,"div",27),M.\u0275\u0275elementStart(121,"app-service-order-dispatch",28,29),M.\u0275\u0275listener("visibleChanged",function(){return t.changeDispatchVisible(!1)}),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(123,"app-service-order-distribution",30,31),M.\u0275\u0275listener("visibleChanged",function(){return t.changeDistributionVisible(!1)}),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(125,"app-service-order-evaluation",32,33),M.\u0275\u0275listener("visibleChanged",function(){return t.changeEvaluationVisible(!1)}),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(127,"app-service-order-returnvisit",34,35),M.\u0275\u0275listener("visibleChanged",function(e){return t.changeReturnvisitVisible(e)}),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(129,"app-service-order-review",36,37),M.\u0275\u0275listener("visibleChanged",function(e){return t.changeReviewVisible(e)}),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(131,"app-service-order-clock",38,39),M.\u0275\u0275listener("visibleChanged",function(){return t.changeClock(!1)})("previewChange",function(e){return t.handlePreviewClockIn(e)}),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(133,"div",40),M.\u0275\u0275elementStart(134,"div",41),M.\u0275\u0275text(135," \u5f53\u524d\u73af\u8282 "),M.\u0275\u0275elementStart(136,"span"),M.\u0275\u0275text(137),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275template(138,ki,9,6,"div",42),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(139,"div",43),M.\u0275\u0275elementStart(140,"dw-tabset",44),M.\u0275\u0275listener("dwSelectChange",function(e){return t.onTabChange(e)}),M.\u0275\u0275elementStart(141,"dw-tab",45),M.\u0275\u0275elementStart(142,"div",46),M.\u0275\u0275elementStart(143,"dw-steps",47),M.\u0275\u0275element(144,"dw-step",48),M.\u0275\u0275element(145,"dw-step",49),M.\u0275\u0275element(146,"dw-step",50),M.\u0275\u0275element(147,"dw-step",51),M.\u0275\u0275element(148,"dw-step",52),M.\u0275\u0275element(149,"dw-step",53),M.\u0275\u0275elementEnd(),M.\u0275\u0275template(150,Vi,1,1,"ng-template",null,54,M.\u0275\u0275templateRefExtractor),M.\u0275\u0275elementStart(152,"p",55),M.\u0275\u0275elementStart(153,"strong"),M.\u0275\u0275elementStart(154,"span"),M.\u0275\u0275text(155,"\u6240\u6709\u52a8\u6001"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(156,"dw-timeline",56),M.\u0275\u0275template(157,zi,11,9,"dw-timeline-item",57),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(158,"dw-tab",58),M.\u0275\u0275template(159,Zi,19,12,"div",59),M.\u0275\u0275template(160,Yi,2,0,"p",60),M.\u0275\u0275template(161,ta,30,21,"div",61),M.\u0275\u0275elementStart(162,"p",62),M.\u0275\u0275text(163,"\u6545\u969c\u89e3\u51b3\u60c5\u51b5"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(164,"dw-table",63,64),M.\u0275\u0275elementStart(166,"thead"),M.\u0275\u0275elementStart(167,"tr",65),M.\u0275\u0275elementStart(168,"th",66),M.\u0275\u0275elementStart(169,"span",67),M.\u0275\u0275text(170,"\u6545\u969c\u540d\u79f0"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(171,"th",66),M.\u0275\u0275elementStart(172,"span",67),M.\u0275\u0275text(173,"\u6545\u969c\u90e8\u4f4d"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(174,"th",66),M.\u0275\u0275elementStart(175,"span",67),M.\u0275\u0275text(176,"\u6545\u969c\u63cf\u8ff0"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(177,"th",66),M.\u0275\u0275elementStart(178,"span",67),M.\u0275\u0275text(179,"\u5904\u7406\u8bf4\u660e"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(180,"tbody"),M.\u0275\u0275template(181,ia,11,6,"tr",22),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(182,"p",62),M.\u0275\u0275text(183,"\u96f6\u914d\u4ef6\u66f4\u6362"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(184,"dw-table",68,69),M.\u0275\u0275elementStart(186,"thead"),M.\u0275\u0275elementStart(187,"tr",65),M.\u0275\u0275elementStart(188,"th",66),M.\u0275\u0275elementStart(189,"span",67),M.\u0275\u0275text(190,"\u539f\u96f6\u914d\u4ef6\u4fe1\u606f"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(191,"th",66),M.\u0275\u0275elementStart(192,"span",67),M.\u0275\u0275text(193,"\u539f\u96f6\u914d\u4ef6\u5e8f\u5217\u53f7"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(194,"th",70),M.\u0275\u0275elementStart(195,"span",67),M.\u0275\u0275text(196,"\u539f\u96f6\u914d\u4ef6\u6570\u91cf"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(197,"th",71),M.\u0275\u0275elementStart(198,"span",67),M.\u0275\u0275text(199,"\u9700\u8fd4\u56de"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(200,"th",66),M.\u0275\u0275elementStart(201,"span",67),M.\u0275\u0275text(202,"\u65b0\u96f6\u914d\u4ef6\u4fe1\u606f"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(203,"th",66),M.\u0275\u0275elementStart(204,"span",67),M.\u0275\u0275text(205,"\u65b0\u96f6\u914d\u4ef6\u5e8f\u5217\u53f7"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275template(206,aa,3,0,"th",72),M.\u0275\u0275elementStart(207,"th",73),M.\u0275\u0275elementStart(208,"span",67),M.\u0275\u0275text(209,"\u6570\u91cf"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(210,"tbody"),M.\u0275\u0275template(211,ua,17,9,"tr",22),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(212,"p",62),M.\u0275\u0275text(213,"\u670d\u52a1\u9879\u76ee"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(214,"dw-table",63,74),M.\u0275\u0275elementStart(216,"thead"),M.\u0275\u0275elementStart(217,"tr",65),M.\u0275\u0275elementStart(218,"th",66),M.\u0275\u0275elementStart(219,"span",67),M.\u0275\u0275text(220,"\u670d\u52a1\u9879\u76ee"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(221,"th",75),M.\u0275\u0275elementStart(222,"span",67),M.\u0275\u0275text(223,"\u5904\u7406\u8bf4\u660e"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(224,"tbody"),M.\u0275\u0275template(225,fa,5,2,"tr",22),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(226,"p",62),M.\u0275\u0275text(227,"\u670d\u52a1\u7167\u7247"),M.\u0275\u0275elementEnd(),M.\u0275\u0275template(228,ga,8,8,"div",76),M.\u0275\u0275elementStart(229,"p",62),M.\u0275\u0275text(230,"\u670d\u52a1\u89c6\u9891"),M.\u0275\u0275elementEnd(),M.\u0275\u0275template(231,xa,3,3,"div",76),M.\u0275\u0275template(232,_a,2,0,"p",77),M.\u0275\u0275template(233,Da,2,1,"div",76),M.\u0275\u0275elementStart(234,"p",62),M.\u0275\u0275text(235,"\u5907\u6ce8"),M.\u0275\u0275elementEnd(),M.\u0275\u0275template(236,Oa,3,1,"p",1),M.\u0275\u0275elementStart(237,"p",62),M.\u0275\u0275text(238,"\u5ba2\u6237\u7b7e\u540d"),M.\u0275\u0275elementEnd(),M.\u0275\u0275template(239,ka,3,1,"p",1),M.\u0275\u0275template(240,Ma,2,1,"p",1),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(241,"dw-tab",78),M.\u0275\u0275elementStart(242,"p",62),M.\u0275\u0275text(243," \u672c\u6b21\u670d\u52a1\u7684\u7ed3\u7b97\u4fe1\u606f\u5982\u4e0b\uff1a "),M.\u0275\u0275elementStart(244,"span",79),M.\u0275\u0275template(245,Pa,4,0,"ng-container",1),M.\u0275\u0275template(246,Fa,4,0,"ng-container",1),M.\u0275\u0275template(247,Va,4,0,"ng-container",1),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(248,"div",80),M.\u0275\u0275elementStart(249,"strong"),M.\u0275\u0275elementStart(250,"span",81),M.\u0275\u0275text(251,"\u6750\u6599\u8d39"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(252,"span",81),M.\u0275\u0275text(253,"\xa0\uff08\u5408\u8ba1\uff1a"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(254,"strong"),M.\u0275\u0275elementStart(255,"span",82),M.\u0275\u0275text(256,"\uffe5"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(257,"span",82),M.\u0275\u0275elementStart(258,"strong"),M.\u0275\u0275text(259),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(260,"span",81),M.\u0275\u0275text(261,"\uff09"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(262,"dw-table",68,83),M.\u0275\u0275elementStart(264,"thead"),M.\u0275\u0275elementStart(265,"tr",65),M.\u0275\u0275elementStart(266,"th",66),M.\u0275\u0275elementStart(267,"span",67),M.\u0275\u0275text(268,"\u5e8f\u53f7"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(269,"th",66),M.\u0275\u0275elementStart(270,"span",67),M.\u0275\u0275text(271,"\u914d\u4ef6\u7f16\u53f7"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(272,"th",66),M.\u0275\u0275elementStart(273,"span",67),M.\u0275\u0275text(274,"\u914d\u4ef6\u540d\u79f0"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(275,"th",66),M.\u0275\u0275elementStart(276,"span",67),M.\u0275\u0275text(277,"\u914d\u4ef6\u89c4\u683c"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(278,"th",84),M.\u0275\u0275elementStart(279,"span",67),M.\u0275\u0275text(280,"\u4f7f\u7528\u6570\u91cf"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(281,"th",84),M.\u0275\u0275elementStart(282,"span",67),M.\u0275\u0275text(283,"\u914d\u4ef6\u5355\u4ef7(\u5143)"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(284,"th",84),M.\u0275\u0275elementStart(285,"span",67),M.\u0275\u0275text(286,"\u5e94\u6536\u91d1\u989d(\u5143)"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(287,"tbody"),M.\u0275\u0275template(288,Ra,16,8,"tr",22),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(289,"div",80),M.\u0275\u0275elementStart(290,"strong"),M.\u0275\u0275elementStart(291,"span",81),M.\u0275\u0275text(292,"\u670d\u52a1\u8d39"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(293,"span",81),M.\u0275\u0275text(294,"\xa0\uff08\u5408\u8ba1\uff1a"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(295,"strong"),M.\u0275\u0275elementStart(296,"span",82),M.\u0275\u0275text(297,"\uffe5"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(298,"span",82),M.\u0275\u0275elementStart(299,"strong"),M.\u0275\u0275text(300),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(301,"span",81),M.\u0275\u0275text(302,"\uff09"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275template(303,Aa,3,0,"button",85),M.\u0275\u0275elementStart(304,"dw-table",63,86),M.\u0275\u0275elementStart(306,"thead"),M.\u0275\u0275elementStart(307,"tr",65),M.\u0275\u0275elementStart(308,"th",87),M.\u0275\u0275elementStart(309,"span",67),M.\u0275\u0275text(310,"\u5e8f\u53f7"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(311,"th",88),M.\u0275\u0275elementStart(312,"span",67),M.\u0275\u0275text(313,"\u9879\u76ee\u540d\u79f0"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(314,"th",89),M.\u0275\u0275elementStart(315,"span",67),M.\u0275\u0275text(316,"\u9879\u76ee\u4ef7\u683c(\u5143)"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(317,"th",89),M.\u0275\u0275elementStart(318,"span",67),M.\u0275\u0275text(319,"\u5e94\u6536\u91d1\u989d(\u5143)"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(320,"th",66),M.\u0275\u0275elementStart(321,"span",67),M.\u0275\u0275text(322,"\u5904\u7406\u8bf4\u660e"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275template(323,Na,3,0,"th",90),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(324,"tbody"),M.\u0275\u0275template(325,Ga,14,8,"tr",22),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(326,"p",91),M.\u0275\u0275elementStart(327,"strong",92),M.\u0275\u0275text(328,"\u5e94\u6536\u91d1\u989d\uff1a"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(329,"strong"),M.\u0275\u0275elementStart(330,"span",92),M.\u0275\u0275text(331,"\uffe5"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(332,"span",93),M.\u0275\u0275elementStart(333,"strong"),M.\u0275\u0275elementStart(334,"span",92),M.\u0275\u0275text(335),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(336,"span",81),M.\u0275\u0275text(337,"\xa0 "),M.\u0275\u0275elementStart(338,"span",94),M.\u0275\u0275text(339,"\xa0"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(340,"strong",92),M.\u0275\u0275text(341,"|\xa0 \u5b9e\u6536\u91d1\u989d\uff1a"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(342,"strong"),M.\u0275\u0275elementStart(343,"strong"),M.\u0275\u0275elementStart(344,"span",82),M.\u0275\u0275text(345,"\uffe5"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(346,"span",82),M.\u0275\u0275template(347,Ua,2,0,"strong",1),M.\u0275\u0275template(348,Ha,2,1,"strong",1),M.\u0275\u0275elementEnd(),M.\u0275\u0275element(349,"span",81),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(350,"p",62),M.\u0275\u0275text(351,"\u5907\u6ce8\uff1a"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(352,"p"),M.\u0275\u0275elementStart(353,"span",95),M.\u0275\u0275text(354),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(355,"dw-tab",96),M.\u0275\u0275template(356,Xa,4,0,"ng-container",1),M.\u0275\u0275elementStart(357,"div",97),M.\u0275\u0275template(358,Ja,3,2,"ng-container",1),M.\u0275\u0275template(359,Za,4,1,"ng-container",1),M.\u0275\u0275template(360,Ya,4,0,"ng-container",1),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(361,"p",62),M.\u0275\u0275text(362,"\u6210\u672c\u660e\u7ec6\uff1a"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(363,"dw-table",98,99),M.\u0275\u0275elementStart(365,"thead",100),M.\u0275\u0275elementStart(366,"tr",65),M.\u0275\u0275elementStart(367,"th",101),M.\u0275\u0275text(368,"\u670d\u52a1\u6210\u672c"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(369,"th",102),M.\u0275\u0275text(370,"\u6210\u672c(\u5143)"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(371,"th",103),M.\u0275\u0275text(372,"\u8bf4\u660e"),M.\u0275\u0275elementEnd(),M.\u0275\u0275template(373,eo,3,0,"ng-container",1),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(374,"tbody",104),M.\u0275\u0275template(375,lo,2,1,"ng-container",22),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(376,"div"),M.\u0275\u0275text(377,"\u5408\u8ba1 : "),M.\u0275\u0275elementStart(378,"strong",105),M.\u0275\u0275text(379),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275template(380,fo,6,2,"div",1),M.\u0275\u0275elementEnd(),M.\u0275\u0275template(381,Qo,10,4,"dw-tab",106),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(382,"app-service-report",107,108),M.\u0275\u0275listener("visibleChanged",function(e){return t.changeVisible(e)}),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(384,"app-add-partchange-record",109,110),M.\u0275\u0275listener("visibleChanged",function(e){return t.changeAddPartVisible(e)}),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(386,"dw-modal",111),M.\u0275\u0275listener("dwVisibleChange",function(e){return t.isShowCommunication=e})("dwOnCancel",function(){return t.cancelCommunication()}),M.\u0275\u0275template(387,Jo,2,1,"ng-template",112),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(388,"app-product-equipments",109,113),M.\u0275\u0275listener("visibleChanged",function(e){return t.equipmentsChangeVisible(e)}),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(390,"dw-modal",114),M.\u0275\u0275listener("dwOnCancel",function(){return t.isCollapsed=!1})("dwVisibleChange",function(e){return t.isCollapsed=e}),M.\u0275\u0275template(391,Zo,2,0,"ng-template",112),M.\u0275\u0275elementEnd(),M.\u0275\u0275template(392,Yo,3,0,"ng-template",null,115,M.\u0275\u0275templateRefExtractor),M.\u0275\u0275elementStart(394,"dw-modal",116),M.\u0275\u0275listener("dwVisibleChange",function(e){return t.isShowWorksrecord=e})("dwOnCancel",function(){return t.cancelWorkrecord()}),M.\u0275\u0275template(395,ml,4,1,"ng-template",112),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(396,"dw-modal",18),M.\u0275\u0275listener("dwOnCancel",function(){return t.signature_picture_visible=!1}),M.\u0275\u0275template(397,pl,1,3,"ng-template",null,117,M.\u0275\u0275templateRefExtractor),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(399,"dw-modal",18),M.\u0275\u0275listener("dwOnCancel",function(){return t.previewVisibleClockIn=!1}),M.\u0275\u0275template(400,ul,1,3,"ng-template",null,118,M.\u0275\u0275templateRefExtractor),M.\u0275\u0275elementEnd()),2&e){var n=M.\u0275\u0275reference(107),r=M.\u0275\u0275reference(151),i=M.\u0275\u0275reference(165),a=M.\u0275\u0275reference(185),o=M.\u0275\u0275reference(215),l=M.\u0275\u0275reference(263),d=M.\u0275\u0275reference(305),c=M.\u0275\u0275reference(364),s=M.\u0275\u0275reference(393),m=M.\u0275\u0275reference(398),p=M.\u0275\u0275reference(401);M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf",!t.isComponent),M.\u0275\u0275advance(1),M.\u0275\u0275classMap(t.isComponent?"":"content-box"),M.\u0275\u0275advance(3),M.\u0275\u0275property("dwTabPosition","top")("dwType","line")("dwAnimated",!1),M.\u0275\u0275advance(4),M.\u0275\u0275property("dwSm",18)("dwXs",24),M.\u0275\u0275advance(1),M.\u0275\u0275textInterpolate1(" \u5355\u53f7: \xa0\xa0",t.serviceOrderBaseInfo.doc_no," "),M.\u0275\u0275advance(2),M.\u0275\u0275property("dwSm",18)("dwXs",24),M.\u0275\u0275advance(1),M.\u0275\u0275textInterpolate1(" \u5ba2\u6237: \xa0\xa0",t.serviceOrderBaseInfo.customer_name," "),M.\u0275\u0275advance(2),M.\u0275\u0275property("dwSm",18)("dwXs",24),M.\u0275\u0275advance(3),M.\u0275\u0275textInterpolate1("","1"===t.serviceOrderBaseInfo.type?"\u8bbe\u5907\u7f16\u53f7:":"\u4ea7\u7ebf/\u9879\u76ee\u7f16\u53f7:","\xa0\xa0"),M.\u0275\u0275advance(2),M.\u0275\u0275textInterpolate(t.serviceOrderBaseInfo.product_file_code),M.\u0275\u0275advance(2),M.\u0275\u0275property("dwSm",18)("dwXs",24),M.\u0275\u0275advance(3),M.\u0275\u0275textInterpolate1("","1"===t.serviceOrderBaseInfo.type?"\u8bbe\u5907\u540d\u79f0:":"\u4ea7\u7ebf/\u9879\u76ee\u540d\u79f0:","\xa0\xa0"),M.\u0275\u0275advance(2),M.\u0275\u0275textInterpolate(t.serviceOrderBaseInfo.product_file_name),M.\u0275\u0275advance(2),M.\u0275\u0275property("dwSm",18)("dwXs",24),M.\u0275\u0275advance(3),M.\u0275\u0275textInterpolate1("","1"===t.serviceOrderBaseInfo.type?"\u8bbe\u5907\u89c4\u683c:":"\u4ea7\u7ebf/\u9879\u76ee\u89c4\u683c:"," \xa0\xa0"),M.\u0275\u0275advance(2),M.\u0275\u0275textInterpolate(t.serviceOrderBaseInfo.specification),M.\u0275\u0275advance(2),M.\u0275\u0275property("dwSm",18)("dwXs",24),M.\u0275\u0275advance(3),M.\u0275\u0275textInterpolate1("","1"===t.serviceOrderBaseInfo.type?"\u8bbe\u5907\u578b\u53f7:":"\u4ea7\u7ebf/\u9879\u76ee\u578b\u53f7:","\xa0\xa0"),M.\u0275\u0275advance(2),M.\u0275\u0275textInterpolate(t.serviceOrderBaseInfo.model),M.\u0275\u0275advance(2),M.\u0275\u0275property("dwSm",18)("dwXs",24),M.\u0275\u0275advance(3),M.\u0275\u0275textInterpolate1("","1"===t.serviceOrderBaseInfo.type?"\u5e8f\u5217\u53f7:":"\u9879\u76ee\u53f7:","\xa0\xa0"),M.\u0275\u0275advance(2),M.\u0275\u0275textInterpolate(t.serviceOrderBaseInfo.sn),M.\u0275\u0275advance(2),M.\u0275\u0275property("dwSm",18)("dwXs",24),M.\u0275\u0275advance(1),M.\u0275\u0275textInterpolate1(" \u51fa\u5e93\u65e5\u671f:\xa0\xa0",M.\u0275\u0275pipeBind2(52,178,t.serviceOrderBaseInfo.delivery_date,"yyyy/MM/dd")," "),M.\u0275\u0275advance(3),M.\u0275\u0275property("dwSm",18)("dwXs",24),M.\u0275\u0275advance(1),M.\u0275\u0275textInterpolate1(" \u662f\u5426\u5728\u4fdd:\xa0\xa0",t.is_under_warranty_show," "),M.\u0275\u0275advance(2),M.\u0275\u0275property("dwSm",18)("dwXs",24),M.\u0275\u0275advance(1),M.\u0275\u0275textInterpolate1(" \u670d\u52a1\u7c7b\u578b:\xa0\xa0",t.serviceOrderBaseInfo.service_type_name," "),M.\u0275\u0275advance(2),M.\u0275\u0275property("dwSm",18)("dwXs",24),M.\u0275\u0275advance(1),M.\u0275\u0275textInterpolate1(" \u6545\u969c\u7c7b\u578b:\xa0\xa0",t.serviceOrderBaseInfo.breakdown_name," "),M.\u0275\u0275advance(2),M.\u0275\u0275property("dwSm",18)("dwXs",24),M.\u0275\u0275advance(2),M.\u0275\u0275property("ngIf",t.serviceOrderBaseInfo.fault_phrase),M.\u0275\u0275advance(2),M.\u0275\u0275textInterpolate(t.serviceOrderBaseInfo.description),M.\u0275\u0275advance(2),M.\u0275\u0275property("dwSm",18)("dwXs",24),M.\u0275\u0275advance(1),M.\u0275\u0275textInterpolate1(" \u7d27\u6025\u7a0b\u5ea6:\xa0\xa0",t.serviceOrderBaseInfo.service_urgency_name," "),M.\u0275\u0275advance(2),M.\u0275\u0275property("dwSm",18)("dwXs",24),M.\u0275\u0275advance(1),M.\u0275\u0275textInterpolate1(" \u9884\u7ea6\u65f6\u95f4:\xa0\xa0",M.\u0275\u0275pipeBind2(74,181,t.serviceOrderBaseInfo.appointment_date,"yyyy/MM/dd")," "),M.\u0275\u0275advance(3),M.\u0275\u0275property("dwSm",18)("dwXs",24),M.\u0275\u0275advance(3),M.\u0275\u0275textInterpolate(t.serviceOrderBaseInfo.channelLabel),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf","5"===t.serviceOrderBaseInfo.channel&&t.serviceOrderBaseInfo.channel_explanation),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf",1===t.service_mode||2===t.service_mode),M.\u0275\u0275advance(2),M.\u0275\u0275property("dwSm",18)("dwXs",24),M.\u0275\u0275advance(1),M.\u0275\u0275textInterpolate1(" \u4e1a\u52a1\u5458:\xa0\xa0",t.serviceOrderBaseInfo.salesman," "),M.\u0275\u0275advance(2),M.\u0275\u0275property("dwSm",18)("dwXs",24),M.\u0275\u0275advance(1),M.\u0275\u0275textInterpolate1(" \u624b\u673a\u53f7:\xa0\xa0",t.serviceOrderBaseInfo.telephone," "),M.\u0275\u0275advance(2),M.\u0275\u0275property("dwSm",18)("dwXs",24),M.\u0275\u0275advance(1),M.\u0275\u0275textInterpolate1(" \u8054\u7cfb\u4eba:\xa0\xa0",t.serviceOrderBaseInfo.contact," "),M.\u0275\u0275advance(2),M.\u0275\u0275property("dwSm",18)("dwXs",24),M.\u0275\u0275advance(1),M.\u0275\u0275textInterpolate1(" \u8054\u7cfb\u7535\u8bdd:\xa0\xa0",t.serviceOrderBaseInfo.contact_phone," "),M.\u0275\u0275advance(2),M.\u0275\u0275property("dwSm",18)("dwXs",24),M.\u0275\u0275advance(1),M.\u0275\u0275textInterpolate1(" \u5730\u5740:\xa0\xa0",t.serviceOrderBaseInfo.address," "),M.\u0275\u0275advance(2),M.\u0275\u0275property("dwSm",18)("dwXs",24),M.\u0275\u0275advance(3),M.\u0275\u0275property("dwFileList",t.baseInfoFileContextList)("dwShowButton",t.baseInfoFileContextList.length<0)("dwShowUploadList",M.\u0275\u0275pureFunction0(184,Ni))("dwPreview",t.handlePreview),M.\u0275\u0275advance(4),M.\u0275\u0275property("dwVisible",t.previewVisible)("dwContent",n)("dwFooter",null),M.\u0275\u0275advance(6),M.\u0275\u0275property("ngClass",M.\u0275\u0275pureFunction0(185,ya)),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngForOf",t.thumbnailList2),M.\u0275\u0275advance(2),M.\u0275\u0275property("dwSm",18)("dwXs",24),M.\u0275\u0275advance(1),M.\u0275\u0275textInterpolate1(" \u5907\u6ce8:\xa0\xa0",t.serviceOrderBaseInfo.remark," "),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf","2"===t.serviceOrderBaseInfo.type),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf",t.serviceOrderHasCustomizeField),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf",t.showTechnology),M.\u0275\u0275advance(3),M.\u0275\u0275property("isDispatchVisible",t.isDispatchVisible),M.\u0275\u0275advance(2),M.\u0275\u0275property("isDistributionVisible",t.isDistributionVisible),M.\u0275\u0275advance(2),M.\u0275\u0275property("isEvaluationVisible",t.isEvaluationVisible),M.\u0275\u0275advance(2),M.\u0275\u0275property("isReturnvisitVisible",t.isReturnvisitVisible),M.\u0275\u0275advance(2),M.\u0275\u0275property("isReviewVisible",t.isReviewVisible),M.\u0275\u0275advance(2),M.\u0275\u0275property("isClockVisible",t.isClockVisible),M.\u0275\u0275advance(6),M.\u0275\u0275textInterpolate(t.serviceOrderCurrentLink.state_show),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf","\u5df2\u5173\u95ed"!==t.serviceOrderCurrentLink.state_show&&"\u5df2\u53d6\u6d88"!==t.serviceOrderCurrentLink.state_show),M.\u0275\u0275advance(2),M.\u0275\u0275property("dwTabPosition","top")("dwType","line")("dwAnimated",!1),M.\u0275\u0275advance(3),M.\u0275\u0275property("dwCurrent",t.currentStatusIndex),M.\u0275\u0275advance(4),M.\u0275\u0275property("dwSubtitle",r),M.\u0275\u0275advance(10),M.\u0275\u0275property("ngForOf",t.serviceOrderProgressList),M.\u0275\u0275advance(2),M.\u0275\u0275property("ngIf",t.install.employee_name),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf",t.installDebugAccept),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf",t.installDebugAccept),M.\u0275\u0275advance(3),M.\u0275\u0275property("dwData",t.serviceDocBreakdownList),M.\u0275\u0275advance(17),M.\u0275\u0275property("ngForOf",i.data),M.\u0275\u0275advance(3),M.\u0275\u0275property("dwData",t.serviceDocMaterialList)("dwScroll",M.\u0275\u0275pureFunction0(186,fl)),M.\u0275\u0275advance(22),M.\u0275\u0275property("ngIf",t.showConfirmedPicture),M.\u0275\u0275advance(5),M.\u0275\u0275property("ngForOf",a.data),M.\u0275\u0275advance(3),M.\u0275\u0275property("dwData",t.serviceDocServiceItemList),M.\u0275\u0275advance(11),M.\u0275\u0275property("ngForOf",o.data),M.\u0275\u0275advance(3),M.\u0275\u0275property("ngIf",t.docInfoFileContextList.length),M.\u0275\u0275advance(3),M.\u0275\u0275property("ngIf",t.thumbnailList2_2.length),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf",t.installDebugAccept),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf",t.installDebugAccept&&t.install.annexs.length),M.\u0275\u0275advance(3),M.\u0275\u0275property("ngIf",t.remark),M.\u0275\u0275advance(3),M.\u0275\u0275property("ngIf",t.signature),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf",t.signature_picture),M.\u0275\u0275advance(5),M.\u0275\u0275property("ngIf",t.canEditAmount&&!t.inAmountEdit&&!t.isSettled),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf",t.inAmountEdit),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf",t.inAmountEdit),M.\u0275\u0275advance(12),M.\u0275\u0275textInterpolate(t.realAmount_material),M.\u0275\u0275advance(3),M.\u0275\u0275property("dwData",t.calcMaterialDetailList)("dwScroll",M.\u0275\u0275pureFunction0(187,vl)),M.\u0275\u0275advance(26),M.\u0275\u0275property("ngForOf",l.data),M.\u0275\u0275advance(12),M.\u0275\u0275textInterpolate(t.realAmount_service_item),M.\u0275\u0275advance(3),M.\u0275\u0275property("ngIf",t.inAmountEdit),M.\u0275\u0275advance(1),M.\u0275\u0275property("dwData",t.calcServiceItemDetailList),M.\u0275\u0275advance(19),M.\u0275\u0275property("ngIf",t.inAmountEdit),M.\u0275\u0275advance(2),M.\u0275\u0275property("ngForOf",d.data),M.\u0275\u0275advance(10),M.\u0275\u0275textInterpolate(t.needAmount_all),M.\u0275\u0275advance(12),M.\u0275\u0275property("ngIf",null==t.actual_receipt_amt),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf",null!=t.actual_receipt_amt),M.\u0275\u0275advance(6),M.\u0275\u0275textInterpolate1("\xa0\xa0",t.remark,""),M.\u0275\u0275advance(2),M.\u0275\u0275property("ngIf",t.editable),M.\u0275\u0275advance(2),M.\u0275\u0275property("ngIf",!t.editable&&t.canEdit),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf",t.editable),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf",t.editable),M.\u0275\u0275advance(1),M.\u0275\u0275styleMap(t.editable?"margin-top: 20px;":"margin-top: 0px;"),M.\u0275\u0275advance(2),M.\u0275\u0275property("dwData",t.serviceDocServiceCosts.activeRows),M.\u0275\u0275advance(6),M.\u0275\u0275property("dwAlign",t.editable?"left":"right"),M.\u0275\u0275advance(4),M.\u0275\u0275property("ngIf",t.editable),M.\u0275\u0275advance(2),M.\u0275\u0275property("ngForOf",c.data),M.\u0275\u0275advance(4),M.\u0275\u0275textInterpolate1("\xa5",t.sumServiceDocServiceCosts().toFixed(2),""),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf",t.serviceOrderHasCustomizeFieldCost),M.\u0275\u0275advance(1),M.\u0275\u0275property("ngIf","5"==t.serviceOrderBaseInfo.state||"6"==t.serviceOrderBaseInfo.state),M.\u0275\u0275advance(1),M.\u0275\u0275property("type",t.reportType)("visible",t.isVisible),M.\u0275\u0275advance(2),M.\u0275\u0275property("visible",t.isAddPartVisible),M.\u0275\u0275advance(2),M.\u0275\u0275property("dwBodyStyle",M.\u0275\u0275pureFunction0(188,gl))("dwMaskClosable",!1)("dwWidth",420)("dwVisible",t.isShowCommunication)("dwFooter",null),M.\u0275\u0275advance(2),M.\u0275\u0275property("visible",t.isEquipmentsVisible),M.\u0275\u0275advance(2),M.\u0275\u0275property("dwTitle",s)("dwFooter",null)("dwBodyStyle",M.\u0275\u0275pureFunction0(189,hl))("dwMaskClosable",!0)("dwWidth",900)("dwVisible",t.isCollapsed),M.\u0275\u0275advance(4),M.\u0275\u0275property("dwBodyStyle",M.\u0275\u0275pureFunction0(190,gl))("dwMaskClosable",!1)("dwWidth",600)("dwVisible",t.isShowWorksrecord)("dwFooter",null),M.\u0275\u0275advance(2),M.\u0275\u0275property("dwVisible",t.signature_picture_visible)("dwContent",m)("dwFooter",null),M.\u0275\u0275advance(3),M.\u0275\u0275property("dwVisible",t.previewVisibleClockIn)("dwContent",p)("dwFooter",null)}},directives:[j.DwContentComponent,T.NgIf,z.DwTabSetComponent,z.DwTabComponent,B.DwRowDirective,$.DwFormItemComponent,B.DwColDirective,$.DwFormControlComponent,h.DwUploadComponent,q.u,W.DwIconDirective,A.DwModalComponent,T.NgClass,T.NgForOf,G.H,U.C,he,Pe,Xe,st,mt.DwStepsComponent,mt.DwStepComponent,Qe.DwTimelineComponent,we.DwTableComponent,ye.Ct,we.DwTheadComponent,we.DwTrDirective,we.DwTableCellDirective,we.DwThMeasureDirective,ye.BL,xe.TranslateDirective,we.DwTbodyComponent,we.DwCellAlignDirective,kr,Nr,A.DwModalContentDirective,$r,qr.DwDividerComponent,T.NgStyle,v.DwImageViewerListItemComponent,Vn.DwButtonComponent,Tn.uG,Wr.DwActionAuthorizedDirective,b.DwAnalyticsOn,Qe.DwTimelineItemComponent,yt.a,An.DwInputNumberComponent,s.NgControlStatus,s.NgModel,Q.DwInputDirective,s.DefaultValueAccessor,s.MaxLengthValidator,s.NgControlStatusGroup,s.FormGroupDirective,s.FormControlName,Gr.DwPopconfirmDirective,Ur.DwExtraFieldsComponent,X.DwRateComponent,Hr.w,Xr.DwProgressComponent],pipes:[T.DatePipe],styles:[".content-box[_ngcontent-%COMP%]{padding-top:0}.lessons-list[_ngcontent-%COMP%]{border-top:1px solid #e8e8e8}.divide[_ngcontent-%COMP%]{width:1px;background:#e8e8e8}.box[_ngcontent-%COMP%]{width:40%}.wrap[_ngcontent-%COMP%]{width:100%;margin-top:-4px}.box2[_ngcontent-%COMP%]{width:calc(60% - 1px);padding:24px 0 24px 24px}.text[_ngcontent-%COMP%]{font-size:16px;color:#666}.text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#000}.inner-box[_ngcontent-%COMP%]{width:100%}.inner[_ngcontent-%COMP%]{background:#f7f7f7;padding:10px 24px;margin-bottom:12px}.inner-box[_ngcontent-%COMP%]   .now[_ngcontent-%COMP%]{width:100%;height:40px;display:flex;align-items:center;color:#000000d9;font-size:16px;font-weight:bold}.inner-box[_ngcontent-%COMP%]   .now[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#0d9def;font-size:12px;padding:3px 8px;margin-left:10px;background:#dbf2ff;border-width:1px;border-color:#0d9def;border-style:solid}.inner-box[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{width:100%;height:80px;display:flex;align-items:center;justify-content:space-between;position:relative}.inner-box[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{height:100%;display:flex;align-items:center}.inner-box[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%}.inner-box[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{color:#000000d9;font-size:14px;margin-left:12px}  .noMarginBottom .my-tab .ant-tabs-nav{margin-bottom:0!important}.img-wrap[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.img-wrap[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:90px;height:90px;margin:10px;font-size:0}.img-wrap[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%}.sub-title[_ngcontent-%COMP%]{font-size:14px;padding-left:16px;color:#000000d9;font-weight:normal;border-left:4px solid #1890ff;margin:16px 0 20px}.my-tab[_ngcontent-%COMP%]{position:relative}.watermark[_ngcontent-%COMP%]{position:relative;width:101px;height:92px}.watermark[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%}.watermark[_ngcontent-%COMP%]:hover   .review_result[_ngcontent-%COMP%]{display:block}.information[_ngcontent-%COMP%]{background:#F7F7F7;width:100%;height:80px;display:flex;align-items:center;padding:17px 12px 12px 21px}.information[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{height:47px;width:37px;margin-bottom:5px;margin-right:14px}.information[_ngcontent-%COMP%]   .information-word[_ngcontent-%COMP%]{height:19px;font-size:14px;color:#000000d9;line-height:19px}.information[_ngcontent-%COMP%]   .infomation-time[_ngcontent-%COMP%]{height:16px;font-size:12px;color:#00000073;line-height:16px}.kbs2[_ngcontent-%COMP%]{width:96px;height:32px;position:absolute;top:0;right:0}.mybutton[_ngcontent-%COMP%]{display:flex;height:40px;line-height:40px;align-items:center;padding-left:14px;color:#0d9ef0;font-weight:bold;background:none;border:none;cursor:pointer}  .ant-btn::before{background-color:#f7f7f7!important}.func-icon[_ngcontent-%COMP%]{display:block;width:17px;height:19px;margin-right:5px}.knowledge-icon[_ngcontent-%COMP%]{display:block;width:23px;height:24px;margin-right:5px}.write-icon[_ngcontent-%COMP%]{display:block;width:18px;height:18px;margin-right:5px}.upload[_ngcontent-%COMP%]{display:block;width:18px;height:17px}.review_result[_ngcontent-%COMP%]{display:none;position:absolute;top:92px;left:0px;z-index:4;width:340px;background:#fff;box-shadow:0 0 6px 6px #9393931a}.review_result[_ngcontent-%COMP%]   .result_title[_ngcontent-%COMP%]{color:#000000d9;font-weight:bold;line-height:36px;background:#f7f7f7;border-bottom:1px solid #ddd;padding:0 16px}.review_result[_ngcontent-%COMP%]   .result_content[_ngcontent-%COMP%]{padding:18px 16px}.review_result[_ngcontent-%COMP%]   .result_content[_ngcontent-%COMP%]   .result_item[_ngcontent-%COMP%]{display:flex;margin-bottom:8px}.review_result[_ngcontent-%COMP%]   .result_content[_ngcontent-%COMP%]   .result_item[_ngcontent-%COMP%]   .result_label[_ngcontent-%COMP%]{width:76px;font-weight:bold}.review_result[_ngcontent-%COMP%]   .result_content[_ngcontent-%COMP%]   .result_item[_ngcontent-%COMP%]   .result_info[_ngcontent-%COMP%]{flex:1}.review_result[_ngcontent-%COMP%]   .result_content[_ngcontent-%COMP%]   .result_item[_ngcontent-%COMP%]   .result_info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 5px 0 0}.review_result[_ngcontent-%COMP%]   .result_content[_ngcontent-%COMP%]   .result_item[_ngcontent-%COMP%]   .result_info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#999;font-size:12px;display:flex;align-items:center}.review_result[_ngcontent-%COMP%]   .result_content[_ngcontent-%COMP%]   .result_item[_ngcontent-%COMP%]   .result_info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:14px;margin:0 5px}.review_result[_ngcontent-%COMP%]   .result_content[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{color:#000000a6;text-align:right;margin-bottom:4px}.review_result[_ngcontent-%COMP%]   .result_content[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{color:#00000073;text-align:right}.grid-title[_ngcontent-%COMP%]{margin:18px 0 10px}.ant-table-placeholder[_ngcontent-%COMP%]{margin-bottom:16px}.steps[_ngcontent-%COMP%]{margin-top:32px}.inner-box[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{margin-top:28px;margin-bottom:18px}.inner-box[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#000000d9}.timeItem[_ngcontent-%COMP%]{color:#00000073;display:flex}.process-flex-box[_ngcontent-%COMP%]{display:flex}.process-flex-box[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{width:120px}.process-flex-box[_ngcontent-%COMP%]   .remark[_ngcontent-%COMP%]{flex:1}.process_state[_ngcontent-%COMP%]{color:#000;padding:0 20px;display:inline-block;width:125px}.timeItem-remark[_ngcontent-%COMP%]{display:inline-block;margin-left:8px;cursor:pointer;position:relative}.timeItem-remark[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:16px;height:16px}.distribute-remark[_ngcontent-%COMP%]{display:none;position:absolute;top:28px;left:50%;transform:translate(-50%);padding:8px 14px;color:#fff;font-size:12px;z-index:4;white-space:nowrap;background:rgba(0,0,0,.75);border-radius:4px}.distribute-remark.word-wrap[_ngcontent-%COMP%]{width:210px;white-space:normal}.timeItem-remark[_ngcontent-%COMP%]:hover   .distribute-remark[_ngcontent-%COMP%]{display:block}.kbs[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80px;margin-left:16px;margin-top:-2px}.phrase[_ngcontent-%COMP%]{display:inline-block;height:24px;line-height:22px;padding:0 10px;background:#f6f6f6;font-size:12px;margin-bottom:10px;border-radius:12px;border:#e7eaec solid 1px}.processrecord-count[_ngcontent-%COMP%]{color:#000000d9;font-size:14px;font-weight:bold;text-align:left}.processrecord-wrap[_ngcontent-%COMP%]{max-height:440px}.processrecord-card[_ngcontent-%COMP%]{border:rgba(0,0,0,.05) 1px;display:flex;margin-top:16px;margin-bottom:13px}.processrecord-card[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]{flex:1;margin-left:16px;padding-bottom:8px;border-bottom:1px solid rgba(0,0,0,.05)}.processrecord-card[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{color:#00000073;text-align:left;font-size:14px}.processrecord-card[_ngcontent-%COMP%]   .record[_ngcontent-%COMP%]{color:#000000d9;text-align:left;font-size:14px;white-space:wrap}.no-data-text[_ngcontent-%COMP%]{text-align:center;font-weight:bold;margin-bottom:12px;padding-top:20px}.returnvisit-label[_ngcontent-%COMP%]{display:inline-block;width:120px;padding-right:20px;padding-left:12px;text-align:right}.resolve-text[_ngcontent-%COMP%]{display:flex;align-items:center;color:#333;font-size:20px;font-weight:bold}.score-text[_ngcontent-%COMP%]{color:#00000073;font-size:12px;margin-left:12px;vertical-align:1px}.file[_ngcontent-%COMP%]{width:336px;height:34px;display:flex;align-items:center;padding:0 10px;margin-top:4px;margin-bottom:10px;border:1px solid #dadada;border-radius:3px}.file[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:26px;height:26px;margin-right:6px}.file[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{flex:1;color:#333;font-size:14px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.file[_ngcontent-%COMP%]   .download[_ngcontent-%COMP%]{width:22px;text-align:right;color:#999;font-size:14px;cursor:pointer}.file[_ngcontent-%COMP%]   .download[_ngcontent-%COMP%]:hover{color:#40a9ff}.file[_ngcontent-%COMP%]   .download[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]{font-size:22px}.search_equipment_btn[_ngcontent-%COMP%]{display:flex;align-items:center;color:#0d9def;font-size:14px;margin:-8px 0 10px;cursor:pointer}.search_equipment_btn[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]{margin-right:5px}.equipment_list[_ngcontent-%COMP%]{padding-right:8px}.equipment[_ngcontent-%COMP%]{background:#f7f7f7;margin-bottom:12px;padding:12px;display:flex;position:relative}.equipment[_ngcontent-%COMP%]   .left_img[_ngcontent-%COMP%]{width:68px;height:68px;border:2px solid #cccccc;margin-right:10px}.equipment[_ngcontent-%COMP%]   .left_img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%}.equipment[_ngcontent-%COMP%]   .right_info[_ngcontent-%COMP%]{flex:1}.equipment[_ngcontent-%COMP%]   .right_info[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{color:#000;font-size:16px;font-weight:bold;line-height:16px;margin-bottom:8px}.equipment[_ngcontent-%COMP%]   .right_info[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#333;font-size:12px;font-weight:normal;white-space:nowrap;margin-left:4px}.equipment[_ngcontent-%COMP%]   .right_info[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{width:100%;display:flex;color:#666;font-size:12px;line-height:18px}.equipment[_ngcontent-%COMP%]   .right_info[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .lable[_ngcontent-%COMP%]{white-space:nowrap}.equipment[_ngcontent-%COMP%]   .right_info[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .quipment_text[_ngcontent-%COMP%]{color:#333;word-break:break-all}.equipment[_ngcontent-%COMP%]   .tip[_ngcontent-%COMP%]{width:40px;height:18px;line-height:18px;text-align:center;color:#fff;font-size:12px;background:#a375d5;border-top-left-radius:10px;position:absolute;right:0;bottom:0}.anther-info[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-bottom:12px}.anther-info[_ngcontent-%COMP%]   .ant-input[_ngcontent-%COMP%]{width:200px}  .anther-info .ant-form-item-label{text-align:left!important}.flex-box[_ngcontent-%COMP%]{display:flex;align-items:center}.flex-word[_ngcontent-%COMP%]{display:flex;align-items:baseline}.break-word[_ngcontent-%COMP%]{flex:1;word-break:break-all}.technologyBox[_ngcontent-%COMP%]{padding-right:24px}.uploadBox[_ngcontent-%COMP%]{background-color:#f7f7f7;height:74px;width:100%;text-align:center;padding-top:10px}.uploadBox[_ngcontent-%COMP%]   .tip[_ngcontent-%COMP%]{color:#00000073;font-size:14px;white-space:nowrap;margin-top:4px}.fileList[_ngcontent-%COMP%]{margin-top:10px}.fileList[_ngcontent-%COMP%]   .fileRow[_ngcontent-%COMP%]{font-size:14px;display:flex;align-items:center;border-bottom:1px solid #f2f2f2;padding-bottom:4px;padding-top:2px}.fileList[_ngcontent-%COMP%]   .fileName[_ngcontent-%COMP%]{width:40%;display:flex;align-items:center}.fileList[_ngcontent-%COMP%]   .fileName[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:30px;margin-right:6px}.fileList[_ngcontent-%COMP%]   .fileName[_ngcontent-%COMP%]   .nameInfo[_ngcontent-%COMP%]{width:calc(100% - 45px)}.fileList[_ngcontent-%COMP%]   .fileName[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.fileList[_ngcontent-%COMP%]   .fileName[_ngcontent-%COMP%]   .size[_ngcontent-%COMP%]{font-size:12px;color:#00000073;line-height:12px}.fileList[_ngcontent-%COMP%]   .uploadName[_ngcontent-%COMP%]{width:20%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.fileList[_ngcontent-%COMP%]   .uploadTime[_ngcontent-%COMP%]{width:30%;font-size:12px}.fileList[_ngcontent-%COMP%]   .fileRow[_ngcontent-%COMP%]:first-child{font-size:12px;color:#000000a6}.fileList[_ngcontent-%COMP%]   .operate[_ngcontent-%COMP%]{width:10%;text-align:center;position:relative;z-index:999}.fileList[_ngcontent-%COMP%]   .static[_ngcontent-%COMP%]{position:static;z-index:0}.fileList[_ngcontent-%COMP%]   .action-grid[_ngcontent-%COMP%]{width:88px;box-shadow:0 2px 4px #0000000f;border-radius:4px;position:absolute;top:20px;left:-44px;z-index:1999;background:#fff;border:1px solid #e9e9e9;display:flex;flex-direction:column}.fileList[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]{border:0;border-bottom:1px solid #e9e9e9;margin:0;width:100%;position:relative;z-index:2999}.fileList[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]:last-child{border:none}.extraInfo[_ngcontent-%COMP%]{display:flex;align-items:center}.extraInfo[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{color:#ccc;margin:0 5px}.extraInfo[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{cursor:pointer;color:#0d9def;font-size:12px;white-space:nowrap;display:flex;align-items:center}.extraInfo[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:12px;width:auto;margin-right:4px}.serviceBox[_ngcontent-%COMP%]{border:1px solid rgba(13,157,239,.96);border-radius:7px;display:flex;align-items:center;padding:3px 3px 3px 5px}.workrecordBox[_ngcontent-%COMP%]{margin-bottom:24px}.workrecordBox[_ngcontent-%COMP%]   .infoBox[_ngcontent-%COMP%]{display:flex;align-self:start;margin-top:5px}.workrecordBox[_ngcontent-%COMP%]   .infoBox[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:50%;margin-right:20px}.workrecordBox[_ngcontent-%COMP%]   .infoBox[_ngcontent-%COMP%]   .infoDetail[_ngcontent-%COMP%]{flex:1}.workrecordBox[_ngcontent-%COMP%]   .infoBox[_ngcontent-%COMP%]   .infoDetail[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{display:flex;align-items:center}.workrecordBox[_ngcontent-%COMP%]   .infoBox[_ngcontent-%COMP%]   .infoDetail[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]     .ant-progress-inner{background-color:#d9f0fe}.workrecordBox[_ngcontent-%COMP%]   .infoBox[_ngcontent-%COMP%]   .infoDetail[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-weight:600;margin-right:10px}.workrecordBox[_ngcontent-%COMP%]   .infoBox[_ngcontent-%COMP%]   .infoDetail[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .clock[_ngcontent-%COMP%]{width:14px;height:14px;margin-left:10px;margin-right:2px}.workrecordBox[_ngcontent-%COMP%]   .infoBox[_ngcontent-%COMP%]   .infoDetail[_ngcontent-%COMP%]   .blue[_ngcontent-%COMP%]{color:#0d9def;cursor:pointer}"]}),n}()},10332:function(e,n,r){r.d(n,{H:function(){return ce}});var i,a=r(64762),o=r(42746),d=r(1020),s=r(51156),m=r(9682),u=r(47372),v=function(e){l(n,e);var t=c(n);function n(e,r){var i;return p(this,n),(i=t.call(this)).dwHttp=e,i.url=r,i}return f(n,[{key:"getDataList",value:function(e,t){var n=this;return this.dwHttp.get(this.url).pipe((0,u.map)(function(r){return n._result={currentPage:e,datas:Object.assign([],r.data.employee),pageCount:Math.ceil(r.length/t),pageSize:t,rowCount:r.length},n._result}))}}]),n}(m.DwClientPagingDataSource),g=((i=function(){function e(t,n){p(this,e),this.selectModalService=t,this.dwHttp=n}return f(e,[{key:"setConfig",value:function(e,t,n){this.config={modalTitle:"\u9009\u62e9\u5de5\u7a0b\u5e08",modalWidth:"50%",tableMultiSelect:n,tableIdField:"employee_id",tableNameField:"employee_name",tablePageSize:10,tableColDefs:[{title:"\u59d3\u540d",field:"employee_name",width:""},{title:"\u5f85\u5904\u7406\u5de5\u5355\u6570",field:"ecount",width:""}],tableCustomTag:function(e){return e.employee_name},dataSource:new v(this.dwHttp,"restful/service/serviceOrder/ServiceOrder/EmployeeForServiceOrder?service_order_id=".concat(e,"&selected_employee_id=").concat(t,"&employee_name="))}}},{key:"open",value:function(e){var t=this;return this.selectModalService.open(this.config,e).pipe((0,u.switchMap)(function(e){return t.dwHttp.get("restful/service/serviceOrder/ServiceOrder/Employee?ids=".concat(e))}))}}]),e}()).\u0275fac=function(e){return new(e||i)(o.\u0275\u0275inject(m.DwSelectModalService),o.\u0275\u0275inject(s.DwDapHttpClient))},i.\u0275prov=o.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac}),i),h=r(83237),w=r(97981),y=r(91970),x=r(45890),_=r(31441),C=r(8852),S=r(85277),b=r(67280),I=r(55245),E=r(29872),D=r(74591),O=r(62695),k=r(71452),M=r(83522);function P(e,t){if(1&e){var n=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"div",13),o.\u0275\u0275listener("click",function(){return o.\u0275\u0275restoreView(n),o.\u0275\u0275nextContext(2).clearInput()}),o.\u0275\u0275element(1,"em",14),o.\u0275\u0275elementEnd()}}function F(e,t){if(1&e){var n=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"div",15),o.\u0275\u0275listener("click",function(){var e=o.\u0275\u0275restoreView(n).index;return o.\u0275\u0275nextContext(2).swichNav(e)}),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()}if(2&e){var r=t.$implicit,i=t.index,a=o.\u0275\u0275nextContext(2);o.\u0275\u0275classMap(i==a.currTab?"break-tab-on group":"group"),o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",r.service_site_name," ")}}function V(e,t){1&e&&(o.\u0275\u0275elementStart(0,"div",27),o.\u0275\u0275text(1,"\u5df2\u9009\u4e3a\u672c\u5355\u8d1f\u8d23\u4eba"),o.\u0275\u0275elementEnd())}function T(e,t){if(1&e){var n=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"tr"),o.\u0275\u0275elementStart(1,"td"),o.\u0275\u0275elementStart(2,"label",24),o.\u0275\u0275listener("ngModelChange",function(e){return o.\u0275\u0275restoreView(n).$implicit.check=e}),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(3,"td"),o.\u0275\u0275text(4),o.\u0275\u0275template(5,V,2,0,"div",25),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(6,"td",26),o.\u0275\u0275text(7),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()}if(2&e){var r=t.$implicit,i=o.\u0275\u0275nextContext(3);o.\u0275\u0275advance(2),o.\u0275\u0275propertyInterpolate("dwValue",r.employee_id),o.\u0275\u0275property("ngModel",r.check)("dwDisabled",r.employee_id===i.selected_employee_id),o.\u0275\u0275advance(2),o.\u0275\u0275textInterpolate1(" ",r.employee_name," "),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",r.employee_id===i.selected_employee_id),o.\u0275\u0275advance(2),o.\u0275\u0275textInterpolate1(" ",r.ecount," ")}}function L(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"div"),o.\u0275\u0275elementStart(1,"dw-table",16,17),o.\u0275\u0275elementStart(3,"thead"),o.\u0275\u0275elementStart(4,"tr",18),o.\u0275\u0275element(5,"th",19),o.\u0275\u0275elementStart(6,"th",20),o.\u0275\u0275elementStart(7,"span",21),o.\u0275\u0275text(8,"\u59d3\u540d"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(9,"th",22),o.\u0275\u0275elementStart(10,"span",21),o.\u0275\u0275text(11,"\u5f85\u5904\u7406\u5de5\u5355\u6570"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(12,"tbody"),o.\u0275\u0275template(13,T,8,6,"tr",23),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()),2&e){var n=t.index,r=o.\u0275\u0275reference(2),i=o.\u0275\u0275nextContext(2);o.\u0275\u0275classMap(n==i.currTab?"r-wrap":"r-wrap hide"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwData",i.serviceSites[n].employees)("dwFrontPagination",!1),o.\u0275\u0275advance(12),o.\u0275\u0275property("ngForOf",r.data)}}function R(e,t){if(1&e){var n=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"div",2),o.\u0275\u0275elementStart(1,"div",3),o.\u0275\u0275listener("click",function(){return o.\u0275\u0275restoreView(n),o.\u0275\u0275nextContext().searchServiceSites()}),o.\u0275\u0275element(2,"em",4),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(3,"input",5),o.\u0275\u0275listener("ngModelChange",function(e){return o.\u0275\u0275restoreView(n),o.\u0275\u0275nextContext().searchValue=e})("keydown",function(e){return o.\u0275\u0275restoreView(n),o.\u0275\u0275nextContext().onKeydown(e)}),o.\u0275\u0275elementEnd(),o.\u0275\u0275template(4,P,2,0,"div",6),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(5,"div",7),o.\u0275\u0275elementStart(6,"div",8),o.\u0275\u0275template(7,F,2,3,"div",9),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(8,"div",10),o.\u0275\u0275elementStart(9,"dw-checkbox-wrapper",11),o.\u0275\u0275listener("dwOnChange",function(e){return o.\u0275\u0275restoreView(n),o.\u0275\u0275nextContext().breakdownChecked(e)}),o.\u0275\u0275template(10,L,14,5,"div",12),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()}if(2&e){var r=o.\u0275\u0275nextContext();o.\u0275\u0275advance(3),o.\u0275\u0275property("ngModel",r.searchValue),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",r.searchValue),o.\u0275\u0275advance(2),o.\u0275\u0275property("dwSpan",6),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngForOf",r.serviceSites),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwSpan",18),o.\u0275\u0275advance(2),o.\u0275\u0275property("ngForOf",r.serviceSites)}}var A=function(){return{height:"450px",overflow:"auto","padding-bottom":"24px"}},N=function(){var e=function(){function e(t){p(this,e),this.commonHttpService=t,this.assistantVisibleChanged=new o.EventEmitter,this.service_order_id="",this.selected_employee_id="",this.searchValue="",this.currTab=0,this.serviceSites=[],this.checkValues=[]}return f(e,[{key:"initData",value:function(e,t){this.service_order_id=e,this.selected_employee_id=t,this.searchValue="",this.currTab=0,this.getServiceSites()}},{key:"getServiceSites",value:function(){var e=this;this.commonHttpService.get("restful/service/serviceOrder/ServiceOrder/EmployeeOfAllServiceSite?service_order_id=".concat(this.service_order_id,"&selected_employee_id=").concat(this.selected_employee_id,"&employee_name=").concat(this.searchValue)).subscribe(function(t){e.serviceSites=t.data.serviceSites})}},{key:"searchServiceSites",value:function(){this.currTab=0,this.getServiceSites()}},{key:"clearInput",value:function(){this.searchValue="",this.searchServiceSites()}},{key:"swichNav",value:function(e){this.currTab=e}},{key:"breakdownChecked",value:function(e){console.log(e),this.checkValues=e}},{key:"close",value:function(){this.assistantVisibleChanged.emit(null)}},{key:"chooseOk",value:function(){this.chooseMultyOk()}},{key:"chooseMultyOk",value:function(){var e=this;this.checkValues.length?function(){for(var t=[],n=function(n){e.serviceSites[n].employees.forEach(function(r){r.check&&t.push({service_site_id:e.serviceSites[n].service_site_id,employee_id:r.employee_id,employee_name:r.employee_name})})},r=0;r<e.serviceSites.length;r++)n(r);e.assistantVisibleChanged.emit(t.length?t:null)}():this.assistantVisibleChanged.emit(null)}},{key:"ngOnInit",value:function(){}},{key:"onKeydown",value:function(e){13===e.keyCode&&this.searchServiceSites()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(o.\u0275\u0275directiveInject(x.$))},e.\u0275cmp=o.\u0275\u0275defineComponent({type:e,selectors:[["app-cross-site-assistant-opener"]],inputs:{visible:"visible"},outputs:{assistantVisibleChanged:"assistantVisibleChanged"},decls:2,vars:5,consts:[["dwTitle","\u9009\u62e9\u534f\u540c\u5de5\u7a0b\u5e08",3,"dwBodyStyle","dwMaskClosable","dwWidth","dwVisible","dwVisibleChange","dwOnCancel","dwOnOk"],["dwModalContent",""],[1,"search-box-opener"],[1,"search",3,"click"],["dw-icon","","dwType","search","dwTheme","outline"],["dw-input","","type","text","placeholder","\u641c\u7d22",3,"ngModel","ngModelChange","keydown"],["class","close",3,"click",4,"ngIf"],["dw-row","",1,"wrapper"],["dw-col","",1,"left",3,"dwSpan"],[3,"class","click",4,"ngFor","ngForOf"],["dw-col","",1,"right",3,"dwSpan"],[1,"dw-f-checkbox-list",3,"dwOnChange"],[3,"class",4,"ngFor","ngForOf"],[1,"close",3,"click"],["dw-icon","","dwTheme","fill","dwType","close-circle",1,"ant-input-clear-icon"],[3,"click"],[3,"dwData","dwFrontPagination"],["dwTable",""],["dw-tr",""],["dw-th","","dwWidth","40px"],["dw-th",""],["translate",""],["dw-th","","dwAlign","right"],[4,"ngFor","ngForOf"],["dw-checkbox","",3,"dwValue","ngModel","dwDisabled","ngModelChange"],["style","color: #0d9def;font-size: 12px;",4,"ngIf"],["dwAlign","right"],[2,"color","#0d9def","font-size","12px"]],template:function(e,t){1&e&&(o.\u0275\u0275elementStart(0,"dw-modal",0),o.\u0275\u0275listener("dwVisibleChange",function(e){return t.visible=e})("dwOnCancel",function(){return t.close()})("dwOnOk",function(){return t.chooseOk()}),o.\u0275\u0275template(1,R,11,6,"ng-template",1),o.\u0275\u0275elementEnd()),2&e&&o.\u0275\u0275property("dwBodyStyle",o.\u0275\u0275pureFunction0(4,A))("dwMaskClosable",!0)("dwWidth",710)("dwVisible",t.visible)},directives:[_.DwModalComponent,_.DwModalContentDirective,C.u,S.DwIconDirective,b.DwInputDirective,d.DefaultValueAccessor,d.NgControlStatus,d.NgModel,I.NgIf,E.DwRowDirective,E.DwColDirective,I.NgForOf,D.DwCheckboxWrapperComponent,O.DwTableComponent,k.Ct,O.DwTheadComponent,O.DwTrDirective,O.DwTableCellDirective,O.DwThMeasureDirective,k.BL,M.TranslateDirective,O.DwCellAlignDirective,O.DwTbodyComponent,D.DwCheckboxComponent],styles:['.wrapper[_ngcontent-%COMP%]{width:100%;height:calc(100% - 32px - 16px);border:1px solid #d9d9d9}.wrapper[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{height:100%;overflow-y:auto;background:#fbfbfb;border-right:1px solid #d9d9d9}.wrapper[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]{min-height:48px;padding:4px 8px 4px 24px;color:#00000073;font-size:14px;display:flex;align-items:center;word-break:break-all;cursor:pointer;position:relative}.wrapper[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .group.break-tab-on[_ngcontent-%COMP%]{color:#009bf2;font-weight:bold;background:#fff}.wrapper[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .group.break-tab-on[_ngcontent-%COMP%]:before{content:"";width:6px;height:100%;background:#009bf2;position:absolute;top:0;left:0}.wrapper[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{height:100%}.wrapper[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .dw-f-checkbox-list[_ngcontent-%COMP%]{width:100%;height:100%;overflow-y:auto;position:relative}.wrapper[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .dw-f-checkbox-list[_ngcontent-%COMP%]   .r-wrap.hide[_ngcontent-%COMP%]{position:absolute;left:-9999px}.wrapper[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .dw-f-checkbox-list[_ngcontent-%COMP%]   .r-wrap[_ngcontent-%COMP%]   .dw-f-checkbox-list-li[_ngcontent-%COMP%]{height:34px;line-height:34px;display:flex}.wrapper[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .dw-f-checkbox-list[_ngcontent-%COMP%]   .r-wrap[_ngcontent-%COMP%]   .dw-f-checkbox-list-li[_ngcontent-%COMP%]   .check[_ngcontent-%COMP%]{width:20px;margin-right:8px}.wrapper[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .dw-f-checkbox-list[_ngcontent-%COMP%]   .r-wrap[_ngcontent-%COMP%]   .dw-f-checkbox-list-li[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{flex:1}.search-box-opener[_ngcontent-%COMP%]{margin-bottom:16px;position:relative}.search-box-opener[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]{width:30px;height:100%;display:flex;align-items:center;justify-content:center;position:absolute;top:0;left:0;z-index:2}.search-box-opener[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]{font-size:16px;color:#999}.search-box-opener[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{position:absolute;top:0;right:8px;font-size:20px}.search-box-opener[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]   .ant-input-clear-icon[_ngcontent-%COMP%]:last-child{font-size:16px}.search-box-opener[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;height:32px;background:#fff;border-radius:4px;padding:0 30px}']}),e}(),j=r(71049),z=r(33795),B=r(32276),$=r(66800),q=r(85773),W=r(82542),G=r(93761),U=r(96670),H=r(67733),X=r(37568),Q=r(17494),K=["assistantOpener"];function J(e,t){if(1&e){var n=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"em",20),o.\u0275\u0275listener("click",function(){return o.\u0275\u0275restoreView(n),o.\u0275\u0275nextContext(3).clearServiceEmployee()}),o.\u0275\u0275elementEnd()}}function Z(e,t){if(1&e){var n=o.\u0275\u0275getCurrentView();o.\u0275\u0275template(0,J,1,0,"em",17),o.\u0275\u0275elementStart(1,"button",18),o.\u0275\u0275listener("click",function(e){return o.\u0275\u0275restoreView(n),o.\u0275\u0275nextContext(2).openServiceEmployeeWin(e)}),o.\u0275\u0275element(2,"em",19),o.\u0275\u0275elementEnd()}if(2&e){var r=o.\u0275\u0275nextContext(2);o.\u0275\u0275property("ngIf",r.form.value.service_employee_name)}}function Y(e,t){if(1&e){var n=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"em",20),o.\u0275\u0275listener("click",function(){return o.\u0275\u0275restoreView(n),o.\u0275\u0275nextContext(3).clearAssistant()}),o.\u0275\u0275elementEnd()}}function ee(e,t){if(1&e){var n=o.\u0275\u0275getCurrentView();o.\u0275\u0275template(0,Y,1,0,"em",17),o.\u0275\u0275elementStart(1,"button",18),o.\u0275\u0275listener("click",function(e){return o.\u0275\u0275restoreView(n),o.\u0275\u0275nextContext(2).openAssistantEmployeeWin(e)}),o.\u0275\u0275element(2,"em",19),o.\u0275\u0275elementEnd()}if(2&e){var r=o.\u0275\u0275nextContext(2);o.\u0275\u0275property("ngIf",r.form.value.assistant_name)}}function te(e,t){if(1&e){var n=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"dw-upload",26),o.\u0275\u0275listener("dwFileListChange",function(e){return o.\u0275\u0275restoreView(n),o.\u0275\u0275nextContext(3).technologyList=e})("dwChange",function(e){return o.\u0275\u0275restoreView(n),o.\u0275\u0275nextContext(3).handleFileChange(e)}),o.\u0275\u0275elementStart(1,"button",27),o.\u0275\u0275element(2,"em",28),o.\u0275\u0275text(3,"\u4e0a\u4f20\u6587\u4ef6"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()}if(2&e){var r=o.\u0275\u0275nextContext(3);o.\u0275\u0275property("dwFileList",r.technologyList)("dwBeforeUpload",r.beforeUploadFiles)("dwShowUploadList",!1)("dwAccept",".doc,.docx,.pdf,.xls,.xlsx,.ppt"),o.\u0275\u0275advance(1),o.\u0275\u0275property("disabled",r.technologyList.length>=5||"disabled"===r.uploadatecdocs)}}function ne(e,t){if(1&e){var n=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"div",30),o.\u0275\u0275elementStart(1,"div",31),o.\u0275\u0275element(2,"em",32),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(3,"div",33),o.\u0275\u0275text(4),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(5,"button",34),o.\u0275\u0275listener("click",function(){o.\u0275\u0275restoreView(n);var e=o.\u0275\u0275nextContext().index;return o.\u0275\u0275nextContext(3).deleteFile(e)}),o.\u0275\u0275element(6,"em",35),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()}if(2&e){var r=o.\u0275\u0275nextContext().$implicit,i=o.\u0275\u0275nextContext(3);o.\u0275\u0275advance(4),o.\u0275\u0275textInterpolate(r.name),o.\u0275\u0275advance(1),o.\u0275\u0275propertyInterpolate("angularticsLabel",i.userInfo.tenantId+","+i.userInfo.userId),o.\u0275\u0275property("dwType","defult")("dwActionId","deletetecdocs")("dwDefaultAuthorized","disabled")("angularticsCategory","\u670d\u52a1\u5de5\u5355")}}function re(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"div"),o.\u0275\u0275template(1,ne,7,6,"div",29),o.\u0275\u0275elementEnd()),2&e){var n=t.$implicit;o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf","D"!==n.state)}}function ie(e,t){1&e&&(o.\u0275\u0275elementStart(0,"div",36),o.\u0275\u0275text(1,"\u652f\u6301\u6269\u5c55\u540d\uff1a.doc .docx .pdf .xlsx .xls .ppt .pptx"),o.\u0275\u0275elementEnd())}function ae(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"dw-form-item"),o.\u0275\u0275elementStart(1,"dw-form-label",6),o.\u0275\u0275text(2,"\u6280\u672f\u65b9\u6848"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(3,"dw-form-control",6),o.\u0275\u0275elementStart(4,"div",21),o.\u0275\u0275elementStart(5,"div",22),o.\u0275\u0275template(6,te,4,5,"dw-upload",23),o.\u0275\u0275template(7,re,2,1,"div",24),o.\u0275\u0275template(8,ie,2,0,"div",25),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()),2&e){var n=o.\u0275\u0275nextContext(2);o.\u0275\u0275advance(1),o.\u0275\u0275property("dwSm",6)("dwXs",24),o.\u0275\u0275advance(2),o.\u0275\u0275property("dwSm",16)("dwXs",24),o.\u0275\u0275advance(3),o.\u0275\u0275property("ngIf","hidden"!==n.uploadatecdocs),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngForOf",n.technologyList),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf","hidden"!==n.uploadatecdocs)}}var oe=function(){return{minRows:3,maxRows:3}};function le(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"form",4),o.\u0275\u0275elementStart(1,"dw-form-item"),o.\u0275\u0275elementStart(2,"dw-form-label",5),o.\u0275\u0275text(3,"\u670d\u52a1\u65b9\u5f0f"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(4,"dw-form-control",6),o.\u0275\u0275elementStart(5,"dw-radio-group",7),o.\u0275\u0275elementStart(6,"label",8),o.\u0275\u0275text(7,"\u4e0a\u95e8\u670d\u52a1"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(8,"label",9),o.\u0275\u0275text(9,"\u8fdc\u7a0b\u670d\u52a1"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(10,"dw-form-item"),o.\u0275\u0275elementStart(11,"dw-form-label",5),o.\u0275\u0275text(12,"\u8d1f\u8d23\u4eba"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(13,"dw-form-control",6),o.\u0275\u0275elementStart(14,"dw-input-group",10),o.\u0275\u0275element(15,"input",11),o.\u0275\u0275elementEnd(),o.\u0275\u0275template(16,Z,3,1,"ng-template",null,12,o.\u0275\u0275templateRefExtractor),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(18,"dw-form-item"),o.\u0275\u0275elementStart(19,"dw-form-label",6),o.\u0275\u0275text(20,"\u534f\u540c\u4eba"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(21,"dw-form-control",6),o.\u0275\u0275elementStart(22,"dw-input-group",10),o.\u0275\u0275element(23,"input",13),o.\u0275\u0275elementEnd(),o.\u0275\u0275template(24,ee,3,1,"ng-template",null,14,o.\u0275\u0275templateRefExtractor),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275template(26,ae,9,7,"dw-form-item",15),o.\u0275\u0275elementStart(27,"dw-form-item"),o.\u0275\u0275elementStart(28,"dw-form-label",6),o.\u0275\u0275text(29,"\u5907\u6ce8"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(30,"dw-form-control",6),o.\u0275\u0275element(31,"textarea",16),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()),2&e){var n=o.\u0275\u0275reference(17),r=o.\u0275\u0275reference(25),i=o.\u0275\u0275nextContext();o.\u0275\u0275property("formGroup",i.form),o.\u0275\u0275advance(2),o.\u0275\u0275property("dwSm",6)("dwXs",24),o.\u0275\u0275advance(2),o.\u0275\u0275property("dwSm",14)("dwXs",24),o.\u0275\u0275advance(7),o.\u0275\u0275property("dwSm",6)("dwXs",24),o.\u0275\u0275advance(2),o.\u0275\u0275property("dwSm",14)("dwXs",24),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwSuffix",n),o.\u0275\u0275advance(5),o.\u0275\u0275property("dwSm",6)("dwXs",24),o.\u0275\u0275advance(2),o.\u0275\u0275property("dwSm",14)("dwXs",24),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwSuffix",r),o.\u0275\u0275advance(4),o.\u0275\u0275property("ngIf",i.isOnly&&("hidden"!==i.uploadatecdocs||i.technologyList.length>0)),o.\u0275\u0275advance(2),o.\u0275\u0275property("dwSm",6)("dwXs",24),o.\u0275\u0275advance(2),o.\u0275\u0275property("dwSm",16)("dwXs",24),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwAutosize",o.\u0275\u0275pureFunction0(21,oe))}}var de=function(){return{height:"calc(100% - 55px)",overflow:"auto","padding-bottom":"24px"}},ce=function(){var e=function(){function e(t,n,r,i,a,l,c,s){var m=this;p(this,e),this.employeeSelectService=t,this.serviceOrderSrv=n,this.serviceOrderDetailSrv=r,this.fb=i,this.productFileSrv=a,this.userService=l,this.dwAuthFunctionPermissionRepository=c,this.message=s,this.service_order_site_id="",this.currentServiceSite={service_site_id:"",service_site_code:"",service_site_name:"",service_site_type:""},this.isCrossSite=!1,this.assign_collaborator_cross_site=!1,this.showCrossSiteOpener=!1,this.uploadatecdocs="allow",this.deletetecdocs="allow",this.technologyList=[],this.technologyIds=[],this.isOnly=!1,this.userInfo={tenantId:"",userId:""},this.beforeIds=[],this.beforeTechnologyList=[],this.isDispatchVisible=!1,this.visibleChanged=new o.EventEmitter,this.service_order_id=[],this.assistant_name="",this.assistant_id="",this.beforeUploadFiles=function(e,t){return new j.Observable(function(t){console.log(e);var n=e.name.split("."),r=n[n.length-1].indexOf("xls")>=0||n[n.length-1].indexOf("doc")>=0||n[n.length-1].indexOf("ppt")>=0||n[n.length-1].indexOf("pdf")>=0;if(!r)return m.message.create("error","\u8bf7\u4e0a\u4f20\u6b63\u786e\u683c\u5f0f\u6587\u4ef6\uff01"),void t.complete();var i=e.size/1024/1024<=10;if(!i)return m.message.create("error","\u4e0a\u4f20\u6587\u4ef6\u5927\u5c0f\u8d85\u8fc710M\uff01"),void t.complete();t.next(r&&i),t.complete()})},this.form=i.group({service_order_id:0,service_employee_name:["",d.Validators.required],service_employee_id:0,assistant_name:[""],assistant_id:[""],remark:[""],service_mode:["",d.Validators.required]})}return f(e,[{key:"getFunction",value:function(){var e=this;this.dwAuthFunctionPermissionRepository.getFunctionPermissionAll().subscribe(function(t){console.log("response",t);var n=t.data.filter(function(e){return"service-order"===e.code})[0];e.uploadatecdocs=n.action.filter(function(e){return"uploadatecdocs"===e.id})[0].restriction,e.deletetecdocs=n.action.filter(function(e){return"deletetecdocs"===e.id})[0].restriction,console.log("\u4e0a\u4f20\u6743\u9650uploadatecdocs",e.uploadatecdocs,"\u5220\u9664\u6743\u9650deletetecdocs",e.deletetecdocs)})}},{key:"ngOnInit",value:function(){var e=this;this.getFunction(),this.userInfo=this.userService.getUserInfo(),this.serviceOrderSrv.getCurrentServiceSiteInfo().subscribe(function(t){e.currentServiceSite=t}),this.serviceOrderDetailSrv.getAutoSettings().subscribe(function(t){e.assign_collaborator_cross_site=t.assign_collaborator_cross_site})}},{key:"initData",value:function(e,t){var n=this;if(this.service_order_id="number"==typeof e?[e.toString()]:e.split(","),this.form.setValue({service_order_id:this.service_order_id[0],service_employee_name:"",service_employee_id:0,assistant_name:"",assistant_id:"",remark:"",service_mode:"1"}),this.serviceOrderSrv.getOrderServiceSites(this.service_order_id).subscribe(function(e){n.service_order_site_id=e.data.service_order[0].service_site_id}),"number"==typeof e){this.isOnly=!0,this.technologyList=JSON.parse(JSON.stringify(t))||[];var r=[];this.technologyList.forEach(function(e){r.push(e.id)}),this.technologyIds=r,this.beforeIds=JSON.parse(JSON.stringify(r)),this.beforeTechnologyList=JSON.parse(JSON.stringify(t))}}},{key:"close",value:function(e){this.form.reset({service_site_id:0,service_site_name:"",remark:""}),this.isDispatchVisible=!1,this.visibleChanged.emit(e)}},{key:"submit",value:function(){var e,n=this,r=[];this.isOnly?(console.log(this.service_order_id[0],this.technologyList),null===(e=this.technologyList)||void 0===e||e.forEach(function(e){return(0,a.mG)(n,void 0,void 0,t().mark(function n(){var i,a=this;return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:"c"===e.isUpload&&((i=new FormData).append("file",e.originFileObj),r.push(new Promise(function(e,t){a.productFileSrv.saveAttachments(i).subscribe(function(n){n.success?(a.technologyIds.push(n.data),e()):(a.message.create("error","\u6280\u672f\u65b9\u6848\u4e0a\u4f20\u5931\u8d25\uff01"),t())},function(e){e.hasOwnProperty("error")&&e.error.hasOwnProperty("errorMessage")&&e.error.errorMessage&&a.message.error(e.error.errorMessage)})})));case 1:case"end":return t.stop()}},n)}))}),Promise.all(r).then(function(e){console.log(n.beforeIds,n.technologyIds);var t=[];n.beforeTechnologyList.forEach(function(e){n.technologyIds.indexOf(e.id)<0&&t.push({fileInfoId:e.file_info_id,fileFlag:"D"})}),n.technologyIds.forEach(function(e){n.beforeIds.indexOf(e)<0&&t.push({fileId:e,fileFlag:"C"})}),console.log("fileInfoIds",t);var r={serviceOrderId:n.service_order_id[0],technologyProgram:n.technologyIds.join(","),fileInfos:t};n.serviceOrderSrv.changeTechnologyFile(r).subscribe(function(e){console.log(n.service_order_id[0],n.technologyIds),n.continueSubmit()},function(e){e.hasOwnProperty("error")&&e.error.hasOwnProperty("errorMessage")&&e.error.errorMessage&&n.message.error(e.error.errorMessage),n.technologyList.forEach(function(e){return e.isUpload="u"})})})):this.continueSubmit()}},{key:"continueSubmit",value:function(){var e=this,t=[],n=function(n){e.service_order_id[n]&&t.push(new Promise(function(t,r){e.form.get("service_order_id").setValue(e.service_order_id[n]);var i=e.form.value;i.service_mode=Number(i.service_mode),i.assist_cross_site=e.isCrossSite,e.serviceOrderSrv.DispatchServiceOrder(i).subscribe(function(r){t(Number(e.service_order_id[n]))},function(e){t("0")})}))};for(var r in this.service_order_id)n(r);Promise.all(t).then(function(t){var n=t.filter(function(e){return"0"!==e}).length;n===t.length?e.message.create("success","\u6d3e\u5de5\u6210\u529f".concat(n,"\u7b14")):e.message.create(0===n?"error":"success","\u6d3e\u5de5\u6210\u529f".concat(n,"\u7b14\uff0c\u5931\u8d25").concat(t.length-n,"\u7b14")),e.close(t.filter(function(e){return"0"!==e}))})}},{key:"openServiceEmployeeWin",value:function(e){var t=this;e.preventDefault(),this.employeeSelectService.setConfig(this.service_order_id[0],"",!1),this.employeeSelectService.open([]).subscribe(function(e){t.form.get("service_employee_name").setValue(e.data.employee[0].employee_name),t.form.get("service_employee_id").setValue(e.data.employee[0].employee_id),t.checkEmpolyee()})}},{key:"openAssistantEmployeeWin",value:function(e){var t=this;e.preventDefault(),this.isCrossSite=!1,"1"===this.currentServiceSite.service_site_type&&this.assign_collaborator_cross_site?(this.showCrossSiteOpener=!0,this.assistantOpener.initData(this.service_order_id[0],this.form.value.service_employee_id)):(this.employeeSelectService.setConfig(this.service_order_id[0],this.form.value.service_employee_id,!0),this.employeeSelectService.open([]).subscribe(function(e){t.assistant_name="",t.assistant_id="",e.data.employee.forEach(function(e){t.assistant_name+=e.employee_name+",",t.assistant_id+=e.employee_id+","}),0!==t.assistant_name.length&&(t.assistant_name=t.assistant_name.substr(0,t.assistant_name.length-1)),0!==t.assistant_id.length&&(t.assistant_id=t.assistant_id.substr(0,t.assistant_id.length-1)),t.form.get("assistant_name").setValue(t.assistant_name),t.form.get("assistant_id").setValue(t.assistant_id),t.checkEmpolyee()}))}},{key:"assistantChangeVisible",value:function(e){var t=this;if(e){var n=!1,r=[],i=[];e.forEach(function(e){r.push(e.employee_id),i.push(e.employee_name),e.service_site_id!==t.service_order_site_id&&(n=!0)}),this.form.get("assistant_name").setValue(i.join(",")),this.form.get("assistant_id").setValue(r.join(",")),this.isCrossSite=n,this.checkEmpolyee()}this.showCrossSiteOpener=!1}},{key:"checkEmpolyee",value:function(){this.form.value.assistant_id.indexOf(this.form.value.service_employee_id)>=0&&0!==this.form.value.service_employee_id&&this.message.create("info","\u5f53\u524d\u8d1f\u8d23\u4eba\u548c\u534f\u540c\u4eba\u4e3a\u540c\u4e00\u4eba\uff01")}},{key:"clearServiceEmployee",value:function(){this.form.get("service_employee_name").setValue(""),this.form.get("service_employee_id").setValue(0)}},{key:"clearAssistant",value:function(){this.form.get("assistant_name").setValue(""),this.form.get("assistant_id").setValue("")}},{key:"handleFileChange",value:function(e){this.technologyList.forEach(function(e){e.isUpload=e.isUpload?e.isUpload:"c"})}},{key:"deleteFile",value:function(e){this.technologyList.splice(e,1),this.technologyIds.splice(e,1),console.log("\u5220\u9664technologyList",this.technologyList,this.technologyIds)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(o.\u0275\u0275directiveInject(g),o.\u0275\u0275directiveInject(w.R),o.\u0275\u0275directiveInject(y.v),o.\u0275\u0275directiveInject(d.FormBuilder),o.\u0275\u0275directiveInject(z.U),o.\u0275\u0275directiveInject($.DwUserService),o.\u0275\u0275directiveInject(B.DwAuthFunctionPermissionRepository),o.\u0275\u0275directiveInject(h.DwMessageService))},e.\u0275cmp=o.\u0275\u0275defineComponent({type:e,selectors:[["app-service-order-dispatch"]],viewQuery:function(e,t){var n;(1&e&&o.\u0275\u0275viewQuery(K,5),2&e)&&(o.\u0275\u0275queryRefresh(n=o.\u0275\u0275loadQuery())&&(t.assistantOpener=n.first))},inputs:{isDispatchVisible:"isDispatchVisible"},outputs:{visibleChanged:"visibleChanged"},features:[o.\u0275\u0275ProvidersFeature([g])],decls:4,vars:7,consts:[["dwTitle","\u670d\u52a1\u5de5\u5355\u6d3e\u5de5",3,"dwBodyStyle","dwMaskClosable","dwWidth","dwVisible","dwOkDisabled","dwVisibleChange","dwOnCancel","dwOnOk"],["dwModalContent",""],[3,"visible","assistantVisibleChanged"],["assistantOpener",""],["dw-form","",3,"formGroup"],["dwRequired","",3,"dwSm","dwXs"],[3,"dwSm","dwXs"],["formControlName","service_mode"],["dw-radio","","dwValue","1"],["dw-radio","","dwValue","2"],["dwSearch","",3,"dwSuffix"],["dw-input","","type","text","readonly","","dw-input","","formControlName","service_employee_name"],["suffixServiceEmployeeData",""],["dw-input","","type","text","readonly","","dw-input","","formControlName","assistant_name"],["suffixAssistantData",""],[4,"ngIf"],["dw-input","","maxlength","100","placeholder","\u8bf7\u8f93\u5165\u5907\u6ce8","formControlName","remark",3,"dwAutosize"],["dw-icon","","class","ant-input-clear-icon","dwTheme","fill","dwType","close-circle",3,"click",4,"ngIf"],["dw-button","","dwType","primary","dwSearch","",3,"click"],["dw-icon","","dwType","search","dwTheme","outline"],["dw-icon","","dwTheme","fill","dwType","close-circle",1,"ant-input-clear-icon",3,"click"],[1,"upFiles"],[1,"upload"],["style","margin-bottom: 8px;",3,"dwFileList","dwBeforeUpload","dwShowUploadList","dwAccept","dwFileListChange","dwChange",4,"ngIf"],[4,"ngFor","ngForOf"],["class","tip",4,"ngIf"],[2,"margin-bottom","8px",3,"dwFileList","dwBeforeUpload","dwShowUploadList","dwAccept","dwFileListChange","dwChange"],["dw-button","",3,"disabled"],["dw-icon","","dwType","upload"],["class","chosen-file","dw-row","",4,"ngIf"],["dw-row","",1,"chosen-file"],["dw-col","",1,"type-icon"],["dw-icon","","dwType","paper-clip","dwTheme","outline"],["dw-col","",1,"file-name"],["dw-button","","type","button","dwActionAuthorized","","angularticsAction","\u8be6\u60c5-\u70b9\u51fb\u5220\u9664\u6280\u672f\u65b9\u6848","dw-analyticsOn","click","dw-col","",1,"del",3,"dwType","dwActionId","dwDefaultAuthorized","angularticsCategory","angularticsLabel","click"],["dw-icon","","dwType","delete","dwTheme","outline"],[1,"tip"]],template:function(e,t){1&e&&(o.\u0275\u0275elementStart(0,"dw-modal",0),o.\u0275\u0275listener("dwVisibleChange",function(e){return t.isDispatchVisible=e})("dwOnCancel",function(){return t.close([])})("dwOnOk",function(){return t.submit()}),o.\u0275\u0275template(1,le,32,22,"ng-template",1),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(2,"app-cross-site-assistant-opener",2,3),o.\u0275\u0275listener("assistantVisibleChanged",function(e){return t.assistantChangeVisible(e)}),o.\u0275\u0275elementEnd()),2&e&&(o.\u0275\u0275property("dwBodyStyle",o.\u0275\u0275pureFunction0(6,de))("dwMaskClosable",!1)("dwWidth",520)("dwVisible",t.isDispatchVisible)("dwOkDisabled",!t.form.valid),o.\u0275\u0275advance(2),o.\u0275\u0275property("visible",t.showCrossSiteOpener))},directives:[_.DwModalComponent,_.DwModalContentDirective,N,d.\u0275NgNoValidate,d.NgControlStatusGroup,q.DwFormDirective,d.FormGroupDirective,E.DwRowDirective,q.DwFormItemComponent,E.DwColDirective,q.DwFormLabelComponent,q.DwFormControlComponent,W.DwRadioGroupComponent,d.NgControlStatus,d.FormControlName,W.DwRadioComponent,C.u,b.DwInputGroupComponent,b.DwInputGroupWhitSuffixOrPrefixDirective,b.DwInputDirective,d.DefaultValueAccessor,I.NgIf,b.DwAutosizeDirective,d.MaxLengthValidator,G.DwButtonComponent,U.uG,S.DwIconDirective,I.NgForOf,H.DwUploadComponent,X.DwActionAuthorizedDirective,Q.DwAnalyticsOn],styles:[".upFiles[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:#000000d9;font-size:18px;margin-bottom:12px}.upFiles[_ngcontent-%COMP%]   .chosen-file[_ngcontent-%COMP%]{margin:8px 0}.upFiles[_ngcontent-%COMP%]   .tip[_ngcontent-%COMP%]{color:#00000073;font-size:14px;margin-top:8px;white-space:nowrap}.upFiles[_ngcontent-%COMP%]   .file-name[_ngcontent-%COMP%]{width:200px;margin-left:5px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.upFiles[_ngcontent-%COMP%]   .del[_ngcontent-%COMP%]{display:none}.upFiles[_ngcontent-%COMP%]   .chosen-file[_ngcontent-%COMP%]:hover   .del[_ngcontent-%COMP%]{display:block;border:none;box-shadow:none;padding:0;height:0;background-color:#fff}.upFiles[_ngcontent-%COMP%]   .chosen-file[_ngcontent-%COMP%]:hover   .del[_ngcontent-%COMP%]:hover   em[_ngcontent-%COMP%]{color:#40a9ff;cursor:pointer}"]}),e}()},90395:function(e,t,n){n.d(t,{C:function(){return P}});var r,i=n(42746),a=n(1020),o=n(51156),l=n(53524),d=n(9682),c=((r=function(){function e(t,n){p(this,e),this.selectModalService=t,this.dwHttp=n}return f(e,[{key:"setConfig",value:function(e,t){this.config={modalTitle:"\u9009\u62e9\u670d\u52a1\u7ad9\u70b9",modalWidth:"50%",tableMultiSelect:!1,tableIdField:"service_site_id",tableNameField:"service_site_name",tablePageSize:10,tableColDefs:[{title:"\u7ad9\u70b9\u7f16\u53f7",field:"service_site_code",width:""},{title:"\u7ad9\u70b9\u540d\u79f0",field:"service_site_name",width:""}],returnFields:["service_site_id","service_site_name"],dataSource:new d.ApiServerPagingService(this.dwHttp,"restful/service/serviceSite/ServiceSite/List","service_site",["service_site_code","service_site_name"]),initParams:this.getQueryCondition(e,t)}}},{key:"open",value:function(e){return this.selectModalService.open(this.config,e)}},{key:"getQueryCondition",value:function(e,t){var n=new l.DwQueryCondition;return"1"!==t?(n.addCondition(new l.DwQueryConditionInfo("service_site_id",String(e),l.DwQueryConditionOperator.EQUAL)),n):null}}]),e}()).\u0275fac=function(e){return new(e||r)(i.\u0275\u0275inject(d.DwSelectModalService),i.\u0275\u0275inject(o.DwDapHttpClient))},r.\u0275prov=i.\u0275\u0275defineInjectable({token:r,factory:r.\u0275fac}),r),s=n(83237),m=n(31441),u=n(97981),v=n(45890),g=n(85773),h=n(55245),w=n(29872),y=n(82542),x=n(8852),_=n(67280),C=n(93761),S=n(96670),b=n(85277);function I(e,t){1&e&&(i.\u0275\u0275elementStart(0,"dw-form-item"),i.\u0275\u0275elementStart(1,"dw-form-control",4),i.\u0275\u0275elementStart(2,"dw-radio-group",5),i.\u0275\u0275elementStart(3,"label",6),i.\u0275\u0275text(4,"\u5206\u914d\u81f3\u7ad9\u70b9"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(5,"label",6),i.\u0275\u0275text(6,"\u5206\u914d\u81f3\u5de5\u5355\u6c60"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd()),2&e&&(i.\u0275\u0275advance(1),i.\u0275\u0275property("dwSm",20)("dwXs",24),i.\u0275\u0275advance(2),i.\u0275\u0275property("dwValue",0),i.\u0275\u0275advance(2),i.\u0275\u0275property("dwValue",1))}function E(e,t){if(1&e){var n=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementStart(0,"em",14),i.\u0275\u0275listener("click",function(){return i.\u0275\u0275restoreView(n),i.\u0275\u0275nextContext(4).clear()}),i.\u0275\u0275elementEnd()}}function D(e,t){if(1&e){var n=i.\u0275\u0275getCurrentView();i.\u0275\u0275template(0,E,1,0,"em",11),i.\u0275\u0275elementStart(1,"button",12),i.\u0275\u0275listener("click",function(e){return i.\u0275\u0275restoreView(n),i.\u0275\u0275nextContext(3).openServiceSiteWin(e,"service_site_name")}),i.\u0275\u0275element(2,"em",13),i.\u0275\u0275elementEnd()}if(2&e){var r=i.\u0275\u0275nextContext(3);i.\u0275\u0275property("ngIf",r.form.value.service_site_name)}}function O(e,t){if(1&e&&(i.\u0275\u0275elementStart(0,"dw-form-item"),i.\u0275\u0275elementStart(1,"dw-form-label",7),i.\u0275\u0275text(2,"\u6307\u6d3e\u7ad9\u70b9"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(3,"dw-form-control",4),i.\u0275\u0275elementStart(4,"dw-input-group",8),i.\u0275\u0275element(5,"input",9),i.\u0275\u0275elementEnd(),i.\u0275\u0275template(6,D,3,1,"ng-template",null,10,i.\u0275\u0275templateRefExtractor),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd()),2&e){var n=i.\u0275\u0275reference(7);i.\u0275\u0275advance(3),i.\u0275\u0275property("dwSm",14)("dwXs",24),i.\u0275\u0275advance(1),i.\u0275\u0275property("dwSuffix",n)}}function k(e,t){if(1&e&&(i.\u0275\u0275elementStart(0,"form",2),i.\u0275\u0275template(1,I,7,4,"dw-form-item",3),i.\u0275\u0275template(2,O,8,3,"dw-form-item",3),i.\u0275\u0275elementEnd()),2&e){var n=i.\u0275\u0275nextContext();i.\u0275\u0275property("formGroup",n.form),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",n.enable_so_pool),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",!n.enable_so_pool||n.enable_so_pool&&!n.form.value.assign_to_pool)}}var M=function(){return{height:"calc(100% - 55px)",overflow:"auto",padding:"12px 24px"}},P=function(){var e=function(){function e(t,n,r,a,o,l,d){p(this,e),this.siteSelectService=t,this.serviceOrderSrv=n,this.fb=r,this.commonHttpService=a,this.message=o,this.dwModalService=l,this.serviceSiteResource=d,this.enable_so_pool=!1,this.isDistributionVisible=!1,this.visibleChanged=new i.EventEmitter,this.service_order_id="",this.form=r.group({service_order_id:0,service_site_name:"",service_site_id:0,assign_to_pool:0})}return f(e,[{key:"ngOnInit",value:function(){var e=this;this.commonHttpService.get("".concat(this.serviceSiteResource,"/UserSite")).subscribe(function(t){e.user_service_site_id=t.service_site_id,e.user_service_site_type=t.service_site_type})}},{key:"initData",value:function(e,t){var n=this;this.service_order_id=e,this.latitude=t,this.form.setValue({service_order_id:e,service_site_name:"",service_site_id:0,assign_to_pool:0}),this.commonHttpService.get("restful/service/autoSettings/AutoSettings/AutoSettings").subscribe(function(e){n.enable_so_pool=e.enable_so_pool})}},{key:"close",value:function(){this.form.reset({service_site_id:0,service_site_name:"",assign_to_pool:0}),this.isDistributionVisible=!1,this.visibleChanged.emit(this.isDistributionVisible)}},{key:"submit",value:function(){var e=this;this.form.value.service_site_name||this.form.value.assign_to_pool?!this.latitude&&this.form.value.assign_to_pool?this.dwModalService.confirm({dwTitle:"\u63d0\u793a",dwContent:"\u672a\u83b7\u53d6\u5230\u7ef4\u4fee\u5730\u5740\u7684\u7ecf\u7eac\u5ea6\uff0c\u65e0\u6cd5\u5224\u5b9a\u548c\u5de5\u7a0b\u5e08\u7684\u8ddd\u79bb\uff0c\u786e\u5b9a\u5206\u914d\u81f3\u5de5\u5355\u6c60\u5417\uff1f",dwWidth:"420px",dwOnOk:function(){e.onSure()}}):this.onSure():this.message.create("error","\u8bf7\u9009\u62e9\u670d\u52a1\u7ad9\u70b9")}},{key:"onSure",value:function(){var e=this;this.form.value.assign_to_pool&&this.clear(),this.serviceOrderSrv.DistributionServiceOrder(this.form.value).subscribe(function(t){e.close(),e.message.create("success","\u64cd\u4f5c\u6210\u529f\uff01")},function(t){t.hasOwnProperty("error")&&t.error.hasOwnProperty("errorMessage")&&t.error.errorMessage&&e.message.error(t.error.errorMessage)})}},{key:"openServiceSiteWin",value:function(e,t){var n=this;e.preventDefault(),this.siteSelectService.setConfig(this.user_service_site_id,this.user_service_site_type),this.siteSelectService.open([]).subscribe(function(e){!e.length||(n.form.get("service_site_id").setValue(e[0].service_site_id),n.form.get("service_site_name").setValue(e[0].service_site_name))})}},{key:"clear",value:function(){this.form.get("service_site_id").setValue(0),this.form.get("service_site_name").setValue("")}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.\u0275\u0275directiveInject(c),i.\u0275\u0275directiveInject(u.R),i.\u0275\u0275directiveInject(a.FormBuilder),i.\u0275\u0275directiveInject(v.$),i.\u0275\u0275directiveInject(s.DwMessageService),i.\u0275\u0275directiveInject(m.DwModalService),i.\u0275\u0275directiveInject("ServiceSiteResource"))},e.\u0275cmp=i.\u0275\u0275defineComponent({type:e,selectors:[["app-service-order-distribution"]],inputs:{isDistributionVisible:"isDistributionVisible"},outputs:{visibleChanged:"visibleChanged"},features:[i.\u0275\u0275ProvidersFeature([u.R,c])],decls:2,vars:6,consts:[["dwTitle","\u670d\u52a1\u5de5\u5355\u5206\u914d",3,"dwBodyStyle","dwMaskClosable","dwWidth","dwVisible","dwOkDisabled","dwVisibleChange","dwOnCancel","dwOnOk"],["dwModalContent",""],["dw-form","",3,"formGroup"],[4,"ngIf"],[3,"dwSm","dwXs"],["dwName","radiogroup","formControlName","assign_to_pool",2,"display","flex"],["dw-radio","",3,"dwValue"],["dwRequired",""],["dwSearch","",3,"dwSuffix"],["dw-input","","type","text","readonly","","dw-input","","formControlName","service_site_name"],["suffixServiceSiteData",""],["dw-icon","","class","ant-input-clear-icon","dwTheme","fill","dwType","close-circle",3,"click",4,"ngIf"],["dw-button","","dwType","primary","dwSearch","",3,"click"],["dw-icon","","dwType","search","dwTheme","outline"],["dw-icon","","dwTheme","fill","dwType","close-circle",1,"ant-input-clear-icon",3,"click"]],template:function(e,t){1&e&&(i.\u0275\u0275elementStart(0,"dw-modal",0),i.\u0275\u0275listener("dwVisibleChange",function(e){return t.isDistributionVisible=e})("dwOnCancel",function(){return t.close()})("dwOnOk",function(){return t.submit()}),i.\u0275\u0275template(1,k,3,3,"ng-template",1),i.\u0275\u0275elementEnd()),2&e&&i.\u0275\u0275property("dwBodyStyle",i.\u0275\u0275pureFunction0(5,M))("dwMaskClosable",!1)("dwWidth",420)("dwVisible",t.isDistributionVisible)("dwOkDisabled",!t.form.valid)},directives:[m.DwModalComponent,m.DwModalContentDirective,a.\u0275NgNoValidate,a.NgControlStatusGroup,g.DwFormDirective,a.FormGroupDirective,h.NgIf,w.DwRowDirective,g.DwFormItemComponent,w.DwColDirective,g.DwFormControlComponent,y.DwRadioGroupComponent,a.NgControlStatus,a.FormControlName,y.DwRadioComponent,g.DwFormLabelComponent,x.u,_.DwInputGroupComponent,_.DwInputGroupWhitSuffixOrPrefixDirective,_.DwInputDirective,a.DefaultValueAccessor,C.DwButtonComponent,S.uG,b.DwIconDirective],styles:[""]}),e}()},93206:function(r,i,a){a.r(i),a.d(i,{ServiceOrderModule:function(){return Kr}});var o=a(55245),d=a(87974),s=a(42746),m=function(){var e=function(){function e(){p(this,e)}return f(e,[{key:"ngOnInit",value:function(){}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.\u0275\u0275defineComponent({type:e,selectors:[["app-service-order"]],decls:1,vars:0,template:function(e,t){1&e&&s.\u0275\u0275element(0,"router-outlet")},directives:[d.RouterOutlet],styles:[""]}),e}(),u=a(1020),v=a(83237),g=a(31441),h=a(97981),w=function(){var e=function(){function e(){p(this,e)}return f(e,[{key:"getServiceOrderStateLabel",value:function(e){return"1"===e.state?"\u5f85\u5206\u914d":"2"===e.state?e.assign_to_pool?"\u5f85\u62a2\u5355":"\u5f85\u6d3e\u5de5":"3"===e.state?"\u5f85\u670d\u52a1":"4"===e.state?"\u5f85\u56de\u5355":"5"===e.state?"\u5f85\u8bc4\u4ef7":"6"===e.state?"\u5df2\u5173\u95ed":"7"===e.state?"\u5df2\u53d6\u6d88":"\u672a\u77e5\u72b6\u6001"}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=s.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),y=a(51156),x=a(9682),_=function(){var e=function(){function e(t,n){p(this,e),this.dwHttp=t,this.selectModalService=n,this.config={modalTitle:"\u9009\u62e9\u5ba2\u6237",modalWidth:"50%",tableMultiSelect:!1,tableIdField:"customer_id",tableNameField:"customer_name",tablePageSize:10,returnFields:["customer_id","customer_code","customer_name","contact","contact_number","address"],tableColDefs:[{title:"\u5ba2\u6237\u7f16\u53f7",field:"customer_code"},{title:"\u5ba2\u6237\u540d\u79f0",field:"customer_name"}],dataSource:new x.ApiServerPagingService(this.dwHttp,"restful/service/customer/Customer/ListByCurrentSite","customer",["customer_code","customer_name"])}}return f(e,[{key:"open",value:function(e){return this.selectModalService.open(this.config,e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.\u0275\u0275inject(y.DwDapHttpClient),s.\u0275\u0275inject(x.DwSelectModalService))},e.\u0275prov=s.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac}),e}(),C=a(53524),S=function(){var e=function(){function e(t,n){p(this,e),this.dwHttp=t,this.selectModalService=n}return f(e,[{key:"setConfig",value:function(e,t){this.config={modalTitle:"\u9009\u62e9\u670d\u52a1\u7ad9\u70b9",modalWidth:"50%",tableMultiSelect:!1,tableIdField:"service_site_id",tableNameField:"service_site_name",tablePageSize:10,tableColDefs:[{title:"\u7ad9\u70b9\u7f16\u53f7",field:"service_site_code"},{title:"\u7ad9\u70b9\u540d\u79f0",field:"service_site_name"},{title:"\u7ad9\u70b9\u7c7b\u578b",field:"service_site_type",dataPipe:"i18nSelect",dataEnum:{1:"\u603b\u90e8",2:"\u7f51\u70b9",3:"\u7ecf\u9500\u5546"}}],returnFields:["service_site_id","service_site_name"],dataSource:new x.ApiServerPagingService(this.dwHttp,"restful/service/serviceSite/ServiceSite/List","service_site",["service_site_code","service_site_name"]),initParams:this.getQueryCondition(e,t)}}},{key:"open",value:function(e){return this.selectModalService.open(this.config,e)}},{key:"getQueryCondition",value:function(e,t){var n=new C.DwQueryCondition;return"1"!==t?(n.addCondition(new C.DwQueryConditionInfo("service_site_id",String(e),C.DwQueryConditionOperator.EQUAL)),n):null}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.\u0275\u0275inject(y.DwDapHttpClient),s.\u0275\u0275inject(x.DwSelectModalService))},e.\u0275prov=s.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac}),e}(),b=a(61937),I=a(47372),E=function(e){l(n,e);var t=c(n);function n(e,r){var i;return p(this,n),(i=t.call(this)).dwHttp=e,i.url=r,i}return f(n,[{key:"getDataList",value:function(e,t){var n=this;return this.dwHttp.get(this.url).pipe((0,I.map)(function(r){return n._result={currentPage:e,datas:Object.assign([],r),pageCount:Math.ceil(r.length/t),pageSize:t,rowCount:r.length},n._result}))}}]),n}(x.DwClientPagingDataSource),D=function(){var e=function(){function e(t,n){p(this,e),this.dwHttp=t,this.selectModalService=n,this.config={modalTitle:"\u9009\u62e9\u4ea7\u54c1\u5206\u7c7b",modalWidth:"50%",tableMultiSelect:!0,tableIdField:"item_group_id",tableNameField:"item_group_name",tablePageSize:10,tableColDefs:[{title:"\u4ea7\u54c1\u5206\u7c7b\u7f16\u53f7",field:"item_group_code"},{title:"\u4ea7\u54c1\u5206\u7c7b\u540d\u79f0",field:"item_group_name"}],tableCustomTag:function(e){return"("+e.item_group_code+")"+e.item_group_name},dataSource:new E(this.dwHttp,"restful/service/itemGroup/ItemGroup/ItemGroup?code=&name=&type=1")}}return f(e,[{key:"open",value:function(e){var t=this;return this.selectModalService.open(this.config,e).pipe((0,I.switchMap)(function(e){return t.dwHttp.get("restful/service/itemGroup/ItemGroup/ItemGroupByIds?ids=".concat(e))}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.\u0275\u0275inject(y.DwDapHttpClient),s.\u0275\u0275inject(x.DwSelectModalService))},e.\u0275prov=s.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac}),e}(),O=a(17494),k=a(66800),M=a(45890),P=a(32276),F=a(91970),V=a(80677),T=a(80419),L=a(10332),R=a(90395),A=a(85773),N=a(29872),j=a(67280),z=function(){return{minRows:3,maxRows:3}};function B(e,t){if(1&e&&(s.\u0275\u0275elementStart(0,"form",2),s.\u0275\u0275elementStart(1,"dw-form-item"),s.\u0275\u0275elementStart(2,"dw-form-label",3),s.\u0275\u0275text(3,"\u53d6\u6d88\u539f\u56e0"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(4,"dw-form-control",4),s.\u0275\u0275element(5,"textarea",5),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd()),2&e){var n=s.\u0275\u0275nextContext();s.\u0275\u0275property("formGroup",n.form),s.\u0275\u0275advance(2),s.\u0275\u0275property("dwSm",6)("dwXs",24),s.\u0275\u0275advance(2),s.\u0275\u0275property("dwSm",16)("dwXs",24),s.\u0275\u0275advance(1),s.\u0275\u0275property("dwAutosize",s.\u0275\u0275pureFunction0(6,z))}}var $=function(){return{height:"calc(100% - 55px)",overflow:"auto","padding-bottom":"24px"}},q=function(){var e=function(){function e(t,n,r){p(this,e),this.serviceOrderSrv=t,this.fb=n,this.message=r,this.isCancelVisible=!1,this.visibleChanged=new s.EventEmitter,this.service_order_id="",this.form=n.group({service_order_id:0,cancel_reason:["",u.Validators.required]})}return f(e,[{key:"ngOnInit",value:function(){}},{key:"initData",value:function(e){this.service_order_id=e,this.form.setValue({service_order_id:e,cancel_reason:""})}},{key:"close",value:function(){this.isCancelVisible=!1,this.visibleChanged.emit(this.isCancelVisible)}},{key:"submit",value:function(){var e=this;this.serviceOrderSrv.CancelServiceOrder(this.form.value).subscribe(function(t){"success"===t?e.message.create("success","\u53d6\u6d88\u6210\u529f\uff01"):e.message.create("error",t)}),this.close()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.\u0275\u0275directiveInject(h.R),s.\u0275\u0275directiveInject(u.FormBuilder),s.\u0275\u0275directiveInject(v.DwMessageService))},e.\u0275cmp=s.\u0275\u0275defineComponent({type:e,selectors:[["app-service-order-cancel"]],inputs:{isCancelVisible:"isCancelVisible"},outputs:{visibleChanged:"visibleChanged"},decls:2,vars:6,consts:[["dwTitle","\u53d6\u6d88\u5de5\u5355",3,"dwBodyStyle","dwMaskClosable","dwWidth","dwVisible","dwOkDisabled","dwVisibleChange","dwOnCancel","dwOnOk"],["dwModalContent",""],["dw-form","",3,"formGroup"],["dwRequired","",3,"dwSm","dwXs"],[3,"dwSm","dwXs"],["required","","dw-input","","maxlength","50","placeholder","\u8bf7\u8f93\u5165\u53d6\u6d88\u539f\u56e0,50\u5b57\u4ee5\u5185","formControlName","cancel_reason",3,"dwAutosize"]],template:function(e,t){1&e&&(s.\u0275\u0275elementStart(0,"dw-modal",0),s.\u0275\u0275listener("dwVisibleChange",function(e){return t.isCancelVisible=e})("dwOnCancel",function(){return t.close()})("dwOnOk",function(){return t.submit()}),s.\u0275\u0275template(1,B,6,7,"ng-template",1),s.\u0275\u0275elementEnd()),2&e&&s.\u0275\u0275property("dwBodyStyle",s.\u0275\u0275pureFunction0(5,$))("dwMaskClosable",!1)("dwWidth",420)("dwVisible",t.isCancelVisible)("dwOkDisabled",!t.form.valid)},directives:[g.DwModalComponent,g.DwModalContentDirective,u.\u0275NgNoValidate,u.NgControlStatusGroup,A.DwFormDirective,u.FormGroupDirective,N.DwRowDirective,A.DwFormItemComponent,N.DwColDirective,A.DwFormLabelComponent,A.DwFormControlComponent,j.DwInputDirective,u.DefaultValueAccessor,j.DwAutosizeDirective,u.RequiredValidator,u.MaxLengthValidator,u.NgControlStatus,u.FormControlName],styles:[""]}),e}(),W=a(99487),G=a(14025),U=a(93761),H=a(96670),X=a(8852),Q=a(41937),K=a(74591);function J(e,t){if(1&e){var n=s.\u0275\u0275getCurrentView();s.\u0275\u0275elementStart(0,"button",3),s.\u0275\u0275listener("click",function(){return s.\u0275\u0275restoreView(n),s.\u0275\u0275nextContext().close()}),s.\u0275\u0275text(1,"\u53d6\u6d88"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(2,"button",4),s.\u0275\u0275listener("click",function(){return s.\u0275\u0275restoreView(n),s.\u0275\u0275nextContext().submit()}),s.\u0275\u0275text(3,"\u5bfc\u51fa"),s.\u0275\u0275elementEnd()}if(2&e){var r=s.\u0275\u0275nextContext();s.\u0275\u0275advance(2),s.\u0275\u0275property("dwLoading",r.isLoading)("disabled",!r.dateRange.length)}}function Z(e,t){if(1&e){var n=s.\u0275\u0275getCurrentView();s.\u0275\u0275elementStart(0,"div",5),s.\u0275\u0275elementStart(1,"div",6),s.\u0275\u0275text(2,"\u65e5\u671f\uff1a"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(3,"dw-range-picker",7),s.\u0275\u0275listener("ngModelChange",function(e){return s.\u0275\u0275restoreView(n),s.\u0275\u0275nextContext().dateRange=e})("ngModelChange",function(e){return s.\u0275\u0275restoreView(n),s.\u0275\u0275nextContext().onChange(e)}),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(4,"div",8),s.\u0275\u0275element(5,"div",9),s.\u0275\u0275elementStart(6,"label",10),s.\u0275\u0275listener("ngModelChange",function(e){return s.\u0275\u0275restoreView(n),s.\u0275\u0275nextContext().isIncludleUnfinish=e}),s.\u0275\u0275text(7," \u5305\u542b\u672a\u5b8c\u6210\u670d\u52a1\u7684\u5de5\u5355 "),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd()}if(2&e){var r=s.\u0275\u0275nextContext();s.\u0275\u0275advance(3),s.\u0275\u0275property("ngModel",r.dateRange)("dwDisabledDate",r.disabledDate),s.\u0275\u0275advance(3),s.\u0275\u0275property("ngModel",r.isIncludleUnfinish)}}var Y=function(){return{height:"calc(100% - 55px)",overflow:"auto","padding-bottom":"24px"}},ee=function(){var e=function(){function e(t,n){p(this,e),this.serviceOrderSrv=t,this.message=n,this.dateRange=[],this.isIncludleUnfinish=!0,this.isLoading=!1,this.isExportVisible=!1,this.visibleChanged=new s.EventEmitter,this.disabledDate=function(e){return(0,G.differenceInCalendarDays)(new Date,e)<0}}return f(e,[{key:"ngOnInit",value:function(){}},{key:"initData",value:function(){var e=new Date,t=e.getFullYear(),n=e.getMonth();this.dateRange=[new Date(t,Number(n),1),new Date]}},{key:"onChange",value:function(e){console.log("onChange: ",e)}},{key:"close",value:function(){this.dateRange=[],this.isIncludleUnfinish=!0,this.isLoading=!1,this.visibleChanged.emit()}},{key:"submit",value:function(){var e=this;if(this.checkIsOneYear()){this.isLoading=!0;var t=n(this.dateRange),r=sessionStorage.getItem("salesman_id")?sessionStorage.getItem("salesman_id"):JSON.parse(sessionStorage.getItem("employeeInfo")).is_salesman?JSON.parse(sessionStorage.getItem("employeeInfo")).employee_id:"";this.serviceOrderSrv.exportReport(t,this.isIncludleUnfinish,r).subscribe(function(t){if(t)switch(t.type){case W.HttpEventType.Response:var n=URL.createObjectURL(t.body),r=document.createElement("a");r.href=n,r.style="visibility:hidden";var i=t.headers.get("Content-disposition").split("filename=")[1];r.download=decodeURI(i),document.body.appendChild(r),r.click(),document.body.removeChild(r),setTimeout(function(){e.close()},700)}},function(t){var n=new FileReader;n.onload=function(t){var n=JSON.parse(t.target.result);e.message.create("error",n.errorMessage)},n.readAsText(t.error)})}else this.message.create("error","\u65e5\u671f\u533a\u95f4\u8303\u56f4\u4e0d\u53ef\u8d85\u8fc7\u4e00\u5e74")}},{key:"checkIsOneYear",value:function(){var e=this.dateRange[1].getTime()-this.dateRange[0].getTime();if(e>316224e5)return!1;var t=31536e6,n=this.dateRange[0].getFullYear(),r=this.dateRange[0].getMonth()+1,i=this.dateRange[1].getFullYear(),a=this.dateRange[1].getMonth()+1;return(this.isLeapYear(n)&&r<=2||this.isLeapYear(i)&&a>=2)&&(t+=864e5),e<=t}},{key:"isLeapYear",value:function(e){if(e%100==0){if(e%400==0)return!0}else if(e%4==0)return!0;return!1}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.\u0275\u0275directiveInject(h.R),s.\u0275\u0275directiveInject(v.DwMessageService))},e.\u0275cmp=s.\u0275\u0275defineComponent({type:e,selectors:[["app-export"]],inputs:{isExportVisible:"isExportVisible"},outputs:{visibleChanged:"visibleChanged"},decls:4,vars:6,consts:[["dwTitle","\u5bfc\u51fa\u7ef4\u4fee\u8bb0\u5f55\u660e\u7ec6",3,"dwBodyStyle","dwMaskClosable","dwWidth","dwVisible","dwFooter","dwVisibleChange","dwOnCancel"],["modalFooter",""],["dwModalContent",""],["dw-button","","dwType","default",3,"click"],["dw-button","","dwType","primary",3,"dwLoading","disabled","click"],[1,"date-range",2,"margin-bottom","12px"],[2,"width","56px"],[2,"width","100%",3,"ngModel","dwDisabledDate","ngModelChange"],[1,"date-range"],[2,"width","48px"],["dw-checkbox","",3,"ngModel","ngModelChange"]],template:function(e,t){if(1&e&&(s.\u0275\u0275elementStart(0,"dw-modal",0),s.\u0275\u0275listener("dwVisibleChange",function(e){return t.isExportVisible=e})("dwOnCancel",function(){return t.close()}),s.\u0275\u0275template(1,J,4,2,"ng-template",null,1,s.\u0275\u0275templateRefExtractor),s.\u0275\u0275template(3,Z,8,3,"ng-template",2),s.\u0275\u0275elementEnd()),2&e){var n=s.\u0275\u0275reference(2);s.\u0275\u0275property("dwBodyStyle",s.\u0275\u0275pureFunction0(5,Y))("dwMaskClosable",!1)("dwWidth",360)("dwVisible",t.isExportVisible)("dwFooter",n)}},directives:[g.DwModalComponent,g.DwModalContentDirective,U.DwButtonComponent,H.uG,X.u,Q.DwDatePickerComponent,Q.DwRangePickerComponent,u.NgControlStatus,u.NgModel,K.DwCheckboxComponent],styles:[".date-range[_ngcontent-%COMP%]{display:flex;align-items:center}"]}),e}(),te=a(16972),ne=a(59748),re=a(83522);function ie(e,t){if(1&e){var n=s.\u0275\u0275getCurrentView();s.\u0275\u0275elementStart(0,"div",2),s.\u0275\u0275element(1,"img",3),s.\u0275\u0275text(2," \u8bf7\u5148\u5b8c\u6210\u4e1a\u52a1\u5458\u4e2a\u4eba\u8ba4\u8bc1\uff0c\u624d\u53ef\u8fdb\u884c\u62a5\u4fee\u548c\u67e5\u8be2 "),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(3,"form",4),s.\u0275\u0275elementStart(4,"dw-form-item"),s.\u0275\u0275elementStart(5,"dw-form-label",5),s.\u0275\u0275text(6,"\u624b\u673a\u53f7"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(7,"dw-form-control",6),s.\u0275\u0275elementStart(8,"input",7),s.\u0275\u0275listener("blur",function(){return s.\u0275\u0275restoreView(n),s.\u0275\u0275reference(10).validInput()}),s.\u0275\u0275elementEnd(),s.\u0275\u0275element(9,"app-valid-input",8,9),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(11,"dw-form-item"),s.\u0275\u0275elementStart(12,"dw-form-label",5),s.\u0275\u0275text(13,"\u9a8c\u8bc1\u7801"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(14,"dw-form-control",10),s.\u0275\u0275elementStart(15,"div",11),s.\u0275\u0275element(16,"input",12),s.\u0275\u0275elementStart(17,"button",13),s.\u0275\u0275listener("click",function(){return s.\u0275\u0275restoreView(n),s.\u0275\u0275nextContext().getVerificationCode()}),s.\u0275\u0275text(18),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(19,"dw-form-item",14),s.\u0275\u0275element(20,"dw-form-label",15),s.\u0275\u0275elementStart(21,"dw-form-control",10),s.\u0275\u0275elementStart(22,"button",16),s.\u0275\u0275listener("click",function(){return s.\u0275\u0275restoreView(n),s.\u0275\u0275nextContext().handleOk()}),s.\u0275\u0275elementStart(23,"span",17),s.\u0275\u0275text(24,"\u8ba4\u8bc1"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd()}if(2&e){var r=s.\u0275\u0275reference(10),i=s.\u0275\u0275nextContext();s.\u0275\u0275advance(3),s.\u0275\u0275property("formGroup",i.form),s.\u0275\u0275advance(2),s.\u0275\u0275property("dwSm",4)("dwXs",24),s.\u0275\u0275advance(2),s.\u0275\u0275property("dwSpan",17)("dwValidateStatus",r.warnType),s.\u0275\u0275advance(2),s.\u0275\u0275property("value",i.form.value.telephone)("type","mobile"),s.\u0275\u0275advance(3),s.\u0275\u0275property("dwSm",4)("dwXs",24),s.\u0275\u0275advance(2),s.\u0275\u0275property("dwSpan",17),s.\u0275\u0275advance(3),s.\u0275\u0275property("dwType","default")("disabled",i.isSending),s.\u0275\u0275advance(1),s.\u0275\u0275textInterpolate1(" ",i.time," "),s.\u0275\u0275advance(2),s.\u0275\u0275property("dwSm",4)("dwXs",24),s.\u0275\u0275advance(1),s.\u0275\u0275property("dwSpan",17),s.\u0275\u0275advance(1),s.\u0275\u0275property("dwType","primary")("disabled",!i.form.valid)}}var ae=function(){return{height:"calc(100% - 55px)",overflow:"auto","padding-bottom":"24px"}},oe=function(){var e=function(){function e(t,n,r){p(this,e),this.fb=t,this.http=n,this.message=r,this.interval=null,this.isSalesmanVisible=!1,this.visibleChanged=new s.EventEmitter,this.time="\u83b7\u53d6\u9a8c\u8bc1\u7801",this.isSending=!1,this.currentTime=61,this.form=this.fb.group({telephone:["",u.Validators.pattern(te.K.MOBILE)],smsCode:["",u.Validators.required]})}return f(e,[{key:"ngOnInit",value:function(){}},{key:"getVerificationCode",value:function(){var e=this;this.form.value.telephone?/^1[3456789]\d{9}$/.test(this.form.value.telephone)?this.isSending||(this.isSending=!0,this.http.get("restful/service/serviceOrder/EmcAnonymous/CommonAccountAuthentication?phoneNumber=".concat(this.form.value.telephone)).subscribe(function(t){e.currentTime--,e.time=e.currentTime+"S",e.interval=setInterval(function(){e.currentTime--,e.time=e.currentTime+"S",e.currentTime<=0&&(clearInterval(e.interval),e.time="\u91cd\u65b0\u53d1\u9001",e.currentTime=61,e.isSending=!1)},1e3)},function(t){e.isSending=!1,t.hasOwnProperty("error")&&t.error.hasOwnProperty("errorMessage")&&t.error.errorMessage&&e.message.error(t.error.errorMessage)})):this.message.error("\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u624b\u673a\u53f7"):this.message.error("\u8bf7\u8f93\u5165\u624b\u673a\u53f7")}},{key:"close",value:function(){this.visibleChanged.emit(null)}},{key:"handleOk",value:function(){var e=this;this.http.get("restful/service/serviceOrder/EmcAnonymous/CheckCode?telephone=".concat(this.form.value.telephone,"&code=").concat(this.form.value.smsCode)).subscribe(function(t){e.interval&&clearInterval(e.interval),sessionStorage.setItem("salesman_id",t.data?t.data.data.employee_id:0),sessionStorage.setItem("salesman_name",t.data?t.data.data.employee_name:""),e.visibleChanged.emit(!0)},function(t){t.hasOwnProperty("error")&&t.error.hasOwnProperty("errorMessage")&&t.error.errorMessage&&e.message.error(t.error.errorMessage)})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.\u0275\u0275directiveInject(u.FormBuilder),s.\u0275\u0275directiveInject(y.DwDapHttpClient),s.\u0275\u0275directiveInject(v.DwMessageService))},e.\u0275cmp=s.\u0275\u0275defineComponent({type:e,selectors:[["app-salesman-certificate"]],inputs:{isSalesmanVisible:"isSalesmanVisible"},outputs:{visibleChanged:"visibleChanged"},decls:2,vars:6,consts:[["dwTitle","\u4e1a\u52a1\u5458\u8ba4\u8bc1",3,"dwBodyStyle","dwMaskClosable","dwWidth","dwVisible","dwFooter","dwVisibleChange","dwOnCancel"],["dwModalContent",""],[1,"information"],["src","../../../../../../assets/img/icon_information.png","alt","\u6ce8\u610f"],["dw-form","",3,"formGroup"],["dwRequired","",3,"dwSm","dwXs"],[3,"dwSpan","dwValidateStatus"],["dw-input","","formControlName","telephone","required","","placeholder","\u8bf7\u8f93\u5165\u624b\u673a\u53f7","maxlength","20",3,"blur"],[3,"value","type"],["telephone_tip",""],[3,"dwSpan"],[2,"display","flex"],["dw-input","","formControlName","smsCode","required","","placeholder","\u8bf7\u8f93\u51656\u4f4d\u9a8c\u8bc1\u7801","maxlength","6",2,"flex","1"],["dw-button","","type","button",2,"width","100px","margin-left","16px",3,"dwType","disabled","click"],[2,"margin-top","24px","margin-bottom","0"],[3,"dwSm","dwXs"],["dw-button","","type","submit",2,"width","100%",3,"dwType","disabled","click"],["translate",""]],template:function(e,t){1&e&&(s.\u0275\u0275elementStart(0,"dw-modal",0),s.\u0275\u0275listener("dwVisibleChange",function(e){return t.isSalesmanVisible=e})("dwOnCancel",function(){return t.close()}),s.\u0275\u0275template(1,ie,25,18,"ng-template",1),s.\u0275\u0275elementEnd()),2&e&&s.\u0275\u0275property("dwBodyStyle",s.\u0275\u0275pureFunction0(5,ae))("dwMaskClosable",!1)("dwWidth",450)("dwVisible",t.isSalesmanVisible)("dwFooter",null)},directives:[g.DwModalComponent,g.DwModalContentDirective,u.\u0275NgNoValidate,u.NgControlStatusGroup,A.DwFormDirective,u.FormGroupDirective,N.DwRowDirective,A.DwFormItemComponent,N.DwColDirective,A.DwFormLabelComponent,A.DwFormControlComponent,j.DwInputDirective,u.DefaultValueAccessor,u.NgControlStatus,u.FormControlName,u.RequiredValidator,u.MaxLengthValidator,ne.l,U.DwButtonComponent,H.uG,X.u,re.TranslateDirective],styles:[".information[_ngcontent-%COMP%]{height:16px;line-height:16px;color:#333;font-size:13px;display:flex;margin-bottom:16px;padding-left:4px}.information[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:16px;margin-right:6px}.one_btn[_ngcontent-%COMP%]{height:32px;padding:0 8px 0 4px;margin-left:8px;color:#fff;background:#1890ff;border-radius:4px;display:flex;align-items:center;box-shadow:0 2px #00000004;cursor:pointer}.one_btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;width:24px;margin-right:2px}.one_btn[_ngcontent-%COMP%]   img.hover[_ngcontent-%COMP%]{display:none}.one_btn[_ngcontent-%COMP%]:hover{background:#40a9ff}.one_btn[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{display:none}.one_btn[_ngcontent-%COMP%]:hover   img.hover[_ngcontent-%COMP%]{display:block}.one_btn[_ngcontent-%COMP%]:active{background:#096dd9}"]}),e}(),le=a(85277),de=a(37568),ce=a(82542),se=a(62695),me=a(71452);function pe(e,t){if(1&e){var n=s.\u0275\u0275getCurrentView();s.\u0275\u0275elementStart(0,"div",20),s.\u0275\u0275listener("click",function(){return s.\u0275\u0275restoreView(n),s.\u0275\u0275nextContext(2).clearInput()}),s.\u0275\u0275element(1,"em",21),s.\u0275\u0275elementEnd()}}function ue(e,t){if(1&e&&(s.\u0275\u0275elementStart(0,"tr"),s.\u0275\u0275elementStart(1,"td",22),s.\u0275\u0275element(2,"label",23),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(3,"td"),s.\u0275\u0275text(4),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(5,"td"),s.\u0275\u0275text(6),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd()),2&e){var n=t.$implicit;s.\u0275\u0275advance(1),s.\u0275\u0275property("dwAlign","center"),s.\u0275\u0275advance(1),s.\u0275\u0275propertyInterpolate("dwValue",n.customer_id),s.\u0275\u0275advance(2),s.\u0275\u0275textInterpolate1(" ",n.customer_code," "),s.\u0275\u0275advance(2),s.\u0275\u0275textInterpolate1(" ",n.customer_name," ")}}function fe(e,t){if(1&e){var n=s.\u0275\u0275getCurrentView();s.\u0275\u0275elementStart(0,"div",2),s.\u0275\u0275elementStart(1,"div",3),s.\u0275\u0275elementStart(2,"div",4),s.\u0275\u0275elementStart(3,"div",5),s.\u0275\u0275listener("click",function(){return s.\u0275\u0275restoreView(n),s.\u0275\u0275nextContext().getList()}),s.\u0275\u0275element(4,"em",6),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(5,"input",7),s.\u0275\u0275listener("ngModelChange",function(e){return s.\u0275\u0275restoreView(n),s.\u0275\u0275nextContext().searchValue=e})("keydown",function(e){return s.\u0275\u0275restoreView(n),s.\u0275\u0275nextContext().onKeydown(e)}),s.\u0275\u0275elementEnd(),s.\u0275\u0275template(6,pe,2,0,"div",8),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(7,"div",9),s.\u0275\u0275elementStart(8,"dw-radio-group",10),s.\u0275\u0275listener("ngModelChange",function(e){return s.\u0275\u0275restoreView(n),s.\u0275\u0275nextContext().customer_id=e}),s.\u0275\u0275elementStart(9,"div"),s.\u0275\u0275elementStart(10,"dw-table",11,12),s.\u0275\u0275elementStart(12,"thead",13),s.\u0275\u0275listener("dwSortOrderChange",function(e){return s.\u0275\u0275restoreView(n),s.\u0275\u0275nextContext().order(e)}),s.\u0275\u0275elementStart(13,"tr",14),s.\u0275\u0275elementStart(14,"th",15),s.\u0275\u0275element(15,"span",16),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(16,"th",17),s.\u0275\u0275elementStart(17,"span",16),s.\u0275\u0275text(18,"\u5ba2\u6237\u7f16\u53f7"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(19,"th",18),s.\u0275\u0275elementStart(20,"span",16),s.\u0275\u0275text(21,"\u5ba2\u6237\u540d\u79f0"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(22,"tbody"),s.\u0275\u0275template(23,ue,7,4,"tr",19),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd()}if(2&e){var r=s.\u0275\u0275reference(11),i=s.\u0275\u0275nextContext();s.\u0275\u0275advance(5),s.\u0275\u0275property("ngModel",i.searchValue),s.\u0275\u0275advance(1),s.\u0275\u0275property("ngIf",i.searchValue),s.\u0275\u0275advance(2),s.\u0275\u0275property("ngModel",i.customer_id),s.\u0275\u0275advance(2),s.\u0275\u0275property("dwData",i.customerList),s.\u0275\u0275advance(13),s.\u0275\u0275property("ngForOf",r.data)}}var ve=function(){return{"padding-bottom":"8px"}},ge=function(){var e=function(){function e(t,n){p(this,e),this.message=t,this.http=n,this.customerVisibleChanged=new s.EventEmitter,this.search={pageNumber:1,pageSize:10},this.customer_id=0,this.searchValue="",this.onlyNotComplete=!0,this.customerList=[]}return f(e,[{key:"initData",value:function(){this.customer_id=0,this.searchValue="",this.getList()}},{key:"getList",value:function(){var e=this,t=sessionStorage.getItem("salesman_id")||JSON.parse(sessionStorage.getItem("employeeInfo")).employee_id;this.http.get("restful/service/customer/Customer/ListBySalesman?employeeId=".concat(t,"&str=").concat(this.searchValue)).subscribe(function(t){e.customerList=t.data?t.data.customer:[]},function(t){t.hasOwnProperty("error")&&t.error.hasOwnProperty("errorMessage")&&t.error.errorMessage&&e.message.error(t.error.errorMessage)})}},{key:"clearInput",value:function(){this.searchValue="",this.customer_id=0,this.customerList=[]}},{key:"close",value:function(){this.clearInput(),this.customerVisibleChanged.emit(null)}},{key:"chooseOk",value:function(){var e=this,t=this.customerList.filter(function(t){return t.customer_id.toString()===e.customer_id});this.customerVisibleChanged.emit(t),this.clearInput()}},{key:"onKeydown",value:function(e){13===e.keyCode&&(this.customer_id=0,this.getList())}},{key:"ngOnInit",value:function(){}},{key:"order",value:function(e){var t=e.key;switch(e.value){case"ascend":this.customerList=b.l.order(this.customerList,[t]);break;case"descend":this.customerList=b.l.order(this.customerList,[t,-1])}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.\u0275\u0275directiveInject(v.DwMessageService),s.\u0275\u0275directiveInject(y.DwDapHttpClient))},e.\u0275cmp=s.\u0275\u0275defineComponent({type:e,selectors:[["app-customer-for-salesman-opener"]],inputs:{visible:"visible"},outputs:{customerVisibleChanged:"customerVisibleChanged"},decls:2,vars:5,consts:[["dwTitle","\u9009\u62e9\u5ba2\u6237",3,"dwBodyStyle","dwMaskClosable","dwWidth","dwVisible","dwVisibleChange","dwOnCancel","dwOnOk"],["dwModalContent",""],[1,"wrapper"],[1,"top-box"],[1,"search-box"],[1,"search",3,"click"],["dw-icon","","dwType","search","dwTheme","outline"],["dw-input","","type","text","placeholder","\u641c\u7d22",3,"ngModel","ngModelChange","keydown"],["class","close",3,"click",4,"ngIf"],[1,"choose-wrap"],[1,"radio-group",3,"ngModel","ngModelChange"],[3,"dwData"],["dwTable",""],[3,"dwSortOrderChange"],["dw-tr",""],["dw-th","","dwWidth","40px"],["translate",""],["dw-th","","dwWidth","160px","dwShowSort","","dwColumnKey","doc_no"],["dw-th","","dwWidth","160px","dwShowSort","","dwColumnKey","customer_name"],[4,"ngFor","ngForOf"],[1,"close",3,"click"],["dw-icon","","dwTheme","fill","dwType","close-circle",1,"ant-input-clear-icon"],[3,"dwAlign"],["dw-radio","",3,"dwValue"]],template:function(e,t){1&e&&(s.\u0275\u0275elementStart(0,"dw-modal",0),s.\u0275\u0275listener("dwVisibleChange",function(e){return t.visible=e})("dwOnCancel",function(){return t.close()})("dwOnOk",function(){return t.chooseOk()}),s.\u0275\u0275template(1,fe,24,5,"ng-template",1),s.\u0275\u0275elementEnd()),2&e&&s.\u0275\u0275property("dwBodyStyle",s.\u0275\u0275pureFunction0(4,ve))("dwMaskClosable",!0)("dwWidth",890)("dwVisible",t.visible)},directives:[g.DwModalComponent,g.DwModalContentDirective,X.u,le.DwIconDirective,j.DwInputDirective,u.DefaultValueAccessor,u.NgControlStatus,u.NgModel,o.NgIf,ce.DwRadioGroupComponent,se.DwTableComponent,me.Ct,se.DwTheadComponent,se.DwTrDirective,se.DwTableCellDirective,se.DwThMeasureDirective,me.BL,re.TranslateDirective,se.DwThAddOnComponent,se.DwTbodyComponent,o.NgForOf,se.DwCellAlignDirective,ce.DwRadioComponent],styles:[".top-box[_ngcontent-%COMP%]{width:100%;height:32px;display:flex;margin-bottom:24px}.checkbox-wrap[_ngcontent-%COMP%]{display:flex;align-items:center;margin-left:16px}.search-box[_ngcontent-%COMP%]{flex:1;height:100%;position:relative}.search-box[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]{width:30px;height:100%;display:flex;align-items:center;justify-content:center;position:absolute;top:0;left:0;z-index:2}.search-box[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]{font-size:16px;color:#999}.search-box[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{position:absolute;top:0;right:8px;font-size:20px}.search-box[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]   .ant-input-clear-icon[_ngcontent-%COMP%]:last-child{font-size:16px}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;height:32px;background:#fff;border-radius:4px;padding:0 30px}.choose-wrap[_ngcontent-%COMP%]{flex:1;display:flex}.radio-group[_ngcontent-%COMP%]{flex:1;height:100%;position:relative;overflow:auto}.ant-radio-wrapper[_ngcontent-%COMP%]{margin-right:0}"]}),e}(),he=a(89842),we=a(64840);function ye(e,t){if(1&e&&(s.\u0275\u0275elementStart(0,"div",51),s.\u0275\u0275text(1,"\u6b22\u8fce\u60a8\uff0c"),s.\u0275\u0275elementStart(2,"span"),s.\u0275\u0275text(3),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd()),2&e){var n=s.\u0275\u0275nextContext();s.\u0275\u0275advance(3),s.\u0275\u0275textInterpolate(n.salesman_name)}}function xe(e,t){if(1&e){var n=s.\u0275\u0275getCurrentView();s.\u0275\u0275elementStart(0,"em",55),s.\u0275\u0275listener("click",function(){return s.\u0275\u0275restoreView(n),s.\u0275\u0275nextContext(2).clear("customer")}),s.\u0275\u0275elementEnd()}}function _e(e,t){if(1&e){var n=s.\u0275\u0275getCurrentView();s.\u0275\u0275template(0,xe,1,0,"em",52),s.\u0275\u0275elementStart(1,"button",53),s.\u0275\u0275listener("click",function(){return s.\u0275\u0275restoreView(n),s.\u0275\u0275nextContext().openCustomer()}),s.\u0275\u0275element(2,"em",54),s.\u0275\u0275elementEnd()}if(2&e){var r=s.\u0275\u0275nextContext();s.\u0275\u0275property("ngIf",r.searchForm.value.customer_name),s.\u0275\u0275advance(1),s.\u0275\u0275propertyInterpolate("angularticsLabel",r.userInfo.tenantId+","+r.userInfo.userId),s.\u0275\u0275property("angularticsCategory","\u670d\u52a1\u5de5\u5355")}}function Ce(e,t){1&e&&(s.\u0275\u0275elementStart(0,"div",18),s.\u0275\u0275text(1,"\u5e8f\xa0\xa0\u5217\xa0\xa0\u53f7"),s.\u0275\u0275elementEnd())}function Se(e,t){1&e&&(s.\u0275\u0275elementStart(0,"div",18),s.\u0275\u0275text(1,"\u9879\xa0\xa0\u76ee\xa0\xa0\u53f7"),s.\u0275\u0275elementEnd())}function be(e,t){1&e&&(s.\u0275\u0275elementStart(0,"div",18),s.\u0275\u0275text(1,"\u5e8f\u5217\u53f7/\u9879\u76ee\u53f7"),s.\u0275\u0275elementEnd())}function Ie(e,t){if(1&e){var n=s.\u0275\u0275getCurrentView();s.\u0275\u0275elementStart(0,"em",55),s.\u0275\u0275listener("click",function(){return s.\u0275\u0275restoreView(n),s.\u0275\u0275nextContext(2).clear("sn")}),s.\u0275\u0275elementEnd()}}function Ee(e,t){if(1&e&&s.\u0275\u0275template(0,Ie,1,0,"em",52),2&e){var n=s.\u0275\u0275nextContext();s.\u0275\u0275property("ngIf",n.searchForm.value.sn)}}function De(e,t){if(1&e){var n=s.\u0275\u0275getCurrentView();s.\u0275\u0275elementStart(0,"em",55),s.\u0275\u0275listener("click",function(){return s.\u0275\u0275restoreView(n),s.\u0275\u0275nextContext(3).clear("item_group")}),s.\u0275\u0275elementEnd()}}function Oe(e,t){if(1&e){var n=s.\u0275\u0275getCurrentView();s.\u0275\u0275template(0,De,1,0,"em",52),s.\u0275\u0275elementStart(1,"button",66),s.\u0275\u0275listener("click",function(){return s.\u0275\u0275restoreView(n),s.\u0275\u0275nextContext(2).openItemGroup()}),s.\u0275\u0275element(2,"em",54),s.\u0275\u0275elementEnd()}if(2&e){var r=s.\u0275\u0275nextContext(2);s.\u0275\u0275property("ngIf",r.searchForm.value.item_group_name),s.\u0275\u0275advance(1),s.\u0275\u0275propertyInterpolate("angularticsLabel",r.userInfo.tenantId+","+r.userInfo.userId),s.\u0275\u0275property("angularticsCategory","\u670d\u52a1\u5de5\u5355")}}function ke(e,t){if(1&e){var n=s.\u0275\u0275getCurrentView();s.\u0275\u0275elementStart(0,"em",55),s.\u0275\u0275listener("click",function(){return s.\u0275\u0275restoreView(n),s.\u0275\u0275nextContext(3).clear("service_site")}),s.\u0275\u0275elementEnd()}}function Me(e,t){if(1&e){var n=s.\u0275\u0275getCurrentView();s.\u0275\u0275template(0,ke,1,0,"em",52),s.\u0275\u0275elementStart(1,"button",67),s.\u0275\u0275listener("click",function(){return s.\u0275\u0275restoreView(n),s.\u0275\u0275nextContext(2).openServiceSite()}),s.\u0275\u0275element(2,"em",54),s.\u0275\u0275elementEnd()}if(2&e){var r=s.\u0275\u0275nextContext(2);s.\u0275\u0275property("ngIf",r.searchForm.value.service_site_name),s.\u0275\u0275advance(1),s.\u0275\u0275propertyInterpolate("angularticsLabel",r.userInfo.tenantId+","+r.userInfo.userId),s.\u0275\u0275property("angularticsCategory","\u670d\u52a1\u5de5\u5355")}}function Pe(e,t){1&e&&(s.\u0275\u0275elementStart(0,"span"),s.\u0275\u0275text(1,"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0"),s.\u0275\u0275elementEnd())}function Fe(e,t){if(1&e){var n=s.\u0275\u0275getCurrentView();s.\u0275\u0275elementStart(0,"em",55),s.\u0275\u0275listener("click",function(){return s.\u0275\u0275restoreView(n),s.\u0275\u0275nextContext(3).clear("remark")}),s.\u0275\u0275elementEnd()}}function Ve(e,t){if(1&e&&s.\u0275\u0275template(0,Fe,1,0,"em",52),2&e){var n=s.\u0275\u0275nextContext(2);s.\u0275\u0275property("ngIf",n.searchForm.value.remark)}}function Te(e,t){if(1&e){var n=s.\u0275\u0275getCurrentView();s.\u0275\u0275elementStart(0,"em",55),s.\u0275\u0275listener("click",function(){return s.\u0275\u0275restoreView(n),s.\u0275\u0275nextContext(3).clear("doc_no")}),s.\u0275\u0275elementEnd()}}function Le(e,t){if(1&e&&s.\u0275\u0275template(0,Te,1,0,"em",52),2&e){var n=s.\u0275\u0275nextContext(2);s.\u0275\u0275property("ngIf",n.searchForm.value.doc_no)}}function Re(e,t){if(1&e){var n=s.\u0275\u0275getCurrentView();s.\u0275\u0275elementContainerStart(0),s.\u0275\u0275elementStart(1,"div",16),s.\u0275\u0275elementStart(2,"div",17),s.\u0275\u0275elementStart(3,"div",18),s.\u0275\u0275text(4,"\u4ea7\u54c1\u5206\u7c7b"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(5,"dw-form-item",19),s.\u0275\u0275elementStart(6,"dw-form-control"),s.\u0275\u0275elementStart(7,"dw-input-group",22),s.\u0275\u0275element(8,"input",56),s.\u0275\u0275elementEnd(),s.\u0275\u0275template(9,Oe,3,3,"ng-template",null,57,s.\u0275\u0275templateRefExtractor),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(11,"div",17),s.\u0275\u0275elementStart(12,"div",18),s.\u0275\u0275text(13,"\u670d\u52a1\u7ad9\u70b9"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(14,"dw-form-item",21),s.\u0275\u0275elementStart(15,"dw-form-control"),s.\u0275\u0275elementStart(16,"dw-input-group",22),s.\u0275\u0275element(17,"input",58),s.\u0275\u0275elementEnd(),s.\u0275\u0275template(18,Me,3,3,"ng-template",null,59,s.\u0275\u0275templateRefExtractor),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(20,"div",17),s.\u0275\u0275elementStart(21,"div",18),s.\u0275\u0275text(22,"\u5907"),s.\u0275\u0275template(23,Pe,2,0,"span",34),s.\u0275\u0275text(24,"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\u6ce8 "),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(25,"dw-form-item",21),s.\u0275\u0275elementStart(26,"dw-form-control"),s.\u0275\u0275elementStart(27,"dw-input-group",26),s.\u0275\u0275element(28,"input",60),s.\u0275\u0275elementEnd(),s.\u0275\u0275template(29,Ve,1,1,"ng-template",null,61,s.\u0275\u0275templateRefExtractor),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(31,"div",16),s.\u0275\u0275elementStart(32,"div",17),s.\u0275\u0275elementStart(33,"div",18),s.\u0275\u0275text(34,"\u5355\xa0\xa0\xa0\xa0\xa0\xa0\xa0\u53f7"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(35,"dw-form-item",21),s.\u0275\u0275elementStart(36,"dw-form-control"),s.\u0275\u0275elementStart(37,"dw-input-group",26),s.\u0275\u0275element(38,"input",62),s.\u0275\u0275elementEnd(),s.\u0275\u0275template(39,Le,1,1,"ng-template",null,63,s.\u0275\u0275templateRefExtractor),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(41,"div",17),s.\u0275\u0275elementStart(42,"div",18),s.\u0275\u0275text(43,"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 "),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(44,"dw-form-item",21),s.\u0275\u0275elementStart(45,"dw-form-control"),s.\u0275\u0275elementStart(46,"dw-input-group"),s.\u0275\u0275elementStart(47,"label",64),s.\u0275\u0275listener("ngModelChange",function(e){return s.\u0275\u0275restoreView(n),s.\u0275\u0275nextContext().checkboxChange(e,"1")}),s.\u0275\u0275text(48," \u670d\u52a1\u62a5\u544a\u65e0\u96f6\u914d\u4ef6\u66f4\u6362 "),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(49,"div",17),s.\u0275\u0275elementStart(50,"div",18),s.\u0275\u0275text(51,"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 "),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(52,"dw-form-item",21),s.\u0275\u0275elementStart(53,"dw-form-control"),s.\u0275\u0275elementStart(54,"dw-input-group"),s.\u0275\u0275elementStart(55,"label",65),s.\u0275\u0275listener("ngModelChange",function(e){return s.\u0275\u0275restoreView(n),s.\u0275\u0275nextContext().checkboxChange(e,"2")}),s.\u0275\u0275text(56," \u95ee\u9898\u672a\u89e3\u51b3 "),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementContainerEnd()}if(2&e){var r=s.\u0275\u0275reference(10),i=s.\u0275\u0275reference(19),a=s.\u0275\u0275reference(30),o=s.\u0275\u0275reference(40),l=s.\u0275\u0275nextContext();s.\u0275\u0275advance(7),s.\u0275\u0275property("dwSuffix",r),s.\u0275\u0275advance(9),s.\u0275\u0275property("dwSuffix",i),s.\u0275\u0275advance(7),s.\u0275\u0275property("ngIf","0"===l.fileType),s.\u0275\u0275advance(4),s.\u0275\u0275property("dwSuffix",a),s.\u0275\u0275advance(10),s.\u0275\u0275property("dwSuffix",o)}}function Ae(e,t){if(1&e){var n=s.\u0275\u0275getCurrentView();s.\u0275\u0275elementStart(0,"dw-tag",68),s.\u0275\u0275listener("dwCheckedChange",function(e){return s.\u0275\u0275restoreView(n).$implicit.checked=e})("dwCheckedChange",function(e){var t=s.\u0275\u0275restoreView(n).$implicit;return s.\u0275\u0275nextContext().handleChange(e,t)}),s.\u0275\u0275text(1),s.\u0275\u0275elementEnd()}if(2&e){var r=t.$implicit,i=t.index;s.\u0275\u0275property("dwChecked",r.checked)("id","service-order-list-ststus-tag"+i),s.\u0275\u0275advance(1),s.\u0275\u0275textInterpolate1(" ",r.text," ")}}function Ne(e,t){if(1&e){var n=s.\u0275\u0275getCurrentView();s.\u0275\u0275elementStart(0,"button",69),s.\u0275\u0275listener("dwClick",function(){s.\u0275\u0275restoreView(n);var e=s.\u0275\u0275nextContext(),t=s.\u0275\u0275reference(8);return e.multyDistribute(),t.initData(e.distribute_service_order_ids,[])}),s.\u0275\u0275elementStart(1,"span",44),s.\u0275\u0275text(2,"\u6279\u91cf\u6d3e\u5de5"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd()}if(2&e){var r=s.\u0275\u0275nextContext();s.\u0275\u0275propertyInterpolate("angularticsLabel",r.userInfo.tenantId+","+r.userInfo.userId),s.\u0275\u0275property("dwType","defult")("dwActionId","distribute")("dwDefaultAuthorized","disabled")("angularticsCategory","\u670d\u52a1\u5de5\u5355")}}function je(e,t){if(1&e){var n=s.\u0275\u0275getCurrentView();s.\u0275\u0275elementStart(0,"th",76),s.\u0275\u0275listener("dwCheckedChange",function(e){return s.\u0275\u0275restoreView(n),s.\u0275\u0275nextContext(3).onAllChecked(e)}),s.\u0275\u0275elementEnd()}if(2&e){var r=s.\u0275\u0275nextContext(3);s.\u0275\u0275property("dwChecked",r.checked)("dwIndeterminate",r.indeterminate)}}function ze(e,t){1&e&&(s.\u0275\u0275elementContainerStart(0),s.\u0275\u0275template(1,je,1,2,"th",75),s.\u0275\u0275elementContainerEnd()),2&e&&(s.\u0275\u0275advance(1),s.\u0275\u0275property("dwColumnId","checked"))}function Be(e,t){1&e&&(s.\u0275\u0275elementStart(0,"th",78),s.\u0275\u0275elementStart(1,"span",44),s.\u0275\u0275text(2,"\u63d0\u4ea4\u65f6\u95f4"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd())}function $e(e,t){1&e&&(s.\u0275\u0275elementContainerStart(0),s.\u0275\u0275template(1,Be,3,0,"th",77),s.\u0275\u0275elementContainerEnd()),2&e&&(s.\u0275\u0275advance(1),s.\u0275\u0275property("dwColumnId","receive_time"))}function qe(e,t){1&e&&(s.\u0275\u0275elementStart(0,"th",80),s.\u0275\u0275elementStart(1,"span",44),s.\u0275\u0275text(2,"\u5355\u53f7"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd())}function We(e,t){1&e&&(s.\u0275\u0275elementContainerStart(0),s.\u0275\u0275template(1,qe,3,0,"th",79),s.\u0275\u0275elementContainerEnd()),2&e&&(s.\u0275\u0275advance(1),s.\u0275\u0275property("dwColumnId","doc_no"))}function Ge(e,t){1&e&&(s.\u0275\u0275elementStart(0,"th",82),s.\u0275\u0275elementStart(1,"span",44),s.\u0275\u0275text(2,"\u5ba2\u6237\u540d\u79f0"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd())}function Ue(e,t){1&e&&(s.\u0275\u0275elementContainerStart(0),s.\u0275\u0275template(1,Ge,3,0,"th",81),s.\u0275\u0275elementContainerEnd()),2&e&&(s.\u0275\u0275advance(1),s.\u0275\u0275property("dwColumnId","customer_name"))}function He(e,t){1&e&&(s.\u0275\u0275elementStart(0,"th",84),s.\u0275\u0275elementStart(1,"span",44),s.\u0275\u0275text(2,"\u7c7b\u578b"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd())}function Xe(e,t){1&e&&(s.\u0275\u0275elementContainerStart(0),s.\u0275\u0275template(1,He,3,0,"th",83),s.\u0275\u0275elementContainerEnd()),2&e&&(s.\u0275\u0275advance(1),s.\u0275\u0275property("dwColumnId","file_type_name"))}function Qe(e,t){1&e&&(s.\u0275\u0275elementStart(0,"th",86),s.\u0275\u0275elementStart(1,"span",44),s.\u0275\u0275text(2,"\u540d\u79f0"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd())}function Ke(e,t){1&e&&(s.\u0275\u0275elementContainerStart(0),s.\u0275\u0275template(1,Qe,3,0,"th",85),s.\u0275\u0275elementContainerEnd()),2&e&&(s.\u0275\u0275advance(1),s.\u0275\u0275property("dwColumnId","product_file_name"))}function Je(e,t){1&e&&(s.\u0275\u0275elementStart(0,"span",44),s.\u0275\u0275text(1,"\u5e8f\u5217\u53f7"),s.\u0275\u0275elementEnd())}function Ze(e,t){1&e&&(s.\u0275\u0275elementStart(0,"span",44),s.\u0275\u0275text(1,"\u9879\u76ee\u53f7"),s.\u0275\u0275elementEnd())}function Ye(e,t){1&e&&(s.\u0275\u0275elementStart(0,"span",44),s.\u0275\u0275text(1,"\u5e8f\u5217\u53f7/\u9879\u76ee\u53f7"),s.\u0275\u0275elementEnd())}function et(e,t){if(1&e&&(s.\u0275\u0275elementStart(0,"th",88),s.\u0275\u0275template(1,Je,2,0,"span",89),s.\u0275\u0275template(2,Ze,2,0,"span",89),s.\u0275\u0275template(3,Ye,2,0,"span",89),s.\u0275\u0275elementEnd()),2&e){var n=s.\u0275\u0275nextContext(3);s.\u0275\u0275advance(1),s.\u0275\u0275property("ngIf","1"===n.fileType),s.\u0275\u0275advance(1),s.\u0275\u0275property("ngIf","2"===n.fileType),s.\u0275\u0275advance(1),s.\u0275\u0275property("ngIf","0"===n.fileType)}}function tt(e,t){1&e&&(s.\u0275\u0275elementContainerStart(0),s.\u0275\u0275template(1,et,4,3,"th",87),s.\u0275\u0275elementContainerEnd()),2&e&&(s.\u0275\u0275advance(1),s.\u0275\u0275property("dwColumnId","sn"))}function nt(e,t){1&e&&(s.\u0275\u0275elementStart(0,"th",86),s.\u0275\u0275elementStart(1,"span",44),s.\u0275\u0275text(2,"\u89c4\u683c"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd())}function rt(e,t){1&e&&(s.\u0275\u0275elementContainerStart(0),s.\u0275\u0275template(1,nt,3,0,"th",85),s.\u0275\u0275elementContainerEnd()),2&e&&(s.\u0275\u0275advance(1),s.\u0275\u0275property("dwColumnId","specification"))}function it(e,t){1&e&&(s.\u0275\u0275elementStart(0,"th",86),s.\u0275\u0275elementStart(1,"span",44),s.\u0275\u0275text(2,"\u578b\u53f7"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd())}function at(e,t){1&e&&(s.\u0275\u0275elementContainerStart(0),s.\u0275\u0275template(1,it,3,0,"th",85),s.\u0275\u0275elementContainerEnd()),2&e&&(s.\u0275\u0275advance(1),s.\u0275\u0275property("dwColumnId","model"))}function ot(e,t){1&e&&(s.\u0275\u0275elementStart(0,"th",82),s.\u0275\u0275elementStart(1,"span",44),s.\u0275\u0275text(2,"\u670d\u52a1\u7ad9\u70b9"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd())}function lt(e,t){1&e&&(s.\u0275\u0275elementContainerStart(0),s.\u0275\u0275template(1,ot,3,0,"th",81),s.\u0275\u0275elementContainerEnd()),2&e&&(s.\u0275\u0275advance(1),s.\u0275\u0275property("dwColumnId","service_site_name"))}function dt(e,t){1&e&&(s.\u0275\u0275elementStart(0,"th",86),s.\u0275\u0275elementStart(1,"span",44),s.\u0275\u0275text(2,"\u5de5\u7a0b\u5e08"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd())}function ct(e,t){1&e&&(s.\u0275\u0275elementContainerStart(0),s.\u0275\u0275template(1,dt,3,0,"th",85),s.\u0275\u0275elementContainerEnd()),2&e&&(s.\u0275\u0275advance(1),s.\u0275\u0275property("dwColumnId","employee_name"))}function st(e,t){1&e&&(s.\u0275\u0275elementStart(0,"th",82),s.\u0275\u0275elementStart(1,"span",44),s.\u0275\u0275text(2,"\u670d\u52a1\u7c7b\u578b"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd())}function mt(e,t){1&e&&(s.\u0275\u0275elementContainerStart(0),s.\u0275\u0275template(1,st,3,0,"th",81),s.\u0275\u0275elementContainerEnd()),2&e&&(s.\u0275\u0275advance(1),s.\u0275\u0275property("dwColumnId","service_type_name"))}function pt(e,t){1&e&&(s.\u0275\u0275elementStart(0,"th",82),s.\u0275\u0275elementStart(1,"span",44),s.\u0275\u0275text(2,"\u95ee\u9898\u63cf\u8ff0"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd())}function ut(e,t){1&e&&(s.\u0275\u0275elementContainerStart(0),s.\u0275\u0275template(1,pt,3,0,"th",81),s.\u0275\u0275elementContainerEnd()),2&e&&(s.\u0275\u0275advance(1),s.\u0275\u0275property("dwColumnId","description"))}function ft(e,t){1&e&&(s.\u0275\u0275elementStart(0,"th",91),s.\u0275\u0275elementStart(1,"span",44),s.\u0275\u0275text(2,"\u5206\u914d\u81f3\u5de5\u5355\u6c60"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd())}function vt(e,t){1&e&&(s.\u0275\u0275elementContainerStart(0),s.\u0275\u0275template(1,ft,3,0,"th",90),s.\u0275\u0275elementContainerEnd()),2&e&&(s.\u0275\u0275advance(1),s.\u0275\u0275property("dwColumnId","assign_to_pool"))}function gt(e,t){1&e&&(s.\u0275\u0275elementStart(0,"th",82),s.\u0275\u0275elementStart(1,"span",44),s.\u0275\u0275text(2,"\u62a5\u4fee\u6e20\u9053"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd())}function ht(e,t){1&e&&(s.\u0275\u0275elementContainerStart(0),s.\u0275\u0275template(1,gt,3,0,"th",81),s.\u0275\u0275elementContainerEnd()),2&e&&(s.\u0275\u0275advance(1),s.\u0275\u0275property("dwColumnId","channel"))}function wt(e,t){1&e&&(s.\u0275\u0275elementStart(0,"th",86),s.\u0275\u0275elementStart(1,"span",44),s.\u0275\u0275text(2,"\u5907\u6ce8"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd())}function yt(e,t){1&e&&(s.\u0275\u0275elementContainerStart(0),s.\u0275\u0275template(1,wt,3,0,"th",85),s.\u0275\u0275elementContainerEnd()),2&e&&(s.\u0275\u0275advance(1),s.\u0275\u0275property("dwColumnId","remark"))}function xt(e,t){1&e&&(s.\u0275\u0275elementStart(0,"th",93),s.\u0275\u0275elementStart(1,"span",44),s.\u0275\u0275text(2,"\u72b6\u6001"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd())}function _t(e,t){1&e&&(s.\u0275\u0275elementContainerStart(0),s.\u0275\u0275template(1,xt,3,0,"th",92),s.\u0275\u0275elementContainerEnd()),2&e&&(s.\u0275\u0275advance(1),s.\u0275\u0275property("dwColumnId","state"))}function Ct(e,t){1&e&&(s.\u0275\u0275elementStart(0,"th",95),s.\u0275\u0275elementStart(1,"span",44),s.\u0275\u0275text(2,"\u64cd\u4f5c"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd())}function St(e,t){1&e&&(s.\u0275\u0275elementContainerStart(0),s.\u0275\u0275template(1,Ct,3,0,"th",94),s.\u0275\u0275elementContainerEnd()),2&e&&(s.\u0275\u0275advance(1),s.\u0275\u0275property("dwColumnId","operation"))}function bt(e,t){if(1&e){var n=s.\u0275\u0275getCurrentView();s.\u0275\u0275elementStart(0,"td",98),s.\u0275\u0275listener("dwCheckedChange",function(e){s.\u0275\u0275restoreView(n);var t=s.\u0275\u0275nextContext(2).$implicit;return s.\u0275\u0275nextContext(2).onItemChecked(t.service_order_id,e)}),s.\u0275\u0275elementEnd()}if(2&e){var r=s.\u0275\u0275nextContext(2).$implicit,i=s.\u0275\u0275nextContext(2);s.\u0275\u0275property("dwChecked",i.setOfCheckedId.has(r.service_order_id))("dwDisabled",r.disabled)}}function It(e,t){1&e&&(s.\u0275\u0275elementContainerStart(0),s.\u0275\u0275template(1,bt,1,2,"td",97),s.\u0275\u0275elementContainerEnd()),2&e&&(s.\u0275\u0275advance(1),s.\u0275\u0275property("dwColumnId","checked"))}function Et(e,t){1&e&&(s.\u0275\u0275elementStart(0,"div",102),s.\u0275\u0275text(1,"\u8d85\u65f6\u65e0\u4eba\u62a2\u5355"),s.\u0275\u0275elementEnd())}function Dt(e,t){if(1&e&&(s.\u0275\u0275elementStart(0,"td",100),s.\u0275\u0275text(1),s.\u0275\u0275pipe(2,"date"),s.\u0275\u0275template(3,Et,2,0,"div",101),s.\u0275\u0275elementEnd()),2&e){var n=s.\u0275\u0275nextContext(2).$implicit;s.\u0275\u0275advance(1),s.\u0275\u0275textInterpolate1(" ",s.\u0275\u0275pipeBind2(2,2,n.receive_time,"yyyy-MM-dd HH:mm")," "),s.\u0275\u0275advance(2),s.\u0275\u0275property("ngIf",1==n.flag&&"2"===n.state&&n.assign_to_pool)}}function Ot(e,t){1&e&&(s.\u0275\u0275elementContainerStart(0),s.\u0275\u0275template(1,Dt,4,5,"td",99),s.\u0275\u0275elementContainerEnd()),2&e&&(s.\u0275\u0275advance(1),s.\u0275\u0275property("dwColumnId","receive_time"))}function kt(e,t){if(1&e){var n=s.\u0275\u0275getCurrentView();s.\u0275\u0275elementStart(0,"td",100),s.\u0275\u0275elementStart(1,"a",103),s.\u0275\u0275listener("click",function(){s.\u0275\u0275restoreView(n);var e=s.\u0275\u0275nextContext(2).$implicit;return s.\u0275\u0275nextContext(2).detail(e.service_order_id)}),s.\u0275\u0275text(2),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd()}if(2&e){var r=s.\u0275\u0275nextContext(2).$implicit,i=s.\u0275\u0275nextContext(2);s.\u0275\u0275advance(1),s.\u0275\u0275propertyInterpolate("angularticsLabel",i.userInfo.tenantId+","+i.userInfo.userId),s.\u0275\u0275property("angularticsCategory","\u670d\u52a1\u5de5\u5355"),s.\u0275\u0275advance(1),s.\u0275\u0275textInterpolate(r.doc_no)}}function Mt(e,t){1&e&&(s.\u0275\u0275elementContainerStart(0),s.\u0275\u0275template(1,kt,3,3,"td",99),s.\u0275\u0275elementContainerEnd()),2&e&&(s.\u0275\u0275advance(1),s.\u0275\u0275property("dwColumnId","doc_no"))}function Pt(e,t){if(1&e&&(s.\u0275\u0275elementStart(0,"td",100),s.\u0275\u0275text(1),s.\u0275\u0275elementEnd()),2&e){var n=s.\u0275\u0275nextContext(2).$implicit;s.\u0275\u0275advance(1),s.\u0275\u0275textInterpolate1(" ",n.customer_name," ")}}function Ft(e,t){1&e&&(s.\u0275\u0275elementContainerStart(0),s.\u0275\u0275template(1,Pt,2,1,"td",99),s.\u0275\u0275elementContainerEnd()),2&e&&(s.\u0275\u0275advance(1),s.\u0275\u0275property("dwColumnId","customer_name"))}function Vt(e,t){if(1&e&&(s.\u0275\u0275elementStart(0,"td",100),s.\u0275\u0275text(1),s.\u0275\u0275elementEnd()),2&e){var n=s.\u0275\u0275nextContext(2).$implicit;s.\u0275\u0275advance(1),s.\u0275\u0275textInterpolate1(" ","1"===n.type?"\u5355\u673a":"\u4ea7\u7ebf/\u9879\u76ee"," ")}}function Tt(e,t){1&e&&(s.\u0275\u0275elementContainerStart(0),s.\u0275\u0275template(1,Vt,2,1,"td",99),s.\u0275\u0275elementContainerEnd()),2&e&&(s.\u0275\u0275advance(1),s.\u0275\u0275property("dwColumnId","file_type_name"))}function Lt(e,t){if(1&e&&(s.\u0275\u0275elementStart(0,"td",100),s.\u0275\u0275text(1),s.\u0275\u0275elementEnd()),2&e){var n=s.\u0275\u0275nextContext(2).$implicit;s.\u0275\u0275advance(1),s.\u0275\u0275textInterpolate1(" ",n.product_file_name," ")}}function Rt(e,t){1&e&&(s.\u0275\u0275elementContainerStart(0),s.\u0275\u0275template(1,Lt,2,1,"td",99),s.\u0275\u0275elementContainerEnd()),2&e&&(s.\u0275\u0275advance(1),s.\u0275\u0275property("dwColumnId","product_file_name"))}function At(e,t){if(1&e&&(s.\u0275\u0275elementStart(0,"td",100),s.\u0275\u0275text(1),s.\u0275\u0275elementEnd()),2&e){var n=s.\u0275\u0275nextContext(2).$implicit;s.\u0275\u0275advance(1),s.\u0275\u0275textInterpolate1(" ",n.sn," ")}}function Nt(e,t){1&e&&(s.\u0275\u0275elementContainerStart(0),s.\u0275\u0275template(1,At,2,1,"td",99),s.\u0275\u0275elementContainerEnd()),2&e&&(s.\u0275\u0275advance(1),s.\u0275\u0275property("dwColumnId","sn"))}function jt(e,t){if(1&e&&(s.\u0275\u0275elementStart(0,"td",100),s.\u0275\u0275text(1),s.\u0275\u0275elementEnd()),2&e){var n=s.\u0275\u0275nextContext(2).$implicit;s.\u0275\u0275advance(1),s.\u0275\u0275textInterpolate1(" ",n.specification," ")}}function zt(e,t){1&e&&(s.\u0275\u0275elementContainerStart(0),s.\u0275\u0275template(1,jt,2,1,"td",99),s.\u0275\u0275elementContainerEnd()),2&e&&(s.\u0275\u0275advance(1),s.\u0275\u0275property("dwColumnId","specification"))}function Bt(e,t){if(1&e&&(s.\u0275\u0275elementStart(0,"td",100),s.\u0275\u0275text(1),s.\u0275\u0275elementEnd()),2&e){var n=s.\u0275\u0275nextContext(2).$implicit;s.\u0275\u0275advance(1),s.\u0275\u0275textInterpolate1(" ",n.model," ")}}function $t(e,t){1&e&&(s.\u0275\u0275elementContainerStart(0),s.\u0275\u0275template(1,Bt,2,1,"td",99),s.\u0275\u0275elementContainerEnd()),2&e&&(s.\u0275\u0275advance(1),s.\u0275\u0275property("dwColumnId","model"))}function qt(e,t){if(1&e&&(s.\u0275\u0275elementStart(0,"td",100),s.\u0275\u0275text(1),s.\u0275\u0275elementEnd()),2&e){var n=s.\u0275\u0275nextContext(2).$implicit;s.\u0275\u0275advance(1),s.\u0275\u0275textInterpolate1(" ",n.service_site_name," ")}}function Wt(e,t){1&e&&(s.\u0275\u0275elementContainerStart(0),s.\u0275\u0275template(1,qt,2,1,"td",99),s.\u0275\u0275elementContainerEnd()),2&e&&(s.\u0275\u0275advance(1),s.\u0275\u0275property("dwColumnId","service_site_name"))}function Gt(e,t){if(1&e&&(s.\u0275\u0275elementStart(0,"td",100),s.\u0275\u0275text(1),s.\u0275\u0275elementEnd()),2&e){var n=s.\u0275\u0275nextContext(2).$implicit;s.\u0275\u0275advance(1),s.\u0275\u0275textInterpolate1(" ",n.employee_name," ")}}function Ut(e,t){1&e&&(s.\u0275\u0275elementContainerStart(0),s.\u0275\u0275template(1,Gt,2,1,"td",99),s.\u0275\u0275elementContainerEnd()),2&e&&(s.\u0275\u0275advance(1),s.\u0275\u0275property("dwColumnId","employee_name"))}function Ht(e,t){if(1&e&&(s.\u0275\u0275elementStart(0,"td",100),s.\u0275\u0275text(1),s.\u0275\u0275elementEnd()),2&e){var n=s.\u0275\u0275nextContext(2).$implicit;s.\u0275\u0275advance(1),s.\u0275\u0275textInterpolate1(" ",n.service_type_name," ")}}function Xt(e,t){1&e&&(s.\u0275\u0275elementContainerStart(0),s.\u0275\u0275template(1,Ht,2,1,"td",99),s.\u0275\u0275elementContainerEnd()),2&e&&(s.\u0275\u0275advance(1),s.\u0275\u0275property("dwColumnId","service_type_name"))}function Qt(e,t){1&e&&(s.\u0275\u0275elementStart(0,"span"),s.\u0275\u0275text(1,"/"),s.\u0275\u0275elementEnd())}function Kt(e,t){if(1&e&&(s.\u0275\u0275elementStart(0,"td",105),s.\u0275\u0275text(1),s.\u0275\u0275template(2,Qt,2,0,"span",34),s.\u0275\u0275text(3),s.\u0275\u0275elementEnd()),2&e){var n=s.\u0275\u0275nextContext(2).$implicit;s.\u0275\u0275propertyInterpolate3("title","",n.fault_phrase,"",n.fault_phrase&&n.description?"/":"","",n.description,""),s.\u0275\u0275advance(1),s.\u0275\u0275textInterpolate1(" ",n.fault_phrase,""),s.\u0275\u0275advance(1),s.\u0275\u0275property("ngIf",n.fault_phrase&&n.description),s.\u0275\u0275advance(1),s.\u0275\u0275textInterpolate1("",n.description," ")}}function Jt(e,t){1&e&&(s.\u0275\u0275elementContainerStart(0),s.\u0275\u0275template(1,Kt,4,6,"td",104),s.\u0275\u0275elementContainerEnd()),2&e&&(s.\u0275\u0275advance(1),s.\u0275\u0275property("dwColumnId","description"))}function Zt(e,t){if(1&e&&(s.\u0275\u0275elementStart(0,"td",107),s.\u0275\u0275text(1),s.\u0275\u0275elementEnd()),2&e){var n=s.\u0275\u0275nextContext(2).$implicit;s.\u0275\u0275advance(1),s.\u0275\u0275textInterpolate1(" ",n.assign_to_pool?"\u662f":"\u5426"," ")}}function Yt(e,t){1&e&&(s.\u0275\u0275elementContainerStart(0),s.\u0275\u0275template(1,Zt,2,1,"td",106),s.\u0275\u0275elementContainerEnd()),2&e&&(s.\u0275\u0275advance(1),s.\u0275\u0275property("dwColumnId","assign_to_pool"))}function en(e,t){if(1&e&&(s.\u0275\u0275elementStart(0,"td",100),s.\u0275\u0275text(1),s.\u0275\u0275elementEnd()),2&e){var n=s.\u0275\u0275nextContext(2).$implicit,r=s.\u0275\u0275nextContext(2);s.\u0275\u0275advance(1),s.\u0275\u0275textInterpolate2(" ",n.channel?r.getChannel(n.channel):"\u7535\u8bdd"," ","5"===n.channel&&n.channel_explanation?"("+n.channel_explanation+")":""," ")}}function tn(e,t){1&e&&(s.\u0275\u0275elementContainerStart(0),s.\u0275\u0275template(1,en,2,2,"td",99),s.\u0275\u0275elementContainerEnd()),2&e&&(s.\u0275\u0275advance(1),s.\u0275\u0275property("dwColumnId","channel"))}function nn(e,t){if(1&e&&(s.\u0275\u0275elementStart(0,"td",105),s.\u0275\u0275text(1),s.\u0275\u0275elementEnd()),2&e){var n=s.\u0275\u0275nextContext(2).$implicit;s.\u0275\u0275property("title",n.remark),s.\u0275\u0275advance(1),s.\u0275\u0275textInterpolate1(" ",n.remark," ")}}function rn(e,t){1&e&&(s.\u0275\u0275elementContainerStart(0),s.\u0275\u0275template(1,nn,2,2,"td",104),s.\u0275\u0275elementContainerEnd()),2&e&&(s.\u0275\u0275advance(1),s.\u0275\u0275property("dwColumnId","remark"))}function an(e,t){if(1&e&&(s.\u0275\u0275elementStart(0,"td",100),s.\u0275\u0275text(1),s.\u0275\u0275elementEnd()),2&e){var n=s.\u0275\u0275nextContext(2).$implicit,r=s.\u0275\u0275nextContext(2);s.\u0275\u0275advance(1),s.\u0275\u0275textInterpolate1(" ",r.serviceOrderStateSrv.getServiceOrderStateLabel(n)," ")}}function on(e,t){1&e&&(s.\u0275\u0275elementContainerStart(0),s.\u0275\u0275template(1,an,2,1,"td",99),s.\u0275\u0275elementContainerEnd()),2&e&&(s.\u0275\u0275advance(1),s.\u0275\u0275property("dwColumnId","state"))}function ln(e,t){if(1&e){var n=s.\u0275\u0275getCurrentView();s.\u0275\u0275elementContainerStart(0),s.\u0275\u0275elementStart(1,"div",118),s.\u0275\u0275listener("dwClick",function(){s.\u0275\u0275restoreView(n);var e=s.\u0275\u0275nextContext(5).$implicit,t=s.\u0275\u0275nextContext(2),r=s.\u0275\u0275reference(10);return t.modifyForChild("Distribution"),r.initData(e.service_order_id,e.latitude)}),s.\u0275\u0275element(2,"img",119),s.\u0275\u0275element(3,"img",120),s.\u0275\u0275text(4),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementContainerEnd()}if(2&e){var r=s.\u0275\u0275nextContext(7);s.\u0275\u0275advance(1),s.\u0275\u0275propertyInterpolate("angularticsLabel",r.userInfo.tenantId+","+r.userInfo.userId),s.\u0275\u0275property("dwActionId","assign")("dwDefaultAuthorized","disabled")("angularticsCategory","\u670d\u52a1\u5de5\u5355"),s.\u0275\u0275advance(3),s.\u0275\u0275textInterpolate1(" ","\u5f00\u59cb\u5206\u914d"," ")}}function dn(e,t){if(1&e){var n=s.\u0275\u0275getCurrentView();s.\u0275\u0275elementContainerStart(0),s.\u0275\u0275elementStart(1,"div",118),s.\u0275\u0275listener("dwClick",function(){s.\u0275\u0275restoreView(n);var e=s.\u0275\u0275nextContext(5).$implicit,t=s.\u0275\u0275nextContext(2),r=s.\u0275\u0275reference(10);return t.modifyForChild("Distribution"),r.initData(e.service_order_id,e.latitude)}),s.\u0275\u0275element(2,"img",119),s.\u0275\u0275element(3,"img",120),s.\u0275\u0275text(4),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementContainerEnd()}if(2&e){var r=s.\u0275\u0275nextContext(7);s.\u0275\u0275advance(1),s.\u0275\u0275propertyInterpolate("angularticsLabel",r.userInfo.tenantId+","+r.userInfo.userId),s.\u0275\u0275property("dwActionId","assign")("dwDefaultAuthorized","disabled")("angularticsCategory","\u670d\u52a1\u5de5\u5355"),s.\u0275\u0275advance(3),s.\u0275\u0275textInterpolate1(" ","\u91cd\u65b0\u5206\u914d"," ")}}function cn(e,t){if(1&e){var n=s.\u0275\u0275getCurrentView();s.\u0275\u0275elementContainerStart(0),s.\u0275\u0275elementStart(1,"div",121),s.\u0275\u0275listener("dwClick",function(){s.\u0275\u0275restoreView(n);var e=s.\u0275\u0275nextContext(5).$implicit,t=s.\u0275\u0275nextContext(2),r=s.\u0275\u0275reference(8);return t.modifyForChild("Dispatch"),r.initData(e.service_order_id)}),s.\u0275\u0275element(2,"img",122),s.\u0275\u0275element(3,"img",123),s.\u0275\u0275text(4),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementContainerEnd()}if(2&e){var r=s.\u0275\u0275nextContext(7);s.\u0275\u0275advance(1),s.\u0275\u0275propertyInterpolate("angularticsLabel",r.userInfo.tenantId+","+r.userInfo.userId),s.\u0275\u0275property("dwActionId","distribute")("dwDefaultAuthorized","disabled")("angularticsCategory","\u670d\u52a1\u5de5\u5355"),s.\u0275\u0275advance(3),s.\u0275\u0275textInterpolate1(" ","\u5f00\u59cb\u6d3e\u5de5"," ")}}function sn(e,t){if(1&e){var n=s.\u0275\u0275getCurrentView();s.\u0275\u0275elementStart(0,"div",124),s.\u0275\u0275listener("click",function(){s.\u0275\u0275restoreView(n);var e=s.\u0275\u0275nextContext(5).$implicit;return s.\u0275\u0275nextContext(2).modify(e.service_order_id,"modify")}),s.\u0275\u0275element(1,"img",125),s.\u0275\u0275element(2,"img",126),s.\u0275\u0275text(3," \u7f16\u8f91 "),s.\u0275\u0275elementEnd()}if(2&e){var r=s.\u0275\u0275nextContext(7);s.\u0275\u0275propertyInterpolate("angularticsLabel",r.userInfo.tenantId+","+r.userInfo.userId),s.\u0275\u0275property("dwActionId","modify")("dwDefaultAuthorized","disabled")("angularticsCategory","\u670d\u52a1\u5de5\u5355")}}function mn(e,t){if(1&e){var n=s.\u0275\u0275getCurrentView();s.\u0275\u0275elementStart(0,"div",127),s.\u0275\u0275listener("dwClick",function(){s.\u0275\u0275restoreView(n);var e=s.\u0275\u0275nextContext(5).$implicit,t=s.\u0275\u0275nextContext(2),r=s.\u0275\u0275reference(12);return t.modifyForChild("Cancel"),r.initData(e.service_order_id)}),s.\u0275\u0275element(1,"img",128),s.\u0275\u0275element(2,"img",129),s.\u0275\u0275text(3," \u53d6\u6d88 "),s.\u0275\u0275elementEnd()}if(2&e){var r=s.\u0275\u0275nextContext(7);s.\u0275\u0275propertyInterpolate("angularticsLabel",r.userInfo.tenantId+","+r.userInfo.userId),s.\u0275\u0275property("dwActionId","cancel")("dwDefaultAuthorized","disabled")("angularticsCategory","\u670d\u52a1\u5de5\u5355")}}function pn(e,t){if(1&e){var n=s.\u0275\u0275getCurrentView();s.\u0275\u0275elementStart(0,"div",130),s.\u0275\u0275elementStart(1,"div",131),s.\u0275\u0275listener("dwOnConfirm",function(){s.\u0275\u0275restoreView(n);var e=s.\u0275\u0275nextContext(5).$implicit;return s.\u0275\u0275nextContext(2).delete(e.service_order_id)}),s.\u0275\u0275pipe(2,"translate"),s.\u0275\u0275pipe(3,"translate"),s.\u0275\u0275pipe(4,"translate"),s.\u0275\u0275elementStart(5,"div",132),s.\u0275\u0275element(6,"img",133),s.\u0275\u0275element(7,"img",134),s.\u0275\u0275text(8," \u5220\u9664 "),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd()}2&e&&(s.\u0275\u0275property("dwActionId","delete")("dwDefaultAuthorized","disabled"),s.\u0275\u0275advance(1),s.\u0275\u0275property("dwPopconfirmTitle",s.\u0275\u0275pipeBind1(2,6,"\u662f\u5426\u5220\u9664"))("dwOkText",s.\u0275\u0275pipeBind1(3,8,"dw-determine"))("dwCancelText",s.\u0275\u0275pipeBind1(4,10,"dw-cancel"))("dwPopconfirmPlacement","topRight"))}function un(e,t){if(1&e){var n=s.\u0275\u0275getCurrentView();s.\u0275\u0275elementStart(0,"div",114),s.\u0275\u0275listener("click",function(e){return s.\u0275\u0275restoreView(n),s.\u0275\u0275nextContext(6).stopProp(e)}),s.\u0275\u0275template(1,ln,5,5,"ng-container",34),s.\u0275\u0275template(2,dn,5,5,"ng-container",34),s.\u0275\u0275template(3,cn,5,5,"ng-container",34),s.\u0275\u0275template(4,sn,4,4,"div",115),s.\u0275\u0275template(5,mn,4,4,"div",116),s.\u0275\u0275template(6,pn,9,12,"div",117),s.\u0275\u0275elementEnd()}if(2&e){var r=s.\u0275\u0275nextContext(4).$implicit,i=s.\u0275\u0275nextContext(2);s.\u0275\u0275advance(1),s.\u0275\u0275property("ngIf","1"==r.state),s.\u0275\u0275advance(1),s.\u0275\u0275property("ngIf","2"==r.state),s.\u0275\u0275advance(1),s.\u0275\u0275property("ngIf","2"==r.state&&!r.assign_to_pool&&(r.service_site_id==i.currentServiceSiteId||i.distribution_all&&"1"===i.service_site_type)),s.\u0275\u0275advance(1),s.\u0275\u0275property("ngIf","1"==r.state),s.\u0275\u0275advance(1),s.\u0275\u0275property("ngIf","1"==r.state||"2"==r.state),s.\u0275\u0275advance(1),s.\u0275\u0275property("ngIf","1"==r.state||"2"==r.state)}}function fn(e,t){if(1&e){var n=s.\u0275\u0275getCurrentView();s.\u0275\u0275elementStart(0,"div"),s.\u0275\u0275elementStart(1,"div",110),s.\u0275\u0275elementStart(2,"a",111),s.\u0275\u0275listener("click",function(){s.\u0275\u0275restoreView(n);var e=s.\u0275\u0275nextContext(3).index;return s.\u0275\u0275nextContext(2).showActBox(e)}),s.\u0275\u0275element(3,"em",112),s.\u0275\u0275elementEnd(),s.\u0275\u0275template(4,un,7,6,"div",113),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd()}if(2&e){var r=s.\u0275\u0275nextContext(3).index,i=s.\u0275\u0275nextContext(2);s.\u0275\u0275advance(1),s.\u0275\u0275styleProp("position",i.actIdx==r?"":"static"),s.\u0275\u0275advance(3),s.\u0275\u0275property("ngIf",i.actIdx==r)}}function vn(e,t){if(1&e&&(s.\u0275\u0275elementStart(0,"td",109),s.\u0275\u0275template(1,fn,5,3,"div",34),s.\u0275\u0275elementEnd()),2&e){var n=s.\u0275\u0275nextContext(2).$implicit;s.\u0275\u0275advance(1),s.\u0275\u0275property("ngIf","1"==n.state||"2"==n.state)}}function gn(e,t){1&e&&(s.\u0275\u0275elementContainerStart(0),s.\u0275\u0275template(1,vn,2,1,"td",108),s.\u0275\u0275elementContainerEnd()),2&e&&(s.\u0275\u0275advance(1),s.\u0275\u0275property("dwColumnId","operation"))}function hn(e,t){if(1&e&&(s.\u0275\u0275elementStart(0,"tr",96),s.\u0275\u0275template(1,It,2,1,"ng-container",34),s.\u0275\u0275template(2,Ot,2,1,"ng-container",34),s.\u0275\u0275template(3,Mt,2,1,"ng-container",34),s.\u0275\u0275template(4,Ft,2,1,"ng-container",34),s.\u0275\u0275template(5,Tt,2,1,"ng-container",34),s.\u0275\u0275template(6,Rt,2,1,"ng-container",34),s.\u0275\u0275template(7,Nt,2,1,"ng-container",34),s.\u0275\u0275template(8,zt,2,1,"ng-container",34),s.\u0275\u0275template(9,$t,2,1,"ng-container",34),s.\u0275\u0275template(10,Wt,2,1,"ng-container",34),s.\u0275\u0275template(11,Ut,2,1,"ng-container",34),s.\u0275\u0275template(12,Xt,2,1,"ng-container",34),s.\u0275\u0275template(13,Jt,2,1,"ng-container",34),s.\u0275\u0275template(14,Yt,2,1,"ng-container",34),s.\u0275\u0275template(15,tn,2,1,"ng-container",34),s.\u0275\u0275template(16,rn,2,1,"ng-container",34),s.\u0275\u0275template(17,on,2,1,"ng-container",34),s.\u0275\u0275template(18,gn,2,1,"ng-container",34),s.\u0275\u0275elementEnd()),2&e){var n=s.\u0275\u0275nextContext(2);s.\u0275\u0275advance(1),s.\u0275\u0275property("ngIf","2"===n.state),s.\u0275\u0275advance(1),s.\u0275\u0275property("ngIf",n.showTable),s.\u0275\u0275advance(1),s.\u0275\u0275property("ngIf",n.showTable),s.\u0275\u0275advance(1),s.\u0275\u0275property("ngIf",n.showTable),s.\u0275\u0275advance(1),s.\u0275\u0275property("ngIf","0"===n.fileType),s.\u0275\u0275advance(1),s.\u0275\u0275property("ngIf",n.showTable),s.\u0275\u0275advance(1),s.\u0275\u0275property("ngIf",n.showTable),s.\u0275\u0275advance(1),s.\u0275\u0275property("ngIf",n.showTable),s.\u0275\u0275advance(1),s.\u0275\u0275property("ngIf",n.showTable),s.\u0275\u0275advance(1),s.\u0275\u0275property("ngIf",n.showTable),s.\u0275\u0275advance(1),s.\u0275\u0275property("ngIf","3"===n.state||"4"===n.state),s.\u0275\u0275advance(1),s.\u0275\u0275property("ngIf",n.showTable),s.\u0275\u0275advance(1),s.\u0275\u0275property("ngIf",n.showTable),s.\u0275\u0275advance(1),s.\u0275\u0275property("ngIf",n.enable_so_pool&&""===n.state),s.\u0275\u0275advance(1),s.\u0275\u0275property("ngIf",n.showTable),s.\u0275\u0275advance(1),s.\u0275\u0275property("ngIf",n.showTable),s.\u0275\u0275advance(1),s.\u0275\u0275property("ngIf",n.showTable),s.\u0275\u0275advance(1),s.\u0275\u0275property("ngIf",n.showTable)}}var wn=function(){return{x:"1500px",y:"calc(100vh - 171px - 140px)"}};function yn(e,t){if(1&e){var n=s.\u0275\u0275getCurrentView();s.\u0275\u0275elementContainerStart(0),s.\u0275\u0275elementStart(1,"dw-table",70,71),s.\u0275\u0275listener("dwPageIndexChange",function(e){return s.\u0275\u0275restoreView(n),s.\u0275\u0275nextContext().search.pageIndex=e})("dwPageSizeChange",function(e){return s.\u0275\u0275restoreView(n),s.\u0275\u0275nextContext().search.pageSize=e})("dwCurrentPageDataChange",function(e){return s.\u0275\u0275restoreView(n),s.\u0275\u0275nextContext().onCurrentPageDataChange(e)}),s.\u0275\u0275elementStart(3,"thead",72),s.\u0275\u0275listener("dwSortOrderChange",function(e){return s.\u0275\u0275restoreView(n),s.\u0275\u0275nextContext().order(e)}),s.\u0275\u0275elementStart(4,"tr",73),s.\u0275\u0275template(5,ze,2,1,"ng-container",34),s.\u0275\u0275template(6,$e,2,1,"ng-container",34),s.\u0275\u0275template(7,We,2,1,"ng-container",34),s.\u0275\u0275template(8,Ue,2,1,"ng-container",34),s.\u0275\u0275template(9,Xe,2,1,"ng-container",34),s.\u0275\u0275template(10,Ke,2,1,"ng-container",34),s.\u0275\u0275template(11,tt,2,1,"ng-container",34),s.\u0275\u0275template(12,rt,2,1,"ng-container",34),s.\u0275\u0275template(13,at,2,1,"ng-container",34),s.\u0275\u0275template(14,lt,2,1,"ng-container",34),s.\u0275\u0275template(15,ct,2,1,"ng-container",34),s.\u0275\u0275template(16,mt,2,1,"ng-container",34),s.\u0275\u0275template(17,ut,2,1,"ng-container",34),s.\u0275\u0275template(18,vt,2,1,"ng-container",34),s.\u0275\u0275template(19,ht,2,1,"ng-container",34),s.\u0275\u0275template(20,yt,2,1,"ng-container",34),s.\u0275\u0275template(21,_t,2,1,"ng-container",34),s.\u0275\u0275template(22,St,2,1,"ng-container",34),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(23,"tbody"),s.\u0275\u0275template(24,hn,19,18,"tr",74),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementContainerEnd()}if(2&e){var r=s.\u0275\u0275reference(2),i=s.\u0275\u0275nextContext(),a=s.\u0275\u0275reference(75);s.\u0275\u0275advance(1),s.\u0275\u0275property("dwTableId","service-order-list"+i.state)("dwData",i.dataList)("dwScroll",s.\u0275\u0275pureFunction0(25,wn))("dwPageIndex",i.search.pageIndex)("dwPageSize",i.search.pageSize)("dwShowTotal",a),s.\u0275\u0275advance(4),s.\u0275\u0275property("ngIf","2"===i.state),s.\u0275\u0275advance(1),s.\u0275\u0275property("ngIf",i.showTable),s.\u0275\u0275advance(1),s.\u0275\u0275property("ngIf",i.showTable),s.\u0275\u0275advance(1),s.\u0275\u0275property("ngIf",i.showTable),s.\u0275\u0275advance(1),s.\u0275\u0275property("ngIf","0"===i.fileType),s.\u0275\u0275advance(1),s.\u0275\u0275property("ngIf",i.showTable),s.\u0275\u0275advance(1),s.\u0275\u0275property("ngIf",i.showTable),s.\u0275\u0275advance(1),s.\u0275\u0275property("ngIf",i.showTable),s.\u0275\u0275advance(1),s.\u0275\u0275property("ngIf",i.showTable),s.\u0275\u0275advance(1),s.\u0275\u0275property("ngIf",i.showTable),s.\u0275\u0275advance(1),s.\u0275\u0275property("ngIf","3"===i.state||"4"===i.state),s.\u0275\u0275advance(1),s.\u0275\u0275property("ngIf",i.showTable),s.\u0275\u0275advance(1),s.\u0275\u0275property("ngIf",i.showTable),s.\u0275\u0275advance(1),s.\u0275\u0275property("ngIf",i.enable_so_pool&&""===i.state),s.\u0275\u0275advance(1),s.\u0275\u0275property("ngIf",i.showTable),s.\u0275\u0275advance(1),s.\u0275\u0275property("ngIf",i.showTable),s.\u0275\u0275advance(1),s.\u0275\u0275property("ngIf",i.showTable),s.\u0275\u0275advance(1),s.\u0275\u0275property("ngIf",i.showTable),s.\u0275\u0275advance(2),s.\u0275\u0275property("ngForOf",r.data)}}function xn(e,t){if(1&e&&s.\u0275\u0275text(0),2&e){var n=s.\u0275\u0275nextContext();s.\u0275\u0275textInterpolate1("\u5171 ",n.dataList.length," \u6761")}}var _n=function(){var t=function(){function t(e,n,r,i,a,o,l,d,c,s,m,u,f,v,g,h){p(this,t),this.commonHttpService=e,this.serviceOrderStateSrv=n,this.serviceOrderSrv=r,this.message=i,this.modalService=a,this.fb=o,this.router=l,this.customerOpenerService=d,this.serviceSiteOpenerService=c,this.itemGroupOpenerService=s,this.analytics=m,this.userService=u,this.dwAuthFunctionPermissionRepository=f,this._route=v,this.serviceOrderDetailSrv=g,this.serviceSiteResource=h,this.queryHistory={date_range:"",customer_id:"",customer_name:"",service_site_id:"",service_site_name:"",item_group_id:"",item_group_name:"",state:"",sn:"",remark:"",doc_no:"",pageIndex:1,pageSize:10,distribution_all:!1,isNoPartsReplacement:!1,isNotSolvedDocuments:!1,return_visit:"",isSearchExpand:!1},this.channelList=[{label:"\u5c0f\u7a0b\u5e8f",value:"1"},{label:"\u7535\u8bdd",value:"2"},{label:"QQ",value:"3"},{label:"\u90ae\u4ef6",value:"4"},{label:"\u5176\u4ed6",value:"5"}],this.search={pageIndex:1,pageSize:10,pageSizeOptions:[10,20,30]},this.fileType="0",this.isSearchExpand=!1,this.orgDataList=[],this.dataList=[],this.displayData=[],this.sortName=null,this.sortValue=null,this.listOfSearch=[],this.state="",this.distribution_all=!1,this.enable_so_pool=!1,this.salesman_name="",this.showTable=!1,this.fiterTags=[{text:"\u5168\u90e8",checked:!0,value:""},{text:"\u5f85\u5206\u914d",checked:!1,value:"1"},{text:"\u5f85\u6d3e\u5de5",checked:!1,value:"2"},{text:"\u5f85\u670d\u52a1",checked:!1,value:"3"},{text:"\u5f85\u56de\u5355",checked:!1,value:"4"},{text:"\u5f85\u8bc4\u4ef7",checked:!1,value:"5"},{text:"\u5f85\u56de\u8bbf",checked:!1,value:"0"},{text:"\u5f85\u5ba1\u67e5",checked:!1,value:"5,6"},{text:"\u5df2\u5173\u95ed",checked:!1,value:"6"},{text:"\u5df2\u53d6\u6d88",checked:!1,value:"7"}],this.isCustomerVisible=!1,this.isDownloading=!1,this.userInfo={tenantId:"",userId:""},this.checked=!1,this.loading=!1,this.indeterminate=!1,this.listOfCurrentPageData=[],this.setOfCheckedId=new Set,this.distribute_service_order_ids=""}return f(t,[{key:"ngOnInit",value:function(){var e=this;this.userInfo=this.userService.getUserInfo(),this.searchForm=this.fb.group({}),this.searchForm.addControl("date_range",new u.FormControl("")),this.searchForm.addControl("customer_id",new u.FormControl("")),this.searchForm.addControl("customer_name",new u.FormControl("")),this.searchForm.addControl("service_site_id",new u.FormControl("")),this.searchForm.addControl("service_site_name",new u.FormControl("")),this.searchForm.addControl("item_group_id",new u.FormControl("")),this.searchForm.addControl("item_group_name",new u.FormControl("")),this.searchForm.addControl("state",new u.FormControl("")),this.searchForm.addControl("sn",new u.FormControl("")),this.searchForm.addControl("remark",new u.FormControl("")),this.searchForm.addControl("doc_no",new u.FormControl("")),this.searchForm.addControl("isNoPartsReplacement",new u.FormControl(!1)),this.searchForm.addControl("isNotSolvedDocuments",new u.FormControl(!1)),this.searchForm.addControl("return_visit",new u.FormControl("")),this.getCurrentServiceSite(),JSON.parse(sessionStorage.getItem("employeeInfo")).salesman_universal_account&&sessionStorage.getItem("salesman_id")&&(this.salesman_name=sessionStorage.getItem("salesman_name")),this.commonHttpService.get("restful/service/serviceOrder/ServiceOrder/IsShowTypeOption").subscribe(function(t){e.fileType=t.data},function(t){t.hasOwnProperty("error")&&t.error.hasOwnProperty("errorMessage")&&t.error.errorMessage&&e.message.error(t.error.errorMessage)})}},{key:"setHistoryData",value:function(){var t=this;this._route.queryParamMap.subscribe(function(n){if(n.get("queryHistory")){t.queryHistory=JSON.parse(n.get("queryHistory")),t.queryHistory.date_range.length>0&&null!=t.queryHistory.date_range[0]&&t.searchForm.get("date_range").setValue(t.queryHistory.date_range),t.searchForm.get("customer_id").setValue(t.queryHistory.customer_id),t.searchForm.get("customer_name").setValue(t.queryHistory.customer_name),t.searchForm.get("service_site_id").setValue(t.queryHistory.service_site_id),t.searchForm.get("service_site_name").setValue(t.queryHistory.service_site_name),t.searchForm.get("item_group_id").setValue(t.queryHistory.item_group_id),t.searchForm.get("item_group_name").setValue(t.queryHistory.item_group_name),t.searchForm.get("sn").setValue(t.queryHistory.sn),t.searchForm.get("remark").setValue(t.queryHistory.remark),t.searchForm.get("doc_no").setValue(t.queryHistory.doc_no),t.searchForm.get("isNoPartsReplacement").setValue(t.queryHistory.isNoPartsReplacement),t.searchForm.get("isNotSolvedDocuments").setValue(t.queryHistory.isNotSolvedDocuments),t.searchForm.get("return_visit").setValue(t.queryHistory.return_visit),t.state=t.queryHistory.state,t.isSearchExpand=t.queryHistory.isSearchExpand;var r,i=e(t.fiterTags);try{for(i.s();!(r=i.n()).done;){var a=r.value;a.checked=a.value===t.state}}catch(o){i.e(o)}finally{i.f()}t.search.pageIndex=t.queryHistory.pageIndex,t.search.pageSize=t.queryHistory.pageSize}})}},{key:"getCurrentServiceSite",value:function(){var e=this;this.serviceOrderDetailSrv.getAutoSettings().subscribe(function(t){e.distribution_all=t.distribution_all,e.enable_so_pool=t.enable_so_pool,e.enable_so_pool&&(e.fiterTags=[{text:"\u5168\u90e8",checked:!0,value:""},{text:"\u5f85\u5206\u914d",checked:!1,value:"1"},{text:"\u5f85\u62a2\u5355",checked:!1,value:"grabOrder"},{text:"\u5f85\u6d3e\u5de5",checked:!1,value:"2"},{text:"\u5f85\u670d\u52a1",checked:!1,value:"3"},{text:"\u5f85\u56de\u5355",checked:!1,value:"4"},{text:"\u5f85\u8bc4\u4ef7",checked:!1,value:"5"},{text:"\u5f85\u56de\u8bbf",checked:!1,value:"0"},{text:"\u5f85\u5ba1\u67e5",checked:!1,value:"5,6"},{text:"\u5df2\u5173\u95ed",checked:!1,value:"6"},{text:"\u5df2\u53d6\u6d88",checked:!1,value:"7"}]),e.setHistoryData(),e.commonHttpService.get("".concat(e.serviceSiteResource,"/UserSite")).subscribe(function(t){e.service_site_id=t.service_site_id,e.service_site_type=t.service_site_type,e.currentServiceSiteId=t.service_site_id,e.loadData()})})}},{key:"loadData",value:function(){var e=this;if(JSON.parse(sessionStorage.getItem("employeeInfo")).salesman_universal_account&&!sessionStorage.getItem("salesman_id"))this.isSalesmanVisible=!0;else{this.hideActBox(),this.searchForm.value.state="0"===this.state?"5,6":this.state;var t=sessionStorage.getItem("salesman_id")?sessionStorage.getItem("salesman_id"):JSON.parse(sessionStorage.getItem("employeeInfo")).is_salesman?JSON.parse(sessionStorage.getItem("employeeInfo")).employee_id:"",r=Object.assign(Object.assign({},this.searchForm.value),{receive_employee_id:t});this.serviceOrderSrv.getServiceOrderList(r).subscribe(function(t){e.dwAuthFunctionPermissionRepository.getFunctionPermissionAll().subscribe(function(r){var i=r.data.filter(function(e){return"service-order"===e.code})[0].action.filter(function(e){return"distribute"===e.id});if(t.data.service_order.forEach(function(n,r){t.data.service_order[r].disabled="2"!==n.state||n.service_site_id!==e.currentServiceSiteId&&!e.distribution_all&&"1"===e.service_site_type||"allow"!==i[0].restriction}),e.orgDataList=e.dataList=t.data.service_order||[],t.data.service_order.filter(function(e){return"1"===e.type}),"5,6"===e.state)e.dataList=b.l.order(e.orgDataList,["end_time"]);else if(e.dataList=b.l.order(e.orgDataList,["receive_time",-1]),e.enable_so_pool&&(""===e.state||"grabOrder"===e.state)){var a=n(e.dataList).sort(function(e,t){return e.flag<=t.flag?1:-1});e.dataList=a}e.search.pageIndex=e.dataList.length/e.search.pageSize+1>=e.queryHistory.pageIndex?e.queryHistory.pageIndex:1,e.queryHistory.pageIndex=1,e.showTable=!0},function(t){t.hasOwnProperty("error")&&t.error.hasOwnProperty("errorMessage")&&t.error.errorMessage&&e.message.error(t.error.errorMessage)})},function(t){t.hasOwnProperty("error")&&t.error.hasOwnProperty("errorMessage")&&t.error.errorMessage&&e.message.error(t.error.errorMessage)})}}},{key:"isShowSearchExpand",value:function(){this.isSearchExpand=!this.isSearchExpand}},{key:"reset",value:function(){this.search.pageIndex=1,this.searchForm.get("date_range").setValue(""),this.searchForm.get("customer_id").setValue(""),this.searchForm.get("customer_name").setValue(""),this.searchForm.get("service_site_id").setValue(""),this.searchForm.get("service_site_name").setValue(""),this.searchForm.get("item_group_id").setValue(""),this.searchForm.get("item_group_name").setValue(""),this.searchForm.get("sn").setValue(""),this.searchForm.get("remark").setValue(""),this.searchForm.get("doc_no").setValue(""),this.searchForm.get("isNoPartsReplacement").setValue(!1),this.searchForm.get("isNotSolvedDocuments").setValue(!1),this.loadData()}},{key:"onOpenRange",value:function(e){console.log(e),e&&this.analytics.eventTrack.next({action:"\u67e5\u8be2\u6761\u4ef6-\u70b9\u51fb\u9009\u62e9\u65e5\u671f",properties:{category:"\u670d\u52a1\u5de5\u5355",label:this.userInfo.tenantId+","+this.userInfo.userId,value:0}})}},{key:"updateCheckedSet",value:function(e,t){t?this.setOfCheckedId.add(e):this.setOfCheckedId.delete(e)}},{key:"onCurrentPageDataChange",value:function(e){this.listOfCurrentPageData=e,this.refreshCheckedStatus()}},{key:"refreshCheckedStatus",value:function(){var e=this,t=this.listOfCurrentPageData.filter(function(e){return!e.disabled});this.checked=!!t.length&&t.every(function(t){var n=t.service_order_id;return e.setOfCheckedId.has(n)}),this.indeterminate=t.some(function(t){var n=t.service_order_id;return e.setOfCheckedId.has(n)})&&!this.checked}},{key:"onItemChecked",value:function(e,t){this.updateCheckedSet(e,t),this.refreshCheckedStatus()}},{key:"onAllChecked",value:function(e){var t=this;this.listOfCurrentPageData.filter(function(e){return!e.disabled}).forEach(function(n){var r=n.service_order_id;return t.updateCheckedSet(r,e)}),this.refreshCheckedStatus()}},{key:"multyDistribute",value:function(){var e=this;this.setOfCheckedId.size?(console.log(n(this.setOfCheckedId)),this.distribute_service_order_ids=n(this.setOfCheckedId).join(","),this.serviceOrderSrv.getOrderServiceSites(this.distribute_service_order_ids).subscribe(function(t){t.data.service_order.length>=2?e.message.create("error","\u8bf7\u9009\u62e9\u76f8\u540c\u670d\u52a1\u7ad9\u70b9\u7684\u5de5\u5355\u8fdb\u884c\u6d3e\u5de5\uff01"):e.isDispatchVisible=!0})):this.message.create("error","\u8bf7\u81f3\u5c11\u9009\u62e9\u4e00\u7b14\u9700\u8981\u6d3e\u5de5\u7684\u670d\u52a1\u5de5\u5355\uff01")}},{key:"exportRecord",value:function(){!JSON.parse(sessionStorage.getItem("employeeInfo")).salesman_universal_account||sessionStorage.getItem("salesman_id")?(this.isDownloading=!0,this.isExportVisible=!0):this.isSalesmanVisible=!0}},{key:"showActBox",value:function(e){this.actIdx=e}},{key:"hideActBox",value:function(){this.actIdx=null}},{key:"stopProp",value:function(e){e.stopPropagation()}},{key:"handleChange",value:function(t,n){if(t){var r,i=e(this.fiterTags);try{for(i.s();!(r=i.n()).done;){var a=r.value;a.text!==n.text&&(a.checked=!1)}}catch(o){i.e(o)}finally{i.f()}this.showTable=!1,this.searchForm.get("return_visit").setValue("\u5f85\u56de\u8bbf"===n.text?"0":""),this.state=n.value,this.loadData()}this.analytics.eventTrack.next({action:"\u4e3b\u9875\u72b6\u6001\u680f\u5207\u6362-\u70b9\u51fb"+n.text+"\u9875\u7b7e",properties:{category:"\u670d\u52a1\u5de5\u5355",label:this.userInfo.tenantId+","+this.userInfo.userId,value:0}})}},{key:"checkboxChange",value:function(e,t){console.log(e),this.analytics.eventTrack.next({action:"\u67e5\u8be2\u6761\u4ef6-\u70b9\u51fb".concat(e?"":"\u53d6\u6d88","\u52fe\u9009").concat("1"===t?"\u670d\u52a1\u62a5\u544a\u65e0\u914d\u4ef6\u66f4\u6362":"\u95ee\u9898\u672a\u89e3\u51b3"),properties:{category:"\u670d\u52a1\u5de5\u5355",label:this.userInfo.tenantId+","+this.userInfo.userId,value:0}})}},{key:"create",value:function(){!JSON.parse(sessionStorage.getItem("employeeInfo")).salesman_universal_account||sessionStorage.getItem("salesman_id")?this.router.navigate(["../service-order-create"],{relativeTo:this._route}):this.isSalesmanVisible=!0}},{key:"modifyForChild",value:function(e){"Dispatch"===e?this.isDispatchVisible=!0:"Distribution"===e?this.isDistributionVisible=!0:"Cancel"===e&&(this.isCancelVisible=!0)}},{key:"modify",value:function(e,t){"modify"===t&&this.router.navigate(["../service-order-modify",e],{relativeTo:this._route})}},{key:"detail",value:function(e){var t={relativeTo:this._route,queryParams:{queryHistory:JSON.stringify({date_range:this.searchForm.value.date_range,customer_id:this.searchForm.value.customer_id,customer_name:this.searchForm.value.customer_name,service_site_id:this.searchForm.value.service_site_id,service_site_name:this.searchForm.value.service_site_name,item_group_id:this.searchForm.value.item_group_id,item_group_name:this.searchForm.value.item_group_name,state:this.state,sn:this.searchForm.value.sn,remark:this.searchForm.value.remark,doc_no:this.searchForm.value.doc_no,pageIndex:this.search.pageIndex,pageSize:this.search.pageSize,distribution_all:this.distribution_all,isNoPartsReplacement:this.searchForm.value.isNoPartsReplacement,isNotSolvedDocuments:this.searchForm.value.isNotSolvedDocuments,return_visit:this.searchForm.value.return_visit,isSearchExpand:this.isSearchExpand})}};this.router.navigate(["../service-order-detail",e],t)}},{key:"changeDistributionVisible",value:function(e){this.isDistributionVisible=e,this.ngOnInit()}},{key:"changeDispatchVisible",value:function(e){var t=this;this.isDispatchVisible=!1,e.length&&(e.forEach(function(e){t.setOfCheckedId.delete(e)}),this.ngOnInit())}},{key:"changeCancelVisible",value:function(e){this.isCancelVisible=e,this.ngOnInit()}},{key:"changeExportVisible",value:function(){this.isExportVisible=!1,this.isDownloading=!1}},{key:"changeSalesmanVisible",value:function(e){this.isSalesmanVisible=!1,e&&this.ngOnInit()}},{key:"delete",value:function(e){this.deleteMul([e])}},{key:"deleteMul",value:function(e){var t=this;e.length>0&&this.serviceOrderSrv.deleteServiceOrder(e).subscribe(function(e){!0===e.success?(t.message.create("success","\u5220\u9664\u6210\u529f\uff01"),t.loadData()):e.message?(t.message.create("error",e.message),t.loadData()):t.message.create("error","\u5220\u9664\u5931\u8d25\uff01")},function(e){e.hasOwnProperty("error")&&e.error.hasOwnProperty("errorMessage")&&e.error.errorMessage&&t.message.error(e.error.errorMessage)})}},{key:"currentPageDataChange",value:function(e){this.displayData=e}},{key:"openCustomer",value:function(){var e=this;JSON.parse(sessionStorage.getItem("employeeInfo")).is_salesman?this.isCustomerVisible=!0:this.customerOpenerService.open([]).subscribe(function(t){if(null!=t&&0!==t.length){var n=t[0];e.searchForm.get("customer_id").setValue(n.customer_id),e.searchForm.get("customer_name").setValue(n.customer_name)}})}},{key:"customerChangeVisible",value:function(e){e&&e.length&&(this.searchForm.get("customer_id").setValue(e[0].customer_id),this.searchForm.get("customer_name").setValue(e[0].customer_name)),this.isCustomerVisible=!1}},{key:"openServiceSite",value:function(){var e=this;this.serviceSiteOpenerService.setConfig(this.service_site_id,this.service_site_type),this.serviceSiteOpenerService.open([]).subscribe(function(t){if(t.length){var n=t[0];e.searchForm.get("service_site_id").setValue(n.service_site_id),e.searchForm.get("service_site_name").setValue(n.service_site_name)}})}},{key:"openItemGroup",value:function(){var e=this;this.itemGroupOpenerService.open([]).subscribe(function(t){var n="",r="";t.data.item_group.forEach(function(e){n+=e.item_group_id+",",r+=e.item_group_name+","}),0!==n.length&&(n=n.substr(0,n.length-1)),0!==r.length&&(r=r.substr(0,r.length-1)),e.searchForm.get("item_group_id").setValue(n),e.searchForm.get("item_group_name").setValue(r)})}},{key:"clear",value:function(e){"customer"===e||"service_site"===e||"item_group"===e?(this.searchForm.get(e+"_id").setValue(""),this.searchForm.get(e+"_name").setValue("")):"sn"===e?this.searchForm.get("sn").setValue(""):"remark"===e?this.searchForm.get("remark").setValue(""):"doc_no"===e&&this.searchForm.get("doc_no").setValue("")}},{key:"order",value:function(e){var t=e.key;switch(e.value){case"ascend":this.dataList=b.l.order(this.dataList,[t]);break;case"descend":this.dataList=b.l.order(this.dataList,[t,-1])}}},{key:"getChannel",value:function(e){return this.channelList.filter(function(t){return t.value===e})[0].label}}]),t}();return t.\u0275fac=function(e){return new(e||t)(s.\u0275\u0275directiveInject(M.$),s.\u0275\u0275directiveInject(w),s.\u0275\u0275directiveInject(h.R),s.\u0275\u0275directiveInject(v.DwMessageService),s.\u0275\u0275directiveInject(g.DwModalService),s.\u0275\u0275directiveInject(u.FormBuilder),s.\u0275\u0275directiveInject(d.Router),s.\u0275\u0275directiveInject(_),s.\u0275\u0275directiveInject(S),s.\u0275\u0275directiveInject(D),s.\u0275\u0275directiveInject(O.DwAnalytics),s.\u0275\u0275directiveInject(k.DwUserService),s.\u0275\u0275directiveInject(P.DwAuthFunctionPermissionRepository),s.\u0275\u0275directiveInject(d.ActivatedRoute),s.\u0275\u0275directiveInject(F.v),s.\u0275\u0275directiveInject("ServiceSiteResource"))},t.\u0275cmp=s.\u0275\u0275defineComponent({type:t,selectors:[["app-service-order-list"]],features:[s.\u0275\u0275ProvidersFeature([_,S,D])],decls:78,vars:50,consts:[[3,"click"],["class","welcome",4,"ngIf"],[1,"issue_layout_head"],[1,"issue_layout_title"],[2,"margin-left","3px"],[3,"isDispatchVisible","visibleChanged"],["childDispatch",""],[3,"isDistributionVisible","visibleChanged"],["childDistribution",""],[3,"isCancelVisible","visibleChanged"],["childCancel",""],[3,"isExportVisible","visibleChanged"],["childExport",""],[3,"isSalesmanVisible","visibleChanged"],["childSalesman",""],[1,"sales_issue_form","sales_form","sales_shadow",3,"formGroup"],["dw-row","",1,"search-form-box"],[1,"search-input"],[1,"label"],[1,"form-input","date-picker"],["formControlName","date_range","id","service-order-list-query-date",2,"width","100%",3,"dwOnOpenChange"],[1,"form-input"],["dwSearch","",3,"dwSuffix"],["type","text","dw-input","","readonly","","dwMode","multiple","formControlName","customer_name",2,"width","100%"],["customerData",""],["class","label",4,"ngIf"],[3,"dwSuffix"],["type","text","dw-input","","formControlName","sn",2,"width","100%"],["SNSeachData",""],[1,"search-input",2,"width","172px"],["dw-button","","angularticsAction","\u67e5\u8be2\u6761\u4ef6-\u70b9\u51fb\u67e5\u8be2\u6309\u94ae","dw-analyticsOn","click",3,"dwType","angularticsCategory","angularticsLabel","click"],["dw-button","","angularticsAction","\u67e5\u8be2\u6761\u4ef6-\u70b9\u51fb\u91cd\u7f6e\u6309\u94ae","dw-analyticsOn","click",3,"dwType","angularticsCategory","angularticsLabel","click"],[1,"isExpand",3,"click"],["dw-icon","","dwTheme","outline",3,"dwType"],[4,"ngIf"],[1,"tag-wrap"],[1,"tag-label"],[1,"tags"],["dwMode","checkable","style","font-size: 15px;line-height: 28px;",3,"dwChecked","id","dwCheckedChange",4,"ngFor","ngForOf"],[1,"service_order_list","dw-f-table","sales_table"],["dw-row","","dwActionAuthorized","",1,"dw-f-btn-bar-action",3,"dwActionId","dwDefaultAuthorized"],["dw-col",""],["dw-button","","type","button","dwActionAuthorized","","id","service-order-list-create-in","angularticsAction","\u65b0\u5efa-\u8fdb\u5165\u65b0\u5efa\u9875\u9762","dw-analyticsOn","click",3,"dwType","dwActionId","dwDefaultAuthorized","angularticsCategory","angularticsLabel","dwClick"],["dw-icon","","dwType","plus"],["translate",""],["dw-button","","type","button","dwActionAuthorized","","angularticsAction","\u6d4f\u89c8\u9875\u64cd\u4f5c-\u70b9\u51fb\u6279\u91cf\u6d3e\u5de5","dw-analyticsOn","click",3,"dwType","dwActionId","dwDefaultAuthorized","angularticsCategory","angularticsLabel","dwClick",4,"ngIf"],["dw-button","","type","button","dwActionAuthorized","","angularticsAction","\u6d4f\u89c8\u9875\u64cd\u4f5c-\u70b9\u51fb\u5bfc\u51fa\u7ef4\u4fee\u8bb0\u5f55\u660e\u7ec6","dw-analyticsOn","click",3,"dwType","dwActionId","dwLoading","dwDefaultAuthorized","angularticsCategory","angularticsLabel","dwClick"],["dw-icon","","dwType","upload"],["totalTemplate",""],[3,"visible","customerVisibleChanged"],["child3",""],[1,"welcome"],["dw-icon","","class","ant-input-clear-icon","dwTheme","fill","dwType","close-circle",3,"click",4,"ngIf"],["dw-button","","dwType","primary","dwSearch","","dw-analyticsOn","click","id","service-order-list-query-customer","type","button","angularticsAction","\u67e5\u8be2\u6761\u4ef6-\u70b9\u51fb\u9009\u62e9\u5ba2\u6237\u540d\u79f0",3,"angularticsCategory","angularticsLabel","click"],["dw-icon","","dwType","search"],["dw-icon","","dwTheme","fill","dwType","close-circle",1,"ant-input-clear-icon",3,"click"],["type","text","dw-input","","readonly","","dwMode","multiple","formControlName","item_group_name",2,"width","100%"],["itemGroupData",""],["type","text","dw-input","","readonly","","dwMode","multiple","formControlName","service_site_name",2,"width","100%"],["serviceSiteData",""],["type","text","dw-input","","formControlName","remark",2,"width","100%"],["remarkSeachData",""],["type","text","dw-input","","formControlName","doc_no",2,"width","100%"],["docNoSeachData",""],["dw-checkbox","","formControlName","isNoPartsReplacement",2,"white-space","nowrap",3,"ngModelChange"],["dw-checkbox","","formControlName","isNotSolvedDocuments",3,"ngModelChange"],["dw-button","","dwType","primary","dwSearch","","dw-analyticsOn","click","id","service-order-list-query-group","angularticsAction","\u67e5\u8be2\u6761\u4ef6-\u70b9\u51fb\u9009\u62e9\u4ea7\u54c1\u5206\u7c7b","type","button",3,"angularticsCategory","angularticsLabel","click"],["dw-button","","dwType","primary","dwSearch","","dw-analyticsOn","click","id","service-order-list-query-site","angularticsAction","\u67e5\u8be2\u6761\u4ef6-\u70b9\u51fb\u9009\u62e9\u670d\u52a1\u7ad9\u70b9","type","button",3,"angularticsCategory","angularticsLabel","click"],["dwMode","checkable",2,"font-size","15px","line-height","28px",3,"dwChecked","id","dwCheckedChange"],["dw-button","","type","button","dwActionAuthorized","","angularticsAction","\u6d4f\u89c8\u9875\u64cd\u4f5c-\u70b9\u51fb\u6279\u91cf\u6d3e\u5de5","dw-analyticsOn","click",3,"dwType","dwActionId","dwDefaultAuthorized","angularticsCategory","angularticsLabel","dwClick"],["dwShowSizeChanger","",3,"dwTableId","dwData","dwScroll","dwPageIndex","dwPageSize","dwShowTotal","dwPageIndexChange","dwPageSizeChange","dwCurrentPageDataChange"],["dwTable",""],[3,"dwSortOrderChange"],["dw-tr","","dwDropColumns",""],["dwReorderColumns","",4,"ngFor","ngForOf"],["dwLeft","","dwWidth","40px",3,"dwChecked","dwIndeterminate","dwCheckedChange",4,"dwColumnId"],["dwLeft","","dwWidth","40px",3,"dwChecked","dwIndeterminate","dwCheckedChange"],["dwWidth","144px","dwDragDrop","",4,"dwColumnId"],["dwWidth","144px","dwDragDrop",""],["dwWidth","152px","dwDragDrop","",4,"dwColumnId"],["dwWidth","152px","dwDragDrop",""],["dwWidth","100px","dwDragDrop","",4,"dwColumnId"],["dwWidth","100px","dwDragDrop",""],["dw-th","","dwDragDrop","",4,"dwColumnId"],["dw-th","","dwDragDrop",""],["dwDragDrop","",4,"dwColumnId"],["dwDragDrop",""],["dwWidth","120px","dwDragDrop","",4,"dwColumnId"],["dwWidth","120px","dwDragDrop",""],["translate","",4,"ngIf"],["dwWidth","108px","dwAlign","center","dwDragDrop","",4,"dwColumnId"],["dwWidth","108px","dwAlign","center","dwDragDrop",""],["dwWidth","72px","dwDragDrop","",4,"dwColumnId"],["dwWidth","72px","dwDragDrop",""],["dwWidth","120px","class","align-center",4,"dwColumnId"],["dwWidth","120px",1,"align-center"],["dwReorderColumns",""],["dwLeft","","dwWidth","40",3,"dwChecked","dwDisabled","dwCheckedChange",4,"dwColumnId"],["dwLeft","","dwWidth","40",3,"dwChecked","dwDisabled","dwCheckedChange"],["dwEllipsis","",4,"dwColumnId"],["dwEllipsis",""],["class","overtime",4,"ngIf"],[1,"overtime"],["id","service-order-list-detail","angularticsAction","\u8be6\u60c5-\u70b9\u51fb\u67e5\u770b\u8be6\u60c5","dw-analyticsOn","click",3,"angularticsCategory","angularticsLabel","click"],["dwEllipsis","",3,"title",4,"dwColumnId"],["dwEllipsis","",3,"title"],["dwEllipsis","","dwAlign","center",4,"dwColumnId"],["dwEllipsis","","dwAlign","center"],["class","action-td","class","align-center",4,"dwColumnId"],[1,"align-center"],[1,"act-more"],["dwActionAuthorized","","translate","",3,"click"],["dw-icon","","dwType","ellipsis"],["class","action-grid",3,"click",4,"ngIf"],[1,"action-grid",3,"click"],["class","act-item","dwActionAuthorized","","title","\u7f16\u8f91","angularticsAction","\u4fee\u6539-\u8fdb\u5165\u4fee\u6539\u9875\u9762","dw-analyticsOn","click","id","service-order-list-modify-in",3,"dwActionId","dwDefaultAuthorized","angularticsCategory","angularticsLabel","click",4,"ngIf"],["class","act-item","dwActionAuthorized","","angularticsAction","\u6d4f\u89c8\u9875\u64cd\u4f5c-\u70b9\u51fb\u53d6\u6d88","dw-analyticsOn","click","id","service-order-list-cancel",3,"dwActionId","dwDefaultAuthorized","angularticsCategory","angularticsLabel","dwClick",4,"ngIf"],["class","act-item","dwActionAuthorized","","title","\u5220\u9664",3,"dwActionId","dwDefaultAuthorized",4,"ngIf"],["dwActionAuthorized","","angularticsAction","\u6d4f\u89c8\u9875\u64cd\u4f5c-\u70b9\u51fb\u5206\u914d","dw-analyticsOn","click","id","service-order-list-assign",1,"act-item",3,"dwActionId","dwDefaultAuthorized","angularticsCategory","angularticsLabel","dwClick"],["src","../../../../../../assets/img/icon_assign_nor.png","alt","\u5206\u914d",1,"action-icon"],["src","../../../../../../assets/img/icon_assign_pre.png","alt","\u5206\u914d",1,"action-icon"],["dwActionAuthorized","","angularticsAction","\u6d4f\u89c8\u9875\u64cd\u4f5c-\u70b9\u51fb\u6d3e\u5de5","dw-analyticsOn","click","id","service-order-list-distribute",1,"act-item",3,"dwActionId","dwDefaultAuthorized","angularticsCategory","angularticsLabel","dwClick"],["src","../../../../../../assets/img/icon_distribute_nor.png","alt","\u6d3e\u5de5",1,"action-icon"],["src","../../../../../../assets/img/icon_distribute_pre.png","alt","\u6d3e\u5de5",1,"action-icon"],["dwActionAuthorized","","title","\u7f16\u8f91","angularticsAction","\u4fee\u6539-\u8fdb\u5165\u4fee\u6539\u9875\u9762","dw-analyticsOn","click","id","service-order-list-modify-in",1,"act-item",3,"dwActionId","dwDefaultAuthorized","angularticsCategory","angularticsLabel","click"],["src","../../../../../../assets/img/icon_edit.png","alt","\u7f16\u8f91",1,"action-icon"],["src","../../../../../../assets/img/icon_edit_hover.png","alt","\u7f16\u8f91",1,"action-icon"],["dwActionAuthorized","","angularticsAction","\u6d4f\u89c8\u9875\u64cd\u4f5c-\u70b9\u51fb\u53d6\u6d88","dw-analyticsOn","click","id","service-order-list-cancel",1,"act-item",3,"dwActionId","dwDefaultAuthorized","angularticsCategory","angularticsLabel","dwClick"],["src","../../../../../../assets/img/icon_cancel_nor.png","alt","\u53d6\u6d88",1,"action-icon"],["src","../../../../../../assets/img/icon_cancel_pre.png","alt","\u53d6\u6d88",1,"action-icon"],["dwActionAuthorized","","title","\u5220\u9664",1,"act-item",3,"dwActionId","dwDefaultAuthorized"],["dw-popconfirm","",3,"dwPopconfirmTitle","dwOkText","dwCancelText","dwPopconfirmPlacement","dwOnConfirm"],["dw-popconfirm","","translate",""],["src","../../../../../../assets/img/icon_delete.png","alt","\u5220\u9664",1,"action-icon",2,"margin-top","-2px"],["src","../../../../../../assets/img/icon_delete_hover.png","alt","\u5220\u9664",1,"action-icon",2,"margin-top","-2px"]],template:function(e,t){if(1&e){var n=s.\u0275\u0275getCurrentView();s.\u0275\u0275elementStart(0,"dw-content",0),s.\u0275\u0275listener("click",function(){return t.hideActBox()}),s.\u0275\u0275template(1,ye,4,1,"div",1),s.\u0275\u0275elementStart(2,"div",2),s.\u0275\u0275elementStart(3,"h2",3),s.\u0275\u0275elementStart(4,"span",4),s.\u0275\u0275text(5,"\u670d\u52a1\u5de5\u5355"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275element(6,"dw-divider"),s.\u0275\u0275elementStart(7,"app-service-order-dispatch",5,6),s.\u0275\u0275listener("visibleChanged",function(e){return t.changeDispatchVisible(e)}),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(9,"app-service-order-distribution",7,8),s.\u0275\u0275listener("visibleChanged",function(){return t.changeDistributionVisible(!1)}),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(11,"app-service-order-cancel",9,10),s.\u0275\u0275listener("visibleChanged",function(){return t.changeCancelVisible(!1)}),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(13,"app-export",11,12),s.\u0275\u0275listener("visibleChanged",function(){return t.changeExportVisible()}),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(15,"app-salesman-certificate",13,14),s.\u0275\u0275listener("visibleChanged",function(e){return t.changeSalesmanVisible(e)}),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(17,"div"),s.\u0275\u0275elementStart(18,"form",15),s.\u0275\u0275elementStart(19,"div",16),s.\u0275\u0275elementStart(20,"div",17),s.\u0275\u0275elementStart(21,"div",18),s.\u0275\u0275text(22,"\u65e5\xa0\xa0\xa0\xa0\xa0\xa0\xa0\u671f"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(23,"dw-form-item",19),s.\u0275\u0275elementStart(24,"dw-form-control"),s.\u0275\u0275elementStart(25,"dw-range-picker",20),s.\u0275\u0275listener("dwOnOpenChange",function(e){return t.onOpenRange(e)}),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(26,"div",17),s.\u0275\u0275elementStart(27,"div",18),s.\u0275\u0275text(28,"\u5ba2\u6237\u540d\u79f0"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(29,"dw-form-item",21),s.\u0275\u0275elementStart(30,"dw-form-control"),s.\u0275\u0275elementStart(31,"dw-input-group",22),s.\u0275\u0275element(32,"input",23),s.\u0275\u0275elementEnd(),s.\u0275\u0275template(33,_e,3,3,"ng-template",null,24,s.\u0275\u0275templateRefExtractor),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(35,"div",17),s.\u0275\u0275template(36,Ce,2,0,"div",25),s.\u0275\u0275template(37,Se,2,0,"div",25),s.\u0275\u0275template(38,be,2,0,"div",25),s.\u0275\u0275elementStart(39,"dw-form-item",21),s.\u0275\u0275elementStart(40,"dw-form-control"),s.\u0275\u0275elementStart(41,"dw-input-group",26),s.\u0275\u0275element(42,"input",27),s.\u0275\u0275elementEnd(),s.\u0275\u0275template(43,Ee,1,1,"ng-template",null,28,s.\u0275\u0275templateRefExtractor),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(45,"div",29),s.\u0275\u0275elementStart(46,"button",30),s.\u0275\u0275listener("click",function(){return t.search.pageIndex=1,t.loadData()}),s.\u0275\u0275text(47),s.\u0275\u0275pipe(48,"translate"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(49,"button",31),s.\u0275\u0275listener("click",function(){return t.reset()}),s.\u0275\u0275text(50),s.\u0275\u0275pipe(51,"translate"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(52,"div",32),s.\u0275\u0275listener("click",function(){return t.isShowSearchExpand()}),s.\u0275\u0275text(53),s.\u0275\u0275element(54,"em",33),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275template(55,Re,57,5,"ng-container",34),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(56,"div",35),s.\u0275\u0275elementStart(57,"div",36),s.\u0275\u0275text(58,"\u72b6\u6001\uff1a"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(59,"div",37),s.\u0275\u0275template(60,Ae,2,3,"dw-tag",38),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(61,"div",39),s.\u0275\u0275elementStart(62,"div",40),s.\u0275\u0275elementStart(63,"div",41),s.\u0275\u0275elementStart(64,"button",42),s.\u0275\u0275listener("dwClick",function(){return t.create()}),s.\u0275\u0275element(65,"em",43),s.\u0275\u0275elementStart(66,"span",44),s.\u0275\u0275text(67,"\u65b0\u5efa"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275template(68,Ne,3,5,"button",45),s.\u0275\u0275elementStart(69,"button",46),s.\u0275\u0275listener("dwClick",function(){s.\u0275\u0275restoreView(n);var e=s.\u0275\u0275reference(14);return t.exportRecord(),e.initData()}),s.\u0275\u0275element(70,"em",47),s.\u0275\u0275elementStart(71,"span",44),s.\u0275\u0275text(72,"\u5bfc\u51fa\u7ef4\u4fee\u8bb0\u5f55\u660e\u7ec6"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275template(73,yn,25,26,"ng-container",34),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275template(74,xn,1,1,"ng-template",null,48,s.\u0275\u0275templateRefExtractor),s.\u0275\u0275elementStart(76,"app-customer-for-salesman-opener",49,50),s.\u0275\u0275listener("customerVisibleChanged",function(e){return t.customerChangeVisible(e)}),s.\u0275\u0275elementEnd()}if(2&e){var r=s.\u0275\u0275reference(34),i=s.\u0275\u0275reference(44);s.\u0275\u0275classMap(t.salesman_name?"has_salesman dw-f-content-list layoutClass sales_layout":"dw-f-content-list layoutClass sales_layout"),s.\u0275\u0275advance(1),s.\u0275\u0275property("ngIf",t.salesman_name),s.\u0275\u0275advance(6),s.\u0275\u0275property("isDispatchVisible",t.isDispatchVisible),s.\u0275\u0275advance(2),s.\u0275\u0275property("isDistributionVisible",t.isDistributionVisible),s.\u0275\u0275advance(2),s.\u0275\u0275property("isCancelVisible",t.isCancelVisible),s.\u0275\u0275advance(2),s.\u0275\u0275property("isExportVisible",t.isExportVisible),s.\u0275\u0275advance(2),s.\u0275\u0275property("isSalesmanVisible",t.isSalesmanVisible),s.\u0275\u0275advance(2),s.\u0275\u0275classMap(t.salesman_name?"content-box content-box2":"content-box"),s.\u0275\u0275advance(1),s.\u0275\u0275property("formGroup",t.searchForm),s.\u0275\u0275advance(13),s.\u0275\u0275property("dwSuffix",r),s.\u0275\u0275advance(5),s.\u0275\u0275property("ngIf","1"===t.fileType),s.\u0275\u0275advance(1),s.\u0275\u0275property("ngIf","2"===t.fileType),s.\u0275\u0275advance(1),s.\u0275\u0275property("ngIf","0"===t.fileType),s.\u0275\u0275advance(3),s.\u0275\u0275property("dwSuffix",i),s.\u0275\u0275advance(5),s.\u0275\u0275propertyInterpolate("angularticsLabel",t.userInfo.tenantId+","+t.userInfo.userId),s.\u0275\u0275property("dwType","primary")("angularticsCategory","\u670d\u52a1\u5de5\u5355"),s.\u0275\u0275advance(1),s.\u0275\u0275textInterpolate1(" ",s.\u0275\u0275pipeBind1(48,46,"\u67e5\u8be2")," "),s.\u0275\u0275advance(2),s.\u0275\u0275propertyInterpolate("angularticsLabel",t.userInfo.tenantId+","+t.userInfo.userId),s.\u0275\u0275property("dwType","defult")("angularticsCategory","\u670d\u52a1\u5de5\u5355"),s.\u0275\u0275advance(1),s.\u0275\u0275textInterpolate1(" ",s.\u0275\u0275pipeBind1(51,48,"\u91cd\u7f6e")," "),s.\u0275\u0275advance(3),s.\u0275\u0275textInterpolate1(" ",t.isSearchExpand?"\u6536\u8d77":"\u5c55\u5f00"," "),s.\u0275\u0275advance(1),s.\u0275\u0275property("dwType",t.isSearchExpand?"up":"down"),s.\u0275\u0275advance(1),s.\u0275\u0275property("ngIf",t.isSearchExpand),s.\u0275\u0275advance(5),s.\u0275\u0275property("ngForOf",t.fiterTags),s.\u0275\u0275advance(2),s.\u0275\u0275property("dwActionId","add")("dwDefaultAuthorized","disabled"),s.\u0275\u0275advance(2),s.\u0275\u0275propertyInterpolate("angularticsLabel",t.userInfo.tenantId+","+t.userInfo.userId),s.\u0275\u0275property("dwType","primary")("dwActionId","add")("dwDefaultAuthorized","disabled")("angularticsCategory","\u670d\u52a1\u5de5\u5355"),s.\u0275\u0275advance(4),s.\u0275\u0275property("ngIf","2"===t.state),s.\u0275\u0275advance(1),s.\u0275\u0275propertyInterpolate("angularticsLabel",t.userInfo.tenantId+","+t.userInfo.userId),s.\u0275\u0275property("dwType","defult")("dwActionId","export")("dwLoading",t.isDownloading)("dwDefaultAuthorized","disabled")("angularticsCategory","\u670d\u52a1\u5de5\u5355"),s.\u0275\u0275advance(4),s.\u0275\u0275property("ngIf",t.showTable),s.\u0275\u0275advance(3),s.\u0275\u0275property("visible",t.isCustomerVisible)}},directives:[V.DwContentComponent,o.NgIf,T.DwDividerComponent,L.H,R.C,q,ee,oe,u.\u0275NgNoValidate,u.NgControlStatusGroup,u.FormGroupDirective,N.DwRowDirective,A.DwFormItemComponent,N.DwColDirective,A.DwFormControlComponent,Q.DwDatePickerComponent,Q.DwRangePickerComponent,u.NgControlStatus,u.FormControlName,X.u,j.DwInputGroupComponent,j.DwInputGroupWhitSuffixOrPrefixDirective,j.DwInputDirective,u.DefaultValueAccessor,U.DwButtonComponent,H.uG,O.DwAnalyticsOn,le.DwIconDirective,o.NgForOf,de.DwActionAuthorizedDirective,re.TranslateDirective,ge,K.DwCheckboxComponent,he.DwTagComponent,se.DwTableComponent,me.Ct,se.DwTheadComponent,se.DwTrDirective,me.Y9,se.DwTbodyComponent,me.b,se.DwTableCellDirective,se.DwThMeasureDirective,me.BL,se.DwCellFixedDirective,se.DwThSelectionComponent,me.$2,se.DwCellAlignDirective,me.at,se.DwTdAddOnComponent,se.DwCellEllipsisDirective,we.DwPopconfirmDirective],pipes:[re.TranslatePipe,o.DatePipe],styles:[".dw-f-content-list[_ngcontent-%COMP%]{position:relative}.dw-f-content-list.has_salesman[_ngcontent-%COMP%]{padding-top:30px}.search-form-box[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{width:calc((100% - 3 * 24px - 172px) / 3)}.search-form-box[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{flex:1}.isExpand[_ngcontent-%COMP%]{width:46px;white-space:nowrap;color:#1890ff;margin-left:16px;cursor:pointer}.tag-wrap[_ngcontent-%COMP%]{display:flex;align-items:center;height:55px;border-bottom:1px solid #e5e5e5;margin-bottom:24px;padding-bottom:22px}.tag-label[_ngcontent-%COMP%]{color:#000000d9;font-size:14px;font-weight:bold;margin-right:14px;white-space:nowrap}.tags[_ngcontent-%COMP%]{color:#000000d9;white-space:nowrap}.ant-tag[_ngcontent-%COMP%]{height:32px;line-height:32px;padding:0 16px}.ant-tag[_ngcontent-%COMP%]:last-child{margin-right:0}.ant-tag-checkable-checked[_ngcontent-%COMP%], .ant-tag[_ngcontent-%COMP%]:hover{background:#f2f2f2;border-radius:16px;color:#000000d9}.act-more[_ngcontent-%COMP%]{width:50px;height:20px;text-align:center;margin:0 auto;position:relative;z-index:999}.act-more.static[_ngcontent-%COMP%]{position:static}.act-more[_ngcontent-%COMP%]   .action-grid[_ngcontent-%COMP%]{width:120px;position:absolute;top:20px;left:-52px;z-index:1999;background:#fff;border:1px solid #e9e9e9;display:flex;flex-direction:column}.act-more[_ngcontent-%COMP%]   .action-grid[_ngcontent-%COMP%]   .act-item[_ngcontent-%COMP%]{display:block;width:120px;height:40px;line-height:40px;text-align:left;border-bottom:1px solid #e9e9e9;padding-left:14px;position:relative;z-index:2999}.act-more[_ngcontent-%COMP%]   .action-grid[_ngcontent-%COMP%]   .act-item[_ngcontent-%COMP%]:last-child{border-bottom:0}.act-more[_ngcontent-%COMP%]   .action-grid[_ngcontent-%COMP%]   .act-item[_ngcontent-%COMP%]:hover{color:#0d9ef0;font-weight:bold}.action-grid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:hover   .action-icon[_ngcontent-%COMP%]:last-of-type{display:inline-block}.overtime[_ngcontent-%COMP%]{width:88px;height:20px;line-height:20px;text-align:center;background:#ea3e28;border-radius:2px;color:#fff;font-size:12px}.welcome[_ngcontent-%COMP%]{width:100%;background:#f2f2f2;position:absolute;top:0;left:0;z-index:3;height:30px;line-height:30px}.welcome[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:bold}"]}),t}(),Cn=a(64762),Sn=a(71049),bn=a(32126),In=function(){var e=function(){function e(t,n){p(this,e),this.dwHttp=t,this.selectModalService=n}return f(e,[{key:"setConfig",value:function(e,t,n){this.config={modalTitle:"1"===n?"\u9009\u62e9\u8bbe\u5907\u4fe1\u606f":"\u9009\u62e9\u4ea7\u7ebf/\u9879\u76ee",modalWidth:"70%",tableMultiSelect:!1,tableIdField:"product_file_id",tableNameField:"product_file_name",tablePageSize:10,tableColDefs:[{title:"\u7f16\u53f7",field:"product_file_code",width:"140px"},{title:"\u540d\u79f0",field:"product_file_name",width:"140px"},{title:"1"===n?"\u5e8f\u5217\u53f7":"\u9879\u76ee\u53f7",field:"sn",width:"220px"},{title:"\u89c4\u683c",field:"specification",width:"140px"},{title:"\u578b\u53f7",field:"model",width:"140px"}],tableCustomTag:function(e){return"("+e.product_file_code+")"+e.product_file_name},dataSource:new x.ApiServerPagingService(this.dwHttp,"restful/service/productFile/ProductFile/"+t,"product_file",["product_file_code","product_file_name","sn"]),initParams:this.getQueryCondition(e,n)}}},{key:"open",value:function(e){var t=this;return this.selectModalService.open(this.config,e).pipe((0,I.switchMap)(function(e){return e.length?t.dwHttp.get("restful/service/productFile/ProductFile/ProductFileById?id=".concat(e[0])):(0,Sn.of)(null)}))}},{key:"getQueryCondition",value:function(e,t){var n=new C.DwQueryCondition;return n.addCondition(new C.DwQueryConditionInfo("customer_id",e,C.DwQueryConditionOperator.EQUAL)),n.addCondition(new C.DwQueryConditionInfo("file_type",t,C.DwQueryConditionOperator.EQUAL)),n}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.\u0275\u0275inject(y.DwDapHttpClient),s.\u0275\u0275inject(x.DwSelectModalService))},e.\u0275prov=s.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac}),e}(),En=function(e){l(n,e);var t=c(n);function n(e,r){var i;return p(this,n),(i=t.call(this)).dwDapHttp=e,i.url=r,i}return f(n,[{key:"getDataList",value:function(e,t){var n=this;return this.dwDapHttp.get(this.url).pipe((0,I.map)(function(r){return n._result={currentPage:e,datas:Object.assign([],r),pageCount:Math.ceil(r.length/t),pageSize:t,rowCount:r.length},n._result}))}}]),n}(x.DwClientPagingDataSource),Dn=function(){var e=function(){function e(t,n){p(this,e),this.dwHttp=t,this.selectModalService=n,this.config={modalTitle:"\u9009\u62e9\u6545\u969c\u7c7b\u578b",modalWidth:"60%",tableMultiSelect:!1,tableIdField:"breakdown_id",tableNameField:"breakdown_name",tablePageSize:10,tableColDefs:[{title:"\u6545\u969c\u7c7b\u578b\u7f16\u53f7",field:"breakdown_code"},{title:"\u6545\u969c\u7c7b\u578b\u540d\u79f0",field:"breakdown_name"},{title:"\u4e0a\u7ea7\u6545\u969c\u7c7b\u578b\u7f16\u53f7",field:"parent_code"},{title:"\u4e0a\u7ea7\u6545\u969c\u7c7b\u578b\u540d\u79f0",field:"parent_name"}],tableCustomTag:function(e){return"("+e.breakdown_code+")"+e.breakdown_name},dataSource:new En(this.dwHttp,"restful/service/breakdown/Breakdown/LastBreakdown")}}return f(e,[{key:"open",value:function(e){var t=this;return this.selectModalService.open(this.config,e).pipe((0,I.switchMap)(function(e){return t.dwHttp.get("restful/service/breakdown/Breakdown/BreakdownById?id=".concat(e[0]))}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.\u0275\u0275inject(y.DwDapHttpClient),s.\u0275\u0275inject(x.DwSelectModalService))},e.\u0275prov=s.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac}),e}(),On=function(){var e=function(){function e(t,n){p(this,e),this.dwHttp=t,this.selectModalService=n}return f(e,[{key:"setConfig",value:function(){this.config={modalTitle:"\u9009\u62e9\u670d\u52a1\u7c7b\u578b",modalWidth:"50%",tableMultiSelect:!1,tableIdField:"service_type_id",tableNameField:"service_type_name",tablePageSize:10,tableColDefs:[{title:"\u670d\u52a1\u7c7b\u578b\u7f16\u53f7",field:"service_type_code"},{title:"\u670d\u52a1\u7c7b\u578b\u540d\u79f0",field:"service_type_name"}],returnFields:["service_type_id","service_type_name"],dataSource:new x.ApiServerPagingService(this.dwHttp,"restful/service/serviceType/ServiceType/List","service_type",["service_type_code","service_type_name"])}}},{key:"open",value:function(e){return this.selectModalService.open(this.config,e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.\u0275\u0275inject(y.DwDapHttpClient),s.\u0275\u0275inject(x.DwSelectModalService))},e.\u0275prov=s.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac}),e}(),kn=a(31969),Mn=a(18843),Pn=a(31371),Fn=a(39288),Vn=a(33795),Tn=a(96344),Ln=a(88531),Rn=a(35626),An=a(67733),Nn=a(45907),jn=["selectOpener"],zn=["child"],Bn=["exm"];function $n(e,t){1&e&&(s.\u0275\u0275elementStart(0,"span",17),s.\u0275\u0275text(1,"\u65b0\u5efa\u670d\u52a1\u5de5\u5355"),s.\u0275\u0275elementEnd())}function qn(e,t){1&e&&(s.\u0275\u0275elementStart(0,"span",17),s.\u0275\u0275text(1,"\u4fee\u6539\u670d\u52a1\u5de5\u5355"),s.\u0275\u0275elementEnd())}function Wn(e,t){if(1&e){var n=s.\u0275\u0275getCurrentView();s.\u0275\u0275elementStart(0,"em",76),s.\u0275\u0275listener("click",function(){return s.\u0275\u0275restoreView(n),s.\u0275\u0275nextContext(3).clear("customer")}),s.\u0275\u0275elementEnd()}}function Gn(e,t){if(1&e){var n=s.\u0275\u0275getCurrentView();s.\u0275\u0275template(0,Wn,1,0,"em",73),s.\u0275\u0275elementStart(1,"button",74),s.\u0275\u0275listener("click",function(){return s.\u0275\u0275restoreView(n),s.\u0275\u0275nextContext(2).openCustomer()}),s.\u0275\u0275element(2,"em",75),s.\u0275\u0275elementEnd()}if(2&e){var r=s.\u0275\u0275nextContext(2);s.\u0275\u0275property("ngIf",r.service_order.controls[0].controls.customer_name.value&&!r.id),s.\u0275\u0275advance(1),s.\u0275\u0275property("disabled",!!r.id)}}function Un(e,t){1&e&&(s.\u0275\u0275elementStart(0,"span",77),s.\u0275\u0275text(1,"*\xa0"),s.\u0275\u0275elementEnd())}function Hn(e,t){1&e&&(s.\u0275\u0275elementStart(0,"span",77),s.\u0275\u0275text(1,"*\xa0"),s.\u0275\u0275elementEnd())}function Xn(e,t){1&e&&(s.\u0275\u0275elementStart(0,"span",77),s.\u0275\u0275text(1,"*\xa0"),s.\u0275\u0275elementEnd())}function Qn(e,t){1&e&&(s.\u0275\u0275elementStart(0,"dw-form-label",20),s.\u0275\u0275text(1,"\u8bbe\u5907\u7f16\u53f7"),s.\u0275\u0275elementEnd()),2&e&&s.\u0275\u0275property("dwSpan",4)}function Kn(e,t){1&e&&(s.\u0275\u0275elementStart(0,"dw-form-label",20),s.\u0275\u0275text(1,"\u4ea7\u7ebf/\u9879\u76ee\u7f16\u53f7"),s.\u0275\u0275elementEnd()),2&e&&s.\u0275\u0275property("dwSpan",4)}function Jn(e,t){if(1&e){var n=s.\u0275\u0275getCurrentView();s.\u0275\u0275elementStart(0,"em",76),s.\u0275\u0275listener("click",function(){return s.\u0275\u0275restoreView(n),s.\u0275\u0275nextContext(3).clear("product_file")}),s.\u0275\u0275elementEnd()}}function Zn(e,t){if(1&e){var n=s.\u0275\u0275getCurrentView();s.\u0275\u0275template(0,Jn,1,0,"em",73),s.\u0275\u0275elementStart(1,"button",74),s.\u0275\u0275listener("click",function(){return s.\u0275\u0275restoreView(n),s.\u0275\u0275nextContext(2).openProductFile()}),s.\u0275\u0275element(2,"em",75),s.\u0275\u0275elementEnd()}if(2&e){var r=s.\u0275\u0275nextContext(2);s.\u0275\u0275property("ngIf",r.service_order.controls[0].controls.product_file_code.value),s.\u0275\u0275advance(1),s.\u0275\u0275property("disabled",!r.service_order.controls[0].get("customer_name").value)}}function Yn(e,t){1&e&&(s.\u0275\u0275elementStart(0,"dw-form-label",21),s.\u0275\u0275text(1,"\u8bbe\u5907\u540d\u79f0"),s.\u0275\u0275elementEnd()),2&e&&s.\u0275\u0275property("dwSpan",4)}function er(e,t){1&e&&(s.\u0275\u0275elementStart(0,"dw-form-label",21),s.\u0275\u0275text(1,"\u4ea7\u7ebf/\u9879\u76ee\u540d\u79f0"),s.\u0275\u0275elementEnd()),2&e&&s.\u0275\u0275property("dwSpan",4)}function tr(e,t){1&e&&(s.\u0275\u0275elementStart(0,"dw-form-label",21),s.\u0275\u0275text(1,"\u8bbe\u5907\u89c4\u683c"),s.\u0275\u0275elementEnd()),2&e&&s.\u0275\u0275property("dwSpan",4)}function nr(e,t){1&e&&(s.\u0275\u0275elementStart(0,"dw-form-label",21),s.\u0275\u0275text(1,"\u4ea7\u7ebf/\u9879\u76ee\u89c4\u683c"),s.\u0275\u0275elementEnd()),2&e&&s.\u0275\u0275property("dwSpan",4)}function rr(e,t){1&e&&(s.\u0275\u0275elementStart(0,"dw-form-label",21),s.\u0275\u0275text(1,"\u8bbe\u5907\u578b\u53f7"),s.\u0275\u0275elementEnd()),2&e&&s.\u0275\u0275property("dwSpan",4)}function ir(e,t){1&e&&(s.\u0275\u0275elementStart(0,"dw-form-label",21),s.\u0275\u0275text(1,"\u4ea7\u7ebf/\u9879\u76ee\u578b\u53f7"),s.\u0275\u0275elementEnd()),2&e&&s.\u0275\u0275property("dwSpan",4)}function ar(e,t){1&e&&(s.\u0275\u0275elementStart(0,"dw-form-label",20),s.\u0275\u0275text(1,"\u5e8f\u5217\u53f7"),s.\u0275\u0275elementEnd()),2&e&&s.\u0275\u0275property("dwSpan",4)}function or(e,t){1&e&&(s.\u0275\u0275elementStart(0,"dw-form-label",20),s.\u0275\u0275text(1,"\u9879\u76ee\u53f7"),s.\u0275\u0275elementEnd()),2&e&&s.\u0275\u0275property("dwSpan",4)}function lr(e,t){if(1&e){var n=s.\u0275\u0275getCurrentView();s.\u0275\u0275elementStart(0,"dw-form-item"),s.\u0275\u0275element(1,"dw-form-control",21),s.\u0275\u0275elementStart(2,"dw-form-control",21),s.\u0275\u0275elementStart(3,"button",7),s.\u0275\u0275listener("click",function(){return s.\u0275\u0275restoreView(n),s.\u0275\u0275nextContext(2).openEquipments()}),s.\u0275\u0275element(4,"em",60),s.\u0275\u0275elementStart(5,"span",6),s.\u0275\u0275text(6,"\u6dfb\u52a0\u62a5\u4fee\u8bbe\u5907"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(7,"app-opener-frontend",78,79),s.\u0275\u0275listener("selectedChanged",function(e){return s.\u0275\u0275restoreView(n),s.\u0275\u0275nextContext(2).openSelect(e)}),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd()}2&e&&(s.\u0275\u0275advance(1),s.\u0275\u0275property("dwSpan",4),s.\u0275\u0275advance(1),s.\u0275\u0275property("dwSpan",10),s.\u0275\u0275advance(1),s.\u0275\u0275property("dwType","default"))}function dr(e,t){if(1&e){var n=s.\u0275\u0275getCurrentView();s.\u0275\u0275elementStart(0,"tr"),s.\u0275\u0275elementStart(1,"td"),s.\u0275\u0275text(2),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(3,"td"),s.\u0275\u0275text(4),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(5,"td"),s.\u0275\u0275text(6),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(7,"td"),s.\u0275\u0275text(8),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(9,"td"),s.\u0275\u0275text(10),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(11,"td",86),s.\u0275\u0275elementStart(12,"div",87),s.\u0275\u0275elementStart(13,"div",88),s.\u0275\u0275listener("click",function(){var e=s.\u0275\u0275restoreView(n).$implicit;return s.\u0275\u0275nextContext(3).deleteEquipment(e.index)}),s.\u0275\u0275element(14,"img",89),s.\u0275\u0275element(15,"img",90),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd()}if(2&e){var r=t.$implicit;s.\u0275\u0275advance(2),s.\u0275\u0275textInterpolate1(" ",r.code," "),s.\u0275\u0275advance(2),s.\u0275\u0275textInterpolate1(" ",r.name," "),s.\u0275\u0275advance(2),s.\u0275\u0275textInterpolate1(" ",r.sn," "),s.\u0275\u0275advance(2),s.\u0275\u0275textInterpolate1(" ",r.specification," "),s.\u0275\u0275advance(2),s.\u0275\u0275textInterpolate1(" ",r.model," ")}}function cr(e,t){if(1&e&&(s.\u0275\u0275elementStart(0,"dw-form-item"),s.\u0275\u0275element(1,"dw-form-control",21),s.\u0275\u0275elementStart(2,"dw-form-control",21),s.\u0275\u0275elementStart(3,"dw-table",80,81),s.\u0275\u0275elementStart(5,"thead"),s.\u0275\u0275elementStart(6,"tr",82),s.\u0275\u0275elementStart(7,"th",83),s.\u0275\u0275elementStart(8,"span",6),s.\u0275\u0275text(9,"\u8bbe\u5907\u7f16\u53f7"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(10,"th",83),s.\u0275\u0275elementStart(11,"span",6),s.\u0275\u0275text(12,"\u8bbe\u5907\u540d\u79f0"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(13,"th",83),s.\u0275\u0275elementStart(14,"span",6),s.\u0275\u0275text(15,"\u8bbe\u5907\u5e8f\u5217\u53f7"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(16,"th",83),s.\u0275\u0275elementStart(17,"span",6),s.\u0275\u0275text(18,"\u8bbe\u5907\u89c4\u683c"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(19,"th",83),s.\u0275\u0275elementStart(20,"span",6),s.\u0275\u0275text(21,"\u8bbe\u5907\u578b\u53f7"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(22,"th",84),s.\u0275\u0275elementStart(23,"span",6),s.\u0275\u0275text(24,"\u64cd\u4f5c"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(25,"tbody"),s.\u0275\u0275template(26,dr,16,5,"tr",85),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd()),2&e){var n=s.\u0275\u0275reference(4),r=s.\u0275\u0275nextContext(2);s.\u0275\u0275advance(1),s.\u0275\u0275property("dwSpan",4),s.\u0275\u0275advance(1),s.\u0275\u0275property("dwSpan",15),s.\u0275\u0275advance(1),s.\u0275\u0275property("dwData",r.equipments_for_show)("dwFrontPagination",!1)("dwShowPagination",!1),s.\u0275\u0275advance(23),s.\u0275\u0275property("ngForOf",n.data)}}function sr(e,t){if(1&e){var n=s.\u0275\u0275getCurrentView();s.\u0275\u0275elementStart(0,"em",76),s.\u0275\u0275listener("click",function(){return s.\u0275\u0275restoreView(n),s.\u0275\u0275nextContext(3).clear("service_type")}),s.\u0275\u0275elementEnd()}}function mr(e,t){if(1&e){var n=s.\u0275\u0275getCurrentView();s.\u0275\u0275template(0,sr,1,0,"em",73),s.\u0275\u0275elementStart(1,"button",91),s.\u0275\u0275listener("click",function(){return s.\u0275\u0275restoreView(n),s.\u0275\u0275nextContext(2).openServiceType()}),s.\u0275\u0275element(2,"em",75),s.\u0275\u0275elementEnd()}if(2&e){var r=s.\u0275\u0275nextContext(2);s.\u0275\u0275property("ngIf",r.service_order.controls[0].controls.service_type_name.value)}}function pr(e,t){if(1&e){var n=s.\u0275\u0275getCurrentView();s.\u0275\u0275elementStart(0,"em",76),s.\u0275\u0275listener("click",function(){return s.\u0275\u0275restoreView(n),s.\u0275\u0275nextContext(3).clear("breakdown")}),s.\u0275\u0275elementEnd()}}function ur(e,t){if(1&e){var n=s.\u0275\u0275getCurrentView();s.\u0275\u0275template(0,pr,1,0,"em",73),s.\u0275\u0275elementStart(1,"button",91),s.\u0275\u0275listener("click",function(){s.\u0275\u0275restoreView(n);var e=s.\u0275\u0275nextContext(2);return s.\u0275\u0275reference(16).initData(),e.isBreakdownVisible=!0}),s.\u0275\u0275element(2,"em",75),s.\u0275\u0275elementEnd()}if(2&e){var r=s.\u0275\u0275nextContext(2);s.\u0275\u0275property("ngIf",r.service_order.controls[0].controls.breakdown_name.value)}}function fr(e,t){if(1&e){var n=s.\u0275\u0275getCurrentView();s.\u0275\u0275elementStart(0,"div",92),s.\u0275\u0275listener("click",function(){return s.\u0275\u0275restoreView(n),s.\u0275\u0275nextContext(2).openPhrase()}),s.\u0275\u0275text(1,"+ \u5e38\u7528\u8bed"),s.\u0275\u0275elementEnd()}}function vr(e,t){if(1&e){var n=s.\u0275\u0275getCurrentView();s.\u0275\u0275elementStart(0,"div",93),s.\u0275\u0275text(1),s.\u0275\u0275elementStart(2,"img",94),s.\u0275\u0275listener("click",function(){return s.\u0275\u0275restoreView(n),s.\u0275\u0275nextContext(2).delPhrase()}),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd()}if(2&e){var r=s.\u0275\u0275nextContext(2);s.\u0275\u0275advance(1),s.\u0275\u0275textInterpolate1(" ",r.service_order.controls[0].controls.fault_phrase.value," ")}}function gr(e,t){if(1&e&&(s.\u0275\u0275elementStart(0,"label",34),s.\u0275\u0275text(1),s.\u0275\u0275elementEnd()),2&e){var n=t.$implicit;s.\u0275\u0275property("dwValue",n.service_urgency_id),s.\u0275\u0275advance(1),s.\u0275\u0275textInterpolate(n.service_urgency_name)}}function hr(e,t){if(1&e&&s.\u0275\u0275element(0,"dw-option",95),2&e){var n=t.$implicit;s.\u0275\u0275property("dwLabel",n.label)("dwValue",n.value)}}function wr(e,t){1&e&&(s.\u0275\u0275elementStart(0,"dw-form-item"),s.\u0275\u0275element(1,"dw-form-label",21),s.\u0275\u0275elementStart(2,"dw-form-control",21),s.\u0275\u0275element(3,"input",96),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd()),2&e&&(s.\u0275\u0275advance(1),s.\u0275\u0275property("dwSpan",4),s.\u0275\u0275advance(1),s.\u0275\u0275property("dwSpan",10))}var yr=function(){return{width:"100%"}};function xr(e,t){if(1&e&&s.\u0275\u0275element(0,"img",97),2&e){var n=s.\u0275\u0275nextContext(2);s.\u0275\u0275property("src",n.previewImage,s.\u0275\u0275sanitizeUrl)("ngStyle",s.\u0275\u0275pureFunction0(2,yr))}}function _r(e,t){if(1&e&&(s.\u0275\u0275elementStart(0,"div"),s.\u0275\u0275elementStart(1,"a"),s.\u0275\u0275text(2),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd()),2&e){var n=s.\u0275\u0275nextContext().$implicit;s.\u0275\u0275advance(2),s.\u0275\u0275textInterpolate(n.title)}}function Cr(e,t){1&e&&(s.\u0275\u0275elementStart(0,"div",102),s.\u0275\u0275text(1),s.\u0275\u0275pipe(2,"translate"),s.\u0275\u0275elementEnd()),2&e&&(s.\u0275\u0275advance(1),s.\u0275\u0275textInterpolate(s.\u0275\u0275pipeBind1(2,1,"dw-demo-image-viewer-audit")))}function Sr(e,t){if(1&e&&s.\u0275\u0275template(0,Cr,3,3,"div",101),2&e){var n=s.\u0275\u0275nextContext().$implicit;s.\u0275\u0275property("ngIf",n.isAudit)}}function br(e,t){if(1&e&&(s.\u0275\u0275elementContainerStart(0),s.\u0275\u0275elementStart(1,"dw-image-viewer-list-item",98),s.\u0275\u0275template(2,_r,3,1,"ng-template",null,99,s.\u0275\u0275templateRefExtractor),s.\u0275\u0275template(4,Sr,1,1,"ng-template",null,100,s.\u0275\u0275templateRefExtractor),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementContainerEnd()),2&e){var n=t.$implicit,r=s.\u0275\u0275reference(5),i=s.\u0275\u0275nextContext(2);s.\u0275\u0275advance(1),s.\u0275\u0275property("dwListType","picture-card")("dwFile",n)("dwItemAction",i.listActionMap2[n.uid])("dwDesignTpl",r)("onPreview",i.handlePreview2)("onRemove",i.handleRemove2)("onCheck",i.handleCheck)("onOtherAction",i.handleOtherAction)}}function Ir(e,t){if(1&e&&(s.\u0275\u0275elementStart(0,"div",103),s.\u0275\u0275elementStart(1,"p",70),s.\u0275\u0275text(2,"\u9644\u52a0\u4fe1\u606f"),s.\u0275\u0275elementEnd(),s.\u0275\u0275element(3,"dw-extra-fields",104),s.\u0275\u0275elementEnd()),2&e){var n=s.\u0275\u0275nextContext(2);s.\u0275\u0275advance(3),s.\u0275\u0275property("group",n.service_order.controls[0])("dwDocument",n.doc)}}var Er=function(){return{minRows:8,maxRows:8}},Dr=function(){return{showPreviewIcon:!0,showRemoveIcon:!0}},Or=function(e){return{"my-list":e}},kr=function(){return{minRows:4,maxRows:4}};function Mr(e,t){if(1&e){var n=s.\u0275\u0275getCurrentView();s.\u0275\u0275elementStart(0,"form",18),s.\u0275\u0275elementStart(1,"p",19),s.\u0275\u0275text(2,"\u5ba2\u6237\u4fe1\u606f"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(3,"dw-form-item"),s.\u0275\u0275elementStart(4,"dw-form-label",20),s.\u0275\u0275text(5,"\u5ba2\u6237"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(6,"dw-form-control",21),s.\u0275\u0275elementStart(7,"dw-input-group",22),s.\u0275\u0275element(8,"input",23),s.\u0275\u0275elementEnd(),s.\u0275\u0275template(9,Gn,3,2,"ng-template",null,24,s.\u0275\u0275templateRefExtractor),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(11,"dw-form-item"),s.\u0275\u0275elementStart(12,"dw-form-label",21),s.\u0275\u0275template(13,Un,2,0,"span",25),s.\u0275\u0275text(14,"\u8054\u7cfb\u4eba"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(15,"dw-form-control",21),s.\u0275\u0275element(16,"input",26),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(17,"dw-form-item"),s.\u0275\u0275elementStart(18,"dw-form-label",21),s.\u0275\u0275template(19,Hn,2,0,"span",25),s.\u0275\u0275text(20,"\u8054\u7cfb\u7535\u8bdd"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(21,"dw-form-control",27),s.\u0275\u0275elementStart(22,"input",28),s.\u0275\u0275listener("blur",function(){return s.\u0275\u0275restoreView(n),s.\u0275\u0275reference(24).validInput()}),s.\u0275\u0275elementEnd(),s.\u0275\u0275element(23,"app-valid-input",29,30),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(25,"dw-form-item"),s.\u0275\u0275elementStart(26,"dw-form-label",21),s.\u0275\u0275template(27,Xn,2,0,"span",25),s.\u0275\u0275text(28,"\u5730\u5740"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(29,"dw-form-control",21),s.\u0275\u0275element(30,"input",31),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(31,"p",19),s.\u0275\u0275text(32,"\u8bbe\u5907\u4fe1\u606f"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(33,"dw-form-item"),s.\u0275\u0275elementStart(34,"dw-form-label",20),s.\u0275\u0275text(35,"\u7c7b\u578b"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(36,"dw-form-control",32),s.\u0275\u0275elementStart(37,"dw-radio-group",33),s.\u0275\u0275listener("ngModelChange",function(e){return s.\u0275\u0275restoreView(n),s.\u0275\u0275nextContext().typeRadioChange(e)}),s.\u0275\u0275elementStart(38,"label",34),s.\u0275\u0275text(39,"\u5355\u673a"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(40,"label",34),s.\u0275\u0275text(41,"\u4ea7\u7ebf/\u9879\u76ee"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(42,"dw-form-item"),s.\u0275\u0275template(43,Qn,2,1,"dw-form-label",35),s.\u0275\u0275template(44,Kn,2,1,"dw-form-label",35),s.\u0275\u0275elementStart(45,"dw-form-control",32),s.\u0275\u0275elementStart(46,"dw-input-group",22),s.\u0275\u0275element(47,"input",36),s.\u0275\u0275elementEnd(),s.\u0275\u0275template(48,Zn,3,2,"ng-template",null,37,s.\u0275\u0275templateRefExtractor),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(50,"dw-form-item"),s.\u0275\u0275template(51,Yn,2,1,"dw-form-label",38),s.\u0275\u0275template(52,er,2,1,"dw-form-label",38),s.\u0275\u0275elementStart(53,"dw-form-control",21),s.\u0275\u0275element(54,"input",39),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(55,"dw-form-item"),s.\u0275\u0275template(56,tr,2,1,"dw-form-label",38),s.\u0275\u0275template(57,nr,2,1,"dw-form-label",38),s.\u0275\u0275elementStart(58,"dw-form-control",21),s.\u0275\u0275element(59,"input",40),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(60,"dw-form-item"),s.\u0275\u0275template(61,rr,2,1,"dw-form-label",38),s.\u0275\u0275template(62,ir,2,1,"dw-form-label",38),s.\u0275\u0275elementStart(63,"dw-form-control",21),s.\u0275\u0275element(64,"input",41),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(65,"dw-form-item"),s.\u0275\u0275template(66,ar,2,1,"dw-form-label",35),s.\u0275\u0275template(67,or,2,1,"dw-form-label",35),s.\u0275\u0275elementStart(68,"dw-form-control",21),s.\u0275\u0275elementStart(69,"input",42),s.\u0275\u0275listener("keydown",function(e){return s.\u0275\u0275restoreView(n),s.\u0275\u0275nextContext().chkSNchg("keydown",e)})("focus",function(e){return s.\u0275\u0275restoreView(n),s.\u0275\u0275nextContext().chkSNchg("focus",e)})("blur",function(e){return s.\u0275\u0275restoreView(n),s.\u0275\u0275nextContext().chkSNchg("focusout",e)}),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(70,"dw-form-item"),s.\u0275\u0275elementStart(71,"dw-form-label",21),s.\u0275\u0275text(72,"\u51fa\u5e93\u65e5\u671f"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(73,"dw-form-control",21),s.\u0275\u0275element(74,"input",43),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(75,"dw-form-item"),s.\u0275\u0275element(76,"dw-form-control",21),s.\u0275\u0275elementStart(77,"dw-form-control",21),s.\u0275\u0275elementStart(78,"label",44),s.\u0275\u0275text(79,"\u5728\u4fdd"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275template(80,lr,9,3,"dw-form-item",45),s.\u0275\u0275template(81,cr,27,6,"dw-form-item",45),s.\u0275\u0275elementStart(82,"p",19),s.\u0275\u0275text(83,"\u6545\u969c\u4fe1\u606f"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(84,"dw-form-item"),s.\u0275\u0275elementStart(85,"dw-form-label",20),s.\u0275\u0275text(86,"\u670d\u52a1\u7c7b\u578b"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(87,"dw-form-control",21),s.\u0275\u0275elementStart(88,"dw-input-group",22),s.\u0275\u0275element(89,"input",46),s.\u0275\u0275elementEnd(),s.\u0275\u0275template(90,mr,3,1,"ng-template",null,47,s.\u0275\u0275templateRefExtractor),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(92,"dw-form-item"),s.\u0275\u0275elementStart(93,"dw-form-label",20),s.\u0275\u0275text(94,"\u6545\u969c\u7c7b\u578b"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(95,"dw-form-control",21),s.\u0275\u0275elementStart(96,"dw-input-group",22),s.\u0275\u0275element(97,"input",48),s.\u0275\u0275elementEnd(),s.\u0275\u0275template(98,ur,3,1,"ng-template",null,49,s.\u0275\u0275templateRefExtractor),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(100,"dw-form-item"),s.\u0275\u0275elementStart(101,"dw-form-label",20),s.\u0275\u0275text(102,"\u95ee\u9898\u63cf\u8ff0"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(103,"dw-form-control",21),s.\u0275\u0275template(104,fr,2,0,"div",50),s.\u0275\u0275template(105,vr,3,1,"div",51),s.\u0275\u0275element(106,"textarea",52),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(107,"dw-form-item"),s.\u0275\u0275elementStart(108,"dw-form-label",21),s.\u0275\u0275text(109,"\u7d27\u6025\u7a0b\u5ea6"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(110,"dw-form-control",21),s.\u0275\u0275elementStart(111,"dw-radio-group",53),s.\u0275\u0275listener("ngModelChange",function(){return s.\u0275\u0275restoreView(n),s.\u0275\u0275nextContext().radioChange()}),s.\u0275\u0275template(112,gr,2,2,"label",54),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(113,"dw-form-item"),s.\u0275\u0275elementStart(114,"dw-form-label",20),s.\u0275\u0275text(115,"\u9884\u7ea6\u65e5\u671f"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(116,"dw-form-control",21),s.\u0275\u0275element(117,"dw-date-picker",55),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(118,"dw-form-item"),s.\u0275\u0275elementStart(119,"dw-form-label",20),s.\u0275\u0275text(120,"\u6e20\u9053"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(121,"dw-form-control",21),s.\u0275\u0275elementStart(122,"dw-select",56),s.\u0275\u0275listener("ngModelChange",function(e){return s.\u0275\u0275restoreView(n),s.\u0275\u0275nextContext().onOpenRange(e)}),s.\u0275\u0275template(123,hr,1,2,"dw-option",57),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275template(124,wr,4,2,"dw-form-item",45),s.\u0275\u0275elementStart(125,"dw-form-item"),s.\u0275\u0275elementStart(126,"dw-form-label",21),s.\u0275\u0275text(127,"\u6545\u969c\u56fe\u7247"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(128,"dw-form-control",21),s.\u0275\u0275elementStart(129,"div",58),s.\u0275\u0275elementStart(130,"dw-upload",59),s.\u0275\u0275listener("dwFileListChange",function(e){return s.\u0275\u0275restoreView(n),s.\u0275\u0275nextContext().fileList=e})("dwChange",function(){return s.\u0275\u0275restoreView(n),s.\u0275\u0275nextContext().onUploadChange()}),s.\u0275\u0275element(131,"em",60),s.\u0275\u0275elementStart(132,"div",61),s.\u0275\u0275text(133,"\u4e0a\u4f20\u56fe\u7247"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(134,"dw-modal",62),s.\u0275\u0275listener("dwOnCancel",function(){return s.\u0275\u0275restoreView(n),s.\u0275\u0275nextContext().previewVisible=!1}),s.\u0275\u0275template(135,xr,1,3,"ng-template",null,63,s.\u0275\u0275templateRefExtractor),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(137,"dw-form-item"),s.\u0275\u0275elementStart(138,"dw-form-label",21),s.\u0275\u0275text(139,"\u6545\u969c\u89c6\u9891"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(140,"dw-form-control",21),s.\u0275\u0275elementStart(141,"div",64),s.\u0275\u0275elementStart(142,"div",65),s.\u0275\u0275template(143,br,6,8,"ng-container",66),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(144,"dw-upload",67),s.\u0275\u0275listener("dwFileListChange",function(e){return s.\u0275\u0275restoreView(n),s.\u0275\u0275nextContext().thumbnailList2=e})("dwChange",function(e){return s.\u0275\u0275restoreView(n),s.\u0275\u0275nextContext().uploadChange(e)}),s.\u0275\u0275elementStart(145,"button",68),s.\u0275\u0275element(146,"em",69),s.\u0275\u0275elementStart(147,"span"),s.\u0275\u0275text(148,"\u4e0a\u4f20\u89c6\u9891"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(149,"p",70),s.\u0275\u0275text(150,"\u5907\u6ce8"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(151,"dw-form-item"),s.\u0275\u0275element(152,"dw-form-label",21),s.\u0275\u0275elementStart(153,"dw-form-control",21),s.\u0275\u0275element(154,"textarea",71),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275template(155,Ir,4,2,"div",72),s.\u0275\u0275elementEnd()}if(2&e){var r=s.\u0275\u0275reference(10),i=s.\u0275\u0275reference(24),a=s.\u0275\u0275reference(49),o=s.\u0275\u0275reference(91),l=s.\u0275\u0275reference(99),d=s.\u0275\u0275reference(136),c=s.\u0275\u0275nextContext();s.\u0275\u0275property("formGroup",c.service_order.controls[0]),s.\u0275\u0275advance(4),s.\u0275\u0275property("dwSpan",4),s.\u0275\u0275advance(2),s.\u0275\u0275property("dwSpan",10),s.\u0275\u0275advance(1),s.\u0275\u0275property("dwSuffix",r),s.\u0275\u0275advance(5),s.\u0275\u0275property("dwSpan",4),s.\u0275\u0275advance(1),s.\u0275\u0275property("ngIf",!c.isServiceMan),s.\u0275\u0275advance(2),s.\u0275\u0275property("dwSpan",10),s.\u0275\u0275advance(3),s.\u0275\u0275property("dwSpan",4),s.\u0275\u0275advance(1),s.\u0275\u0275property("ngIf",!c.isServiceMan),s.\u0275\u0275advance(2),s.\u0275\u0275property("dwSpan",10)("dwValidateStatus",i.warnType),s.\u0275\u0275advance(1),s.\u0275\u0275property("required",!c.isServiceMan),s.\u0275\u0275advance(1),s.\u0275\u0275property("value",c.service_order.controls[0].value.contact_phone)("type","mobileOrTele"),s.\u0275\u0275advance(3),s.\u0275\u0275property("dwSpan",4),s.\u0275\u0275advance(1),s.\u0275\u0275property("ngIf",!c.isServiceMan),s.\u0275\u0275advance(2),s.\u0275\u0275property("dwSpan",10),s.\u0275\u0275advance(5),s.\u0275\u0275property("dwSpan",4),s.\u0275\u0275advance(2),s.\u0275\u0275property("dwSpan",10),s.\u0275\u0275advance(2),s.\u0275\u0275property("dwValue","1"),s.\u0275\u0275advance(2),s.\u0275\u0275property("dwValue","2"),s.\u0275\u0275advance(3),s.\u0275\u0275property("ngIf","1"===c.service_order.controls[0].value.type),s.\u0275\u0275advance(1),s.\u0275\u0275property("ngIf","2"===c.service_order.controls[0].value.type),s.\u0275\u0275advance(1),s.\u0275\u0275property("dwSpan",10),s.\u0275\u0275advance(1),s.\u0275\u0275property("dwSuffix",a),s.\u0275\u0275advance(5),s.\u0275\u0275property("ngIf","1"===c.service_order.controls[0].value.type),s.\u0275\u0275advance(1),s.\u0275\u0275property("ngIf","2"===c.service_order.controls[0].value.type),s.\u0275\u0275advance(1),s.\u0275\u0275property("dwSpan",10),s.\u0275\u0275advance(3),s.\u0275\u0275property("ngIf","1"===c.service_order.controls[0].value.type),s.\u0275\u0275advance(1),s.\u0275\u0275property("ngIf","2"===c.service_order.controls[0].value.type),s.\u0275\u0275advance(1),s.\u0275\u0275property("dwSpan",10),s.\u0275\u0275advance(3),s.\u0275\u0275property("ngIf","1"===c.service_order.controls[0].value.type),s.\u0275\u0275advance(1),s.\u0275\u0275property("ngIf","2"===c.service_order.controls[0].value.type),s.\u0275\u0275advance(1),s.\u0275\u0275property("dwSpan",10),s.\u0275\u0275advance(3),s.\u0275\u0275property("ngIf","1"===c.service_order.controls[0].value.type),s.\u0275\u0275advance(1),s.\u0275\u0275property("ngIf","2"===c.service_order.controls[0].value.type),s.\u0275\u0275advance(1),s.\u0275\u0275property("dwSpan",10),s.\u0275\u0275advance(3),s.\u0275\u0275property("dwSpan",4),s.\u0275\u0275advance(2),s.\u0275\u0275property("dwSpan",10),s.\u0275\u0275advance(3),s.\u0275\u0275property("dwSpan",4),s.\u0275\u0275advance(1),s.\u0275\u0275property("dwSpan",10),s.\u0275\u0275advance(3),s.\u0275\u0275property("ngIf","2"===c.service_order.controls[0].value.type),s.\u0275\u0275advance(1),s.\u0275\u0275property("ngIf","2"===c.service_order.controls[0].value.type),s.\u0275\u0275advance(4),s.\u0275\u0275property("dwSpan",4),s.\u0275\u0275advance(2),s.\u0275\u0275property("dwSpan",10),s.\u0275\u0275advance(1),s.\u0275\u0275property("dwSuffix",o),s.\u0275\u0275advance(5),s.\u0275\u0275property("dwSpan",4),s.\u0275\u0275advance(2),s.\u0275\u0275property("dwSpan",10),s.\u0275\u0275advance(1),s.\u0275\u0275property("dwSuffix",l),s.\u0275\u0275advance(5),s.\u0275\u0275property("dwSpan",4),s.\u0275\u0275advance(2),s.\u0275\u0275property("dwSpan",10),s.\u0275\u0275advance(1),s.\u0275\u0275property("ngIf",!c.service_order.controls[0].controls.fault_phrase.value),s.\u0275\u0275advance(1),s.\u0275\u0275property("ngIf",c.service_order.controls[0].controls.fault_phrase.value),s.\u0275\u0275advance(1),s.\u0275\u0275property("dwAutosize",s.\u0275\u0275pureFunction0(92,Er)),s.\u0275\u0275advance(2),s.\u0275\u0275property("dwSpan",4),s.\u0275\u0275advance(2),s.\u0275\u0275property("dwSpan",10),s.\u0275\u0275advance(2),s.\u0275\u0275property("ngForOf",c.urgencyList),s.\u0275\u0275advance(2),s.\u0275\u0275property("dwSpan",4),s.\u0275\u0275advance(2),s.\u0275\u0275property("dwSpan",10),s.\u0275\u0275advance(1),s.\u0275\u0275property("dwFormat",c.yyyy-c.MM-c.dd)("dwDisabledDate",c.disabledAppointmentDate),s.\u0275\u0275advance(2),s.\u0275\u0275property("dwSpan",4),s.\u0275\u0275advance(2),s.\u0275\u0275property("dwSpan",10),s.\u0275\u0275advance(2),s.\u0275\u0275property("ngForOf",c.channelList),s.\u0275\u0275advance(1),s.\u0275\u0275property("ngIf","5"===c.service_order.controls[0].controls.channel.value),s.\u0275\u0275advance(2),s.\u0275\u0275property("dwSpan",4),s.\u0275\u0275advance(2),s.\u0275\u0275property("dwSpan",10),s.\u0275\u0275advance(2),s.\u0275\u0275property("dwFileList",c.fileList)("dwShowButton",c.fileList.length<5)("dwPreview",c.handlePreview)("dwBeforeUpload",c.beforeUpload)("dwShowUploadList",s.\u0275\u0275pureFunction0(93,Dr))("dwAccept",".png,.jpg"),s.\u0275\u0275advance(4),s.\u0275\u0275property("dwVisible",c.previewVisible)("dwContent",d)("dwFooter",null),s.\u0275\u0275advance(4),s.\u0275\u0275property("dwSpan",4),s.\u0275\u0275advance(2),s.\u0275\u0275property("dwSpan",10),s.\u0275\u0275advance(2),s.\u0275\u0275property("ngClass",s.\u0275\u0275pureFunction1(94,Or,c.isDemoStyle)),s.\u0275\u0275advance(1),s.\u0275\u0275property("ngForOf",c.thumbnailList2)("ngForTrackBy",c.trackByUid),s.\u0275\u0275advance(1),s.\u0275\u0275property("dwCustomRequest",c.customReq)("dwFileList",c.thumbnailList2)("dwShowUploadList",!1)("dwMultiple",!0)("dwDisabled",c.isCheckShow2||c.fileUploadingCount>0)("dwAccept",".mp4"),s.\u0275\u0275advance(1),s.\u0275\u0275property("disabled",c.isCheckShow2||c.fileUploadingCount>0||3==c.thumbnailList2.length),s.\u0275\u0275advance(7),s.\u0275\u0275property("dwSpan",4),s.\u0275\u0275advance(1),s.\u0275\u0275property("dwSpan",10),s.\u0275\u0275advance(1),s.\u0275\u0275property("dwAutosize",s.\u0275\u0275pureFunction0(96,kr)),s.\u0275\u0275advance(1),s.\u0275\u0275property("ngIf",c.serviceOrderHasCustomizeField)}}function Pr(e,t){if(1&e){var n=s.\u0275\u0275getCurrentView();s.\u0275\u0275elementStart(0,"div"),s.\u0275\u0275elementStart(1,"a",106),s.\u0275\u0275listener("click",function(){var e=s.\u0275\u0275restoreView(n).$implicit;return s.\u0275\u0275nextContext(2).seeDetail(e)}),s.\u0275\u0275text(2),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd()}if(2&e){var r=t.$implicit;s.\u0275\u0275advance(2),s.\u0275\u0275textInterpolate(r.doc_no)}}function Fr(e,t){if(1&e&&(s.\u0275\u0275elementStart(0,"div",105),s.\u0275\u0275elementStart(1,"div"),s.\u0275\u0275text(2,"\u8be5\u62a5\u4fee\u4ea7\u54c1\u4ecd\u6709\u5de5\u5355\u5904\u4e8e\u672a\u5b8c\u5de5\u72b6\u6001\uff0c\u5de5\u5355\u5355\u53f7\uff1a"),s.\u0275\u0275elementEnd(),s.\u0275\u0275template(3,Pr,3,1,"div",85),s.\u0275\u0275elementStart(4,"div"),s.\u0275\u0275text(5,"\u786e\u5b9a\u8981\u518d\u6b21\u62a5\u4fee\u5417\uff1f"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd()),2&e){var n=s.\u0275\u0275nextContext();s.\u0275\u0275advance(3),s.\u0275\u0275property("ngForOf",n.exmMsg)}}function Vr(e,t){1&e&&s.\u0275\u0275element(0,"app-service-order-detail",null,107)}var Tr=function(){return{height:"calc(100vh - 48px)",overflow:"auto",padding:"0 24px"}},Lr=function(){var n=function(){function n(e,r,i,a,o,l,d,c,s,m,u,f,v,g,h,w,y,x,_,C,S){var b=this;p(this,n),this.http=e,this.productFileSrv=r,this.fb=i,this.dwRoutingMessageSrv=a,this.dwModalService=o,this.serviceOrderSrv=l,this.doc=d,this.message=c,this.translateService=s,this.datePipe=m,this.customerOpenerService=u,this.productFileOpenerService=f,this.serviceTypeOpenerService=v,this.breakDownOpenerService=g,this.phraseOpenerService=h,this.analytics=w,this.userService=y,this.dwUploadFileMangementService=x,this.dwImageViewerListService=_,this.router=C,this.route=S,this.search={pageIndex:1,pageSize:10,pageSizeOptions:[10,20,30]},this.channelList=[{label:"\u5c0f\u7a0b\u5e8f",value:"1"},{label:"\u7535\u8bdd",value:"2"},{label:"QQ",value:"3"},{label:"\u90ae\u4ef6",value:"4"},{label:"\u5176\u4ed6",value:"5"}],this.urgencyList=[],this.service_order_equipment=[],this.equipments_for_show=[],this.id="",this.userInfo={tenantId:"",userId:""},this.isBreakdownVisible=!1,this.isCustomerVisible=!1,this.funcString="",this.isServiceMan=!1,this.isCollapsed=!1,this.serviceOrderHasCustomizeField=!1,this.disabledAppointmentDate=function(e){return!!e&&b.changeZero(e)<b.changeZero(new Date)},this.beforeUpload=function(e,t){return new Sn.Observable(function(t){var n="image/jpeg"===e.type||"image/png"===e.type;if(!n)return b.message.create("error","\u8bf7\u4e0a\u4f20jpg\u6216png\u683c\u5f0f\u56fe\u7247\uff01"),void t.complete();var r=e.size/1024/1024<=5;if(!r)return b.message.create("error","\u4e0a\u4f20\u6587\u4ef6\u5927\u5c0f\u8d85\u8fc75M\uff01"),void t.complete();t.next(n&&r),t.complete()})},this.picture_id="",this.fileList=[],this.parafileList=[],this.previewImage="",this.previewVisible=!1,this.handlePreview=function(e){return(0,Cn.mG)(b,void 0,void 0,t().mark(function n(){return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=!e.url&&!e.preview,!t.t0){t.next=5;break}return t.next=4,this.getBase64(e.originFileObj);case 4:e.preview=t.sent;case 5:console.log("handlePreview",e),this.previewImage=e.url||e.preview,this.previewVisible=!0;case 8:case"end":return t.stop()}},n,this)}))},this.thumbnailList2=[],this.deleteVideoIds=[],this.listActionMap2={},this.isCheckShow2=!1,this.isDemoStyle=!1,this.customReq=function(e){var t=e.file;if(!("video/mp4"!==t.type&&"video/avi"!==t.type&&"video/rmvb"!==t.type&&"video/3gp"!==t.type&&"video/flv"!==t.type||t.size/1024/1024>10))return b.serviceOrderSrv.uploadFile(t,!0,null,"",{shrink:"100000",width:"200"}).subscribe(function(t){"success"===t.status?(t.primaryKey="id-"+Math.random().toString(36).substring(2),e.onSuccess(t,e.file,null)):"error"===t.status?e.onError(t,e.file):e.onProgress(t,e.file)},function(t){e.onError(t,e.file)})},this.handlePreview2=function(e){return b.dwImageViewerListService.previewModal(e,b.thumbnailList2,b.viewerAction2,b.handlePrevious2,b.handleNext2)},this.handlePrevious2=function(e){return b.dwImageViewerListService.previous(b.thumbnailList2,e,b.viewerAction2)},this.handleNext2=function(e){return b.dwImageViewerListService.next(b.thumbnailList2,e,b.viewerAction2)},this.handleRemove2=function(e){return Sn.Observable.create(function(t){"uploading"===e.status?(b.dwUploadFileMangementService.cancelUploading(e.uid),b.listRemove2(e.uid),t.next("ok"),t.complete()):"error"===e.status?(b.listRemove2(e.uid),t.next("ok"),t.complete()):(b.deleteVideoIds.push(e.dmcFileId),b.listRemove2(e.uid),t.next("ok"),t.complete())})},this.handleCheck=function(e){return Sn.Observable.create(function(t){for(var n=b.thumbnailList2.length,r=0;r<n;r++)b.thumbnailList2[r].uid===e.uid&&(b.thumbnailList2[r].check=!b.thumbnailList2[r].check);t.next("ok"),t.complete()})},this.handleOtherAction=function(e,t){return Sn.Observable.create(function(n){switch(t){case"my-action-0":b.message.create("success","uid:"+e.uid+"<br>"+e.name),n.next("ok"),n.complete();break;default:b.message.create("success","uid:"+e.uid+"<br>actionId:"+t),n.next("ok"),n.complete()}})},this.doc.registerEvent(this),this.route.paramMap.subscribe(function(e){b.id=e.get("id")||""})}return f(n,[{key:"ngOnInit",value:function(){var t=this;this.userInfo=this.userService.getUserInfo();var n=new Date,r=n.getDate(),i=new Date(n.getFullYear(),n.getMonth(),r);""===this.id?(this.service_order=new C.DwDataTable([{doc_date:new Date,receive_time:"",customer_id:"",customer_name:"",contact:"",contact_phone:"",address:"",product_file_id:"",product_file_code:"",product_file_name:"",specification:"",model:"",type:"1",sn:"",delivery_date:"",is_under_warranty:!1,quantity:0,service_type_id:"",service_type_name:"",breakdown_id:"",breakdown_name:"",description:"",service_urgency_id:this.defaultUrgencyId,task_time:this.defaultTaskTime,channel:"2",channel_explanation:"",appointment_date:i,remark:"",fault_phrase:""}]),this.loadServiceUrgency(),this.service_order.controls[0].get("contact_phone").setValidators([u.Validators.pattern(te.K.MOBILE_TEL)]),this.changeDescriptionRequired(),this.getServiceManControl()):this.service_order=new C.DwDataTable([]),this.id?this.doc.read({id:this.id}).subscribe(function(n){t.service_order=n.service_order,t.service_order_equipment=n.service_order_equipment.value,t.service_order_equipment.forEach(function(e){e.$state="U"}),t.getEquipmentsForShow();var r=t.datePipe.transform(t.service_order.controls[0].value.delivery_date,"yyyy-MM-dd");t.service_order.controls[0].get("delivery_date").setValue(r),t.loadServiceUrgency(),t.picture_id=t.service_order.controls[0].value.pictures,t.initVideoData(n.videos),t.picture_id?t.serviceOrderSrv.getFileById(t.picture_id).subscribe(function(n){t.fileList=[];var r,i=e(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;t.fileList.push({uid:a.id,name:a.name,status:"done",url:a.value})}}catch(o){i.e(o)}finally{i.f()}}):(t.fileList=[],t.previewImage=""),t.service_order.controls[0].get("contact_phone").setValidators([u.Validators.pattern(te.K.MOBILE_TEL)]),t.changeDescriptionRequired(),t.getServiceManControl()}):this.doc.setControl("service_order",this.service_order),this.productFileSrv.getProductFileHasCustomizeField("service_order").subscribe(function(e){t.serviceOrderHasCustomizeField="true"===e.data})}},{key:"getServiceManControl",value:function(){var e=this;this.serviceOrderSrv.getCurrentEmployee().subscribe(function(t){e.funcString=t.value.function,e.funcString&&e.funcString.length>=2&&(e.isServiceMan="1"===e.funcString.substring(1,2),e.isServiceMan?(e.service_order.controls[0].get("contact").setErrors(null),e.service_order.controls[0].get("contact").clearValidators(),e.service_order.controls[0].get("contact_phone").setErrors(null),e.service_order.controls[0].get("address").setErrors(null),e.service_order.controls[0].get("address").clearValidators()):(e.service_order.controls[0].get("contact").setValidators(u.Validators.required),e.service_order.controls[0].get("address").setValidators(u.Validators.required)),e.service_order.controls[0].get("contact").updateValueAndValidity(),e.service_order.controls[0].get("contact_phone").updateValueAndValidity(),e.service_order.controls[0].get("address").updateValueAndValidity())})}},{key:"changeDescriptionRequired",value:function(){this.service_order.controls[0].get("fault_phrase").value?(this.service_order.controls[0].get("description").setErrors(null),this.service_order.controls[0].get("description").clearValidators()):this.service_order.controls[0].get("description").setValidators(u.Validators.required),this.service_order.controls[0].get("description").updateValueAndValidity()}},{key:"changeZero",value:function(e){return new Date(e).setHours(0,0,0,0)}},{key:"loadServiceUrgency",value:function(){return(0,Cn.mG)(this,void 0,void 0,t().mark(function e(){var n=this;return t().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.serviceOrderSrv.getServiceUrgencyList("").subscribe(function(e){n.urgencyList=e,n.id||n.urgencyList.length>0&&(n.service_order.controls[0].get("service_urgency_id").setValue(n.urgencyList[0].service_urgency_id),n.service_order.controls[0].get("task_time").setValue(n.urgencyList[0].process_hours),n.urgencyList.forEach(function(e){if(!0===e.is_default)return n.service_order.controls[0].get("service_urgency_id").setValue(e.service_urgency_id),void n.service_order.controls[0].get("task_time").setValue(e.process_hours)}))});case 2:case"end":return e.stop()}},e,this)}))}},{key:"typeRadioChange",value:function(e){this.clear("product_file")}},{key:"radioChange",value:function(){var e=this;this.urgencyList.forEach(function(t){t.service_urgency_id!==e.service_order.controls[0].value.service_urgency_id||e.service_order.controls[0].get("task_time").setValue(t.process_hours)})}},{key:"openEquipments",value:function(){this.service_order.controls[0].value.product_file_id?this.selectOpener.initData(this.getConfigValue()):this.message.create("error","\u8bf7\u5148\u9009\u62e9\u4ea7\u7ebf/\u9879\u76ee\uff01")}},{key:"getConfigValue",value:function(){return{modalTitle:"\u9009\u62e9\u8bbe\u5907",modalWidth:"50%",multiSelect:!0,tableIdField:"product_equipment_list_id",tableNameField:"name",returnFields:["product_equipment_list_id","code","name","model","sn","specification"],tablePageSize:10,tableColDefs:[{title:"\u8bbe\u5907\u7f16\u53f7",field:"code"},{title:"\u8bbe\u5907\u540d\u79f0",field:"name"},{title:"\u8bbe\u5907\u578b\u53f7",field:"model"},{title:"\u5e8f\u5217\u53f7",field:"sn"},{title:"\u89c4\u683c",field:"specification"}],tableCustomTag:function(e){return"("+e.code+")"+e.name},dataSourceUrl:"restful/service/productFile/ProductFile/ProductEquipmentList?productFileId=".concat(this.service_order.controls[0].value.product_file_id),dwHttp:this.http}}},{key:"openSelect",value:function(e){var t=this;e.forEach(function(e){t.equipments_for_show.filter(function(t){return e.product_equipment_list_id===t.product_equipment_list_id}).length||t.service_order_equipment.push(Object.assign({$state:"C"},e))}),this.getEquipmentsForShow()}},{key:"deleteEquipment",value:function(e){"C"===this.service_order_equipment[e].$state?this.service_order_equipment.splice(e,1):this.service_order_equipment[e].$state="D",this.getEquipmentsForShow()}},{key:"getEquipmentsForShow",value:function(){var e=[];this.service_order_equipment.forEach(function(t,n){"D"!==t.$state&&e.push(Object.assign({index:n},t))}),this.equipments_for_show=e}},{key:"returnServiceOrderList",value:function(){this.router.navigate(""===this.id?["../"]:["../../"],{relativeTo:this.route})}},{key:"cancel",value:function(){this.returnServiceOrderList()}},{key:"onUploadChange",value:function(){this.fileList.forEach(function(e){e.status="done"}),console.log("\u4e0a\u4f20\u4ee5\u540e",this.fileList)}},{key:"onOpenRange",value:function(e){console.log(e,this.service_order)}},{key:"save",value:function(e){return(0,Cn.mG)(this,void 0,void 0,t().mark(function e(){var n,r=this;return t().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=this.service_order.controls[0],this.serviceOrderSrv.getInfoBySN(n.get("sn").value,this.id?n.get("service_order_id").value:"").subscribe(function(e){var t=e.data.product_file;!t||(e.data.service_order&&e.data.service_order.length?(r.exmMsg=e.data.service_order,r.dwModalService.confirm({dwTitle:"",dwContent:r.exm,dwWidth:"420px",dwOkText:"\u786e\u5b9a",dwOnOk:function(){r.setInfoBySNOnSave(t)}})):r.setInfoBySNOnSave(t))},function(e){e.hasOwnProperty("error")&&e.error.hasOwnProperty("errorMessage")&&e.error.errorMessage&&r.message.error(e.error.errorMessage)});case 2:case"end":return e.stop()}},e,this)}))}},{key:"setInfoBySNOnSave",value:function(e){var n=this;if(this.service_order.controls[0].get("customer_id").value){if(this.service_order.controls[0].get("customer_id").value!==e.customer_id)return void this.message.create("error","\u8be5".concat("1"===this.service_order.controls[0].value.type?"\u5e8f\u5217\u53f7\u8bbe\u5907":"\u9879\u76ee\u53f7\u4ea7\u7ebf/\u9879\u76ee","\u4e0d\u5c5e\u4e8e").concat(this.service_order.controls[0].get("customer_name").value,",\u8bf7\u786e\u8ba4\uff01"));this.setFormInfo(e,"product_file")}else this.setFormInfo(e,"customer");this.fileList.length&&this.fileList.forEach(function(e){return(0,Cn.mG)(n,void 0,void 0,t().mark(function n(){return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.thumbUrl;case 2:e.url=t.sent;case 3:case"end":return t.stop()}},n)}))}),this.parafileList=[],this.fileList.forEach(function(e){return(0,Cn.mG)(n,void 0,void 0,t().mark(function n(){var r;return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log(this.fileList),!e.thumbUrl){t.next=9;break}return t.next=3,this.getBase64(e.originFileObj);case 3:return r=t.sent,t.next=6,this.parafileList.push({pictureId:e.uid,fileContext:r,fileName:e.name,state:"new"});case 6:console.log("this.parafileList",this.parafileList),t.next=11;break;case 9:return t.next=11,this.parafileList.push({pictureId:e.uid,fileContext:e.url,fileName:e.name,state:"old"});case 11:case"end":return t.stop()}},n,this)}))}),this.id?setTimeout(function(){console.log("this.parafileList Save",n.parafileList),n.modify()},500):setTimeout(function(){console.log("this.parafileList Save",n.parafileList),n.create()},500)}},{key:"seeDetail",value:function(e){var t=this;this.isCollapsed=!0,setTimeout(function(){t.child.init(e.service_order_id)})}},{key:"create",value:function(){var e=this,t=sessionStorage.getItem("salesman_id")?sessionStorage.getItem("salesman_id"):JSON.parse(sessionStorage.getItem("employeeInfo")).is_salesman?JSON.parse(sessionStorage.getItem("employeeInfo")).employee_id:"",n=[];this.service_order_equipment.forEach(function(e){n.push({equipment_id:e.product_equipment_list_id,equipment_sn:e.sn})});var r=Object.assign(Object.assign({},this.service_order.controls[0].value),{fileList:this.parafileList,fault_video:this.videos,receive_employee_id:t,service_order_equipment:n,channel_explanation:"5"===this.service_order.controls[0].value.channel?this.service_order.controls[0].value.channel_explanation:""});console.log("create param",r),this.serviceOrderSrv.createServiceOrder(r).subscribe(function(t){t.success?(e.dwRoutingMessageSrv.success(t.message),e.router.navigate(["../../"],{relativeTo:e.route}),e.deleteVideoIds.forEach(function(t){e.serviceOrderSrv.deleteFile(t).subscribe(function(e){})})):e.dwRoutingMessageSrv.error("\u65b0\u5efa\u5931\u8d25\uff01")},function(t){t.hasOwnProperty("error")&&t.error.hasOwnProperty("errorMessage")&&t.error.errorMessage&&e.message.error(t.error.errorMessage)})}},{key:"modify",value:function(){var e=this,t=[];this.service_order_equipment.forEach(function(n){var r={service_order_id:e.service_order.controls[0].value.service_order_id,product_file_id:e.service_order.controls[0].value.product_file_id,product_file_sn:e.service_order.controls[0].value.sn,equipment_id:n.product_equipment_list_id,equipment_sn:n.sn};Object.assign(r,n),t.push(r)});var n=Object.assign(Object.assign({},this.service_order.controls[0].value),{fileList:this.parafileList,fault_video:this.videos,service_order_equipment:t,channel_explanation:"5"===this.service_order.controls[0].value.channel?this.service_order.controls[0].value.channel_explanation:""});this.serviceOrderSrv.modifyServiceOrder(n,this.id).subscribe(function(t){t.success?(e.dwRoutingMessageSrv.success("\u4fee\u6539\u6210\u529f\uff01"),e.returnServiceOrderList(),e.deleteVideoIds.forEach(function(t){e.serviceOrderSrv.deleteFile(t).subscribe(function(e){})})):t.message?(e.dwRoutingMessageSrv.error(t.message),e.returnServiceOrderList()):e.dwRoutingMessageSrv.error("\u4fee\u6539\u5931\u8d25\uff01")},function(t){t.hasOwnProperty("error")&&t.error.hasOwnProperty("errorMessage")&&t.error.errorMessage&&e.message.error(t.error.errorMessage)})}},{key:"saving",value:function(){return console.log(this.service_order.controls[0]),!0}},{key:"saved",value:function(e){var t=e.message;e.success?(this.dwRoutingMessageSrv.success(t||"\u64cd\u4f5c\u6210\u529f\uff01"),this.returnServiceOrderList()):t&&this.dwRoutingMessageSrv.error(t)}},{key:"openCustomer",value:function(){var e=this;JSON.parse(sessionStorage.getItem("employeeInfo")).is_salesman?this.isCustomerVisible=!0:this.customerOpenerService.open([]).subscribe(function(t){null!=t&&0!==t.length&&e.setCustomerInfo(t[0])})}},{key:"customerChangeVisible",value:function(e){e&&e.length&&this.setCustomerInfo(e[0]),this.isCustomerVisible=!1}},{key:"setCustomerInfo",value:function(e){this.service_order.controls[0].get("customer_id").setValue(e.customer_id),this.service_order.controls[0].get("customer_name").setValue(e.customer_name),this.service_order.controls[0].get("contact").setValue(e.contact),this.service_order.controls[0].get("contact_phone").setValue(e.contact_number),this.service_order.controls[0].get("address").setValue(e.address),this.clear("product_file")}},{key:"openProductFile",value:function(){var e=this,t=this.service_order.controls[0].value;JSON.parse(sessionStorage.getItem("employeeInfo")).is_salesman?this.productFileOpenerService.setConfig(t.customer_id,"CommonAccountProductList",t.type):this.productFileOpenerService.setConfig(t.customer_id,"List",t.type),this.productFileOpenerService.open([]).subscribe(function(t){if(null!=t&&0!==t.length){var n=t.data.product_file[0];e.service_order.controls[0].get("product_file_id").setValue(n.product_file_id),e.service_order.controls[0].get("product_file_code").setValue(n.product_file_code),e.service_order.controls[0].get("product_file_name").setValue(n.product_file_name),e.service_order.controls[0].get("specification").setValue(n.specification),e.service_order.controls[0].get("model").setValue(n.model),e.service_order.controls[0].get("sn").setValue(n.sn);var r=e.datePipe.transform(n.delivery_date,"yyyy-MM-dd");e.service_order.controls[0].get("delivery_date").setValue(r);var i=e.datePipe.transform(n.expiry_date,"yyyy-MM-dd"),a=e.datePipe.transform(new Date,"yyyy-MM-dd");e.service_order.controls[0].get("is_under_warranty").setValue(i>=a)}})}},{key:"openServiceType",value:function(){var e=this;this.serviceTypeOpenerService.setConfig(),this.serviceTypeOpenerService.open([]).subscribe(function(t){if(t.length){var n=t[0];e.service_order.controls[0].get("service_type_id").setValue(n.service_type_id),e.service_order.controls[0].get("service_type_name").setValue(n.service_type_name)}})}},{key:"openBreakdown",value:function(){var e=this;this.breakDownOpenerService.open([]).subscribe(function(t){var n=t.data.breakdown[0];e.service_order.controls[0].get("breakdown_id").setValue(n.breakdown_id),e.service_order.controls[0].get("breakdown_name").setValue(n.breakdown_name)})}},{key:"openPhrase",value:function(){var e=this;this.phraseOpenerService.open([]).subscribe(function(t){e.service_order.controls[0].get("fault_phrase").setValue(t.data.common_phrase[0].phrase),e.changeDescriptionRequired()})}},{key:"delPhrase",value:function(){this.service_order.controls[0].get("fault_phrase").setValue(""),this.changeDescriptionRequired()}},{key:"clear",value:function(e){"customer"===e?(this.service_order.controls[0].get("customer_id").setValue(""),this.service_order.controls[0].get("customer_name").setValue(""),this.service_order.controls[0].get("contact").setValue(""),this.service_order.controls[0].get("contact_phone").setValue(""),this.service_order.controls[0].get("address").setValue(""),this.service_order.controls[0].get("product_file_id").setValue(""),this.service_order.controls[0].get("product_file_code").setValue(""),this.service_order.controls[0].get("product_file_name").setValue(""),this.service_order.controls[0].get("specification").setValue(""),this.service_order.controls[0].get("model").setValue(""),this.service_order.controls[0].get("sn").setValue(""),this.service_order.controls[0].get("delivery_date").setValue(""),this.service_order.controls[0].get("is_under_warranty").setValue(!1),this.service_order_equipment.forEach(function(e){e.$state=e.service_order_equipment_id?"D":e.$state}),this.service_order_equipment=this.service_order_equipment.filter(function(e){return"D"===e.$state}),this.getEquipmentsForShow()):"product_file"===e?(this.service_order.controls[0].get("product_file_id").setValue(""),this.service_order.controls[0].get("product_file_code").setValue(""),this.service_order.controls[0].get("product_file_name").setValue(""),this.service_order.controls[0].get("specification").setValue(""),this.service_order.controls[0].get("model").setValue(""),this.service_order.controls[0].get("sn").setValue(""),this.service_order.controls[0].get("delivery_date").setValue(""),this.service_order.controls[0].get("is_under_warranty").setValue(!1),this.service_order_equipment.forEach(function(e){e.$state=e.service_order_equipment_id?"D":e.$state}),this.service_order_equipment=this.service_order_equipment.filter(function(e){return"D"===e.$state}),this.getEquipmentsForShow()):(this.service_order.controls[0].get(e+"_id").setValue(""),this.service_order.controls[0].get(e+"_name").setValue(""))}},{key:"getBase64",value:function(e){return new Promise(function(t,n){var r=new FileReader;r.readAsDataURL(e),r.onload=function(){return t(r.result)},r.onerror=function(e){return n(e)}})}},{key:"setFormInfo",value:function(e,t){var n=this.service_order.controls[0];e.file_type!==n.get("type").value?n.get("type").setValue(e.file_type):("customer"===t&&e.customer_id!==n.get("customer_id").value||"product_file"===t&&e.product_file_id!==n.get("product_file_id").value)&&this.clear(t),n.get("customer_id").setValue(e.customer_id),e.customer&&"customer"===t&&(n.get("customer_name").setValue(e.customer.customer_name),n.get("contact").setValue(e.customer.contact),n.get("contact_phone").setValue(e.customer.contact_number),n.get("address").setValue(e.customer.address)),n.get("product_file_id").setValue(e.product_file_id),n.get("product_file_code").setValue(e.product_file_code),n.get("product_file_name").setValue(e.product_file_name),n.get("specification").setValue(e.specification),n.get("model").setValue(e.model),n.get("sn").setValue(e.sn);var r=this.datePipe.transform(e.delivery_date,"yyyy-MM-dd");n.get("delivery_date").setValue(r);var i=this.datePipe.transform(e.expiry_date,"yyyy-MM-dd"),a=this.datePipe.transform(new Date,"yyyy-MM-dd");n.get("is_under_warranty").setValue(i>=a),this.olderSN=e.sn}},{key:"setInfoBySN",value:function(){var e=this,t=this.service_order.controls[0].get("sn").value;if(!(null==t||t.length<=0)){var n=this.service_order.controls[0];n.get("sn").value!==this.olderSN&&this.serviceOrderSrv.getInfoBySN(t,this.id?n.get("service_order_id").value:"").subscribe(function(t){var n=t.data.product_file;t.data.service_order&&t.data.service_order.length?(e.exmMsg=t.data.service_order,e.dwModalService.confirm({dwTitle:"",dwContent:e.exm,dwWidth:"420px",dwOkText:"\u786e\u5b9a",dwOnOk:function(){e.setInfoBySn(n)}})):e.setInfoBySn(n)},function(t){t.hasOwnProperty("error")&&t.error.hasOwnProperty("errorMessage")&&t.error.errorMessage&&e.message.error(t.error.errorMessage)})}}},{key:"setInfoBySn",value:function(e){var t=this,n=this.service_order.controls[0];if(e){if(!n.get("customer_id").value)return void this.setFormInfo(e,"customer");if(n.get("customer_id").value!==e.customer_id){var r="\u8be5".concat("1"===this.service_order.controls[0].value.type?"\u5e8f\u5217\u53f7\u8bbe\u5907":"\u9879\u76ee\u53f7\u4ea7\u7ebf/\u9879\u76ee","\u4e0d\u5c5e\u4e8e").concat(n.get("customer_name").value,",\u662f\u5426\u786e\u8ba4\u91cd\u53d6\u5ba2\u6237\u4fe1\u606f\uff1f"),i=this;JSON.parse(sessionStorage.getItem("employeeInfo")).is_salesman?this.dwModalService.warning({dwTitle:"\u63d0\u793a",dwContent:"\u8be5".concat("1"===this.service_order.controls[0].value.type?"\u5e8f\u5217\u53f7\u8bbe\u5907":"\u9879\u76ee\u53f7\u4ea7\u7ebf/\u9879\u76ee","\u4e0d\u5c5e\u4e8e").concat(n.get("customer_name").value,"\uff0c\u8bf7\u786e\u8ba4\u540e\u91cd\u65b0\u8f93\u5165\uff01"),dwWidth:"400px",dwOnOk:function(){i.clear("product_file")}}):this.dwModalService.confirm({dwTitle:r,dwIconType:"exclamation-circle",dwOnOk:function(){t.setFormInfo(e,"customer")},dwOnCancel:function(){i.clear("product_file")}})}else this.setFormInfo(e,"product_file")}else this.message.create("error",("1"===this.service_order.controls[0].value.type?"\u5e8f\u5217\u53f7":"\u9879\u76ee\u53f7")+"\u4e0d\u5b58\u5728\uff0c\u8bf7\u786e\u8ba4\u540e\u91cd\u65b0\u8f93\u5165\uff01"),this.service_order.controls[0].get("product_file_id").setValue(""),this.service_order.controls[0].get("product_file_code").setValue(""),this.service_order.controls[0].get("product_file_name").setValue(""),this.service_order.controls[0].get("specification").setValue(""),this.service_order.controls[0].get("model").setValue(""),this.service_order.controls[0].get("delivery_date").setValue(""),this.service_order.controls[0].get("is_under_warranty").setValue(!1)}},{key:"chkSNchg",value:function(e,t){if("focus"===e)this.olderSN=this.service_order.controls[0].get("sn").value;else if("keydown"===e){if(13===t.keyCode)return document.getElementById("snInput").blur(),!1}else if("focusout"===e)return this.setInfoBySN(),!1;return!0}},{key:"breakChangeVisible",value:function(e){this.isBreakdownVisible=!1,e&&(this.service_order.controls[0].get("breakdown_id").setValue(e.id),this.service_order.controls[0].get("breakdown_name").setValue(e.name))}},{key:"fileUploadingCount",get:function(){var e=0;return this.thumbnailList2.forEach(function(t){"uploading"===t.status&&(e+=1)}),e}},{key:"videos",get:function(){var e=[];return this.thumbnailList2.forEach(function(t){e.push(t.response.fileId)}),e.join(",")}},{key:"uploadChange",value:function(e){var t=e.file;if(t.title=t.name,t.dmcFileId=null,t.isAudit=!1,e.event&&e.event.hasOwnProperty("percent")&&(t.percent=e.event.percent),t.response&&(t.url=t.response.shareUrl?t.response.shareUrl:null,t.thumbUrl=t.response.shrinkUrl?t.response.shrinkUrl:null,t.percent=t.response.percent,t.dmcFileId=t.response.fileId),"done"===t.status){t.message="";var n=t.name.split(".");n.length>0&&(t.title=n[0]),this.listActionMap2[t.uid]=Object.assign({},this.listActionDefault2)}for(var r=this.thumbnailList2.length,i=0;i<r;i++)if(t.uid===this.thumbnailList2[i].uid){this.thumbnailList2[i]=Object.assign({},t);break}if("video/mp4"!==t.type&&"video/avi"!==t.type&&"video/rmvb"!==t.type&&"video/3gp"!==t.type&&"video/flv"!==t.type)return this.message.create("error","\u8bf7\u4e0a\u4f20avi\u30013gp\u3001mp4\u3001flv\u3001rmvb\u683c\u5f0f\u89c6\u9891\uff01"),void this.thumbnailList2.splice(this.thumbnailList2.length-1);t.size/1024/1024>10&&(this.message.create("error","\u4e0a\u4f20\u6587\u4ef6\u5927\u5c0f\u8d85\u8fc710M\uff01"),this.thumbnailList2.splice(this.thumbnailList2.length-1))}},{key:"cancelUploading",value:function(){var e=this,t=[];this.thumbnailList2.forEach(function(n){"uploading"===n.status&&(e.dwUploadFileMangementService.cancelUploading(n.uid),t.push(n.uid))})}},{key:"listRemove2",value:function(e){delete this.listActionMap2[e],this.dwImageViewerListService.listRemove(this.thumbnailList2,e)}},{key:"initVideoData",value:function(e){var t=this;e.rows.forEach(function(e){t.thumbnailList2.push({uid:e.get("uid").value,type:e.get("type").value,title:e.get("title").value,name:e.get("name").value,size:e.get("size").value,url:e.get("url").value,status:"done",dmcFileId:e.get("uid").value,response:{fileId:e.get("uid").value}})})}}]),n}();return n.\u0275fac=function(e){return new(e||n)(s.\u0275\u0275directiveInject(y.DwDapHttpClient),s.\u0275\u0275directiveInject(Vn.U),s.\u0275\u0275directiveInject(u.FormBuilder),s.\u0275\u0275directiveInject(Mn.DwRoutingMessageService),s.\u0275\u0275directiveInject(g.DwModalService),s.\u0275\u0275directiveInject(h.R),s.\u0275\u0275directiveInject(C.DwDocument),s.\u0275\u0275directiveInject(v.DwMessageService),s.\u0275\u0275directiveInject(re.TranslateService),s.\u0275\u0275directiveInject(o.DatePipe),s.\u0275\u0275directiveInject(_),s.\u0275\u0275directiveInject(In),s.\u0275\u0275directiveInject(On),s.\u0275\u0275directiveInject(Dn),s.\u0275\u0275directiveInject(kn.M),s.\u0275\u0275directiveInject(O.DwAnalytics),s.\u0275\u0275directiveInject(k.DwUserService),s.\u0275\u0275directiveInject(bn.DwUploadFileMangementService),s.\u0275\u0275directiveInject(Pn.DwImageViewerListService),s.\u0275\u0275directiveInject(d.Router),s.\u0275\u0275directiveInject(d.ActivatedRoute))},n.\u0275cmp=s.\u0275\u0275defineComponent({type:n,selectors:[["app-service-order-modify"]],viewQuery:function(e,t){var n;(1&e&&(s.\u0275\u0275viewQuery(jn,5),s.\u0275\u0275viewQuery(zn,5),s.\u0275\u0275viewQuery(Bn,5)),2&e)&&(s.\u0275\u0275queryRefresh(n=s.\u0275\u0275loadQuery())&&(t.selectOpener=n.first),s.\u0275\u0275queryRefresh(n=s.\u0275\u0275loadQuery())&&(t.child=n.first),s.\u0275\u0275queryRefresh(n=s.\u0275\u0275loadQuery())&&(t.exm=n.first))},features:[s.\u0275\u0275ProvidersFeature([C.DwDocument,_,In,On,Dn,kn.M])],decls:23,vars:20,consts:[[1,"dw-f-content-list","layoutClass","sales_layout"],[1,"issue_layout_head"],[1,"issue_layout_title"],["style","margin-left: 3px;",4,"ngIf"],[2,"float","right"],["dw-button","","dw-analyticsOn","click",3,"dwType","disabled","angularticsAction","angularticsCategory","angularticsLabel","id","click"],["translate",""],["dw-button","","type","button",3,"dwType","click"],[1,"content-box"],["dw-form","",3,"formGroup",4,"ngIf"],[3,"visible","isMultyChoose","breakVisibleChanged"],["breakOpener",""],["exm",""],[3,"dwBodyStyle","dwMaskClosable","dwWidth","dwVisible","dwTitle","dwFooter","dwVisibleChange","dwOnCancel"],["dwModalContent",""],[3,"visible","customerVisibleChanged"],["child3",""],[2,"margin-left","3px"],["dw-form","",3,"formGroup"],[1,"sub-title"],["dwRequired","",3,"dwSpan"],[3,"dwSpan"],["dwSearch","",3,"dwSuffix"],["dw-input","","type","text","required","","readonly","","dw-input","","formControlName","customer_name"],["suffixcustomerData",""],["style","color: red;",4,"ngIf"],["dw-input","","placeholder","\u8bf7\u8f93\u5165\u8054\u7cfb\u4eba","maxlength","60","formControlName","contact"],[3,"dwSpan","dwValidateStatus"],["dw-input","","placeholder","\u8bf7\u8f93\u5165\u8054\u7cfb\u7535\u8bdd","formControlName","contact_phone","maxlength","50",3,"required","blur"],[3,"value","type"],["contact_phone_tip",""],["dw-input","","placeholder","\u8bf7\u8f93\u5165\u5730\u5740","maxlength","100","formControlName","address"],["dw-col","",3,"dwSpan"],["formControlName","type",3,"ngModelChange"],["dw-radio","",3,"dwValue"],["dwRequired","",3,"dwSpan",4,"ngIf"],["dw-input","","type","text","readonly","","required","","formControlName","product_file_code"],["suffixProductFileData",""],[3,"dwSpan",4,"ngIf"],["dw-input","","readonly","","formControlName","product_file_name"],["dw-input","","readonly","","formControlName","specification"],["dw-input","","readonly","","formControlName","model"],["dw-input","","formControlName","sn","id","snInput","required","",3,"keydown","focus","blur"],["dw-input","","readonly","","formControlName","delivery_date"],["dw-checkbox","","dwDisabled","true","formControlName","is_under_warranty"],[4,"ngIf"],["dw-input","","type","text","required","","readonly","","dw-input","","formControlName","service_type_name"],["suffixServiceTypeData",""],["dw-input","","type","text","required","","readonly","","dw-input","","formControlName","breakdown_name"],["suffixBreakDownData",""],["class","choose-phrase",3,"click",4,"ngIf"],["class","phrase",4,"ngIf"],["maxlength","200","dw-input","","placeholder","200\u5b57\u4ee5\u5185","formControlName","description",3,"dwAutosize"],["formControlName","service_urgency_id",3,"ngModelChange"],["dw-radio","",3,"dwValue",4,"ngFor","ngForOf"],["required","","formControlName","appointment_date",3,"dwFormat","dwDisabledDate"],["formControlName","channel",2,"width","100%",3,"ngModelChange"],[3,"dwLabel","dwValue",4,"ngFor","ngForOf"],[1,"clearfix"],["dwAction","https://www.mocky.io/v2/5cc8019d300000980a055e76","dwListType","picture-card",3,"dwFileList","dwShowButton","dwPreview","dwBeforeUpload","dwShowUploadList","dwAccept","dwFileListChange","dwChange"],["dw-icon","","dwType","plus"],[1,"ant-upload-text"],[3,"dwVisible","dwContent","dwFooter","dwOnCancel"],["modalContent",""],["dw-col","","dwSpan","24"],[1,"ant-upload-list","ant-upload-list-picture-card",2,"margin-left","-8px",3,"ngClass"],[4,"ngFor","ngForOf","ngForTrackBy"],["dwAction","",3,"dwCustomRequest","dwFileList","dwShowUploadList","dwMultiple","dwDisabled","dwAccept","dwFileListChange","dwChange"],["dw-button","","type","button",2,"margin-top","8px",3,"disabled"],["dw-icon","","dwType","upload"],[1,"sub-title",2,"margin-top","-8px"],["maxlength","50","dw-input","","placeholder","50\u5b57\u4ee5\u5185","formControlName","remark",3,"dwAutosize"],["class","cust-field",4,"ngIf"],["dw-icon","","class","ant-input-clear-icon","dwTheme","fill","dwType","close-circle",3,"click",4,"ngIf"],["dw-button","","dwType","primary","dwSearch","","type","button",3,"disabled","click"],["dw-icon","","dwType","search","dwTheme","outline"],["dw-icon","","dwTheme","fill","dwType","close-circle",1,"ant-input-clear-icon",3,"click"],[2,"color","red"],[3,"selectedChanged"],["selectOpener",""],[3,"dwData","dwFrontPagination","dwShowPagination"],["dwTable",""],["dw-tr",""],["dw-th",""],["dw-th","","dwRight","",1,"align-center"],[4,"ngFor","ngForOf"],[1,"align-center"],[1,"action-grid"],["title","\u5220\u9664",3,"click"],["src","../../../../../../assets/img/icon_delete.png","alt","\u5220\u9664",1,"action-icon"],["src","../../../../../../assets/img/icon_delete_hover.png","alt","\u5220\u9664",1,"action-icon"],["dw-button","","dwType","primary","dwSearch","","type","button",3,"click"],[1,"choose-phrase",3,"click"],[1,"phrase"],["src","../../../../../../assets/img/icon_cancel.png","alt","\u5220\u9664",3,"click"],[3,"dwLabel","dwValue"],["dw-input","","placeholder","\u8bf7\u8bf4\u660e","maxlength","60","formControlName","channel_explanation"],["alt","\u6545\u969c\u56fe\u7247",3,"src","ngStyle"],[3,"dwListType","dwFile","dwItemAction","dwDesignTpl","onPreview","onRemove","onCheck","onOtherAction"],["titleTpl",""],["designTpl",""],["class","myTitleTag",4,"ngIf"],[1,"myTitleTag"],[1,"cust-field"],["cols","1","labelSpan","4","inputSpan","10","tableName","service_order",3,"group","dwDocument"],[2,"max-height","340px","overflow-y","auto","margin-top","-8px"],[3,"click"],["child",""]],template:function(e,t){1&e&&(s.\u0275\u0275elementStart(0,"dw-content",0),s.\u0275\u0275elementStart(1,"div",1),s.\u0275\u0275elementStart(2,"h2",2),s.\u0275\u0275template(3,$n,2,0,"span",3),s.\u0275\u0275template(4,qn,2,0,"span",3),s.\u0275\u0275elementStart(5,"div",4),s.\u0275\u0275elementStart(6,"button",5),s.\u0275\u0275listener("click",function(){return t.save(null)}),s.\u0275\u0275elementStart(7,"span",6),s.\u0275\u0275text(8,"\u4fdd\u5b58"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(9,"button",7),s.\u0275\u0275listener("click",function(){return t.cancel()}),s.\u0275\u0275elementStart(10,"span",6),s.\u0275\u0275text(11,"\u53d6\u6d88"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275element(12,"dw-divider"),s.\u0275\u0275elementStart(13,"div",8),s.\u0275\u0275template(14,Mr,156,97,"form",9),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(15,"app-breakdown-opener",10,11),s.\u0275\u0275listener("breakVisibleChanged",function(e){return t.breakChangeVisible(e)}),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275template(17,Fr,6,1,"ng-template",null,12,s.\u0275\u0275templateRefExtractor),s.\u0275\u0275elementStart(19,"dw-modal",13),s.\u0275\u0275listener("dwVisibleChange",function(e){return t.isCollapsed=e})("dwOnCancel",function(){return t.isCollapsed=!1}),s.\u0275\u0275template(20,Vr,2,0,"ng-template",14),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(21,"app-customer-for-salesman-opener",15,16),s.\u0275\u0275listener("customerVisibleChanged",function(e){return t.customerChangeVisible(e)}),s.\u0275\u0275elementEnd()),2&e&&(s.\u0275\u0275advance(3),s.\u0275\u0275property("ngIf",!t.id),s.\u0275\u0275advance(1),s.\u0275\u0275property("ngIf",!!t.id),s.\u0275\u0275advance(2),s.\u0275\u0275propertyInterpolate("angularticsLabel",t.userInfo.tenantId+","+t.userInfo.userId),s.\u0275\u0275property("dwType","primary")("disabled",!t.doc.valid)("angularticsAction",t.id?"\u4fee\u6539-\u70b9\u51fb\u786e\u5b9a\u4fee\u6539":"\u65b0\u5efa-\u70b9\u51fb\u786e\u5b9a\u65b0\u5efa")("angularticsCategory","\u670d\u52a1\u5de5\u5355")("id",t.id?"sure-modify-service-order":"sure-create-service-order"),s.\u0275\u0275advance(3),s.\u0275\u0275property("dwType","default"),s.\u0275\u0275advance(5),s.\u0275\u0275property("ngIf",t.service_order.controls[0]),s.\u0275\u0275advance(1),s.\u0275\u0275property("visible",t.isBreakdownVisible)("isMultyChoose",!1),s.\u0275\u0275advance(4),s.\u0275\u0275property("dwBodyStyle",s.\u0275\u0275pureFunction0(19,Tr))("dwMaskClosable",!0)("dwWidth",1120)("dwVisible",t.isCollapsed)("dwTitle","\u670d\u52a1\u5de5\u5355\u8be6\u60c5")("dwFooter",null),s.\u0275\u0275advance(2),s.\u0275\u0275property("visible",t.isCustomerVisible))},directives:[V.DwContentComponent,o.NgIf,U.DwButtonComponent,H.uG,X.u,O.DwAnalyticsOn,re.TranslateDirective,T.DwDividerComponent,Ln.Y,g.DwModalComponent,g.DwModalContentDirective,ge,u.\u0275NgNoValidate,u.NgControlStatusGroup,A.DwFormDirective,u.FormGroupDirective,N.DwRowDirective,A.DwFormItemComponent,N.DwColDirective,A.DwFormLabelComponent,A.DwFormControlComponent,j.DwInputGroupComponent,j.DwInputGroupWhitSuffixOrPrefixDirective,j.DwInputDirective,u.DefaultValueAccessor,u.RequiredValidator,u.NgControlStatus,u.FormControlName,u.MaxLengthValidator,ne.l,ce.DwRadioGroupComponent,ce.DwRadioComponent,K.DwCheckboxComponent,j.DwAutosizeDirective,o.NgForOf,Q.DwDatePickerComponent,Rn.DwSelectComponent,An.DwUploadComponent,le.DwIconDirective,o.NgClass,Fn.R,se.DwTableComponent,me.Ct,se.DwTheadComponent,se.DwTrDirective,se.DwTableCellDirective,se.DwThMeasureDirective,me.BL,se.DwCellFixedDirective,se.DwTbodyComponent,Rn.DwOptionComponent,o.NgStyle,Pn.DwImageViewerListItemComponent,Nn.DwExtraFieldsComponent,Tn.h],pipes:[re.TranslatePipe],styles:[".choose-phrase[_ngcontent-%COMP%]{display:inline-block;height:32px;line-height:32px;padding:0 10px;color:#666;background:#eaeaea;font-size:13px;margin-bottom:10px;cursor:pointer}.phrase[_ngcontent-%COMP%]{display:inline-block;height:32px;line-height:32px;padding:0 10px;color:#fff;background:#5ebaef;font-size:13px;margin-bottom:10px}.phrase[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:14px;height:14px;margin-left:5px;vertical-align:-2px;cursor:pointer}.ant-upload-list-picture-card[_ngcontent-%COMP%]{margin-top:-8px!important}"]}),n}(),Rr=a(32245),Ar=a(51033),Nr=[{path:"",pathMatch:"prefix",component:m,data:{dwRouteData:{programId:"service-order"}},resolve:{transaction:Rr.DwLanguageService},children:[{path:"",component:_n,canActivate:[P.DwAuthGuardService,Ar.L],data:{dwRouteData:{programId:"service-order",dwAuthId:"service-order"},reload:!0}},{path:"service-order-create",component:Lr,canActivate:[P.DwAuthGuardService,Ar.L],data:{dwRouteData:{programId:"service-order",dwAuthId:"service-order"},reload:!0}},{path:"service-order-modify/:id",component:Lr,canActivate:[P.DwAuthGuardService,Ar.L],data:{dwRouteData:{programId:"service-order",dwAuthId:"service-order"},reload:!0}},{path:"service-order-detail/:id",component:Tn.h,canActivate:[P.DwAuthGuardService,Ar.L],data:{dwRouteData:{programId:"service-order",dwAuthId:"service-order"},reload:!0}},{path:"service-order-distribution",component:R.C,canActivate:[P.DwAuthGuardService,Ar.L],data:{dwRouteData:{programId:"service-order",dwAuthId:"service-order"},reload:!0}},{path:"service-order-dispatch",component:L.H,canActivate:[P.DwAuthGuardService,Ar.L],data:{dwRouteData:{programId:"service-order",dwAuthId:"service-order"},reload:!0}}]}],jr=function(){var e=f(function e(){p(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=s.\u0275\u0275defineInjector({imports:[[d.RouterModule.forChild(Nr)],d.RouterModule]}),e}(),zr=a(23938),Br=a(119),$r=a(92323),qr=a(88680),Wr=a(78169),Gr=a(74913),Ur=a(59970),Hr=a(41430),Xr=a(6769),Qr=a(57252),Kr=function(){var e=f(function e(){p(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=s.\u0275\u0275defineInjector({providers:[{provide:"DocumentResource",useValue:"restful/service/serviceOrder/ServiceOrder/Curd"},{provide:"ServiceSiteResource",useValue:"restful/service/serviceSite/ServiceSite"},{provide:"ServiceCostResource",useValue:"restful/service/serviceCost/ServiceCost"},{provide:"ServiceReportResource",useValue:"restful/service/serviceDoc/ServiceReport"},{provide:"QuantityMax",useValue:9999999999}],imports:[[o.CommonModule,zr.m,C.DwDocumentModule,Pn.DwImageViewerModule,jr,v.DwMessageModule,g.DwModalModule,U.DwButtonModule,V.DwLayoutModule,Q.DwDatePickerModule,T.DwDividerModule,A.DwFormModule,j.DwInputModule,se.DwTableModule,he.DwTagModule,N.DwGridModule,le.DwIconModule,we.DwPopconfirmModule,K.DwCheckboxModule,de.DwActionModule,u.ReactiveFormsModule,re.TranslateModule,ce.DwRadioModule,An.DwUploadModule,Br.DwInputNumberModule,$r.DwRateModule,qr.DwStepsModule,Wr.DwTabsModule,Gr.DwTimelineModule,Nn.DwExtraFieldsModule,Rn.DwSelectModule,Xr.ProductFileModule,Ur.DwTableConfigModule,Hr.DwToolTipModule,Qr.DwProgressModule]]}),e}()},91970:function(e,t,n){n.d(t,{v:function(){return c}});var r,i=n(51156),a=n(66800),o=n(47372),l=n(99487),d=n(42746),c=((r=function(){function e(t,n){p(this,e),this.dapHttp=t,this.userService=n}return f(e,[{key:"emptyServiceOrder",value:function(){return{doc_date:new Date,is_under_warranty:!1,description:"",appointment_date:new Date,picture_id:"",contact:"",contact_phone:"",address:"",delivery_date:new Date,service_type_name:"",breakdown_name:"",service_urgency_name:""}}},{key:"emptyServiceOrderCurrentLink",value:function(){return{state:"",employee_name:"",file_id:"",employee_show:"",state_show:"",button_show:""}}},{key:"getServiceOrderBaseInfo",value:function(e){return this.dapHttp.get("restful/service/serviceOrder/ServiceOrder/ServiceOrderBaseInfo?id=".concat(e))}},{key:"getServiceOrderLink",value:function(e){return this.dapHttp.get("restful/service/serviceOrder/ServiceOrder/ServiceOrderLink?id=".concat(e))}},{key:"getServiceOrderProgress",value:function(e){return this.dapHttp.get("restful/service/serviceOrder/ServiceOrder/ServiceOrderProgress?id=".concat(e)).pipe((0,o.map)(function(e){return e}))}},{key:"getServiceDocInfo",value:function(e){return this.dapHttp.get("restful/service/serviceOrder/ServiceOrder/ServiceDocInfo?id=".concat(e)).pipe((0,o.map)(function(e){return e}))}},{key:"getServiceDocCalcDetail",value:function(e){return this.dapHttp.get("restful/service/serviceOrder/ServiceOrder/ServiceDocCalcDetail?id=".concat(e)).pipe((0,o.map)(function(e){return e}))}},{key:"getServiceOrderProcessrecordListCount",value:function(e){return this.dapHttp.get("restful/service/serviceDoc/ServiceDoc/ServiceOrderProcessrecordListCount?serviceOrderId=".concat(e))}},{key:"getServiceOrderProcessrecordList",value:function(e){return this.dapHttp.get("restful/service/serviceDoc/ServiceDoc/ServiceOrderProcessrecordList?serviceOrderId=".concat(e)).pipe((0,o.map)(function(e){return e}))}},{key:"getServiceOrderReview",value:function(e){return this.dapHttp.get("restful/service/serviceOrder/ServiceOrder/ServiceOrderReview?service_order_id=".concat(e))}},{key:"getUserId",value:function(){return this.dapHttp.get("restful/service/employee/Employee/CurrentEmployee")}},{key:"getBreakdownOpener",value:function(){return this.dapHttp.get("restful/service/breakdown/Breakdown/BreakdownOpener?name=")}},{key:"getMaterialGroups",value:function(e){return this.dapHttp.get("restful/service/serviceDoc/ServiceReport/".concat(e))}},{key:"getMaterialList",value:function(e){return this.dapHttp.get("restful/service/serviceDoc/ServiceReport/".concat(e))}},{key:"getNewMaterialListByOrder",value:function(e){return this.dapHttp.get("restful/service/serviceDoc/ServiceReport/PartsDeliveryDetails?serviceOrderId=".concat(e))}},{key:"getNewMaterialListBySite",value:function(e){return this.dapHttp.get("restful/service/serviceDoc/ServiceReport/EngineerMaterials?serviceOrderId=".concat(e))}},{key:"getSummaryInfo",value:function(e){return this.dapHttp.get("restful/service/serviceDoc/ServiceDoc/ServiceDocSummary?serviceDocId=".concat(e))}},{key:"getQuotationServiceItems",value:function(e){return this.dapHttp.get("restful/service/serviceDoc/ServiceDoc/QuotationServiceItems?serviceOrderId=".concat(e))}},{key:"getQuotationMaterialGroups",value:function(e){return this.dapHttp.get("restful/service/itemGroup/ItemGroup/".concat(e))}},{key:"getQuotationMaterialList",value:function(e){return this.dapHttp.get("restful/service/".concat(e))}},{key:"getQuotationNewMaterialListByOrder",value:function(e){return this.dapHttp.get("restful/service/material/Material/PartsDeliveryDetails?serviceOrderId=".concat(e))}},{key:"getQuickwearPartAllMaterialGroups",value:function(e){return this.dapHttp.get("restful/service/productFile/QuickwearPart/".concat(e))}},{key:"uploadImg",value:function(e){return this.dapHttp.post("restful/service/serviceDoc/File/UploadImage",e)}},{key:"getFileById",value:function(e){return this.dapHttp.get("restful/service/employee/Employee/File?file_id=".concat(e)).pipe((0,o.map)(function(e){return e}))}},{key:"createReport",value:function(e){return this.dapHttp.post("restful/service/serviceDoc/ServiceReport/ServiceReport",{params:e})}},{key:"getServiceReportInfo",value:function(e){return this.dapHttp.get("restful/service/serviceDoc/serviceReport/ServiceDocInfo?serviceDocId=".concat(e))}},{key:"modifyReport",value:function(e){return this.dapHttp.post("restful/service/serviceDoc/ServiceReport/ServiceReportModify",{params:e})}},{key:"exportPDF",value:function(e){return this.dapHttp.get("restful/service/serviceDoc/ServiceReport/ServiceReportPdf",{params:e=e||{},headers:this.getHeader(),observe:"events",responseType:"blob",reportProgress:!0})}},{key:"getHeader",value:function(){return new l.HttpHeaders({token:this.userService.getUser("token")})}},{key:"serviceDocPartChanges",value:function(e){return this.dapHttp.post("restful/service/serviceDoc/ServiceReport/ServiceDocPartChanges",{params:e})}},{key:"getAutoSettings",value:function(){return this.dapHttp.get("restful/service/autoSettings/AutoSettings/AutoSettings")}},{key:"getServiceTypes",value:function(){return this.dapHttp.get("restful/service/serviceType/serviceType/ServiceType?code=&name=").pipe((0,o.map)(function(e){return e}))}},{key:"checkNotCompletePartsApply",value:function(e){return this.dapHttp.get("restful/service/serviceDoc/ServiceDoc/NotCompletePartsApplyCount?serviceDocId="+e).pipe((0,o.map)(function(e){return e}))}},{key:"serviceOrderRecordShowAlert",value:function(e){return this.dapHttp.get("restful/service/serviceDoc/ServiceReport/ServiceOrderRecordShowAlert?productFileId="+e).pipe((0,o.map)(function(e){return e}))}},{key:"saveAmountInfo",value:function(e){return this.dapHttp.put("restful/service/serviceDoc/ServiceReport/ModifyServiceDocCalcDetail",e)}},{key:"getServiceOrderCustomerSettled",value:function(e){return this.dapHttp.get("restful/service/serviceDoc/ServiceReport/ServiceOrderCustomerSettled?serviceOrderId="+e)}},{key:"getReturnvisitItemList",value:function(){return this.dapHttp.get("restful/service/returnvisitItem/ReturnVisitItem/ReturnVisitItemList?isIncludeSystemData=true").pipe((0,o.map)(function(e){return e}))}},{key:"returnvisit",value:function(e){return this.dapHttp.put("restful/service/serviceOrder/ServiceOrder/ReturnVisitEvaluation",{params:e})}},{key:"saveAttachments",value:function(e){return this.dapHttp.post("restful/service/productFile/ProductFile/Attachments",e,{})}},{key:"download",value:function(e){return this.dapHttp.get("restful/service/productFile/ProductFile/downloadFile",{params:e=e||{},headers:this.getHeader(),observe:"events",responseType:"blob",reportProgress:!0})}},{key:"getCurrentEmployee",value:function(){return this.dapHttp.get("restful/service/employee/Employee/CurrentEmployee")}},{key:"getWorkrecord",value:function(e){return this.dapHttp.get("restful/service/serviceDoc/ServiceDoc/ServiceDocLog?serviceDocId=".concat(e)).pipe((0,o.map)(function(e){return e}))}}]),e}()).\u0275fac=function(e){return new(e||r)(d.\u0275\u0275inject(i.DwDapHttpClient),d.\u0275\u0275inject(a.DwUserService))},r.\u0275prov=d.\u0275\u0275defineInjectable({token:r,factory:r.\u0275fac,providedIn:"root"}),r)},97981:function(e,t,n){n.d(t,{R:function(){return m}});var r,i=n(51156),a=n(66800),o=n(71049),l=n(47372),d=n(55245),c=n(99487),s=n(42746),m=((r=function(){function e(t,n,r){p(this,e),this.dapHttp=t,this.userService=n,this.datePipe=r}return f(e,[{key:"emptyServiceOrder",value:function(){return{doc_no:"",doc_date:"",receive_time:0,service_type_id:0,customer_id:0,remark:"",contact:"",contact_phone:"",address:"",product_file_id:"",sn:"",is_under_warranty:!1,quantity:"",breakdown_id:"",description:"",service_urgency_id:"",task_time:"",channel:"",receive_employee_id:"",service_site_id:"",service_employee_id:"",assistant_id:"",begin_time:"",end_time:"",state:"",customer_evaluation:"",customer_feedback:"",review_employee_id:"",review_date:"",review_opinions:""}}},{key:"getServiceUrgencyList",value:function(e){return this.dapHttp.get("restful/service/serviceUrgency/ServiceUrgency/ServiceUrgency?name=".concat(e)).pipe((0,l.map)(function(e){return e}))}},{key:"getFileById",value:function(e){return this.dapHttp.get("restful/service/serviceOrder/ServiceOrder/File?file_id=".concat(e)).pipe((0,l.map)(function(e){return e}))}},{key:"getServiceOrderList",value:function(e){""!==e.date_range&&(e.date_range[0]=this.datePipe.transform(e.date_range[0],"yyyy-MM-dd"),e.date_range[1]=this.datePipe.transform(e.date_range[1],"yyyy-MM-dd"));var t=encodeURIComponent(JSON.stringify(e));return this.dapHttp.get("restful/service/serviceOrder/ServiceOrder/ServiceOrder?params=".concat(t))}},{key:"getServiceOrderById",value:function(e){return this.dapHttp.get("restful/service/serviceOrder/ServiceOrder/ServiceOrderById?id=".concat(e)).pipe((0,l.map)(function(e){return e}))}},{key:"getCustomerById",value:function(e){var t,n="CustomerById",r={params:{id:e.toString()}},i={params:{id:e.toString(),salesmanId:""}};if(JSON.parse(sessionStorage.getItem("employeeInfo")).is_salesman){n="SalesmanCustomById";var a=sessionStorage.getItem("salesman_id")||JSON.parse(sessionStorage.getItem("employeeInfo")).employee_id;i={params:{id:e.toString(),salesmanId:a}}}return t=JSON.parse(sessionStorage.getItem("employeeInfo")).is_salesman?i:r,this.dapHttp.get("restful/service/customer/Customer/"+n,t)}},{key:"getProductFileBySn",value:function(e,t){return this.dapHttp.get("restful/service/productFile/productFile/ProductFileBySn",t?{params:{sn:e,serviceOrderId:t}}:{params:{sn:e}})}},{key:"getInfoBySN",value:function(e,t){var n=this;return this.getProductFileBySn(e,t).pipe((0,l.mergeMap)(function(e){return e.data.product_file.customer_id?n.getCustomerById(e.data.product_file.customer_id).pipe((0,l.map)(function(t){return t.success&&t.data.customer[0]&&(e.data.product_file.customer=JSON.parse(JSON.stringify(t.data.customer[0]))),e})):(0,o.of)(e)}))}},{key:"createServiceOrder",value:function(e){return console.log(e),e.doc_date=this.datePipe.transform(e.doc_date,"yyyy-MM-dd"),e.appointment_date=this.datePipe.transform(e.appointment_date,"yyyy-MM-dd"),e.cust_field&&(e.cust_field=JSON.stringify(e.cust_field)),this.dapHttp.post("restful/service/serviceOrder/ServiceOrder/Create",{params:e})}},{key:"modifyServiceOrder",value:function(e,t){e.appointment_date=this.datePipe.transform(e.appointment_date,"yyyy-MM-dd"),e.cust_field&&(e.cust_field=JSON.stringify(e.cust_field));var n=this.createDwDataSet(e,t,"U");return this.dapHttp.put("restful/service/serviceOrder/ServiceOrder/Modify",n)}},{key:"deleteServiceOrder",value:function(e){return this.dapHttp.delete("restful/service/serviceOrder/ServiceOrder/BathRemove",{body:{ids:e.join(",")}})}},{key:"CancelServiceOrder",value:function(e){return this.dapHttp.put("restful/service/serviceOrder/ServiceOrder/Cancel",{params:e})}},{key:"DistributionServiceOrder",value:function(e){return this.dapHttp.put("restful/service/serviceOrder/ServiceOrder/Distribution",{params:e})}},{key:"DispatchServiceOrder",value:function(e){return this.dapHttp.put("restful/service/serviceOrder/ServiceOrder/Dispatch",{params:e})}},{key:"evaluationServiceOrder",value:function(e){return this.dapHttp.put("restful/service/serviceOrder/ServiceOrder/Evaluation",{params:e})}},{key:"reviewServiceOrder",value:function(e){return this.dapHttp.put("restful/service/serviceOrder/ServiceOrder/Review",e)}},{key:"getCurrentServiceSiteInfo",value:function(){return this.dapHttp.get("restful/service/serviceSite/ServiceSite/UserSite")}},{key:"getCurrentEmployee",value:function(){return this.dapHttp.get("restful/service/employee/Employee/CurrentEmployee")}},{key:"getOrderServiceSites",value:function(e){return this.dapHttp.get("restful/service/serviceOrder/ServiceOrder/OrderServiceSites?service_order_ids=".concat(e))}},{key:"exportReport",value:function(e,t,n){return e.length&&(e[0]=this.datePipe.transform(e[0],"yyyy-MM-dd"),e[1]=this.datePipe.transform(e[1],"yyyy-MM-dd")),this.dapHttp.get("restful/service/serviceDoc/ServiceReport/ServiceReportExcel",{params:{beginDate:e[0],endDate:e[1],isIncludleUnfinish:t,receiveEmployeeId:n},headers:this.getHeader(),observe:"events",responseType:"blob",reportProgress:!0})}},{key:"getHeader",value:function(){return new c.HttpHeaders({token:this.userService.getUser("token")})}},{key:"createDwDataSet",value:function(e,t,n){var r={};return Object.assign(r,e),r.$state=n,r.service_order_id=t,{dataSet:{service_order:r}}}},{key:"uploadFile",value:function(e){var t=new FormData;return t.append("file",e),this.dapHttp.post("restful/service/serviceOrder/ServiceOrder/Upload",t,{})}},{key:"deleteFile",value:function(e){return this.dapHttp.post("restful/service/serviceOrder/ServiceOrder/DeleteFile",{fileId:e})}},{key:"changeTechnologyFile",value:function(e){return console.log(e),this.dapHttp.put("restful/service/serviceOrder/ServiceOrder/ServiceOrderForTechnologyProgram",e)}}]),e}()).\u0275fac=function(e){return new(e||r)(s.\u0275\u0275inject(i.DwDapHttpClient),s.\u0275\u0275inject(a.DwUserService),s.\u0275\u0275inject(d.DatePipe))},r.\u0275prov=s.\u0275\u0275defineInjectable({token:r,factory:r.\u0275fac,providedIn:"root"}),r)},90697:function(e,n,r){r.d(n,{a:function(){return w}});var i=r(64762),a=r(45890),o=r(83237),l=r(42746),d=r(67733),c=r(85277),s=r(31441),m=r(55245),u=function(){return{width:"100%"}};function v(e,t){if(1&e&&l.\u0275\u0275element(0,"img",6),2&e){var n=l.\u0275\u0275nextContext();l.\u0275\u0275property("src",n.previewImage,l.\u0275\u0275sanitizeUrl)("ngStyle",l.\u0275\u0275pureFunction0(2,u))}}var g,h=function(){return{showPreviewIcon:!0,showRemoveIcon:!1,showDownloadIcon:!1}},w=((g=function(){function e(n,r){var a=this;p(this,e),this.http=n,this.message=r,this.fileList=[],this.previewImage="",this.previewVisible=!1,this.handlePreview=function(e){return(0,i.mG)(a,void 0,void 0,t().mark(function n(){var r=this;return t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.item.file_id?this.http.get("restful/service/material/Material/MaterialOriginUrl?fileId=".concat(this.item.file_id)).subscribe(function(t){r.previewImage=t||e.url,r.previewVisible=!0},function(e){e.hasOwnProperty("error")&&e.error.hasOwnProperty("errorMessage")&&e.error.errorMessage&&r.message.error(e.error.errorMessage)}):(this.previewImage=e.url,this.previewVisible=!0);case 1:case"end":return t.stop()}},n,this)}))}}return f(e,[{key:"ngOnInit",value:function(){this.fileList=this.item.url?[{uid:this.item.file_id||this.item.url,name:this.item.file_id||this.item.url,status:"done",url:this.item.url}]:[]}}]),e}()).\u0275fac=function(e){return new(e||g)(l.\u0275\u0275directiveInject(a.$),l.\u0275\u0275directiveInject(o.DwMessageService))},g.\u0275cmp=l.\u0275\u0275defineComponent({type:g,selectors:[["app-big-img"]],inputs:{item:"item"},decls:8,vars:8,consts:[[1,"small_img"],["dwListType","picture-card",3,"dwShowUploadList","dwFileList","dwShowButton","dwPreview","dwFileListChange"],["dw-icon","","dwType","plus"],[1,"ant-upload-text"],[3,"dwVisible","dwContent","dwFooter","dwOnCancel"],["modalContent",""],["alt","img",3,"src","ngStyle"]],template:function(e,t){if(1&e&&(l.\u0275\u0275elementStart(0,"div",0),l.\u0275\u0275elementStart(1,"dw-upload",1),l.\u0275\u0275listener("dwFileListChange",function(e){return t.fileList=e}),l.\u0275\u0275element(2,"em",2),l.\u0275\u0275elementStart(3,"div",3),l.\u0275\u0275text(4,"Upload"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(5,"dw-modal",4),l.\u0275\u0275listener("dwOnCancel",function(){return t.previewVisible=!1}),l.\u0275\u0275template(6,v,1,3,"ng-template",null,5,l.\u0275\u0275templateRefExtractor),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd()),2&e){var n=l.\u0275\u0275reference(7);l.\u0275\u0275advance(1),l.\u0275\u0275property("dwShowUploadList",l.\u0275\u0275pureFunction0(7,h))("dwFileList",t.fileList)("dwShowButton",!1)("dwPreview",t.handlePreview),l.\u0275\u0275advance(4),l.\u0275\u0275property("dwVisible",t.previewVisible)("dwContent",n)("dwFooter",null)}},directives:[d.DwUploadComponent,c.DwIconDirective,s.DwModalComponent,m.NgStyle],styles:[""]}),g)},88531:function(e,t,n){n.d(t,{Y:function(){return E}});var r=n(42746),i=n(45890),a=n(31441),o=n(85277),l=n(67280),d=n(1020),c=n(55245),s=n(29872),m=n(74591),u=n(82542);function v(e,t){if(1&e){var n=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"div",11),r.\u0275\u0275listener("click",function(){return r.\u0275\u0275restoreView(n),r.\u0275\u0275nextContext(2).clearInput()}),r.\u0275\u0275element(1,"em",12),r.\u0275\u0275elementEnd()}}function g(e,t){if(1&e){var n=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"div",13),r.\u0275\u0275listener("click",function(){var e=r.\u0275\u0275restoreView(n).index;return r.\u0275\u0275nextContext(2).swichNav(e)}),r.\u0275\u0275text(1),r.\u0275\u0275elementEnd()}if(2&e){var i=t.$implicit,a=t.index,o=r.\u0275\u0275nextContext(2);r.\u0275\u0275classMap(a==o.currBreakTab?"break-tab-on group":"group"),r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate1(" ",i.name," ")}}function h(e,t){if(1&e){var n=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"div",18),r.\u0275\u0275elementStart(1,"div",19),r.\u0275\u0275elementStart(2,"label",20),r.\u0275\u0275listener("ngModelChange",function(e){return r.\u0275\u0275restoreView(n).$implicit.check=e}),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(3,"div",21),r.\u0275\u0275text(4),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd()}if(2&e){var i=t.$implicit;r.\u0275\u0275advance(2),r.\u0275\u0275propertyInterpolate("dwValue",i.id+","+i.name),r.\u0275\u0275property("ngModel",i.check),r.\u0275\u0275advance(2),r.\u0275\u0275textInterpolate1(" ",i.name," ")}}function w(e,t){if(1&e&&(r.\u0275\u0275elementStart(0,"div"),r.\u0275\u0275template(1,h,5,3,"div",17),r.\u0275\u0275elementEnd()),2&e){var n=t.index,i=r.\u0275\u0275nextContext(3);r.\u0275\u0275classMap(n==i.currBreakTab?"r-wrap":"r-wrap hide"),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngForOf",i.breakList[n].child)}}function y(e,t){if(1&e){var n=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"div",14),r.\u0275\u0275elementStart(1,"dw-checkbox-wrapper",15),r.\u0275\u0275listener("dwOnChange",function(e){return r.\u0275\u0275restoreView(n),r.\u0275\u0275nextContext(2).breakdownChecked(e)}),r.\u0275\u0275template(2,w,2,3,"div",16),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd()}if(2&e){var i=r.\u0275\u0275nextContext(2);r.\u0275\u0275property("dwSpan",18),r.\u0275\u0275advance(2),r.\u0275\u0275property("ngForOf",i.breakList)}}function x(e,t){if(1&e){var n=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"div",18),r.\u0275\u0275elementStart(1,"div",19),r.\u0275\u0275elementStart(2,"label",23),r.\u0275\u0275listener("ngModelChange",function(e){return r.\u0275\u0275restoreView(n).$implicit.check=e}),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(3,"div",21),r.\u0275\u0275text(4),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd()}if(2&e){var i=t.$implicit;r.\u0275\u0275advance(2),r.\u0275\u0275propertyInterpolate("dwValue",i.id+","+i.name),r.\u0275\u0275property("ngModel",i.check),r.\u0275\u0275advance(2),r.\u0275\u0275textInterpolate1(" ",i.name," ")}}function _(e,t){if(1&e&&(r.\u0275\u0275elementStart(0,"div"),r.\u0275\u0275template(1,x,5,3,"div",17),r.\u0275\u0275elementEnd()),2&e){var n=t.index,i=r.\u0275\u0275nextContext(3);r.\u0275\u0275classMap(n==i.currBreakTab?"r-wrap":"r-wrap hide"),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngForOf",i.breakList[n].child)}}function C(e,t){if(1&e){var n=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"div",14),r.\u0275\u0275elementStart(1,"dw-radio-group",22),r.\u0275\u0275listener("ngModelChange",function(e){return r.\u0275\u0275restoreView(n),r.\u0275\u0275nextContext(2).selectItem=e}),r.\u0275\u0275template(2,_,2,3,"div",16),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd()}if(2&e){var i=r.\u0275\u0275nextContext(2);r.\u0275\u0275property("dwSpan",18),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngModel",i.selectItem),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngForOf",i.breakList)}}function S(e,t){if(1&e){var n=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"div",2),r.\u0275\u0275elementStart(1,"div",3),r.\u0275\u0275listener("click",function(){return r.\u0275\u0275restoreView(n),r.\u0275\u0275nextContext().searchBreakdowns()}),r.\u0275\u0275element(2,"em",4),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(3,"input",5),r.\u0275\u0275listener("ngModelChange",function(e){return r.\u0275\u0275restoreView(n),r.\u0275\u0275nextContext().searchValue=e})("keydown",function(e){return r.\u0275\u0275restoreView(n),r.\u0275\u0275nextContext().onKeydown(e)}),r.\u0275\u0275elementEnd(),r.\u0275\u0275template(4,v,2,0,"div",6),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(5,"div",7),r.\u0275\u0275elementStart(6,"div",8),r.\u0275\u0275template(7,g,2,3,"div",9),r.\u0275\u0275elementEnd(),r.\u0275\u0275template(8,y,3,2,"div",10),r.\u0275\u0275template(9,C,3,3,"div",10),r.\u0275\u0275elementEnd()}if(2&e){var i=r.\u0275\u0275nextContext();r.\u0275\u0275advance(3),r.\u0275\u0275property("ngModel",i.searchValue),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",i.searchValue),r.\u0275\u0275advance(2),r.\u0275\u0275property("dwSpan",6),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngForOf",i.breakList),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",i.isMultyChoose),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",!i.isMultyChoose)}}var b,I=function(){return{height:"450px",overflow:"auto","padding-bottom":"24px"}},E=((b=function(){function e(t){p(this,e),this.commonHttpService=t,this.breakVisibleChanged=new r.EventEmitter,this.searchValue="",this.currBreakTab=0,this.breakList=[],this.checkBreakValues=[],this.breakdowns=[],this.selectItem=""}return f(e,[{key:"initData",value:function(){this.searchValue="",this.currBreakTab=0,this.selectItem="",this.getBreakdownList()}},{key:"getBreakdownList",value:function(){var e=this;this.commonHttpService.get("restful/service/breakdown/Breakdown/BreakdownOpener",{name:this.searchValue}).subscribe(function(t){e.breakList=t.data.brokendown_item})}},{key:"searchBreakdowns",value:function(){this.currBreakTab=0,this.selectItem="",this.getBreakdownList()}},{key:"clearInput",value:function(){this.searchValue="",this.searchBreakdowns()}},{key:"swichNav",value:function(e){this.currBreakTab=e}},{key:"breakdownChecked",value:function(e){console.log(e),this.checkBreakValues=e}},{key:"close",value:function(){this.breakVisibleChanged.emit(null)}},{key:"chooseOk",value:function(){this.isMultyChoose?this.chooseMultyOk():this.chooseSingleOk()}},{key:"chooseMultyOk",value:function(){var e=this;this.checkBreakValues.length&&function(){for(var t=[],n=function(n){t.push({id:e.breakList[n].id,code:e.breakList[n].code,name:e.breakList[n].name,child:[]}),e.breakList[n].child&&e.breakList[n].child.forEach(function(e){e.check&&t[n].child.push({id:e.id,code:e.code,name:e.name})})},r=0;r<e.breakList.length;r++)n(r);var i;i=t.filter(function(e){return e.child.length>0}),e.breakdowns=i,console.log(e.breakdowns)}(),this.breakVisibleChanged.emit(this.breakdowns.length?this.breakdowns:null)}},{key:"chooseSingleOk",value:function(){var e=null;if(this.selectItem){var t=this.selectItem.indexOf(",");t>0&&(e={id:this.selectItem.substr(0,t),name:this.selectItem.substr(t+1)})}this.breakVisibleChanged.emit(e)}},{key:"ngOnInit",value:function(){}},{key:"onKeydown",value:function(e){13===e.keyCode&&this.searchBreakdowns()}}]),e}()).\u0275fac=function(e){return new(e||b)(r.\u0275\u0275directiveInject(i.$))},b.\u0275cmp=r.\u0275\u0275defineComponent({type:b,selectors:[["app-breakdown-opener"]],inputs:{visible:"visible",isMultyChoose:"isMultyChoose"},outputs:{breakVisibleChanged:"breakVisibleChanged"},decls:2,vars:5,consts:[["dwTitle","\u6dfb\u52a0\u6545\u969c\u9879\u76ee",3,"dwBodyStyle","dwMaskClosable","dwWidth","dwVisible","dwVisibleChange","dwOnCancel","dwOnOk"],["dwModalContent",""],[1,"search-box-opener"],[1,"search",3,"click"],["dw-icon","","dwType","search","dwTheme","outline"],["dw-input","","type","text","placeholder","\u641c\u7d22",3,"ngModel","ngModelChange","keydown"],["class","close",3,"click",4,"ngIf"],["dw-row","",1,"wrapper"],["dw-col","",1,"left",3,"dwSpan"],[3,"class","click",4,"ngFor","ngForOf"],["class","right","dw-col","",3,"dwSpan",4,"ngIf"],[1,"close",3,"click"],["dw-icon","","dwTheme","fill","dwType","close-circle",1,"ant-input-clear-icon"],[3,"click"],["dw-col","",1,"right",3,"dwSpan"],[1,"dw-f-checkbox-list",3,"dwOnChange"],[3,"class",4,"ngFor","ngForOf"],["class","dw-f-checkbox-list-li",4,"ngFor","ngForOf"],[1,"dw-f-checkbox-list-li"],[1,"check"],["dw-checkbox","",3,"dwValue","ngModel","ngModelChange"],[1,"text"],[1,"dw-f-checkbox-list",3,"ngModel","ngModelChange"],["dw-radio","",3,"dwValue","ngModel","ngModelChange"]],template:function(e,t){1&e&&(r.\u0275\u0275elementStart(0,"dw-modal",0),r.\u0275\u0275listener("dwVisibleChange",function(e){return t.visible=e})("dwOnCancel",function(){return t.close()})("dwOnOk",function(){return t.chooseOk()}),r.\u0275\u0275template(1,S,10,6,"ng-template",1),r.\u0275\u0275elementEnd()),2&e&&r.\u0275\u0275property("dwBodyStyle",r.\u0275\u0275pureFunction0(4,I))("dwMaskClosable",!0)("dwWidth",710)("dwVisible",t.visible)},directives:[a.DwModalComponent,a.DwModalContentDirective,o.DwIconDirective,l.DwInputDirective,d.DefaultValueAccessor,d.NgControlStatus,d.NgModel,c.NgIf,s.DwRowDirective,s.DwColDirective,c.NgForOf,m.DwCheckboxWrapperComponent,m.DwCheckboxComponent,u.DwRadioGroupComponent,u.DwRadioComponent],styles:['.wrapper[_ngcontent-%COMP%]{width:100%;height:calc(100% - 32px - 16px);border:1px solid #d9d9d9}.wrapper[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{height:100%;overflow-y:auto;background:#fbfbfb;border-right:1px solid #d9d9d9}.wrapper[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]{min-height:48px;padding:4px 8px 4px 24px;color:#00000073;font-size:14px;display:flex;align-items:center;word-break:break-all;cursor:pointer;position:relative}.wrapper[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .group.break-tab-on[_ngcontent-%COMP%]{color:#009bf2;font-weight:bold;background:#fff;border-bottom:1px solid #d9d9d9}.wrapper[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .group.break-tab-on[_ngcontent-%COMP%]:before{content:"";width:6px;height:100%;background:#009bf2;position:absolute;top:0;left:0}.wrapper[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{height:100%}.wrapper[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .dw-f-checkbox-list[_ngcontent-%COMP%]{width:100%;height:100%;overflow-y:auto;padding:0 12px 0 16px;position:relative}.wrapper[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .dw-f-checkbox-list[_ngcontent-%COMP%]   .r-wrap.hide[_ngcontent-%COMP%]{position:absolute;left:-9999px}.wrapper[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .dw-f-checkbox-list[_ngcontent-%COMP%]   .r-wrap[_ngcontent-%COMP%]   .dw-f-checkbox-list-li[_ngcontent-%COMP%]{height:34px;line-height:34px;display:flex}.wrapper[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .dw-f-checkbox-list[_ngcontent-%COMP%]   .r-wrap[_ngcontent-%COMP%]   .dw-f-checkbox-list-li[_ngcontent-%COMP%]   .check[_ngcontent-%COMP%]{width:20px;margin-right:8px}.wrapper[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .dw-f-checkbox-list[_ngcontent-%COMP%]   .r-wrap[_ngcontent-%COMP%]   .dw-f-checkbox-list-li[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{flex:1}.search-box-opener[_ngcontent-%COMP%]{margin-bottom:16px;position:relative}.search-box-opener[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]{width:30px;height:100%;display:flex;align-items:center;justify-content:center;position:absolute;top:0;left:0;z-index:2}.search-box-opener[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]{font-size:16px;color:#999}.search-box-opener[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{position:absolute;top:0;right:8px;font-size:20px}.search-box-opener[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]   .ant-input-clear-icon[_ngcontent-%COMP%]:last-child{font-size:16px}.search-box-opener[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;height:32px;background:#fff;border-radius:4px;padding:0 30px}']}),b)},39288:function(e,t,n){n.d(t,{R:function(){return g}});var r,i=n(42746),a=n(45890),o=n(83237),d=n(51156),s=n(9682),m=n(47372),u=function(e){l(n,e);var t=c(n);function n(e,r){var i;return p(this,n),(i=t.call(this)).dwHttp=e,i.url=r,i}return f(n,[{key:"getDataList",value:function(e,t){var n=this;return this.dwHttp.get(this.url).pipe((0,m.map)(function(r){var i=r.data||r;return n._result={currentPage:e,datas:Object.assign([],i),pageCount:Math.ceil(i.length/t),pageSize:t,rowCount:i.length},n._result}))}}]),n}(s.DwClientPagingDataSource),v=((r=function(){function e(t,n){p(this,e),this.dwHttp=t,this.selectModalService=n}return f(e,[{key:"setConfig",value:function(e){this.config={modalTitle:e.modalTitle,modalWidth:e.modalWidth,tableMultiSelect:e.multiSelect,tableIdField:e.tableIdField,tableNameField:e.tableNameField,returnFields:e.returnFields,tablePageSize:e.tablePageSize,tableColDefs:e.tableColDefs,tableCustomTag:e.tableCustomTag,dataSource:new u(e.dwHttp,e.dataSourceUrl)}}},{key:"open",value:function(e){return this.selectModalService.open(this.config,e)}}]),e}()).\u0275fac=function(e){return new(e||r)(i.\u0275\u0275inject(d.DwDapHttpClient),i.\u0275\u0275inject(s.DwSelectModalService))},r.\u0275prov=i.\u0275\u0275defineInjectable({token:r,factory:r.\u0275fac,providedIn:"root"}),r),g=function(){var e=function(){function e(t,n,r){p(this,e),this.commonHttpService=t,this.message=n,this.openerService=r,this.selectedChanged=new i.EventEmitter}return f(e,[{key:"initData",value:function(e){var t=this;this.openerService.setConfig(e),this.openerService.open([]).subscribe(function(e){null==e||0===e.length||t.selectedChanged.emit(e)})}},{key:"ngOnInit",value:function(){}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.\u0275\u0275directiveInject(a.$),i.\u0275\u0275directiveInject(o.DwMessageService),i.\u0275\u0275directiveInject(v))},e.\u0275cmp=i.\u0275\u0275defineComponent({type:e,selectors:[["app-opener-frontend"]],outputs:{selectedChanged:"selectedChanged"},decls:0,vars:0,template:function(e,t){},styles:[""]}),e}()},59748:function(e,t,n){n.d(t,{l:function(){return d}});var r=n(16972),i=n(42746),a=n(55245);function o(e,t){1&e&&(i.\u0275\u0275elementStart(0,"span",1),i.\u0275\u0275text(1,"\u683c\u5f0f\u9519\u8bef"),i.\u0275\u0275elementEnd())}var l,d=((l=function(){function e(){p(this,e),this.passValid=!0,this.warnType=""}return f(e,[{key:"validInput",value:function(){var e="";"email"===this.type&&(e=r.K.E_MAIL),"mobile"===this.type&&(e=r.K.MOBILE),"tele"===this.type&&(e=r.K.TEL),"mobileOrTele"===this.type&&(e=r.K.MOBILE_TEL),"fax"===this.type&&(e=r.K.FAX),""!==this.value?(this.passValid=!!e.exec(this.value),this.warnType=e.exec(this.value)?"":"error"):(this.passValid=!0,this.warnType="")}},{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||l)},l.\u0275cmp=i.\u0275\u0275defineComponent({type:l,selectors:[["app-valid-input"]],inputs:{type:"type",value:"value"},decls:1,vars:1,consts:[["class","valid-warn",4,"ngIf"],[1,"valid-warn"]],template:function(e,t){1&e&&i.\u0275\u0275template(0,o,2,0,"span",0),2&e&&i.\u0275\u0275property("ngIf",!t.passValid)},directives:[a.NgIf],styles:[""]}),l)},16972:function(e,t,n){n.d(t,{K:function(){return i}});var r,i=((r=f(function e(){p(this,e)})).E_MAIL=/^[a-zA-Z0-9_\-]{1,}@[a-zA-Z0-9_\-]{1,}\.[a-zA-Z0-9_\-.]{1,}$/,r.MOBILE=/^1[3456789]\d{9}$/,r.TEL=/^0\d{2,3}-?\d{7,8}$/,r.MOBILE_TEL=/^1[3456789]\d{9}$|^0\d{2,3}-?\d{7,8}$/,r.FAX=/^(\d{3,4}-)?\d{7,8}$/,r)},45890:function(e,t,n){n.d(t,{$:function(){return l}});var r,i=n(51156),a=n(99487),o=n(42746),l=((r=function(){function e(t){p(this,e),this.dwDapHttpClient=t}return f(e,[{key:"get",value:function(e,t){var n=new a.HttpParams({fromObject:t});return this.dwDapHttpClient.get(e,{params:n})}},{key:"post",value:function(e,t){return this.dwDapHttpClient.post(e,t)}},{key:"put",value:function(e,t){return this.dwDapHttpClient.put(e,t)}},{key:"delete",value:function(e,t){return this.dwDapHttpClient.request("DELETE",e,{body:t})}}]),e}()).\u0275fac=function(e){return new(e||r)(o.\u0275\u0275inject(i.DwDapHttpClient))},r.\u0275prov=o.\u0275\u0275defineInjectable({token:r,factory:r.\u0275fac,providedIn:"root"}),r)},51033:function(e,t,n){n.d(t,{L:function(){return m}}),n(87974);var r,i=n(32276),a=n(51156),o=n(66800),l=n(83237),d=n(31441),c=n(71049),s=n(42746),m=((r=function(){function e(t,n,r,i,a){p(this,e),this.http=t,this.authService=n,this.userService=r,this.message=i,this.modalService=a,this.uerId=""}return f(e,[{key:"canLoad",value:function(e){return!0}},{key:"canActivateChild",value:function(e,t){return!0}},{key:"canActivate",value:function(e,t){var n=this;return new c.Observable(function(e){n.uerId=n.userService.getUser("userId"),n.uerId?n.http.get("restful/service/employee/Employee/ValidateIamUser?userId=".concat(n.uerId)).subscribe(function(t){t.success?(sessionStorage.setItem("employeeInfo",JSON.stringify(t.data?t.data.data:{})),e.next(!0)):(n.modalService.warning({dwTitle:"\u63d0\u793a",dwContent:t.data,dwWidth:"400px",dwOnOk:function(){n.authService.logout(),window.location.reload()}}),e.next(!1))},function(t){console.log(t),t.hasOwnProperty("error")&&t.error.hasOwnProperty("errorMessage")&&t.error.errorMessage&&n.message.error(t.error.errorMessage),e.next(!1)}):e.next(!0)})}}]),e}()).\u0275fac=function(e){return new(e||r)(s.\u0275\u0275inject(a.DwDapHttpClient),s.\u0275\u0275inject(i.DwAuthService),s.\u0275\u0275inject(o.DwUserService),s.\u0275\u0275inject(l.DwMessageService),s.\u0275\u0275inject(d.DwModalService))},r.\u0275prov=s.\u0275\u0275defineInjectable({token:r,factory:r.\u0275fac,providedIn:"root"}),r)},61937:function(t,r,i){i.d(r,{l:function(){return a}});var a=function(){function t(){p(this,t)}return f(t,null,[{key:"order",value:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return e?n(e).sort(function(e,t){for(var n=0,i=0,a=r.length,o=0;o<a;o++){var l=r[o][0],d=r[o][1]||1,c=Math.pow(2,a-o)*d,s=void 0,m=void 0;l instanceof Function?(s=String(l(e)||""),m=String(l(t)||"")):(s=String(e[l]||""),m=String(t[l]||"")),1===s.localeCompare(m)?n+=c:-1===s.localeCompare(m)&&(i+=c)}return n-i}):[]}},{key:"crossPageCache",value:function(e,t,n,r){var i=e[r];if(i){var a=i[n];i.checked?t.includes(a)||t.push(a):t.includes(a)&&t.splice(t.indexOf(a),1)}}},{key:"crossPageCheck",value:function(t,n,r){var i,a=e(t);try{for(a.s();!(i=a.n()).done;){var o=i.value;n.includes(o[r])?o.checked||(o.checked=!0):o.checked&&(o.checked=!1)}}catch(l){a.e(l)}finally{a.f()}}},{key:"parseJson",value:function(e){try{return JSON.parse(e)}catch(t){return null}}}]),t}()},64762:function(e,t,n){n.d(t,{ZT:function(){return i},pi:function(){return a},_T:function(){return o},gn:function(){return l},fM:function(){return d},w6:function(){return c},mG:function(){return s},ev:function(){return m}});var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var a=function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function o(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function l(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o}function d(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function s(e,t,n,r){return new(n||(n=Promise))(function(i,a){function o(e){try{d(r.next(e))}catch(t){a(t)}}function l(e){try{d(r.throw(e))}catch(t){a(t)}}function d(e){e.done?i(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(o,l)}d((r=r.apply(e,t||[])).next())})}function m(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)(r||!(i in t))&&(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}}}])}();