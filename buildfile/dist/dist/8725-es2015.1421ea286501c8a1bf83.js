"use strict";(self.webpackChunkassc_crs=self.webpackChunkassc_crs||[]).push([[8725,77],{28725:function(e,t,n){n.r(t),n.d(t,{DwExceptionComponent:function(){return w},DwExceptionModule:function(){return m},DwExceptionService:function(){return f},DwHttpMessageServiceModalService:function(){return v},DwLoggingModalService:function(){return g}});var s=n(42746),r=n(31441),i=n(55245),o=n(87974),c=n(83522),a=n(83237),l=n(78597),d=n(71049),u=n(52575);function p(e,t){if(1&e&&(s.\u0275\u0275elementStart(0,"div"),s.\u0275\u0275text(1),s.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;s.\u0275\u0275advance(1),s.\u0275\u0275textInterpolate(e)}}function h(e,t){if(1&e&&(s.\u0275\u0275elementStart(0,"div",1),s.\u0275\u0275elementStart(1,"div",2),s.\u0275\u0275elementStart(2,"div",3),s.\u0275\u0275elementStart(3,"div",4),s.\u0275\u0275text(4),s.\u0275\u0275pipe(5,"translate"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(6,"div",5),s.\u0275\u0275template(7,p,2,1,"div",6),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd()),2&e){const e=s.\u0275\u0275nextContext();s.\u0275\u0275advance(4),s.\u0275\u0275textInterpolate(s.\u0275\u0275pipeBind1(5,2,e.desc)),s.\u0275\u0275advance(3),s.\u0275\u0275property("ngForOf",e.descDetail)}}let w=(()=>{class e{constructor(e){this.modalSubject=e,this.type=null,this.img="",this.title="",this.desc="",this.descDetail=[]}set statusCode(e){this.type=e}set statusDescDetail(e){this.descDetail=e}emitDataOutside(){this.modalSubject.triggerOk()}handleCancel(e){this.modalSubject.triggerCancel()}ngOnInit(){this.reSet()}reSet(){const e={0:{title:"0",desc:"dw-http-error-0"},400:{title:"400",desc:"dw-http-error-400"},401:{title:"401",desc:"dw-http-error-401"},403:{title:"403",desc:"dw-http-error-403"},404:{title:"404",desc:"dw-http-error-404"},500:{title:"500",desc:"dw-http-error-500"}}[this.type];if(void 0===e){if(null===this.type)return;this.title=this.type.toString(),this.desc="dw-http-error"}else this.title=e.title,this.desc=e.desc}}return e.\u0275fac=function(t){return new(t||e)(s.\u0275\u0275directiveInject(r.DwModalRef))},e.\u0275cmp=s.\u0275\u0275defineComponent({type:e,selectors:[["dw-exception"]],inputs:{statusCode:"statusCode",statusDescDetail:"statusDescDetail"},decls:1,vars:1,consts:[["class","error-col",4,"ngIf"],[1,"error-col"],[1,"info-box"],[1,"execption-content"],[1,"desc"],[1,"txt-box"],[4,"ngFor","ngForOf"]],template:function(e,t){1&e&&s.\u0275\u0275template(0,h,8,4,"div",0),2&e&&s.\u0275\u0275property("ngIf",""!==t.title)},directives:[i.NgIf,i.NgForOf],pipes:[c.TranslatePipe],styles:[".msg[_ngcontent-%COMP%]{font-family:sans-serif;font-size:16rem;font-weight:bold;text-align:center;color:#000;font-size:12rem;letter-spacing:14px}.btn-home[_ngcontent-%COMP%]{text-align:center;position:relative;padding-bottom:8px}.desc[_ngcontent-%COMP%]{color:#333;font-size:1.13rem;text-align:center;padding-bottom:8px}@media (max-width: 1025px) and screen and (-webkit-min-device-pixel-ratio: 0){.msg[_ngcontent-%COMP%]{font-size:12rem}}"]}),e})(),m=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=s.\u0275\u0275defineInjector({imports:[[i.CommonModule,o.RouterModule,r.DwModalModule,c.TranslateModule,a.DwMessageModule]]}),e})(),f=(()=>{class e{constructor(e,t){this.dwModalService=e,this.zone=t,this._modalRef=null,this.showStatus0=!1}get descDetail(){return this._descDetail}showMessage(e,t){this._descDetail=t,this.showMessageModal(e)}showMessageModal(e){this.zone.run(()=>{this._modalRef&&this._modalRef.destroy(),this.showStatus0=!0;const t=()=>{this.showStatus0=!1};this._modalRef=this.dwModalService.create({dwContent:w,dwWidth:"650px",dwFooter:null,dwOnOk:e=>{t()},dwOnCancel(){t()},dwComponentParams:{statusCode:e,statusDescDetail:this._descDetail}})})}closeMessage(e){this._modalRef&&0!==e.status&&this._modalRef.destroy()}}return e.\u0275fac=function(t){return new(t||e)(s.\u0275\u0275inject(r.DwModalService),s.\u0275\u0275inject(s.NgZone))},e.\u0275prov=s.\u0275\u0275defineInjectable({factory:function(){return new e(s.\u0275\u0275inject(r.DwModalService),s.\u0275\u0275inject(s.NgZone))},token:e,providedIn:m}),e})(),g=(()=>{class e extends l.DwLoggingService{constructor(e,t){super(),this.translateService=e,this.dwExceptionService=t}httpError(e){if(console.error(e),0===e.status){const t=[];let n=this.translateService.instant("dw-request-url");t.push(n+"\uff1a"+e.url),n=this.translateService.instant("dw-request-body"),t.push(n+"\uff1a"+JSON.stringify(e.error)),n=this.translateService.instant("dw-response-status"),t.push(n+"\uff1a"+e.status+" "+(e.statusText||"Unknown Error")),n=this.translateService.instant("dw-response-message"),t.push(n+"\uff1a"+e.message),this.dwExceptionService.showMessage(e.status,t)}}httpErrorCloseMessage(e){this.dwExceptionService.closeMessage(e)}}return e.\u0275fac=function(t){return new(t||e)(s.\u0275\u0275inject(c.TranslateService),s.\u0275\u0275inject(f))},e.\u0275prov=s.\u0275\u0275defineInjectable({factory:function(){return new e(s.\u0275\u0275inject(c.TranslateService),s.\u0275\u0275inject(f))},token:e,providedIn:m}),e})(),v=(()=>{class e extends u.DwHttpMessageService{constructor(e,t){super(),this.modalService=e,this.messageService=t}error(e,t){return new d.Observable(n=>{e?this.messageService.error(e,t).onClose.subscribe(e=>{n.next(!0),n.complete()}):t&&this.modalService.error(t).afterClose.subscribe(e=>{n.next(!0),n.complete()})})}warning(e,t){return new d.Observable(n=>{"string"==typeof e&&this.messageService.warning(e,t),"object"==typeof e&&this.modalService.warning(e),n.next(!0),n.complete()})}confirm(e){return new d.Observable(t=>{Object.assign(e,{dwOnOk:()=>{t.next(!0),t.complete()},dwOnCancel:()=>{t.next(!1),t.complete()}}),this.modalService.confirm(e)})}create(e,t,n){return new d.Observable(s=>{"string"==typeof e&&(this.messageService.create(e,t,n),s.next(!0),s.complete()),"object"==typeof e&&(Object.assign(e,{dwOnOk:()=>{s.next(!0),s.complete()},dwOnCancel:()=>{s.next(!1),s.complete()}}),this.modalService.create(e))})}}return e.\u0275fac=function(t){return new(t||e)(s.\u0275\u0275inject(r.DwModalService),s.\u0275\u0275inject(a.DwMessageService))},e.\u0275prov=s.\u0275\u0275defineInjectable({factory:function(){return new e(s.\u0275\u0275inject(r.DwModalService),s.\u0275\u0275inject(a.DwMessageService))},token:e,providedIn:m}),e})()}}]);