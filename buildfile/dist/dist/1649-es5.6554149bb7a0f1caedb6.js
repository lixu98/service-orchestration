!function(){"use strict";function e(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"==typeof e)return t(e,n);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return t(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(self.webpackChunkassc_crs=self.webpackChunkassc_crs||[]).push([[1649,3926],{41649:function(t,i,o){o.r(i),o.d(i,{DwManualUpdateCheckService:function(){return w},DwServiceWorkerModule:function(){return E},DwServiceWorkerUpdateService:function(){return v},DwSwUpdateContentComponent:function(){return m},SERVICE_WORKER_NEW_UPDATE_CHECKER:function(){return g},SERVICE_WORK_AUTO_REFRESH:function(){return k},SERVICE_WORK_ENABLE:function(){return b},SERVICE_WORK_INTERVAL:function(){return y},initServiceWorker:function(){return S},newUpdaterFactory:function(){return R}});var a,s=o(42746),c=o(30052),u=o(71049),l=o(83522),f=o(52575),d=o(32245),h=o(47372),p=o(99487),v=((a=function(){function e(t,i,r,o){n(this,e),this.updates=t,this.injector=i,this.languageService=r,this.translate=o,this.notifyInterval=3e5,this.autoRefresh=!1,this.stop$=new u.Subject}return r(e,[{key:"initialize",value:function(e,t,n){var i=this;this.autoRefresh=n,t&&navigator&&navigator.serviceWorker&&navigator.serviceWorker.register("/ngsw-worker.js"),this.modalService=this.injector.get(f.DwHttpMessageService),this.updates.isEnabled&&(this.updates.available.subscribe(function(e){console.log("\u6709\u65b0\u7248\u672c\uff0c\u5c07\u6703\u9032\u884c\u91cd\u65b0\u6574\u7406"),i.updates.activateUpdate().then(function(){console.log("\u66f4\u65b0\u5b8c\u6210"),i.languageService.language$.subscribe(function(e){e&&i.notifyRefresh()})}),i.updates.activated.subscribe(function(e){console.log("activated finish")},function(e){console.log("updates.activated.error",e)})}),(0,u.interval)(e).pipe((0,h.takeUntil)(this.stop$)).subscribe(function(){i.updates.checkForUpdate().then(function(e){},function(e){console.log("Inside Interval updates.checkForUpdate() err =",e)})}))}},{key:"notifyRefresh",value:function(){var e=this;this.autoRefresh?this.refresh():this.modal||(this.modal=this.modalService.create({dwContent:this.translate.instant("dw-detect-update-finished"),dwClassName:"update-refresh-modal",dwMaskClosable:!1,dwClosable:!1,dwOkText:this.translate.instant("dw-update-refresh"),dwOkType:"primary",dwCancelText:this.translate.instant("dw-update-refresh-wait")}),this.modal.subscribe(function(t){t?e.refresh():e.timeout$=setTimeout(function(){e.notifyRefresh()},e.notifyInterval),e.modal=null}))}},{key:"refresh",value:function(){document.location.reload()}},{key:"stop",value:function(){this.stop$.next(),this.stop$.complete(),clearTimeout(this.timeout$)}}]),e}()).\u0275fac=function(e){return new(e||a)(s.\u0275\u0275inject(c.SwUpdate,8),s.\u0275\u0275inject(s.Injector),s.\u0275\u0275inject(d.DwLanguageService),s.\u0275\u0275inject(l.TranslateService))},a.\u0275prov=s.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac}),a),m=function(){var e=r(function e(){n(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.\u0275\u0275defineComponent({type:e,selectors:[["dw-update-content"]],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e}(),w=function(){var e=function(){function e(t,i,r,o,a){n(this,e),this.updates=t,this.injector=i,this.languageService=r,this.translate=o,this.httpClient=a,this.swJson="assets/sw.json",this.notifyInterval=3e5,this.autoRefresh=!1,this.timestamp=null,this.stop$=new u.Subject}return r(e,[{key:"initialize",value:function(e,t,n){this.autoRefresh=n,this.millisecond=e,t&&(this.modalService=this.injector.get(f.DwHttpMessageService),this.checkForUpdate().then(),this.start())}},{key:"start",value:function(){var e=this;(0,u.interval)(this.millisecond).pipe((0,h.takeUntil)(this.stop$)).subscribe(function(){e.checkForUpdate().then(function(t){t&&e.notifyRefresh()},function(e){console.log("Inside Interval checkForUpdate() err =",e)})})}},{key:"checkForUpdate",value:function(){var e=this;return new Promise(function(t){e.httpClient.get("".concat(e.swJson,"?ngsw-bypass=").concat((new Date).getTime())).pipe((0,h.catchError)(function(t){return(0,u.of)({timestamp:e.timestamp})})).subscribe(function(n){var i=!1;null===e.timestamp?e.timestamp=n.timestamp:e.timestamp!==n.timestamp&&(i=!0),t(i)})})}},{key:"notifyRefresh",value:function(){var e=this;this.autoRefresh?this.refresh():this.modal||(this.modal=this.modalService.create({dwContent:this.translate.instant("dw-detect-update-finished"),dwClassName:"update-refresh-modal",dwMaskClosable:!1,dwClosable:!1,dwOkText:this.translate.instant("dw-update-refresh"),dwOkType:"primary",dwCancelText:this.translate.instant("dw-update-refresh-wait")}),this.modal.subscribe(function(t){t?e.refresh():e.timeout$=setTimeout(function(){e.notifyRefresh()},e.notifyInterval),e.modal=null}))}},{key:"refresh",value:function(){document.location.reload()}},{key:"stop",value:function(){this.stop$.next(),this.stop$.complete(),clearTimeout(this.timeout$)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.\u0275\u0275inject(c.SwUpdate),s.\u0275\u0275inject(s.Injector),s.\u0275\u0275inject(d.DwLanguageService),s.\u0275\u0275inject(l.TranslateService),s.\u0275\u0275inject(p.HttpClient))},e.\u0275prov=s.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac}),e}(),y=new s.InjectionToken("SERVICE_WORK_INTERVAL"),b=new s.InjectionToken("SERVICE_WORK_ENABLE"),k=new s.InjectionToken("SERVICE_WORK_AUTO_REFRESH"),g=new s.InjectionToken("SERVICE_WORKER_NEW_UPDATER");function S(e,t,n,i){return function(){t&&(null==i||i.initialize(e,t,n))}}function R(e,t,n,i,r,o){return e?o:new v(t,n,i,r)}var E=function(){var t=function(){function t(){n(this,t)}return r(t,null,[{key:"forRoot",value:function(n,i){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{ngModule:t,providers:[].concat(e(c.ServiceWorkerModule.register("/ngsw-worker.js",{enabled:i}).providers),[v,w,{provide:g,useValue:!0},{provide:v,useFactory:R,deps:[g,c.SwUpdate,s.Injector,d.DwLanguageService,l.TranslateService,w]},{provide:y,useValue:n},{provide:b,useValue:i},{provide:k,useValue:r},{provide:s.APP_INITIALIZER,useFactory:S,deps:[y,b,k,v],multi:!0}])}}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=s.\u0275\u0275defineInjector({imports:[[],c.ServiceWorkerModule]}),t}()}}])}();