!function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(self.webpackChunkassc_crs=self.webpackChunkassc_crs||[]).push([[8260],{29896:function(t,r,a){a.r(r),a.d(r,{DwCronJobsModule:function(){return ie},DwJobTimeSettingComponent:function(){return ae}});var i=a(42746),l=a(55245),o=a(1020),m=a(6588),d=a(82542),s=a(85773),u=a(65052),c=a(35626),p=a(67280),h=a(119),y=a(74591),_=a(80419),v=a(29872),w=a(62695),f=a(41937),S=a(21656),b=a(83522);function g(e,t){if(1&e&&(i.\u0275\u0275elementStart(0,"dw-radio-group",9),i.\u0275\u0275elementStart(1,"div",10),i.\u0275\u0275text(2),i.\u0275\u0275pipe(3,"translate"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(4,"div",11),i.\u0275\u0275text(5),i.\u0275\u0275pipe(6,"translate"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd()),2&e){var n=i.\u0275\u0275nextContext();i.\u0275\u0275property("dwSize",n.dwSize),i.\u0275\u0275advance(2),i.\u0275\u0275textInterpolate(i.\u0275\u0275pipeBind1(3,3,"every-day-bg-job")),i.\u0275\u0275advance(3),i.\u0275\u0275textInterpolate(i.\u0275\u0275pipeBind1(6,5,"cycle-day-bg-job"))}}function E(e,t){1&e&&(i.\u0275\u0275elementContainerStart(0),i.\u0275\u0275text(1),i.\u0275\u0275pipe(2,"translate"),i.\u0275\u0275elementContainerEnd()),2&e&&(i.\u0275\u0275advance(1),i.\u0275\u0275textInterpolate(i.\u0275\u0275pipeBind1(2,1,"complete-the-info")))}function F(e,t){if(1&e&&i.\u0275\u0275template(0,E,3,3,"ng-container",6),2&e){var n=i.\u0275\u0275nextContext(2);i.\u0275\u0275property("ngIf",null==n.errors?null:n.errors.time_required)}}function C(e,t){if(1&e&&(i.\u0275\u0275elementStart(0,"dw-form-item",0),i.\u0275\u0275elementStart(1,"dw-form-control",12),i.\u0275\u0275element(2,"dw-time-picker",13),i.\u0275\u0275template(3,F,1,1,"ng-template",null,14,i.\u0275\u0275templateRefExtractor),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd()),2&e){var n=i.\u0275\u0275reference(4),r=i.\u0275\u0275nextContext();i.\u0275\u0275property("formGroup",r.simpleForm),i.\u0275\u0275advance(1),i.\u0275\u0275property("dwErrorTip",n),i.\u0275\u0275advance(1),i.\u0275\u0275property("dwSize",r.dwSize)}}function O(e,t){if(1&e&&i.\u0275\u0275element(0,"dw-option",39),2&e){var n=t.$implicit;i.\u0275\u0275propertyInterpolate("dwLabel",("0"+n).substr(-2)),i.\u0275\u0275property("dwValue",n)}}function x(e,t){if(1&e&&i.\u0275\u0275element(0,"dw-option",39),2&e){var n=t.$implicit;i.\u0275\u0275propertyInterpolate("dwLabel",("0"+n).substr(-2)),i.\u0275\u0275property("dwValue",n)}}function k(e,t){if(1&e&&i.\u0275\u0275element(0,"dw-option",39),2&e){var n=t.$implicit;i.\u0275\u0275propertyInterpolate("dwLabel",("0"+n).substr(-2)),i.\u0275\u0275property("dwValue",n)}}function D(e,t){if(1&e&&i.\u0275\u0275element(0,"dw-option",39),2&e){var n=t.$implicit;i.\u0275\u0275propertyInterpolate("dwLabel",("0"+n).substr(-2)),i.\u0275\u0275property("dwValue",n)}}function M(e,t){if(1&e&&i.\u0275\u0275element(0,"dw-option",39),2&e){var n=t.$implicit;i.\u0275\u0275propertyInterpolate("dwLabel",("0"+n).substr(-2)),i.\u0275\u0275property("dwValue",n)}}function I(e,t){if(1&e&&i.\u0275\u0275element(0,"dw-option",39),2&e){var n=t.$implicit;i.\u0275\u0275propertyInterpolate("dwLabel",("0"+n).substr(-2)),i.\u0275\u0275property("dwValue",n)}}function z(e,t){if(1&e&&i.\u0275\u0275element(0,"dw-option",39),2&e){var n=t.$implicit;i.\u0275\u0275propertyInterpolate("dwLabel",("0"+n).substr(-2)),i.\u0275\u0275property("dwValue",n)}}function T(e,t){if(1&e&&i.\u0275\u0275element(0,"dw-option",39),2&e){var n=t.$implicit;i.\u0275\u0275propertyInterpolate("dwLabel",("0"+n).substr(-2)),i.\u0275\u0275property("dwValue",n)}}function N(e,t){if(1&e&&i.\u0275\u0275element(0,"dw-option",39),2&e){var n=t.$implicit;i.\u0275\u0275propertyInterpolate("dwLabel",("0"+n).substr(-2)),i.\u0275\u0275property("dwValue",n)}}function R(e,t){if(1&e&&i.\u0275\u0275element(0,"dw-option",39),2&e){var n=t.$implicit;i.\u0275\u0275propertyInterpolate("dwLabel",("0"+n).substr(-2)),i.\u0275\u0275property("dwValue",n)}}function V(e,t){if(1&e&&i.\u0275\u0275element(0,"dw-option",39),2&e){var n=t.$implicit;i.\u0275\u0275propertyInterpolate("dwLabel",("0"+n).substr(-2)),i.\u0275\u0275property("dwValue",n)}}function W(e,t){if(1&e&&i.\u0275\u0275element(0,"dw-option",39),2&e){var n=t.$implicit;i.\u0275\u0275propertyInterpolate("dwLabel",("0"+n).substr(-2)),i.\u0275\u0275property("dwValue",n)}}var L=function(e){return{error:e}};function B(e,t){if(1&e&&(i.\u0275\u0275elementStart(0,"div",0),i.\u0275\u0275elementStart(1,"div",15),i.\u0275\u0275elementStart(2,"div"),i.\u0275\u0275elementStart(3,"label"),i.\u0275\u0275text(4),i.\u0275\u0275pipe(5,"translate"),i.\u0275\u0275elementStart(6,"dw-select",16),i.\u0275\u0275template(7,O,1,2,"dw-option",17),i.\u0275\u0275elementEnd(),i.\u0275\u0275text(8," \xa0~\xa0 "),i.\u0275\u0275elementStart(9,"dw-select",18),i.\u0275\u0275template(10,x,1,2,"dw-option",17),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(11,"label"),i.\u0275\u0275text(12),i.\u0275\u0275pipe(13,"translate"),i.\u0275\u0275element(14,"dw-input-number",19),i.\u0275\u0275text(15," \xa0 "),i.\u0275\u0275elementStart(16,"dw-select",20),i.\u0275\u0275element(17,"dw-option",21),i.\u0275\u0275pipe(18,"translate"),i.\u0275\u0275element(19,"dw-option",22),i.\u0275\u0275pipe(20,"translate"),i.\u0275\u0275elementEnd(),i.\u0275\u0275text(21),i.\u0275\u0275pipe(22,"translate"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(23,"div",23),i.\u0275\u0275elementStart(24,"label"),i.\u0275\u0275text(25," \u6bcf\u5c0f\u6642 "),i.\u0275\u0275elementStart(26,"dw-select",24),i.\u0275\u0275template(27,k,1,2,"dw-option",17),i.\u0275\u0275elementEnd(),i.\u0275\u0275text(28," \u5206\u81f3 "),i.\u0275\u0275elementStart(29,"dw-select",25),i.\u0275\u0275template(30,D,1,2,"dw-option",17),i.\u0275\u0275elementEnd(),i.\u0275\u0275text(31," \u5206 "),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(32,"dw-form-item"),i.\u0275\u0275element(33,"dw-form-control",26),i.\u0275\u0275pipe(34,"translate"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(35,"div",15),i.\u0275\u0275elementStart(36,"div"),i.\u0275\u0275elementStart(37,"label"),i.\u0275\u0275text(38),i.\u0275\u0275pipe(39,"translate"),i.\u0275\u0275elementStart(40,"dw-select",27),i.\u0275\u0275template(41,M,1,2,"dw-option",17),i.\u0275\u0275elementEnd(),i.\u0275\u0275text(42," \xa0~\xa0 "),i.\u0275\u0275elementStart(43,"dw-select",28),i.\u0275\u0275template(44,I,1,2,"dw-option",17),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(45,"label"),i.\u0275\u0275text(46),i.\u0275\u0275pipe(47,"translate"),i.\u0275\u0275element(48,"dw-input-number",29),i.\u0275\u0275text(49," \xa0 "),i.\u0275\u0275elementStart(50,"dw-select",30),i.\u0275\u0275element(51,"dw-option",21),i.\u0275\u0275pipe(52,"translate"),i.\u0275\u0275element(53,"dw-option",22),i.\u0275\u0275pipe(54,"translate"),i.\u0275\u0275elementEnd(),i.\u0275\u0275text(55),i.\u0275\u0275pipe(56,"translate"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(57,"div",23),i.\u0275\u0275elementStart(58,"label"),i.\u0275\u0275text(59," \u5206\u9418\uff1a\u5f9e "),i.\u0275\u0275elementStart(60,"dw-select",31),i.\u0275\u0275template(61,z,1,2,"dw-option",17),i.\u0275\u0275elementEnd(),i.\u0275\u0275text(62," \u5206 \u5230 "),i.\u0275\u0275elementStart(63,"dw-select",32),i.\u0275\u0275template(64,T,1,2,"dw-option",17),i.\u0275\u0275elementEnd(),i.\u0275\u0275text(65," \u5206 "),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(66,"dw-form-item"),i.\u0275\u0275element(67,"dw-form-control",26),i.\u0275\u0275pipe(68,"translate"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(69,"div",15),i.\u0275\u0275elementStart(70,"div"),i.\u0275\u0275elementStart(71,"label"),i.\u0275\u0275text(72),i.\u0275\u0275pipe(73,"translate"),i.\u0275\u0275elementStart(74,"dw-select",33),i.\u0275\u0275template(75,N,1,2,"dw-option",17),i.\u0275\u0275elementEnd(),i.\u0275\u0275text(76," \xa0~\xa0 "),i.\u0275\u0275elementStart(77,"dw-select",34),i.\u0275\u0275template(78,R,1,2,"dw-option",17),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(79,"label"),i.\u0275\u0275text(80),i.\u0275\u0275pipe(81,"translate"),i.\u0275\u0275element(82,"dw-input-number",35),i.\u0275\u0275text(83," \xa0 "),i.\u0275\u0275elementStart(84,"dw-select",36),i.\u0275\u0275element(85,"dw-option",21),i.\u0275\u0275pipe(86,"translate"),i.\u0275\u0275element(87,"dw-option",22),i.\u0275\u0275pipe(88,"translate"),i.\u0275\u0275elementEnd(),i.\u0275\u0275text(89),i.\u0275\u0275pipe(90,"translate"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(91,"div",23),i.\u0275\u0275elementStart(92,"label"),i.\u0275\u0275text(93," \u6bcf\u5c0f\u6642\u7684 "),i.\u0275\u0275elementStart(94,"dw-select",37),i.\u0275\u0275template(95,V,1,2,"dw-option",17),i.\u0275\u0275elementEnd(),i.\u0275\u0275text(96," \u5206 \u81f3 "),i.\u0275\u0275elementStart(97,"dw-select",38),i.\u0275\u0275template(98,W,1,2,"dw-option",17),i.\u0275\u0275elementEnd(),i.\u0275\u0275text(99," \u5206 "),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(100,"dw-form-item"),i.\u0275\u0275element(101,"dw-form-control",26),i.\u0275\u0275pipe(102,"translate"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd()),2&e){var n=i.\u0275\u0275nextContext();i.\u0275\u0275property("formGroup",n.dailyForm),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngClass",i.\u0275\u0275pureFunction1(91,L,null==n.errors?null:n.errors.time1_required)),i.\u0275\u0275advance(3),i.\u0275\u0275textInterpolate1(" ",i.\u0275\u0275pipeBind1(5,55,"section-1"),"\xa0 "),i.\u0275\u0275advance(2),i.\u0275\u0275property("dwSize",n.dwSize),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngForOf",n.hoursOfDay),i.\u0275\u0275advance(2),i.\u0275\u0275property("dwSize",n.dwSize),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngForOf",n.hoursOfDay),i.\u0275\u0275advance(2),i.\u0275\u0275textInterpolate1(" \xa0",i.\u0275\u0275pipeBind1(13,57,"every"),"\xa0 "),i.\u0275\u0275advance(2),i.\u0275\u0275property("dwSize",n.dwSize),i.\u0275\u0275advance(2),i.\u0275\u0275property("dwSize",n.dwSize),i.\u0275\u0275advance(1),i.\u0275\u0275propertyInterpolate("dwLabel",i.\u0275\u0275pipeBind1(18,59,"minute")),i.\u0275\u0275advance(2),i.\u0275\u0275propertyInterpolate("dwLabel",i.\u0275\u0275pipeBind1(20,61,"hour")),i.\u0275\u0275advance(2),i.\u0275\u0275textInterpolate1(" \xa0",i.\u0275\u0275pipeBind1(22,63,"execute-once")," "),i.\u0275\u0275advance(5),i.\u0275\u0275property("dwSize",n.dwSize),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngForOf",n.minutesOfHour),i.\u0275\u0275advance(2),i.\u0275\u0275property("dwSize",n.dwSize),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngForOf",n.minutesOfHour),i.\u0275\u0275advance(3),i.\u0275\u0275property("dwValidateStatus",null!=n.errors&&n.errors.time1_required?"error":null)("dwErrorTip",i.\u0275\u0275pipeBind1(34,65,"complete-the-info")),i.\u0275\u0275advance(2),i.\u0275\u0275property("ngClass",i.\u0275\u0275pureFunction1(93,L,null==n.errors?null:n.errors.time2_required)),i.\u0275\u0275advance(3),i.\u0275\u0275textInterpolate1(" ",i.\u0275\u0275pipeBind1(39,67,"section-2"),"\xa0 "),i.\u0275\u0275advance(2),i.\u0275\u0275property("dwSize",n.dwSize),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngForOf",n.hoursOfDay),i.\u0275\u0275advance(2),i.\u0275\u0275property("dwSize",n.dwSize),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngForOf",n.hoursOfDay),i.\u0275\u0275advance(2),i.\u0275\u0275textInterpolate1(" \xa0",i.\u0275\u0275pipeBind1(47,69,"every"),"\xa0 "),i.\u0275\u0275advance(2),i.\u0275\u0275property("dwSize",n.dwSize),i.\u0275\u0275advance(2),i.\u0275\u0275property("dwSize",n.dwSize),i.\u0275\u0275advance(1),i.\u0275\u0275propertyInterpolate("dwLabel",i.\u0275\u0275pipeBind1(52,71,"minute")),i.\u0275\u0275advance(2),i.\u0275\u0275propertyInterpolate("dwLabel",i.\u0275\u0275pipeBind1(54,73,"hour")),i.\u0275\u0275advance(2),i.\u0275\u0275textInterpolate1(" \xa0",i.\u0275\u0275pipeBind1(56,75,"execute-once")," "),i.\u0275\u0275advance(5),i.\u0275\u0275property("dwSize",n.dwSize),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngForOf",n.minutesOfHour),i.\u0275\u0275advance(2),i.\u0275\u0275property("dwSize",n.dwSize),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngForOf",n.minutesOfHour),i.\u0275\u0275advance(3),i.\u0275\u0275property("dwValidateStatus",null!=n.errors&&n.errors.time2_required?"error":null)("dwErrorTip",i.\u0275\u0275pipeBind1(68,77,"complete-the-info")),i.\u0275\u0275advance(2),i.\u0275\u0275property("ngClass",i.\u0275\u0275pureFunction1(95,L,null==n.errors?null:n.errors.time3_required)),i.\u0275\u0275advance(3),i.\u0275\u0275textInterpolate1(" ",i.\u0275\u0275pipeBind1(73,79,"section-3"),"\xa0 "),i.\u0275\u0275advance(2),i.\u0275\u0275property("dwSize",n.dwSize),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngForOf",n.hoursOfDay),i.\u0275\u0275advance(2),i.\u0275\u0275property("dwSize",n.dwSize),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngForOf",n.hoursOfDay),i.\u0275\u0275advance(2),i.\u0275\u0275textInterpolate1(" \xa0",i.\u0275\u0275pipeBind1(81,81,"every"),"\xa0 "),i.\u0275\u0275advance(2),i.\u0275\u0275property("dwSize",n.dwSize),i.\u0275\u0275advance(2),i.\u0275\u0275property("dwSize",n.dwSize),i.\u0275\u0275advance(1),i.\u0275\u0275propertyInterpolate("dwLabel",i.\u0275\u0275pipeBind1(86,83,"minute")),i.\u0275\u0275advance(2),i.\u0275\u0275propertyInterpolate("dwLabel",i.\u0275\u0275pipeBind1(88,85,"hour")),i.\u0275\u0275advance(2),i.\u0275\u0275textInterpolate1(" \xa0",i.\u0275\u0275pipeBind1(90,87,"execute-once")," "),i.\u0275\u0275advance(5),i.\u0275\u0275property("dwSize",n.dwSize),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngForOf",n.minutesOfHour),i.\u0275\u0275advance(2),i.\u0275\u0275property("dwSize",n.dwSize),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngForOf",n.minutesOfHour),i.\u0275\u0275advance(3),i.\u0275\u0275property("dwValidateStatus",null!=n.errors&&n.errors.time3_required?"error":null)("dwErrorTip",i.\u0275\u0275pipeBind1(102,89,"complete-the-info"))}}function A(e,t){1&e&&i.\u0275\u0275elementContainer(0)}function P(e,t){1&e&&i.\u0275\u0275elementContainer(0)}function j(e,t){1&e&&i.\u0275\u0275elementContainer(0)}function J(e,t){1&e&&i.\u0275\u0275elementContainer(0)}function q(e,t){if(1&e&&(i.\u0275\u0275elementContainerStart(0),i.\u0275\u0275elementStart(1,"dw-radio-group",40),i.\u0275\u0275elementStart(2,"div",41),i.\u0275\u0275elementStart(3,"div",42),i.\u0275\u0275elementStart(4,"label",43),i.\u0275\u0275text(5),i.\u0275\u0275pipe(6,"translate"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(7,"div",44),i.\u0275\u0275template(8,j,1,0,"ng-container",5),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(9,"div",41),i.\u0275\u0275elementStart(10,"div",45),i.\u0275\u0275elementStart(11,"label",43),i.\u0275\u0275text(12),i.\u0275\u0275pipe(13,"translate"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(14,"div",46),i.\u0275\u0275template(15,J,1,0,"ng-container",5),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementContainerEnd()),2&e){var n=i.\u0275\u0275nextContext(),r=i.\u0275\u0275reference(4),a=i.\u0275\u0275reference(6);i.\u0275\u0275advance(1),i.\u0275\u0275property("dwSize",n.dwSize),i.\u0275\u0275advance(3),i.\u0275\u0275property("dwValue","0"),i.\u0275\u0275advance(1),i.\u0275\u0275textInterpolate(i.\u0275\u0275pipeBind1(6,7,"time-of-every-day")),i.\u0275\u0275advance(3),i.\u0275\u0275property("ngTemplateOutlet",r),i.\u0275\u0275advance(3),i.\u0275\u0275property("dwValue","1"),i.\u0275\u0275advance(1),i.\u0275\u0275textInterpolate(i.\u0275\u0275pipeBind1(13,9,"daily-section")),i.\u0275\u0275advance(3),i.\u0275\u0275property("ngTemplateOutlet",a)}}function H(e,t){if(1&e&&(i.\u0275\u0275elementContainerStart(0),i.\u0275\u0275elementStart(1,"label",70),i.\u0275\u0275text(2),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementContainerEnd()),2&e){var n=t.$implicit,r=t.index,a=i.\u0275\u0275nextContext(2);i.\u0275\u0275advance(1),i.\u0275\u0275property("formControlName",r)("dwDisabled","everyMonth"===a.rruleForm.get("cycleMonth").value),i.\u0275\u0275advance(1),i.\u0275\u0275textInterpolate1(" ",n.label," ")}}function $(e,t){if(1&e&&(i.\u0275\u0275elementContainerStart(0),i.\u0275\u0275elementStart(1,"label",70),i.\u0275\u0275text(2),i.\u0275\u0275pipe(3,"translate"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementContainerEnd()),2&e){var n=t.$implicit,r=t.index,a=i.\u0275\u0275nextContext(2);i.\u0275\u0275advance(1),i.\u0275\u0275property("formControlName",r)("dwDisabled","everyWeek"===a.rruleForm.get("cycleWeek").value),i.\u0275\u0275advance(1),i.\u0275\u0275textInterpolate1(" ",i.\u0275\u0275pipeBind1(3,3,n.label)," ")}}function G(e,t){if(1&e&&(i.\u0275\u0275element(0,"dw-option",39),i.\u0275\u0275pipe(1,"translate")),2&e){var n=t.$implicit;i.\u0275\u0275propertyInterpolate("dwLabel",i.\u0275\u0275pipeBind1(1,2,n.label)),i.\u0275\u0275property("dwValue",n.value)}}function U(e,t){if(1&e&&(i.\u0275\u0275elementContainerStart(0),i.\u0275\u0275elementStart(1,"label",71),i.\u0275\u0275text(2),i.\u0275\u0275pipe(3,"translate"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementContainerEnd()),2&e){var n=t.$implicit,r=t.index,a=i.\u0275\u0275nextContext(2);i.\u0275\u0275advance(1),i.\u0275\u0275property("formControlName",r)("dwDisabled","everyDay"===a.rruleForm.get("cycleDays").value),i.\u0275\u0275advance(1),i.\u0275\u0275textInterpolate(i.\u0275\u0275pipeBind1(3,3,n.label))}}function Y(e,t){if(1&e&&(i.\u0275\u0275elementContainerStart(0),i.\u0275\u0275elementStart(1,"label",70),i.\u0275\u0275text(2),i.\u0275\u0275pipe(3,"translate"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementContainerEnd()),2&e){var n=t.$implicit,r=t.index,a=i.\u0275\u0275nextContext(2);i.\u0275\u0275advance(1),i.\u0275\u0275property("formControlName",r)("dwDisabled","everyDay"===a.rruleForm.get("cycleDays").value),i.\u0275\u0275advance(1),i.\u0275\u0275textInterpolate1(" ",i.\u0275\u0275pipeBind1(3,3,n.label+"")," ")}}function K(e,t){if(1&e&&(i.\u0275\u0275elementStart(0,"tr"),i.\u0275\u0275elementStart(1,"td"),i.\u0275\u0275text(2),i.\u0275\u0275pipe(3,"translate"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(4,"td"),i.\u0275\u0275text(5),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(6,"td"),i.\u0275\u0275text(7),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(8,"td"),i.\u0275\u0275text(9),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(10,"td"),i.\u0275\u0275text(11),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd()),2&e){var n=t.$implicit;i.\u0275\u0275advance(2),i.\u0275\u0275textInterpolate(i.\u0275\u0275pipeBind1(3,7,"rrule.week."+n.getDay())),i.\u0275\u0275advance(3),i.\u0275\u0275textInterpolate3("",("0"+n.getHours()).slice(-2),":",("0"+n.getMinutes()).slice(-2),":",("0"+n.getSeconds()).slice(-2),""),i.\u0275\u0275advance(2),i.\u0275\u0275textInterpolate(n.getDate()),i.\u0275\u0275advance(2),i.\u0275\u0275textInterpolate(n.getMonth()+1),i.\u0275\u0275advance(2),i.\u0275\u0275textInterpolate(n.getFullYear())}}function Q(e,t){if(1&e&&(i.\u0275\u0275elementStart(0,"div",72),i.\u0275\u0275elementStart(1,"div"),i.\u0275\u0275elementStart(2,"label"),i.\u0275\u0275text(3),i.\u0275\u0275pipe(4,"translate"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(5,"dw-table",73,74),i.\u0275\u0275elementStart(7,"thead"),i.\u0275\u0275elementStart(8,"tr"),i.\u0275\u0275elementStart(9,"th"),i.\u0275\u0275text(10),i.\u0275\u0275pipe(11,"translate"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(12,"th"),i.\u0275\u0275text(13),i.\u0275\u0275pipe(14,"translate"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(15,"th"),i.\u0275\u0275text(16),i.\u0275\u0275pipe(17,"translate"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(18,"th"),i.\u0275\u0275text(19),i.\u0275\u0275pipe(20,"translate"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(21,"th"),i.\u0275\u0275text(22),i.\u0275\u0275pipe(23,"translate"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(24,"tbody"),i.\u0275\u0275template(25,K,12,9,"tr",53),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd()),2&e){var n=i.\u0275\u0275reference(6),r=i.\u0275\u0275nextContext(2);i.\u0275\u0275advance(3),i.\u0275\u0275textInterpolate(i.\u0275\u0275pipeBind1(4,8,"result")),i.\u0275\u0275advance(2),i.\u0275\u0275property("dwData",r.results),i.\u0275\u0275advance(5),i.\u0275\u0275textInterpolate(i.\u0275\u0275pipeBind1(11,10,"week")),i.\u0275\u0275advance(3),i.\u0275\u0275textInterpolate(i.\u0275\u0275pipeBind1(14,12,"time")),i.\u0275\u0275advance(3),i.\u0275\u0275textInterpolate(i.\u0275\u0275pipeBind1(17,14,"day")),i.\u0275\u0275advance(3),i.\u0275\u0275textInterpolate(i.\u0275\u0275pipeBind1(20,16,"month")),i.\u0275\u0275advance(3),i.\u0275\u0275textInterpolate(i.\u0275\u0275pipeBind1(23,18,"year")),i.\u0275\u0275advance(3),i.\u0275\u0275property("ngForOf",n.data)}}function X(e,t){if(1&e&&(i.\u0275\u0275elementContainerStart(0),i.\u0275\u0275elementStart(1,"div",47),i.\u0275\u0275elementStart(2,"div",41),i.\u0275\u0275elementStart(3,"div",48),i.\u0275\u0275elementStart(4,"dw-radio-group",49),i.\u0275\u0275elementStart(5,"label",50),i.\u0275\u0275text(6),i.\u0275\u0275pipe(7,"translate"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(8,"label",51),i.\u0275\u0275text(9),i.\u0275\u0275pipe(10,"translate"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(11,"div",44),i.\u0275\u0275elementStart(12,"dw-checkbox-wrapper",52),i.\u0275\u0275template(13,H,3,3,"ng-container",53),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275element(14,"dw-divider",54),i.\u0275\u0275elementStart(15,"div",41),i.\u0275\u0275elementStart(16,"div",48),i.\u0275\u0275elementStart(17,"dw-radio-group",55),i.\u0275\u0275elementStart(18,"label",56),i.\u0275\u0275text(19),i.\u0275\u0275pipe(20,"translate"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(21,"label",57),i.\u0275\u0275text(22),i.\u0275\u0275pipe(23,"translate"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(24,"div",44),i.\u0275\u0275elementStart(25,"dw-checkbox-wrapper",58),i.\u0275\u0275template(26,$,4,5,"ng-container",53),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(27,"label"),i.\u0275\u0275elementStart(28,"dw-select",59),i.\u0275\u0275template(29,G,2,4,"dw-option",17),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275element(30,"br"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275element(31,"dw-divider",54),i.\u0275\u0275elementStart(32,"div",41),i.\u0275\u0275elementStart(33,"div",48),i.\u0275\u0275elementStart(34,"dw-radio-group",60),i.\u0275\u0275elementStart(35,"label",61),i.\u0275\u0275text(36),i.\u0275\u0275pipe(37,"translate"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(38,"label",62),i.\u0275\u0275text(39),i.\u0275\u0275pipe(40,"translate"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(41,"div",44),i.\u0275\u0275elementStart(42,"label"),i.\u0275\u0275elementStart(43,"dw-checkbox-wrapper",63),i.\u0275\u0275template(44,U,4,5,"ng-container",53),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(45,"dw-checkbox-wrapper",64),i.\u0275\u0275template(46,Y,4,5,"ng-container",53),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275element(47,"dw-divider",54),i.\u0275\u0275elementStart(48,"div",65),i.\u0275\u0275elementStart(49,"div",48),i.\u0275\u0275elementStart(50,"label"),i.\u0275\u0275text(51),i.\u0275\u0275pipe(52,"translate"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(53,"div",44),i.\u0275\u0275elementStart(54,"label"),i.\u0275\u0275element(55,"dw-date-picker",66),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(56,"div",65),i.\u0275\u0275elementStart(57,"div",48),i.\u0275\u0275elementStart(58,"label"),i.\u0275\u0275text(59),i.\u0275\u0275pipe(60,"translate"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(61,"div",44),i.\u0275\u0275elementStart(62,"label"),i.\u0275\u0275element(63,"dw-date-picker",67),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(64,"div",65),i.\u0275\u0275elementStart(65,"div",48),i.\u0275\u0275elementStart(66,"label"),i.\u0275\u0275text(67),i.\u0275\u0275pipe(68,"translate"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(69,"div",44),i.\u0275\u0275elementStart(70,"label"),i.\u0275\u0275element(71,"dw-input-number",68),i.\u0275\u0275pipe(72,"translate"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275template(73,Q,26,20,"div",69),i.\u0275\u0275elementContainerEnd()),2&e){var n=i.\u0275\u0275nextContext();i.\u0275\u0275advance(1),i.\u0275\u0275property("dwSpan",n.dwShowRRuleResult?16:24),i.\u0275\u0275advance(3),i.\u0275\u0275property("dwSize",n.dwSize),i.\u0275\u0275advance(2),i.\u0275\u0275textInterpolate(i.\u0275\u0275pipeBind1(7,26,"every-month")),i.\u0275\u0275advance(3),i.\u0275\u0275textInterpolate(i.\u0275\u0275pipeBind1(10,28,"custom-month")),i.\u0275\u0275advance(4),i.\u0275\u0275property("ngForOf",n.months),i.\u0275\u0275advance(4),i.\u0275\u0275property("dwSize",n.dwSize),i.\u0275\u0275advance(2),i.\u0275\u0275textInterpolate(i.\u0275\u0275pipeBind1(20,30,"every-week")),i.\u0275\u0275advance(3),i.\u0275\u0275textInterpolate(i.\u0275\u0275pipeBind1(23,32,"custom-week")),i.\u0275\u0275advance(4),i.\u0275\u0275property("ngForOf",n.weeksOfMonth),i.\u0275\u0275advance(2),i.\u0275\u0275property("dwSize",n.dwSize)("dwDisabled","everyWeek"===n.rruleForm.get("cycleWeek").value),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngForOf",n.daysOfWeek),i.\u0275\u0275advance(5),i.\u0275\u0275property("dwSize",n.dwSize)("dwDisabled","customWeek"===n.rruleForm.get("cycleWeek").value),i.\u0275\u0275advance(2),i.\u0275\u0275textInterpolate(i.\u0275\u0275pipeBind1(37,34,"every-day")),i.\u0275\u0275advance(3),i.\u0275\u0275textInterpolate(i.\u0275\u0275pipeBind1(40,36,"custom-day")),i.\u0275\u0275advance(5),i.\u0275\u0275property("ngForOf",n.daysOfWeek),i.\u0275\u0275advance(2),i.\u0275\u0275property("ngForOf",n.daysOfMonth),i.\u0275\u0275advance(5),i.\u0275\u0275textInterpolate(i.\u0275\u0275pipeBind1(52,38,"start-time")),i.\u0275\u0275advance(4),i.\u0275\u0275property("dwSize",n.dwSize),i.\u0275\u0275advance(4),i.\u0275\u0275textInterpolate(i.\u0275\u0275pipeBind1(60,40,"until")),i.\u0275\u0275advance(4),i.\u0275\u0275property("dwSize",n.dwSize),i.\u0275\u0275advance(4),i.\u0275\u0275textInterpolate(i.\u0275\u0275pipeBind1(68,42,"count")),i.\u0275\u0275advance(4),i.\u0275\u0275propertyInterpolate("dwPlaceHolder",i.\u0275\u0275pipeBind1(72,44,"infinite")),i.\u0275\u0275property("dwSize",n.dwSize),i.\u0275\u0275advance(2),i.\u0275\u0275property("ngIf",n.dwShowRRuleResult)}}var Z,ee=function(e){return{display:e}},te=[{label:"1",value:1},{label:"2",value:2},{label:"3",value:3},{label:"4",value:4},{label:"5",value:5},{label:"6",value:6},{label:"7",value:7},{label:"8",value:8},{label:"9",value:9},{label:"10",value:10},{label:"11",value:11},{label:"12",value:12}],ne=[{label:"1st-week-of-month",value:1},{label:"2nd-week-of-month",value:2},{label:"3rd-week-of-month",value:3},{label:"4th-week-of-month",value:4},{label:"last-week-of-month",value:-1}],re=[{label:"MO",value:0},{label:"TU",value:1},{label:"WE",value:2},{label:"TH",value:3},{label:"FR",value:4},{label:"SA",value:5},{label:"SU",value:6}],ae=((Z=function(){function t(n,r,a){e(this,t),this.fb=n,this.controlContainer=r,this.datePipe=a,this.cycleMonth="everyMonth",this.cycleDays="everyDay",this.cycleWeek="everyWeek",this.cronType="daily",this.time_radio="0",this.results=[],this.months=te,this.weeksOfMonth=ne,this.daysOfWeek=re,this.dwSize="small",this.dwShowRRuleResult=!0,this.onChange=function(e){},this.onTouched=function(){},this.isSubscribeChanges=!1,this.hoursOfDay=this.getNumberSerials(0,23),this.minutesOfHour=this.getNumberSerials(0,59),this.daysOfMonth=this.daysOfMonthSelect=[].concat(this.getDaysOfMonthWithLabel(1,31,!0)),this.daysOfMonthSelect=[].concat(this.getDaysOfMonthWithLabel(1,31,!0)),this.setTimezoneOffset(this.results[0]),this.simpleForm=n.group({time:[null,[this]]}),this.dailyForm=n.group({time:this.simpleForm,time1_start_hour:[null,[this]],time1_end_hour:[null,[this]],time1_start_minute:[0,[this]],time1_end_minute:[59,[this]],time1_cycle_value:[null,[this]],time1_cycle_unit:[1,[this]],time2_start_hour:[null,[this]],time2_end_hour:[null,[this]],time2_start_minute:[0,[this]],time2_end_minute:[59,[this]],time2_cycle_value:[null,[this]],time2_cycle_unit:[1,[this]],time3_start_hour:[null,[this]],time3_end_hour:[null,[this]],time3_start_minute:[0,[this]],time3_end_minute:[59,[this]],time3_cycle_value:[null,[this]],time3_cycle_unit:[1,[this]]}),this.type2Form=n.group({time_radio:[this.time_radio,[this]],daily:this.dailyForm}),this.rruleForm=n.group({cycleMonth:[this.cycleMonth],months:this.buildFormArray(this.months),cycleWeek:[this.cycleWeek],weeksOfMonth:this.buildFormArray(this.weeksOfMonth),daysOfWeekForWeeksOfMonth:[0],cycleDays:[this.cycleDays],interval:1,daysOfWeek:this.buildFormArray(this.daysOfWeek),daysOfMonth:this.buildFormArray(this.daysOfMonth),dtStart:[null],until:[null],count:[null]}),this.mainForm=n.group({cronType:[this.cronType],type2Form:this.type2Form,rruleForm:this.rruleForm})}return n(t,[{key:"hasJobType",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1,r=t;if(this.dwJobType){if("CYCLE,RRULE,SAMPLE"===[].concat(this.dwJobType).sort().join(","))return!0;"string"==typeof e&&"string"==typeof this.dwJobType?n=e===this.dwJobType:"string"==typeof e&&this.dwJobType instanceof Array&&!t?n=this.dwJobType.indexOf(e)>-1:r=!0,r&&(n=[].concat(e).sort().join(",")===[].concat(this.dwJobType).sort().join(","))}else n=!0;return n}},{key:"setCustomDayDisable",value:function(e){e?(this.rruleForm.get("interval").disable(),this.rruleForm.get("daysOfWeek").disable(),this.rruleForm.get("daysOfMonth").disable()):(this.rruleForm.get("interval").enable(),this.rruleForm.get("daysOfWeek").enable(),this.rruleForm.get("daysOfMonth").enable())}},{key:"writeValue",value:function(e){if(null!==e){switch(this.formData=Object.assign({},e),e.schedule_type){case"2":this.mainForm.patchValue({cronType:"daily"}),this.parseScheduleType2();break;default:this.mainForm.patchValue({cronType:"cycle"}),this.parseRRule()}this.startSubscribeChanges()}}},{key:"setDisabledState",value:function(e){}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setTimezoneOffset",value:function(e){var t=(e||new Date).getTimezoneOffset();this.timezone=t<=0?"GMT+"+t/-60:"GMT-"+t/60}},{key:"getNumberSerials",value:function(e,t){for(var n=[],r=e,a=0;r<=t;r++,a++)n[a]=r;return n}},{key:"getDaysOfMonthWithLabel",value:function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=[],a=e,i=0;a<=t;a++,i++)r[i]={label:a,value:a};return n&&(r[r.length]={label:"last-day-of-month",value:"L"}),r}},{key:"registerOnValidatorChange",value:function(e){}},{key:"validate",value:function(e){if(this.simpleForm&&this.dailyForm&&this.type2Form){if(this.type2Form.dirty&&Object.values(this.type2Form.controls).indexOf(e)>-1){switch(e.value){case"0":this.clearFormErrors(this.dailyForm);break;case"1":this.clearFormErrors(this.simpleForm)}return this.validateDailyForm("time_radio")}if(this.simpleForm.dirty&&Object.values(this.simpleForm.controls).indexOf(e)>-1)return this.validateDailyForm("time"),e.setErrors(this.errors),this.errors;if(this.dailyForm.dirty&&Object.values(this.dailyForm.controls).indexOf(e)>-1)for(var t in this.dailyForm.controls)if(this.dailyForm.controls.hasOwnProperty(t)&&this.dailyForm.get(t)===e)return this.validateDailyForm(t),e.setErrors(this.errors),this.errors}return null}},{key:"buildDaysOfWeek",value:function(){var e=this,t=this.daysOfWeek.map(function(t){return e.fb.control(t.value.toString())});return this.fb.array(t)}},{key:"convertDailyToFormData",value:function(){switch(this.type2Form.get("time_radio").value){case"0":this.convertToOnce();break;case"1":this.convertToSlot()}this.submitChange(Object.assign(this.formData,{schedule_type:"2"}))}},{key:"submitChange",value:function(e){var t=Object.assign(e,{});switch(t.schedule_type){case"2":switch(t.time_radio){case 0:t.time1="",t.time2="",t.time3="";break;case"1":t.time=""}t.start_time="",t.end_time="",t.repeat_count="",t.r_rule="";break;case"4":var n=this.rruleForm.get("dtStart").value||new Date,r=this.rruleForm.get("until").value,a=this.rruleForm.get("count").value||-1;t.start_time=n?this.datePipe.transform(n,"yyyy-MM-dd HH:mm:ss"):"",t.end_time=r?this.datePipe.transform(r,"yyyy-MM-dd HH:mm:ss"):"",t.repeat_count=a,t.time_radio="",t.time="",t.time1="",t.time2="",t.time3=""}this.onChange(t)}},{key:"convertToOnce",value:function(){var e={schedule_type:"2",time_radio:0,time:null},t=this.simpleForm.get("time").value;if(t){var n=t.getHours(),r=t.getMinutes(),a=t.getSeconds();e.time="".concat(n,",").concat(r,",").concat(a)}this.dailyForm.valid&&this.submitChange(Object.assign(this.formData,e))}},{key:"convertToSlot",value:function(){var e={time_radio:"1",time:null,time1_start_hour:null,time1_end_hour:null,time2_start_hour:null,time2_end_hour:null,time3_start_hour:null,time3_end_hour:null,time1_start_minute:0,time1_end_minute:59,time2_start_minute:0,time2_end_minute:59,time3_start_minute:0,time3_end_minute:59,time1_cycle_value:null,time2_cycle_value:null,time3_cycle_value:null,time1_cycle_unit:"1",time2_cycle_unit:"1",time3_cycle_unit:"1"};e.time_radio=this.type2Form.get("time_radio").value,e.time1_start_hour=this.dailyForm.get("time1_start_hour").value,e.time1_end_hour=this.dailyForm.get("time1_end_hour").value,e.time2_start_hour=this.dailyForm.get("time2_start_hour").value,e.time2_end_hour=this.dailyForm.get("time2_end_hour").value,e.time3_start_hour=this.dailyForm.get("time3_start_hour").value,e.time3_end_hour=this.dailyForm.get("time3_end_hour").value,e.time1_start_minute=this.dailyForm.get("time1_start_minute").value,e.time1_end_minute=this.dailyForm.get("time1_end_minute").value,e.time2_start_minute=this.dailyForm.get("time2_start_minute").value,e.time2_end_minute=this.dailyForm.get("time2_end_minute").value,e.time3_start_minute=this.dailyForm.get("time3_start_minute").value,e.time3_end_minute=this.dailyForm.get("time3_end_minute").value,e.time1_cycle_value=this.dailyForm.get("time1_cycle_value").value,e.time2_cycle_value=this.dailyForm.get("time2_cycle_value").value,e.time3_cycle_value=this.dailyForm.get("time3_cycle_value").value,e.time1_cycle_unit=this.dailyForm.get("time1_cycle_unit").value||"1",e.time2_cycle_unit=this.dailyForm.get("time2_cycle_unit").value||"1",e.time3_cycle_unit=this.dailyForm.get("time3_cycle_unit").value||"1";var t={schedule_type:"2",time_radio:e.time_radio,time1:null,time2:null,time3:null};e.time1_start_hour&&(t.time1="".concat(e.time1_start_hour||0,",").concat(e.time1_start_minute||0,",").concat(e.time1_start_minute||0,","),t.time1+="".concat(e.time1_end_hour||0,",").concat(e.time1_end_minute||0,",").concat(e.time1_end_minute||0,","),t.time1+="".concat(e.time1_cycle_value,",").concat(e.time1_cycle_unit)),e.time2_start_hour&&(t.time2="".concat(e.time2_start_hour||0,",").concat(e.time2_start_minute||0,",").concat(e.time2_start_minute||0,","),t.time2+="".concat(e.time2_end_hour||0,",").concat(e.time2_end_minute||0,",").concat(e.time2_end_minute||0,","),t.time2+="".concat(e.time2_cycle_value,",").concat(e.time2_cycle_unit)),e.time3_start_hour&&(t.time3="".concat(e.time3_start_hour||0,",").concat(e.time3_start_minute||0,",").concat(e.time3_start_minute||0,","),t.time3+="".concat(e.time3_end_hour||0,",").concat(e.time3_end_minute||0,",").concat(e.time3_end_minute||0,","),t.time3+="".concat(e.time3_cycle_value,",").concat(e.time3_cycle_unit)),this.submitChange(Object.assign(this.formData,t))}},{key:"ngOnInit",value:function(){}},{key:"startSubscribeChanges",value:function(){var e=this;this.isSubscribeChanges||(this.isSubscribeChanges=!0,this.rruleForm.valueChanges.subscribe(function(){e.convertCycleToFormData()}),this.mainForm.get("cronType").valueChanges.subscribe(function(t){switch(t){case"daily":e.type2Form.get("time_radio").updateValueAndValidity();break;case"cycle":e.clearFormErrors(e.dailyForm),e.clearFormErrors(e.simpleForm),e.clearFormErrors(e.type2Form),e.rruleForm.get("cycleWeek").updateValueAndValidity(),e.convertCycleToFormData()}}),this.type2Form.get("time_radio").valueChanges.subscribe(function(t){switch(t){case"0":e.convertToOnce();break;case"1":e.convertToSlot()}}),this.simpleForm.valueChanges.subscribe(function(t){e.simpleForm.dirty&&e.convertDailyToFormData()}),this.dailyForm.valueChanges.subscribe(function(t){e.dailyForm.dirty&&e.convertToSlot()}))}},{key:"convertCycleToFormData",value:function(){if(this.formData){var e=this.rruleForm.get("cycleDays"),t=this.rruleForm.get("cycleWeek"),n=this.rruleForm.get("daysOfMonth").value,r=this.rruleForm.get("weeksOfMonth").value,a=this.rruleForm.get("daysOfWeekForWeeksOfMonth").value,i={freq:m.Frequency.MONTHLY.valueOf()};if("everyDay"===e.value&&(i.freq=m.Frequency.DAILY),"customMonth"===this.rruleForm.get("cycleMonth").value){var l=[];this.rruleForm.get("months").value.forEach(function(e,t){e&&l.push(t+1)}),i.bymonth=l}if("customWeek"===t.value){var o=[];r.forEach(function(e,t){e&&o.push(4===t?-1:t+1)}),i.byweekday=[a],i.bysetpos=o,i.freq=m.Frequency.MONTHLY}if("customDay"===e.value&&"everyWeek"===t.value){var d=this.rruleForm.get("interval").value;d>1&&(i.freq=m.Frequency.DAILY,i.interval=d,i.bysetpos=null);var s=[];n.forEach(function(e,t){e&&s.push(31===t?-1:t+1)}),i.bymonthday=s;var u=this.rruleForm.get("daysOfWeek").value,c=[];u.forEach(function(e,t){e&&c.push(t)}),c.length>0&&(i.byweekday=c)}var p=this.rruleForm.get("dtStart").value||new Date;p&&(i.dtstart=p);var h=this.rruleForm.get("until").value;h&&(i.until=h);var y,_={},v=this.rruleForm.get("count").value;v?(i.count=v,_=Object.assign(_,i)):_=Object.assign(_,i,{count:50});try{y=new m.RRule(i),this.updateRRuleSet(_)}catch(l){}this.submitChange(Object.assign(this.formData,{schedule_type:"4",r_rule:y.toString()}))}}},{key:"updateRRuleSet",value:function(e){var t=new m.RRuleSet;if(e instanceof m.RRule)if(null===e.options.count){var n=e.toString(),r=m.RRule.fromString(n);r.options.count=50,t.rrule(r)}else t.rrule(e);else{var a=new m.RRule(e);t.rrule(a)}this.results=t.all()}},{key:"parseScheduleType2",value:function(){var e=this.formData.time_radio,t=this.formData.time||"00,00,00",n=this.formData.time1,r=this.formData.time2,a=this.formData.time3;if(t){var i=new Date,l=t.split(",");i.setHours(parseInt(l[0],10)),i.setMinutes(parseInt(l[1],10)),i.setSeconds(parseInt(l[2],10)),this.patchSimpleValues({time:i})}this.patchType2Values({time_radio:e});var o={time1_start_hour:null,time1_end_hour:null,time1_cycle_unit:null,time1_cycle_value:null,time2_start_hour:null,time2_end_hour:null,time2_cycle_unit:null,time2_cycle_value:null,time3_start_hour:null,time3_end_hour:null,time3_cycle_unit:null,time3_cycle_value:null,time_radio:"1",schedule_type:"2"};if(n){var m=n.split(",");o.time1_start_hour=parseInt(m[0],10),o.time1_end_hour=parseInt(m[3],10),o.time1_cycle_unit=m[7],o.time1_cycle_value=parseInt(m[6],10),this.patchDailyValues(o)}if(r){var d=r.split(",");o.time2_start_hour=parseInt(d[0],10),o.time2_end_hour=parseInt(d[3],10),o.time2_cycle_unit=d[7],o.time2_cycle_value=parseInt(d[6],10),this.patchDailyValues(o)}if(a){var s=a.split(",");o.time3_start_hour=parseInt(s[0],10),o.time3_end_hour=parseInt(s[3],10),o.time3_cycle_unit=s[7],o.time3_cycle_value=parseInt(s[6],10),this.patchDailyValues(o)}}},{key:"patchDailyValues",value:function(e){this.dailyForm.patchValue(e)}},{key:"patchSimpleValues",value:function(e){this.simpleForm.patchValue(e)}},{key:"patchType2Values",value:function(e){this.type2Form.patchValue(e)}},{key:"patchCycleValues",value:function(e){this.rruleForm.patchValue(e),e.daysOfMonth&&this.rruleForm.get("daysOfMonth").patchValue(e.daysOfMonth),e.months&&this.rruleForm.get("months").patchValue(e.months),e.weeksOfMonth&&this.rruleForm.get("weeksOfMonth").patchValue(e.weeksOfMonth)}},{key:"buildFormArray",value:function(e){var t=[];return e.forEach(function(e,n){t.push(new o.FormControl(!1))}),this.fb.array(t)}},{key:"parseRRule",value:function(){var e,t={schedule_type:"4",cycleMonth:"",cycleDays:"everyDay",daysOfMonth:new Array(32),months:new Array(12),weeksOfMonth:new Array(5),dtStart:null,until:null,count:null,daysOfWeekForWeeksOfMonth:0,cycleWeek:"everyWeek",daysOfWeek:new Array(7),interval:1},n=(e=this.formData.r_rule?m.RRule.fromString(this.formData.r_rule):new m.RRule).options.bymonth||[],r=e.options.bynmonthday||[],a=e.options.bymonthday||[],i=e.options.bynmonthday||[],l=e.options.byweekday||[],o=e.options.bysetpos||[],d=e.options.dtstart,s=e.options.until,u=e.options.count,c=e.options.freq;t.interval=e.options.interval,t.cycleMonth=0===n.length?"everyMonth":"customMonth",t.count=u,t.dtStart=d,t.until=s,n.concat(r).forEach(function(e){t.months[e-1]=!0}),a.concat(i).forEach(function(e){-1===e?t.daysOfMonth[31]=!0:e>0&&(t.daysOfMonth[e-1]=!0)}),(a.length>0||l.length>0)&&(t.cycleDays="customDay"),o.length>0&&1===l.length&&0===n.length&&0===i.length&&c===m.Frequency.MONTHLY?(o.forEach(function(e){-1===e?t.weeksOfMonth[4]=!0:t.weeksOfMonth[e-1]=!0}),l.forEach(function(e){t.daysOfWeekForWeeksOfMonth=e}),t.cycleWeek="customWeek",this.setCustomDayDisable(!0)):((a.length>0||l.length>0)&&(t.cycleDays="customDay",l.forEach(function(e){t.daysOfWeek[e]=!0})),this.setCustomDayDisable(0===a.length)),this.updateRRuleSet(e),this.patchCycleValues(t)}},{key:"validateDailyForm",value:function(e){if(!e)return this.errors;var t={schedule_type:"2",time_radio:"1",time:null,time1_start_hour:null,time1_end_hour:null,time2_start_hour:null,time2_end_hour:null,time3_start_hour:null,time3_end_hour:null,time1_start_minute:null,time1_end_minute:null,time2_start_minute:null,time2_end_minute:null,time3_start_minute:null,time3_end_minute:null,time1_cycle_value:null,time2_cycle_value:null,time3_cycle_value:null,time1_cycle_unit:"1",time2_cycle_unit:"1",time3_cycle_unit:"1"};return t.time_radio=this.type2Form.get("time_radio").value,this.errors=null,e.startsWith("time")&&(t.time=this.simpleForm.get("time").value,this.clearFormErrors(this.dailyForm),this.clearFormErrors(this.simpleForm),this.clearFormErrors(this.type2Form),"0"===t.time_radio?t.time||(this.errors=Object.assign({time_required:!0},this.errors)):"1"===t.time_radio&&(parseInt(e[4],10),t.time1_start_hour=this.dailyForm.get("time1_start_hour").value,t.time1_end_hour=this.dailyForm.get("time1_end_hour").value,t.time1_start_minute=this.dailyForm.get("time1_start_minute").value,t.time1_end_minute=this.dailyForm.get("time1_end_minute").value,t.time1_cycle_value=this.dailyForm.get("time1_cycle_value").value,(!this.isNullOrEmpty(t.time1_start_hour)||!this.isNullOrEmpty(t.time1_end_hour)||!this.isNullOrEmpty(t.time1_cycle_value))&&(this.isNullOrEmpty(t.time1_start_hour)||this.isNullOrEmpty(t.time1_end_hour)||this.isNullOrEmpty(t.time1_cycle_value))&&(this.errors=Object.assign({time1_required:!0},this.errors)),t.time2_start_hour=this.dailyForm.get("time2_start_hour").value,t.time2_end_hour=this.dailyForm.get("time2_end_hour").value,t.time2_start_minute=this.dailyForm.get("time2_start_minute").value,t.time2_end_minute=this.dailyForm.get("time2_end_minute").value,t.time2_cycle_value=this.dailyForm.get("time2_cycle_value").value,(!this.isNullOrEmpty(t.time2_start_hour)||!this.isNullOrEmpty(t.time2_end_hour)||!this.isNullOrEmpty(t.time2_cycle_value))&&(this.isNullOrEmpty(t.time2_start_hour)||this.isNullOrEmpty(t.time2_end_hour)||this.isNullOrEmpty(t.time2_cycle_value))&&(this.errors=Object.assign({time2_required:!0},this.errors)),t.time3_start_hour=this.dailyForm.get("time3_start_hour").value,t.time3_end_hour=this.dailyForm.get("time3_end_hour").value,t.time3_start_minute=this.dailyForm.get("time3_start_minute").value,t.time3_end_minute=this.dailyForm.get("time3_end_minute").value,t.time3_cycle_value=this.dailyForm.get("time3_cycle_value").value,(!this.isNullOrEmpty(t.time3_start_hour)||!this.isNullOrEmpty(t.time3_end_hour)||!this.isNullOrEmpty(t.time3_cycle_value))&&(this.isNullOrEmpty(t.time3_start_hour)||this.isNullOrEmpty(t.time3_end_hour)||this.isNullOrEmpty(t.time3_cycle_value))&&(this.errors=Object.assign({time3_required:!0},this.errors)))),this.setParentFormErrors(this.errors),this.errors}},{key:"setParentFormErrors",value:function(e){if(this.controlContainer&&this.controlContainer.control){var t=this.formControlName;if(this.formControl&&this.formControl.parent)for(var n in this.formControl.parent.controls)if(this.formControl.parent.controls.hasOwnProperty(n)&&this.formControl.parent.get(n)===this.formControl){t=n;break}var r=this.controlContainer.control.errors;r&&delete r[t],e&&((r=Object.assign({},r))[t]=e),r&&0===Object.values(r).length&&(r=null),this.controlContainer.control.setErrors(r)}}},{key:"isNullOrEmpty",value:function(e){return!1===e||null==e||""===e}},{key:"clearFormErrors",value:function(e){for(var t in e.controls)e.controls.hasOwnProperty(t)&&e.controls[t].setErrors(null)}}]),t}()).\u0275fac=function(e){return new(e||Z)(i.\u0275\u0275directiveInject(o.FormBuilder),i.\u0275\u0275directiveInject(o.ControlContainer,13),i.\u0275\u0275directiveInject(l.DatePipe))},Z.\u0275cmp=i.\u0275\u0275defineComponent({type:Z,selectors:[["dw-job-time-setting"]],inputs:{dwSize:"dwSize",dwShowRRuleResult:"dwShowRRuleResult",dwJobType:"dwJobType",formControlName:"formControlName",formControl:"formControl"},features:[i.\u0275\u0275ProvidersFeature([{provide:o.NG_VALUE_ACCESSOR,useExisting:(0,i.forwardRef)(function(){return Z}),multi:!0},{provide:o.NG_VALIDATORS,useExisting:(0,i.forwardRef)(function(){return Z}),multi:!0}])],decls:13,vars:14,consts:[[3,"formGroup"],["formControlName","cronType",3,"dwSize",4,"ngIf"],[3,"formGroup","ngStyle"],["time_radio_0",""],["time_radio_1",""],[4,"ngTemplateOutlet"],[4,"ngIf"],[3,"ngStyle"],["dw-row","",3,"formGroup"],["formControlName","cronType",3,"dwSize"],["dw-radio-button","","dwValue","daily"],["dw-radio-button","","dwValue","cycle"],["dwSpan","24",3,"dwErrorTip"],["formControlName","time",3,"dwSize"],["timeErrorTpl",""],[3,"ngClass"],["formControlName","time1_start_hour","dwAllowClear","",3,"dwSize"],[3,"dwValue","dwLabel",4,"ngFor","ngForOf"],["formControlName","time1_end_hour","dwAllowClear","",3,"dwSize"],["formControlName","time1_cycle_value","dwMin","0","dwMax","59",1,"timeUnit",3,"dwSize"],["formControlName","time1_cycle_unit","dwAllowClear","",3,"dwSize"],["dwValue","1",3,"dwLabel"],["dwValue","2",3,"dwLabel"],[2,"margin-top","5px","display","none"],["formControlName","time1_start_minute","dwAllowClear","",3,"dwSize"],["formControlName","time1_end_minute","dwAllowClear","",3,"dwSize"],["dwSpan","24",3,"dwValidateStatus","dwErrorTip"],["formControlName","time2_start_hour","dwAllowClear","",3,"dwSize"],["formControlName","time2_end_hour","dwAllowClear","",3,"dwSize"],["formControlName","time2_cycle_value","dwMin","0","dwMax","59",1,"timeUnit",3,"dwSize"],["formControlName","time2_cycle_unit","dwAllowClear","",3,"dwSize"],["formControlName","time2_start_minute","dwAllowClear","",3,"dwSize"],["formControlName","time2_end_minute","dwAllowClear","",3,"dwSize"],["formControlName","time3_start_hour","dwAllowClear","",3,"dwSize"],["formControlName","time3_end_hour","dwAllowClear","",3,"dwSize"],["formControlName","time3_cycle_value","dwMin","0","dwMax","59",1,"timeUnit",3,"dwSize"],["formControlName","time3_cycle_unit","dwAllowClear","",3,"dwSize"],["formControlName","time3_start_minute","dwAllowClear","",3,"dwSize"],["formControlName","time3_end_minute","dwAllowClear","",3,"dwSize"],[3,"dwValue","dwLabel"],["formControlName","time_radio","dwName","time_radio",2,"width","100%",3,"dwSize"],["dw-row",""],["dw-col","","dwSpan","3",2,"margin-top","8px"],["dw-radio","",3,"dwValue"],["dw-col","","dwSpan","20"],["dw-col","","dwSpan","3",2,"margin-top","3px"],["dw-col","","dwSpan","20",1,"font14"],["dw-col","",3,"dwSpan"],["dw-col","","dwSpan","4"],["formControlName","cycleMonth","dwName","cycleMonth",2,"width","100%",3,"dwSize"],["dw-radio","","dwValue","everyMonth"],["dw-radio","","dwValue","customMonth"],["dwName","months","formArrayName","months",2,"width","100%"],[4,"ngFor","ngForOf"],[2,"height","3px"],["formControlName","cycleWeek","dwName","cycleWeek",2,"width","100%",3,"dwSize"],["dw-radio","","dwValue","everyWeek"],["dw-radio","","dwValue","customWeek"],["formArrayName","weeksOfMonth"],["formControlName","daysOfWeekForWeeksOfMonth","dwAllowClear","",3,"dwSize","dwDisabled"],["formControlName","cycleDays","dwName","cycleDays",2,"width","100%",3,"dwSize","dwDisabled"],["dw-radio","","dwValue","everyDay"],["dw-radio","","dwValue","customDay"],["formArrayName","daysOfWeek"],["dwName","daysOfMonth","formArrayName","daysOfMonth",2,"width","100%"],["dw-row","",2,"margin","5px 0"],["formControlName","dtStart","dwShowTime","",3,"dwSize"],["formControlName","until","dwShowTime","",3,"dwSize"],["formControlName","count","dwMin","-1",3,"dwPlaceHolder","dwSize"],["dw-col","","dwSpan","8",4,"ngIf"],["dw-checkbox","",1,"days-of-month",3,"formControlName","dwDisabled"],["dw-checkbox","",3,"formControlName","dwDisabled"],["dw-col","","dwSpan","8"],["dwSize","small",3,"dwData"],["table",""]],template:function(e,t){if(1&e&&(i.\u0275\u0275elementStart(0,"form",0),i.\u0275\u0275template(1,g,7,7,"dw-radio-group",1),i.\u0275\u0275elementStart(2,"div",2),i.\u0275\u0275template(3,C,5,3,"ng-template",null,3,i.\u0275\u0275templateRefExtractor),i.\u0275\u0275template(5,B,103,97,"ng-template",null,4,i.\u0275\u0275templateRefExtractor),i.\u0275\u0275template(7,A,1,0,"ng-container",5),i.\u0275\u0275template(8,P,1,0,"ng-container",5),i.\u0275\u0275template(9,q,16,11,"ng-container",6),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(10,"div",7),i.\u0275\u0275elementStart(11,"div",8),i.\u0275\u0275template(12,X,74,46,"ng-container",6),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd()),2&e){var n=i.\u0275\u0275reference(4),r=i.\u0275\u0275reference(6);i.\u0275\u0275property("formGroup",t.mainForm),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",void 0===t.dwJobType||(t.hasJobType("SIMPLE")||t.hasJobType("CYCLE"))&&t.hasJobType("RRULE")),i.\u0275\u0275advance(1),i.\u0275\u0275property("formGroup",t.type2Form)("ngStyle",i.\u0275\u0275pureFunction1(10,ee,"daily"===t.mainForm.get("cronType").value?"block":"none")),i.\u0275\u0275advance(5),i.\u0275\u0275property("ngTemplateOutlet",t.hasJobType("SIMPLE")&&!t.hasJobType("CYCLE")?n:null),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngTemplateOutlet",t.hasJobType("CYCLE")&&!t.hasJobType("SIMPLE")?r:null),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",void 0===t.dwJobType||t.hasJobType("SIMPLE")&&t.hasJobType("CYCLE")),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngStyle",i.\u0275\u0275pureFunction1(12,ee,"cycle"===t.mainForm.get("cronType").value||t.dwJobType&&t.hasJobType("RRULE",!0)?"block":"none")),i.\u0275\u0275advance(1),i.\u0275\u0275property("formGroup",t.rruleForm),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",t.hasJobType("RRULE"))}},directives:[o.\u0275NgNoValidate,o.NgControlStatusGroup,o.FormGroupDirective,l.NgIf,l.NgStyle,l.NgTemplateOutlet,v.DwRowDirective,d.DwRadioGroupComponent,o.NgControlStatus,o.FormControlName,d.DwRadioComponent,d.DwRadioButtonDirective,s.DwFormItemComponent,v.DwColDirective,s.DwFormControlComponent,u.DwTimePickerComponent,l.NgClass,c.DwSelectComponent,l.NgForOf,h.DwInputNumberComponent,c.DwOptionComponent,y.DwCheckboxWrapperComponent,o.FormArrayName,_.DwDividerComponent,f.DwDatePickerComponent,y.DwCheckboxComponent,w.DwTableComponent,w.DwTheadComponent,w.DwTrDirective,w.DwTableCellDirective,w.DwThMeasureDirective,w.DwTbodyComponent],pipes:[b.TranslatePipe],styles:["[dw-checkbox]>span:nth-child(2){display:inline-block;min-width:40px}dw-checkbox-wrapper[_ngcontent-%COMP%] > label[dw-checkbox][_ngcontent-%COMP%]:first-child, dw-checkbox-group[_ngcontent-%COMP%] > label[dw-checkbox][_ngcontent-%COMP%]:first-child{margin-left:8px}.radio-vertical[_ngcontent-%COMP%]{display:block}dw-select[_ngcontent-%COMP%]{width:80px}dw-form-time-picker[_ngcontent-%COMP%]{width:120px;display:inline-block}.ant-divider-horizontal[_ngcontent-%COMP%]{margin:12px 0}.timeUnit[_ngcontent-%COMP%]{width:80px}.ant-form-explain[_ngcontent-%COMP%], .ant-form-extra[_ngcontent-%COMP%]{color:red}.error[_ngcontent-%COMP%]{display:inline-block;border:1px solid red;border-radius:3px}.font14[_ngcontent-%COMP%]{font-size:14px}"]}),Z),ie=function(){var t=n(function t(){e(this,t)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=i.\u0275\u0275defineInjector({imports:[[l.CommonModule,o.FormsModule,o.ReactiveFormsModule,S.DwFormItemsModule,b.TranslateModule,d.DwRadioModule,s.DwFormModule,u.DwTimePickerModule,c.DwSelectModule,p.DwInputModule,h.DwInputNumberModule,y.DwCheckboxModule,_.DwDividerModule,v.DwGridModule,w.DwTableModule,f.DwDatePickerModule]]}),t}()}}])}();