!function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function n(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}(self.webpackChunkassc_crs=self.webpackChunkassc_crs||[]).push([[8420],{33074:function(t,i,r){r.r(i),r.d(i,{DwUserPersonalizeComponent:function(){return D},DwUserUiModule:function(){return C}});var o=r(42746),a=r(66800),s=r(68521),d=r(32276),l=r(44720),c=r(55245),u=r(87858),p=r(83522),w=r(61315),m=r(46375),f=r(52683),v=r(80376),h=r(85277);function g(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"span",3),o.\u0275\u0275element(1,"i",4),o.\u0275\u0275elementStart(2,"span"),o.\u0275\u0275text(3),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()),2&e){var n=o.\u0275\u0275nextContext();o.\u0275\u0275advance(3),o.\u0275\u0275textInterpolate(n.userDetail.userName)}}function P(e,t){if(1&e){var n=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"span",5),o.\u0275\u0275listener("dwPopoverVisibleChange",function(e){return o.\u0275\u0275restoreView(n),o.\u0275\u0275nextContext().visibleFromTitle=e}),o.\u0275\u0275element(1,"i",4),o.\u0275\u0275elementStart(2,"span"),o.\u0275\u0275text(3),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()}if(2&e){var i=o.\u0275\u0275nextContext(),r=o.\u0275\u0275reference(3);o.\u0275\u0275property("dwPopoverVisible",i.visibleFromTitle)("dwPopoverContent",r),o.\u0275\u0275advance(3),o.\u0275\u0275textInterpolate(i.userDetail.userName)}}function I(e,t){if(1&e){var n=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"a",10),o.\u0275\u0275listener("click",function(){o.\u0275\u0275restoreView(n);var e=o.\u0275\u0275nextContext().$implicit;return o.\u0275\u0275nextContext(2).personalize(e.id)}),o.\u0275\u0275text(1),o.\u0275\u0275pipe(2,"translate"),o.\u0275\u0275elementEnd()}if(2&e){var i=o.\u0275\u0275nextContext().$implicit;o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate(o.\u0275\u0275pipeBind1(2,1,i.title))}}function b(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"dw-list-item"),o.\u0275\u0275elementStart(1,"dw-list-item-meta",8),o.\u0275\u0275template(2,I,3,3,"ng-template",null,9,o.\u0275\u0275templateRefExtractor),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()),2&e){var n=o.\u0275\u0275reference(3);o.\u0275\u0275advance(1),o.\u0275\u0275property("dwTitle",n)}}function S(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"dw-list",6),o.\u0275\u0275template(1,b,4,1,"ng-template",null,7,o.\u0275\u0275templateRefExtractor),o.\u0275\u0275elementEnd()),2&e){var n=o.\u0275\u0275reference(2),i=o.\u0275\u0275nextContext();o.\u0275\u0275property("dwDataSource",i.data)("dwRenderItem",n)("dwItemLayout","horizontal")}}var x,D=((x=function(){function t(n,i,r,o,a){e(this,t),this.userService=n,this.programExecuteService=i,this.dwAuthPermissionInfoService=r,this.dwUpdatePasswordModalService=o,this.dwLanguagePreService=a,this.data=[],this.userDetail={},this.programPre=this.dwLanguagePreService.program,this.userDetail=this.userService.getUserInfo()}return n(t,[{key:"ngOnDestroy",value:function(){this.permissionSubscription&&this.permissionSubscription.unsubscribe()}},{key:"ngOnInit",value:function(){var e=this,t=[{id:"update-password",title:"dw-update-password-title"},{id:"dw-home-setting",title:this.programPre+"dw-home-setting",dwAuthId:"dw-home-setting"},{id:"dw-theme-setting",title:this.programPre+"dw-theme-setting",dwAuthId:"dw-theme-setting"}];this.permissionSubscription=this.dwAuthPermissionInfoService.authorizedList$.subscribe(function(n){if(n){var i=n;t.forEach(function(t){t.dwAuthId?void 0!==i[t.dwAuthId]&&e.data.push(t):e.data.push(t)})}})}},{key:"personalize",value:function(e){switch(this.visibleFromTitle=!1,e){case"update-password":this.updatePassword();break;default:this.programExecuteService.byId(e)}}},{key:"updatePassword",value:function(){this.dwUpdatePasswordModalService.open().subscribe(function(e){console.log("ret>>>",e)})}}]),t}()).\u0275fac=function(e){return new(e||x)(o.\u0275\u0275directiveInject(a.DwUserService),o.\u0275\u0275directiveInject(s.DwProgramExecuteService),o.\u0275\u0275directiveInject(d.DwAuthPermissionInfoService),o.\u0275\u0275directiveInject(l.DwUpdatePasswordModalService),o.\u0275\u0275directiveInject(s.DwLanguagePreService))},x.\u0275cmp=o.\u0275\u0275defineComponent({type:x,selectors:[["dw-user-personalize"]],decls:4,vars:2,consts:[["class","dw-f-header-item",4,"ngIf"],["dw-popover","","dwPopoverTrigger","click","dwPopoverPlacement","bottomRight","class","dw-f-header-item dw-f-text-link",3,"dwPopoverVisible","dwPopoverContent","dwPopoverVisibleChange",4,"ngIf"],["userPersonalizeTemp",""],[1,"dw-f-header-item"],["dw-icon","","dwType","user",1,"dw-header-icon"],["dw-popover","","dwPopoverTrigger","click","dwPopoverPlacement","bottomRight",1,"dw-f-header-item","dw-f-text-link",3,"dwPopoverVisible","dwPopoverContent","dwPopoverVisibleChange"],["dwSize","small",3,"dwDataSource","dwRenderItem","dwItemLayout"],["item",""],[3,"dwTitle"],["dwTitle",""],[3,"click"]],template:function(e,t){1&e&&(o.\u0275\u0275template(0,g,4,1,"span",0),o.\u0275\u0275template(1,P,4,3,"span",1),o.\u0275\u0275template(2,S,3,3,"ng-template",null,2,o.\u0275\u0275templateRefExtractor)),2&e&&(o.\u0275\u0275property("ngIf",0===t.data.length),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",t.data.length>0))},directives:[c.NgIf,h.DwIconDirective,f.DwPopoverDirective,v.DwListComponent,v.DwListItemComponent,v.DwListItemMetaComponent],pipes:[p.TranslatePipe],styles:[""]}),x),C=function(){var t=n(function t(){e(this,t)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=o.\u0275\u0275defineInjector({imports:[[c.CommonModule,p.TranslateModule,f.DwPopoverModule,v.DwListModule,h.DwIconModule],w.DwForgetModule,m.DwAccountInfoModule,u.DwTenantModule]}),t}()}}])}();