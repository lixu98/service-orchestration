"use strict";(self.webpackChunkassc_crs=self.webpackChunkassc_crs||[]).push([[8260],{29896:function(e,t,n){n.r(t),n.d(t,{DwCronJobsModule:function(){return ne},DwJobTimeSettingComponent:function(){return te}});var r=n(42746),i=n(55245),l=n(1020),a=n(6588),o=n(82542),m=n(85773),d=n(65052),s=n(35626),p=n(67280),u=n(119),c=n(74591),h=n(80419),y=n(29872),_=n(62695),w=n(41937),v=n(21656),f=n(83522);function S(e,t){if(1&e&&(r.\u0275\u0275elementStart(0,"dw-radio-group",9),r.\u0275\u0275elementStart(1,"div",10),r.\u0275\u0275text(2),r.\u0275\u0275pipe(3,"translate"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(4,"div",11),r.\u0275\u0275text(5),r.\u0275\u0275pipe(6,"translate"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd()),2&e){const e=r.\u0275\u0275nextContext();r.\u0275\u0275property("dwSize",e.dwSize),r.\u0275\u0275advance(2),r.\u0275\u0275textInterpolate(r.\u0275\u0275pipeBind1(3,3,"every-day-bg-job")),r.\u0275\u0275advance(3),r.\u0275\u0275textInterpolate(r.\u0275\u0275pipeBind1(6,5,"cycle-day-bg-job"))}}function b(e,t){1&e&&(r.\u0275\u0275elementContainerStart(0),r.\u0275\u0275text(1),r.\u0275\u0275pipe(2,"translate"),r.\u0275\u0275elementContainerEnd()),2&e&&(r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate(r.\u0275\u0275pipeBind1(2,1,"complete-the-info")))}function g(e,t){if(1&e&&r.\u0275\u0275template(0,b,3,3,"ng-container",6),2&e){const e=r.\u0275\u0275nextContext(2);r.\u0275\u0275property("ngIf",null==e.errors?null:e.errors.time_required)}}function F(e,t){if(1&e&&(r.\u0275\u0275elementStart(0,"dw-form-item",0),r.\u0275\u0275elementStart(1,"dw-form-control",12),r.\u0275\u0275element(2,"dw-time-picker",13),r.\u0275\u0275template(3,g,1,1,"ng-template",null,14,r.\u0275\u0275templateRefExtractor),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd()),2&e){const e=r.\u0275\u0275reference(4),t=r.\u0275\u0275nextContext();r.\u0275\u0275property("formGroup",t.simpleForm),r.\u0275\u0275advance(1),r.\u0275\u0275property("dwErrorTip",e),r.\u0275\u0275advance(1),r.\u0275\u0275property("dwSize",t.dwSize)}}function E(e,t){if(1&e&&r.\u0275\u0275element(0,"dw-option",39),2&e){const e=t.$implicit;r.\u0275\u0275propertyInterpolate("dwLabel",("0"+e).substr(-2)),r.\u0275\u0275property("dwValue",e)}}function C(e,t){if(1&e&&r.\u0275\u0275element(0,"dw-option",39),2&e){const e=t.$implicit;r.\u0275\u0275propertyInterpolate("dwLabel",("0"+e).substr(-2)),r.\u0275\u0275property("dwValue",e)}}function O(e,t){if(1&e&&r.\u0275\u0275element(0,"dw-option",39),2&e){const e=t.$implicit;r.\u0275\u0275propertyInterpolate("dwLabel",("0"+e).substr(-2)),r.\u0275\u0275property("dwValue",e)}}function x(e,t){if(1&e&&r.\u0275\u0275element(0,"dw-option",39),2&e){const e=t.$implicit;r.\u0275\u0275propertyInterpolate("dwLabel",("0"+e).substr(-2)),r.\u0275\u0275property("dwValue",e)}}function D(e,t){if(1&e&&r.\u0275\u0275element(0,"dw-option",39),2&e){const e=t.$implicit;r.\u0275\u0275propertyInterpolate("dwLabel",("0"+e).substr(-2)),r.\u0275\u0275property("dwValue",e)}}function M(e,t){if(1&e&&r.\u0275\u0275element(0,"dw-option",39),2&e){const e=t.$implicit;r.\u0275\u0275propertyInterpolate("dwLabel",("0"+e).substr(-2)),r.\u0275\u0275property("dwValue",e)}}function k(e,t){if(1&e&&r.\u0275\u0275element(0,"dw-option",39),2&e){const e=t.$implicit;r.\u0275\u0275propertyInterpolate("dwLabel",("0"+e).substr(-2)),r.\u0275\u0275property("dwValue",e)}}function I(e,t){if(1&e&&r.\u0275\u0275element(0,"dw-option",39),2&e){const e=t.$implicit;r.\u0275\u0275propertyInterpolate("dwLabel",("0"+e).substr(-2)),r.\u0275\u0275property("dwValue",e)}}function z(e,t){if(1&e&&r.\u0275\u0275element(0,"dw-option",39),2&e){const e=t.$implicit;r.\u0275\u0275propertyInterpolate("dwLabel",("0"+e).substr(-2)),r.\u0275\u0275property("dwValue",e)}}function T(e,t){if(1&e&&r.\u0275\u0275element(0,"dw-option",39),2&e){const e=t.$implicit;r.\u0275\u0275propertyInterpolate("dwLabel",("0"+e).substr(-2)),r.\u0275\u0275property("dwValue",e)}}function N(e,t){if(1&e&&r.\u0275\u0275element(0,"dw-option",39),2&e){const e=t.$implicit;r.\u0275\u0275propertyInterpolate("dwLabel",("0"+e).substr(-2)),r.\u0275\u0275property("dwValue",e)}}function R(e,t){if(1&e&&r.\u0275\u0275element(0,"dw-option",39),2&e){const e=t.$implicit;r.\u0275\u0275propertyInterpolate("dwLabel",("0"+e).substr(-2)),r.\u0275\u0275property("dwValue",e)}}const V=function(e){return{error:e}};function W(e,t){if(1&e&&(r.\u0275\u0275elementStart(0,"div",0),r.\u0275\u0275elementStart(1,"div",15),r.\u0275\u0275elementStart(2,"div"),r.\u0275\u0275elementStart(3,"label"),r.\u0275\u0275text(4),r.\u0275\u0275pipe(5,"translate"),r.\u0275\u0275elementStart(6,"dw-select",16),r.\u0275\u0275template(7,E,1,2,"dw-option",17),r.\u0275\u0275elementEnd(),r.\u0275\u0275text(8," \xa0~\xa0 "),r.\u0275\u0275elementStart(9,"dw-select",18),r.\u0275\u0275template(10,C,1,2,"dw-option",17),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(11,"label"),r.\u0275\u0275text(12),r.\u0275\u0275pipe(13,"translate"),r.\u0275\u0275element(14,"dw-input-number",19),r.\u0275\u0275text(15," \xa0 "),r.\u0275\u0275elementStart(16,"dw-select",20),r.\u0275\u0275element(17,"dw-option",21),r.\u0275\u0275pipe(18,"translate"),r.\u0275\u0275element(19,"dw-option",22),r.\u0275\u0275pipe(20,"translate"),r.\u0275\u0275elementEnd(),r.\u0275\u0275text(21),r.\u0275\u0275pipe(22,"translate"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(23,"div",23),r.\u0275\u0275elementStart(24,"label"),r.\u0275\u0275text(25," \u6bcf\u5c0f\u6642 "),r.\u0275\u0275elementStart(26,"dw-select",24),r.\u0275\u0275template(27,O,1,2,"dw-option",17),r.\u0275\u0275elementEnd(),r.\u0275\u0275text(28," \u5206\u81f3 "),r.\u0275\u0275elementStart(29,"dw-select",25),r.\u0275\u0275template(30,x,1,2,"dw-option",17),r.\u0275\u0275elementEnd(),r.\u0275\u0275text(31," \u5206 "),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(32,"dw-form-item"),r.\u0275\u0275element(33,"dw-form-control",26),r.\u0275\u0275pipe(34,"translate"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(35,"div",15),r.\u0275\u0275elementStart(36,"div"),r.\u0275\u0275elementStart(37,"label"),r.\u0275\u0275text(38),r.\u0275\u0275pipe(39,"translate"),r.\u0275\u0275elementStart(40,"dw-select",27),r.\u0275\u0275template(41,D,1,2,"dw-option",17),r.\u0275\u0275elementEnd(),r.\u0275\u0275text(42," \xa0~\xa0 "),r.\u0275\u0275elementStart(43,"dw-select",28),r.\u0275\u0275template(44,M,1,2,"dw-option",17),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(45,"label"),r.\u0275\u0275text(46),r.\u0275\u0275pipe(47,"translate"),r.\u0275\u0275element(48,"dw-input-number",29),r.\u0275\u0275text(49," \xa0 "),r.\u0275\u0275elementStart(50,"dw-select",30),r.\u0275\u0275element(51,"dw-option",21),r.\u0275\u0275pipe(52,"translate"),r.\u0275\u0275element(53,"dw-option",22),r.\u0275\u0275pipe(54,"translate"),r.\u0275\u0275elementEnd(),r.\u0275\u0275text(55),r.\u0275\u0275pipe(56,"translate"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(57,"div",23),r.\u0275\u0275elementStart(58,"label"),r.\u0275\u0275text(59," \u5206\u9418\uff1a\u5f9e "),r.\u0275\u0275elementStart(60,"dw-select",31),r.\u0275\u0275template(61,k,1,2,"dw-option",17),r.\u0275\u0275elementEnd(),r.\u0275\u0275text(62," \u5206 \u5230 "),r.\u0275\u0275elementStart(63,"dw-select",32),r.\u0275\u0275template(64,I,1,2,"dw-option",17),r.\u0275\u0275elementEnd(),r.\u0275\u0275text(65," \u5206 "),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(66,"dw-form-item"),r.\u0275\u0275element(67,"dw-form-control",26),r.\u0275\u0275pipe(68,"translate"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(69,"div",15),r.\u0275\u0275elementStart(70,"div"),r.\u0275\u0275elementStart(71,"label"),r.\u0275\u0275text(72),r.\u0275\u0275pipe(73,"translate"),r.\u0275\u0275elementStart(74,"dw-select",33),r.\u0275\u0275template(75,z,1,2,"dw-option",17),r.\u0275\u0275elementEnd(),r.\u0275\u0275text(76," \xa0~\xa0 "),r.\u0275\u0275elementStart(77,"dw-select",34),r.\u0275\u0275template(78,T,1,2,"dw-option",17),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(79,"label"),r.\u0275\u0275text(80),r.\u0275\u0275pipe(81,"translate"),r.\u0275\u0275element(82,"dw-input-number",35),r.\u0275\u0275text(83," \xa0 "),r.\u0275\u0275elementStart(84,"dw-select",36),r.\u0275\u0275element(85,"dw-option",21),r.\u0275\u0275pipe(86,"translate"),r.\u0275\u0275element(87,"dw-option",22),r.\u0275\u0275pipe(88,"translate"),r.\u0275\u0275elementEnd(),r.\u0275\u0275text(89),r.\u0275\u0275pipe(90,"translate"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(91,"div",23),r.\u0275\u0275elementStart(92,"label"),r.\u0275\u0275text(93," \u6bcf\u5c0f\u6642\u7684 "),r.\u0275\u0275elementStart(94,"dw-select",37),r.\u0275\u0275template(95,N,1,2,"dw-option",17),r.\u0275\u0275elementEnd(),r.\u0275\u0275text(96," \u5206 \u81f3 "),r.\u0275\u0275elementStart(97,"dw-select",38),r.\u0275\u0275template(98,R,1,2,"dw-option",17),r.\u0275\u0275elementEnd(),r.\u0275\u0275text(99," \u5206 "),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(100,"dw-form-item"),r.\u0275\u0275element(101,"dw-form-control",26),r.\u0275\u0275pipe(102,"translate"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd()),2&e){const e=r.\u0275\u0275nextContext();r.\u0275\u0275property("formGroup",e.dailyForm),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngClass",r.\u0275\u0275pureFunction1(91,V,null==e.errors?null:e.errors.time1_required)),r.\u0275\u0275advance(3),r.\u0275\u0275textInterpolate1(" ",r.\u0275\u0275pipeBind1(5,55,"section-1"),"\xa0 "),r.\u0275\u0275advance(2),r.\u0275\u0275property("dwSize",e.dwSize),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngForOf",e.hoursOfDay),r.\u0275\u0275advance(2),r.\u0275\u0275property("dwSize",e.dwSize),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngForOf",e.hoursOfDay),r.\u0275\u0275advance(2),r.\u0275\u0275textInterpolate1(" \xa0",r.\u0275\u0275pipeBind1(13,57,"every"),"\xa0 "),r.\u0275\u0275advance(2),r.\u0275\u0275property("dwSize",e.dwSize),r.\u0275\u0275advance(2),r.\u0275\u0275property("dwSize",e.dwSize),r.\u0275\u0275advance(1),r.\u0275\u0275propertyInterpolate("dwLabel",r.\u0275\u0275pipeBind1(18,59,"minute")),r.\u0275\u0275advance(2),r.\u0275\u0275propertyInterpolate("dwLabel",r.\u0275\u0275pipeBind1(20,61,"hour")),r.\u0275\u0275advance(2),r.\u0275\u0275textInterpolate1(" \xa0",r.\u0275\u0275pipeBind1(22,63,"execute-once")," "),r.\u0275\u0275advance(5),r.\u0275\u0275property("dwSize",e.dwSize),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngForOf",e.minutesOfHour),r.\u0275\u0275advance(2),r.\u0275\u0275property("dwSize",e.dwSize),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngForOf",e.minutesOfHour),r.\u0275\u0275advance(3),r.\u0275\u0275property("dwValidateStatus",null!=e.errors&&e.errors.time1_required?"error":null)("dwErrorTip",r.\u0275\u0275pipeBind1(34,65,"complete-the-info")),r.\u0275\u0275advance(2),r.\u0275\u0275property("ngClass",r.\u0275\u0275pureFunction1(93,V,null==e.errors?null:e.errors.time2_required)),r.\u0275\u0275advance(3),r.\u0275\u0275textInterpolate1(" ",r.\u0275\u0275pipeBind1(39,67,"section-2"),"\xa0 "),r.\u0275\u0275advance(2),r.\u0275\u0275property("dwSize",e.dwSize),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngForOf",e.hoursOfDay),r.\u0275\u0275advance(2),r.\u0275\u0275property("dwSize",e.dwSize),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngForOf",e.hoursOfDay),r.\u0275\u0275advance(2),r.\u0275\u0275textInterpolate1(" \xa0",r.\u0275\u0275pipeBind1(47,69,"every"),"\xa0 "),r.\u0275\u0275advance(2),r.\u0275\u0275property("dwSize",e.dwSize),r.\u0275\u0275advance(2),r.\u0275\u0275property("dwSize",e.dwSize),r.\u0275\u0275advance(1),r.\u0275\u0275propertyInterpolate("dwLabel",r.\u0275\u0275pipeBind1(52,71,"minute")),r.\u0275\u0275advance(2),r.\u0275\u0275propertyInterpolate("dwLabel",r.\u0275\u0275pipeBind1(54,73,"hour")),r.\u0275\u0275advance(2),r.\u0275\u0275textInterpolate1(" \xa0",r.\u0275\u0275pipeBind1(56,75,"execute-once")," "),r.\u0275\u0275advance(5),r.\u0275\u0275property("dwSize",e.dwSize),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngForOf",e.minutesOfHour),r.\u0275\u0275advance(2),r.\u0275\u0275property("dwSize",e.dwSize),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngForOf",e.minutesOfHour),r.\u0275\u0275advance(3),r.\u0275\u0275property("dwValidateStatus",null!=e.errors&&e.errors.time2_required?"error":null)("dwErrorTip",r.\u0275\u0275pipeBind1(68,77,"complete-the-info")),r.\u0275\u0275advance(2),r.\u0275\u0275property("ngClass",r.\u0275\u0275pureFunction1(95,V,null==e.errors?null:e.errors.time3_required)),r.\u0275\u0275advance(3),r.\u0275\u0275textInterpolate1(" ",r.\u0275\u0275pipeBind1(73,79,"section-3"),"\xa0 "),r.\u0275\u0275advance(2),r.\u0275\u0275property("dwSize",e.dwSize),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngForOf",e.hoursOfDay),r.\u0275\u0275advance(2),r.\u0275\u0275property("dwSize",e.dwSize),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngForOf",e.hoursOfDay),r.\u0275\u0275advance(2),r.\u0275\u0275textInterpolate1(" \xa0",r.\u0275\u0275pipeBind1(81,81,"every"),"\xa0 "),r.\u0275\u0275advance(2),r.\u0275\u0275property("dwSize",e.dwSize),r.\u0275\u0275advance(2),r.\u0275\u0275property("dwSize",e.dwSize),r.\u0275\u0275advance(1),r.\u0275\u0275propertyInterpolate("dwLabel",r.\u0275\u0275pipeBind1(86,83,"minute")),r.\u0275\u0275advance(2),r.\u0275\u0275propertyInterpolate("dwLabel",r.\u0275\u0275pipeBind1(88,85,"hour")),r.\u0275\u0275advance(2),r.\u0275\u0275textInterpolate1(" \xa0",r.\u0275\u0275pipeBind1(90,87,"execute-once")," "),r.\u0275\u0275advance(5),r.\u0275\u0275property("dwSize",e.dwSize),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngForOf",e.minutesOfHour),r.\u0275\u0275advance(2),r.\u0275\u0275property("dwSize",e.dwSize),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngForOf",e.minutesOfHour),r.\u0275\u0275advance(3),r.\u0275\u0275property("dwValidateStatus",null!=e.errors&&e.errors.time3_required?"error":null)("dwErrorTip",r.\u0275\u0275pipeBind1(102,89,"complete-the-info"))}}function L(e,t){1&e&&r.\u0275\u0275elementContainer(0)}function B(e,t){1&e&&r.\u0275\u0275elementContainer(0)}function $(e,t){1&e&&r.\u0275\u0275elementContainer(0)}function A(e,t){1&e&&r.\u0275\u0275elementContainer(0)}function P(e,t){if(1&e&&(r.\u0275\u0275elementContainerStart(0),r.\u0275\u0275elementStart(1,"dw-radio-group",40),r.\u0275\u0275elementStart(2,"div",41),r.\u0275\u0275elementStart(3,"div",42),r.\u0275\u0275elementStart(4,"label",43),r.\u0275\u0275text(5),r.\u0275\u0275pipe(6,"translate"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(7,"div",44),r.\u0275\u0275template(8,$,1,0,"ng-container",5),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(9,"div",41),r.\u0275\u0275elementStart(10,"div",45),r.\u0275\u0275elementStart(11,"label",43),r.\u0275\u0275text(12),r.\u0275\u0275pipe(13,"translate"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(14,"div",46),r.\u0275\u0275template(15,A,1,0,"ng-container",5),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementContainerEnd()),2&e){const e=r.\u0275\u0275nextContext(),t=r.\u0275\u0275reference(4),n=r.\u0275\u0275reference(6);r.\u0275\u0275advance(1),r.\u0275\u0275property("dwSize",e.dwSize),r.\u0275\u0275advance(3),r.\u0275\u0275property("dwValue","0"),r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate(r.\u0275\u0275pipeBind1(6,7,"time-of-every-day")),r.\u0275\u0275advance(3),r.\u0275\u0275property("ngTemplateOutlet",t),r.\u0275\u0275advance(3),r.\u0275\u0275property("dwValue","1"),r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate(r.\u0275\u0275pipeBind1(13,9,"daily-section")),r.\u0275\u0275advance(3),r.\u0275\u0275property("ngTemplateOutlet",n)}}function j(e,t){if(1&e&&(r.\u0275\u0275elementContainerStart(0),r.\u0275\u0275elementStart(1,"label",70),r.\u0275\u0275text(2),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementContainerEnd()),2&e){const e=t.$implicit,n=t.index,i=r.\u0275\u0275nextContext(2);r.\u0275\u0275advance(1),r.\u0275\u0275property("formControlName",n)("dwDisabled","everyMonth"===i.rruleForm.get("cycleMonth").value),r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate1(" ",e.label," ")}}function J(e,t){if(1&e&&(r.\u0275\u0275elementContainerStart(0),r.\u0275\u0275elementStart(1,"label",70),r.\u0275\u0275text(2),r.\u0275\u0275pipe(3,"translate"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementContainerEnd()),2&e){const e=t.$implicit,n=t.index,i=r.\u0275\u0275nextContext(2);r.\u0275\u0275advance(1),r.\u0275\u0275property("formControlName",n)("dwDisabled","everyWeek"===i.rruleForm.get("cycleWeek").value),r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate1(" ",r.\u0275\u0275pipeBind1(3,3,e.label)," ")}}function q(e,t){if(1&e&&(r.\u0275\u0275element(0,"dw-option",39),r.\u0275\u0275pipe(1,"translate")),2&e){const e=t.$implicit;r.\u0275\u0275propertyInterpolate("dwLabel",r.\u0275\u0275pipeBind1(1,2,e.label)),r.\u0275\u0275property("dwValue",e.value)}}function H(e,t){if(1&e&&(r.\u0275\u0275elementContainerStart(0),r.\u0275\u0275elementStart(1,"label",71),r.\u0275\u0275text(2),r.\u0275\u0275pipe(3,"translate"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementContainerEnd()),2&e){const e=t.$implicit,n=t.index,i=r.\u0275\u0275nextContext(2);r.\u0275\u0275advance(1),r.\u0275\u0275property("formControlName",n)("dwDisabled","everyDay"===i.rruleForm.get("cycleDays").value),r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate(r.\u0275\u0275pipeBind1(3,3,e.label))}}function G(e,t){if(1&e&&(r.\u0275\u0275elementContainerStart(0),r.\u0275\u0275elementStart(1,"label",70),r.\u0275\u0275text(2),r.\u0275\u0275pipe(3,"translate"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementContainerEnd()),2&e){const e=t.$implicit,n=t.index,i=r.\u0275\u0275nextContext(2);r.\u0275\u0275advance(1),r.\u0275\u0275property("formControlName",n)("dwDisabled","everyDay"===i.rruleForm.get("cycleDays").value),r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate1(" ",r.\u0275\u0275pipeBind1(3,3,e.label+"")," ")}}function U(e,t){if(1&e&&(r.\u0275\u0275elementStart(0,"tr"),r.\u0275\u0275elementStart(1,"td"),r.\u0275\u0275text(2),r.\u0275\u0275pipe(3,"translate"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(4,"td"),r.\u0275\u0275text(5),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(6,"td"),r.\u0275\u0275text(7),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(8,"td"),r.\u0275\u0275text(9),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(10,"td"),r.\u0275\u0275text(11),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;r.\u0275\u0275advance(2),r.\u0275\u0275textInterpolate(r.\u0275\u0275pipeBind1(3,7,"rrule.week."+e.getDay())),r.\u0275\u0275advance(3),r.\u0275\u0275textInterpolate3("",("0"+e.getHours()).slice(-2),":",("0"+e.getMinutes()).slice(-2),":",("0"+e.getSeconds()).slice(-2),""),r.\u0275\u0275advance(2),r.\u0275\u0275textInterpolate(e.getDate()),r.\u0275\u0275advance(2),r.\u0275\u0275textInterpolate(e.getMonth()+1),r.\u0275\u0275advance(2),r.\u0275\u0275textInterpolate(e.getFullYear())}}function Y(e,t){if(1&e&&(r.\u0275\u0275elementStart(0,"div",72),r.\u0275\u0275elementStart(1,"div"),r.\u0275\u0275elementStart(2,"label"),r.\u0275\u0275text(3),r.\u0275\u0275pipe(4,"translate"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(5,"dw-table",73,74),r.\u0275\u0275elementStart(7,"thead"),r.\u0275\u0275elementStart(8,"tr"),r.\u0275\u0275elementStart(9,"th"),r.\u0275\u0275text(10),r.\u0275\u0275pipe(11,"translate"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(12,"th"),r.\u0275\u0275text(13),r.\u0275\u0275pipe(14,"translate"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(15,"th"),r.\u0275\u0275text(16),r.\u0275\u0275pipe(17,"translate"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(18,"th"),r.\u0275\u0275text(19),r.\u0275\u0275pipe(20,"translate"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(21,"th"),r.\u0275\u0275text(22),r.\u0275\u0275pipe(23,"translate"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(24,"tbody"),r.\u0275\u0275template(25,U,12,9,"tr",53),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd()),2&e){const e=r.\u0275\u0275reference(6),t=r.\u0275\u0275nextContext(2);r.\u0275\u0275advance(3),r.\u0275\u0275textInterpolate(r.\u0275\u0275pipeBind1(4,8,"result")),r.\u0275\u0275advance(2),r.\u0275\u0275property("dwData",t.results),r.\u0275\u0275advance(5),r.\u0275\u0275textInterpolate(r.\u0275\u0275pipeBind1(11,10,"week")),r.\u0275\u0275advance(3),r.\u0275\u0275textInterpolate(r.\u0275\u0275pipeBind1(14,12,"time")),r.\u0275\u0275advance(3),r.\u0275\u0275textInterpolate(r.\u0275\u0275pipeBind1(17,14,"day")),r.\u0275\u0275advance(3),r.\u0275\u0275textInterpolate(r.\u0275\u0275pipeBind1(20,16,"month")),r.\u0275\u0275advance(3),r.\u0275\u0275textInterpolate(r.\u0275\u0275pipeBind1(23,18,"year")),r.\u0275\u0275advance(3),r.\u0275\u0275property("ngForOf",e.data)}}function K(e,t){if(1&e&&(r.\u0275\u0275elementContainerStart(0),r.\u0275\u0275elementStart(1,"div",47),r.\u0275\u0275elementStart(2,"div",41),r.\u0275\u0275elementStart(3,"div",48),r.\u0275\u0275elementStart(4,"dw-radio-group",49),r.\u0275\u0275elementStart(5,"label",50),r.\u0275\u0275text(6),r.\u0275\u0275pipe(7,"translate"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(8,"label",51),r.\u0275\u0275text(9),r.\u0275\u0275pipe(10,"translate"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(11,"div",44),r.\u0275\u0275elementStart(12,"dw-checkbox-wrapper",52),r.\u0275\u0275template(13,j,3,3,"ng-container",53),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275element(14,"dw-divider",54),r.\u0275\u0275elementStart(15,"div",41),r.\u0275\u0275elementStart(16,"div",48),r.\u0275\u0275elementStart(17,"dw-radio-group",55),r.\u0275\u0275elementStart(18,"label",56),r.\u0275\u0275text(19),r.\u0275\u0275pipe(20,"translate"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(21,"label",57),r.\u0275\u0275text(22),r.\u0275\u0275pipe(23,"translate"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(24,"div",44),r.\u0275\u0275elementStart(25,"dw-checkbox-wrapper",58),r.\u0275\u0275template(26,J,4,5,"ng-container",53),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(27,"label"),r.\u0275\u0275elementStart(28,"dw-select",59),r.\u0275\u0275template(29,q,2,4,"dw-option",17),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275element(30,"br"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275element(31,"dw-divider",54),r.\u0275\u0275elementStart(32,"div",41),r.\u0275\u0275elementStart(33,"div",48),r.\u0275\u0275elementStart(34,"dw-radio-group",60),r.\u0275\u0275elementStart(35,"label",61),r.\u0275\u0275text(36),r.\u0275\u0275pipe(37,"translate"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(38,"label",62),r.\u0275\u0275text(39),r.\u0275\u0275pipe(40,"translate"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(41,"div",44),r.\u0275\u0275elementStart(42,"label"),r.\u0275\u0275elementStart(43,"dw-checkbox-wrapper",63),r.\u0275\u0275template(44,H,4,5,"ng-container",53),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(45,"dw-checkbox-wrapper",64),r.\u0275\u0275template(46,G,4,5,"ng-container",53),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275element(47,"dw-divider",54),r.\u0275\u0275elementStart(48,"div",65),r.\u0275\u0275elementStart(49,"div",48),r.\u0275\u0275elementStart(50,"label"),r.\u0275\u0275text(51),r.\u0275\u0275pipe(52,"translate"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(53,"div",44),r.\u0275\u0275elementStart(54,"label"),r.\u0275\u0275element(55,"dw-date-picker",66),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(56,"div",65),r.\u0275\u0275elementStart(57,"div",48),r.\u0275\u0275elementStart(58,"label"),r.\u0275\u0275text(59),r.\u0275\u0275pipe(60,"translate"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(61,"div",44),r.\u0275\u0275elementStart(62,"label"),r.\u0275\u0275element(63,"dw-date-picker",67),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(64,"div",65),r.\u0275\u0275elementStart(65,"div",48),r.\u0275\u0275elementStart(66,"label"),r.\u0275\u0275text(67),r.\u0275\u0275pipe(68,"translate"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(69,"div",44),r.\u0275\u0275elementStart(70,"label"),r.\u0275\u0275element(71,"dw-input-number",68),r.\u0275\u0275pipe(72,"translate"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275template(73,Y,26,20,"div",69),r.\u0275\u0275elementContainerEnd()),2&e){const e=r.\u0275\u0275nextContext();r.\u0275\u0275advance(1),r.\u0275\u0275property("dwSpan",e.dwShowRRuleResult?16:24),r.\u0275\u0275advance(3),r.\u0275\u0275property("dwSize",e.dwSize),r.\u0275\u0275advance(2),r.\u0275\u0275textInterpolate(r.\u0275\u0275pipeBind1(7,26,"every-month")),r.\u0275\u0275advance(3),r.\u0275\u0275textInterpolate(r.\u0275\u0275pipeBind1(10,28,"custom-month")),r.\u0275\u0275advance(4),r.\u0275\u0275property("ngForOf",e.months),r.\u0275\u0275advance(4),r.\u0275\u0275property("dwSize",e.dwSize),r.\u0275\u0275advance(2),r.\u0275\u0275textInterpolate(r.\u0275\u0275pipeBind1(20,30,"every-week")),r.\u0275\u0275advance(3),r.\u0275\u0275textInterpolate(r.\u0275\u0275pipeBind1(23,32,"custom-week")),r.\u0275\u0275advance(4),r.\u0275\u0275property("ngForOf",e.weeksOfMonth),r.\u0275\u0275advance(2),r.\u0275\u0275property("dwSize",e.dwSize)("dwDisabled","everyWeek"===e.rruleForm.get("cycleWeek").value),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngForOf",e.daysOfWeek),r.\u0275\u0275advance(5),r.\u0275\u0275property("dwSize",e.dwSize)("dwDisabled","customWeek"===e.rruleForm.get("cycleWeek").value),r.\u0275\u0275advance(2),r.\u0275\u0275textInterpolate(r.\u0275\u0275pipeBind1(37,34,"every-day")),r.\u0275\u0275advance(3),r.\u0275\u0275textInterpolate(r.\u0275\u0275pipeBind1(40,36,"custom-day")),r.\u0275\u0275advance(5),r.\u0275\u0275property("ngForOf",e.daysOfWeek),r.\u0275\u0275advance(2),r.\u0275\u0275property("ngForOf",e.daysOfMonth),r.\u0275\u0275advance(5),r.\u0275\u0275textInterpolate(r.\u0275\u0275pipeBind1(52,38,"start-time")),r.\u0275\u0275advance(4),r.\u0275\u0275property("dwSize",e.dwSize),r.\u0275\u0275advance(4),r.\u0275\u0275textInterpolate(r.\u0275\u0275pipeBind1(60,40,"until")),r.\u0275\u0275advance(4),r.\u0275\u0275property("dwSize",e.dwSize),r.\u0275\u0275advance(4),r.\u0275\u0275textInterpolate(r.\u0275\u0275pipeBind1(68,42,"count")),r.\u0275\u0275advance(4),r.\u0275\u0275propertyInterpolate("dwPlaceHolder",r.\u0275\u0275pipeBind1(72,44,"infinite")),r.\u0275\u0275property("dwSize",e.dwSize),r.\u0275\u0275advance(2),r.\u0275\u0275property("ngIf",e.dwShowRRuleResult)}}const Q=function(e){return{display:e}},X=[{label:"1",value:1},{label:"2",value:2},{label:"3",value:3},{label:"4",value:4},{label:"5",value:5},{label:"6",value:6},{label:"7",value:7},{label:"8",value:8},{label:"9",value:9},{label:"10",value:10},{label:"11",value:11},{label:"12",value:12}],Z=[{label:"1st-week-of-month",value:1},{label:"2nd-week-of-month",value:2},{label:"3rd-week-of-month",value:3},{label:"4th-week-of-month",value:4},{label:"last-week-of-month",value:-1}],ee=[{label:"MO",value:0},{label:"TU",value:1},{label:"WE",value:2},{label:"TH",value:3},{label:"FR",value:4},{label:"SA",value:5},{label:"SU",value:6}];let te=(()=>{class e{constructor(e,t,n){this.fb=e,this.controlContainer=t,this.datePipe=n,this.cycleMonth="everyMonth",this.cycleDays="everyDay",this.cycleWeek="everyWeek",this.cronType="daily",this.time_radio="0",this.results=[],this.months=X,this.weeksOfMonth=Z,this.daysOfWeek=ee,this.dwSize="small",this.dwShowRRuleResult=!0,this.onChange=e=>{},this.onTouched=()=>{},this.isSubscribeChanges=!1,this.hoursOfDay=this.getNumberSerials(0,23),this.minutesOfHour=this.getNumberSerials(0,59),this.daysOfMonth=this.daysOfMonthSelect=[].concat(this.getDaysOfMonthWithLabel(1,31,!0)),this.daysOfMonthSelect=[].concat(this.getDaysOfMonthWithLabel(1,31,!0)),this.setTimezoneOffset(this.results[0]),this.simpleForm=e.group({time:[null,[this]]}),this.dailyForm=e.group({time:this.simpleForm,time1_start_hour:[null,[this]],time1_end_hour:[null,[this]],time1_start_minute:[0,[this]],time1_end_minute:[59,[this]],time1_cycle_value:[null,[this]],time1_cycle_unit:[1,[this]],time2_start_hour:[null,[this]],time2_end_hour:[null,[this]],time2_start_minute:[0,[this]],time2_end_minute:[59,[this]],time2_cycle_value:[null,[this]],time2_cycle_unit:[1,[this]],time3_start_hour:[null,[this]],time3_end_hour:[null,[this]],time3_start_minute:[0,[this]],time3_end_minute:[59,[this]],time3_cycle_value:[null,[this]],time3_cycle_unit:[1,[this]]}),this.type2Form=e.group({time_radio:[this.time_radio,[this]],daily:this.dailyForm}),this.rruleForm=e.group({cycleMonth:[this.cycleMonth],months:this.buildFormArray(this.months),cycleWeek:[this.cycleWeek],weeksOfMonth:this.buildFormArray(this.weeksOfMonth),daysOfWeekForWeeksOfMonth:[0],cycleDays:[this.cycleDays],interval:1,daysOfWeek:this.buildFormArray(this.daysOfWeek),daysOfMonth:this.buildFormArray(this.daysOfMonth),dtStart:[null],until:[null],count:[null]}),this.mainForm=e.group({cronType:[this.cronType],type2Form:this.type2Form,rruleForm:this.rruleForm})}hasJobType(e,t=!1){let n=!1,r=t;if(this.dwJobType){if("CYCLE,RRULE,SAMPLE"===[].concat(this.dwJobType).sort().join(","))return!0;"string"==typeof e&&"string"==typeof this.dwJobType?n=e===this.dwJobType:"string"==typeof e&&this.dwJobType instanceof Array&&!t?n=this.dwJobType.indexOf(e)>-1:r=!0,r&&(n=[].concat(e).sort().join(",")===[].concat(this.dwJobType).sort().join(","))}else n=!0;return n}setCustomDayDisable(e){e?(this.rruleForm.get("interval").disable(),this.rruleForm.get("daysOfWeek").disable(),this.rruleForm.get("daysOfMonth").disable()):(this.rruleForm.get("interval").enable(),this.rruleForm.get("daysOfWeek").enable(),this.rruleForm.get("daysOfMonth").enable())}writeValue(e){if(null!==e){switch(this.formData=Object.assign({},e),e.schedule_type){case"2":this.mainForm.patchValue({cronType:"daily"}),this.parseScheduleType2();break;default:this.mainForm.patchValue({cronType:"cycle"}),this.parseRRule()}this.startSubscribeChanges()}}setDisabledState(e){}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setTimezoneOffset(e){const t=(e||new Date).getTimezoneOffset();this.timezone=t<=0?"GMT+"+t/-60:"GMT-"+t/60}getNumberSerials(e,t){const n=[];for(let r=e,i=0;r<=t;r++,i++)n[i]=r;return n}getDaysOfMonthWithLabel(e,t,n=!1){const r=[];for(let i=e,l=0;i<=t;i++,l++)r[l]={label:i,value:i};return n&&(r[r.length]={label:"last-day-of-month",value:"L"}),r}registerOnValidatorChange(e){}validate(e){if(this.simpleForm&&this.dailyForm&&this.type2Form){if(this.type2Form.dirty&&Object.values(this.type2Form.controls).indexOf(e)>-1){switch(e.value){case"0":this.clearFormErrors(this.dailyForm);break;case"1":this.clearFormErrors(this.simpleForm)}return this.validateDailyForm("time_radio")}if(this.simpleForm.dirty&&Object.values(this.simpleForm.controls).indexOf(e)>-1)return this.validateDailyForm("time"),e.setErrors(this.errors),this.errors;if(this.dailyForm.dirty&&Object.values(this.dailyForm.controls).indexOf(e)>-1)for(const t in this.dailyForm.controls)if(this.dailyForm.controls.hasOwnProperty(t)&&this.dailyForm.get(t)===e)return this.validateDailyForm(t),e.setErrors(this.errors),this.errors}return null}buildDaysOfWeek(){const e=this.daysOfWeek.map(e=>this.fb.control(e.value.toString()));return this.fb.array(e)}convertDailyToFormData(){switch(this.type2Form.get("time_radio").value){case"0":this.convertToOnce();break;case"1":this.convertToSlot()}this.submitChange(Object.assign(this.formData,{schedule_type:"2"}))}submitChange(e){const t=Object.assign(e,{});switch(t.schedule_type){case"2":switch(t.time_radio){case 0:t.time1="",t.time2="",t.time3="";break;case"1":t.time=""}t.start_time="",t.end_time="",t.repeat_count="",t.r_rule="";break;case"4":const e=this.rruleForm.get("dtStart").value||new Date,n=this.rruleForm.get("until").value,r=this.rruleForm.get("count").value||-1;t.start_time=e?this.datePipe.transform(e,"yyyy-MM-dd HH:mm:ss"):"",t.end_time=n?this.datePipe.transform(n,"yyyy-MM-dd HH:mm:ss"):"",t.repeat_count=r,t.time_radio="",t.time="",t.time1="",t.time2="",t.time3=""}this.onChange(t)}convertToOnce(){const e={schedule_type:"2",time_radio:0,time:null},t=this.simpleForm.get("time").value;if(t){const n=t.getHours(),r=t.getMinutes(),i=t.getSeconds();e.time=`${n},${r},${i}`}this.dailyForm.valid&&this.submitChange(Object.assign(this.formData,e))}convertToSlot(){const e={time_radio:"1",time:null,time1_start_hour:null,time1_end_hour:null,time2_start_hour:null,time2_end_hour:null,time3_start_hour:null,time3_end_hour:null,time1_start_minute:0,time1_end_minute:59,time2_start_minute:0,time2_end_minute:59,time3_start_minute:0,time3_end_minute:59,time1_cycle_value:null,time2_cycle_value:null,time3_cycle_value:null,time1_cycle_unit:"1",time2_cycle_unit:"1",time3_cycle_unit:"1"};e.time_radio=this.type2Form.get("time_radio").value,e.time1_start_hour=this.dailyForm.get("time1_start_hour").value,e.time1_end_hour=this.dailyForm.get("time1_end_hour").value,e.time2_start_hour=this.dailyForm.get("time2_start_hour").value,e.time2_end_hour=this.dailyForm.get("time2_end_hour").value,e.time3_start_hour=this.dailyForm.get("time3_start_hour").value,e.time3_end_hour=this.dailyForm.get("time3_end_hour").value,e.time1_start_minute=this.dailyForm.get("time1_start_minute").value,e.time1_end_minute=this.dailyForm.get("time1_end_minute").value,e.time2_start_minute=this.dailyForm.get("time2_start_minute").value,e.time2_end_minute=this.dailyForm.get("time2_end_minute").value,e.time3_start_minute=this.dailyForm.get("time3_start_minute").value,e.time3_end_minute=this.dailyForm.get("time3_end_minute").value,e.time1_cycle_value=this.dailyForm.get("time1_cycle_value").value,e.time2_cycle_value=this.dailyForm.get("time2_cycle_value").value,e.time3_cycle_value=this.dailyForm.get("time3_cycle_value").value,e.time1_cycle_unit=this.dailyForm.get("time1_cycle_unit").value||"1",e.time2_cycle_unit=this.dailyForm.get("time2_cycle_unit").value||"1",e.time3_cycle_unit=this.dailyForm.get("time3_cycle_unit").value||"1";const t={schedule_type:"2",time_radio:e.time_radio,time1:null,time2:null,time3:null};e.time1_start_hour&&(t.time1=`${e.time1_start_hour||0},${e.time1_start_minute||0},${e.time1_start_minute||0},`,t.time1+=`${e.time1_end_hour||0},${e.time1_end_minute||0},${e.time1_end_minute||0},`,t.time1+=`${e.time1_cycle_value},${e.time1_cycle_unit}`),e.time2_start_hour&&(t.time2=`${e.time2_start_hour||0},${e.time2_start_minute||0},${e.time2_start_minute||0},`,t.time2+=`${e.time2_end_hour||0},${e.time2_end_minute||0},${e.time2_end_minute||0},`,t.time2+=`${e.time2_cycle_value},${e.time2_cycle_unit}`),e.time3_start_hour&&(t.time3=`${e.time3_start_hour||0},${e.time3_start_minute||0},${e.time3_start_minute||0},`,t.time3+=`${e.time3_end_hour||0},${e.time3_end_minute||0},${e.time3_end_minute||0},`,t.time3+=`${e.time3_cycle_value},${e.time3_cycle_unit}`),this.submitChange(Object.assign(this.formData,t))}ngOnInit(){}startSubscribeChanges(){this.isSubscribeChanges||(this.isSubscribeChanges=!0,this.rruleForm.valueChanges.subscribe(()=>{this.convertCycleToFormData()}),this.mainForm.get("cronType").valueChanges.subscribe(e=>{switch(e){case"daily":this.type2Form.get("time_radio").updateValueAndValidity();break;case"cycle":this.clearFormErrors(this.dailyForm),this.clearFormErrors(this.simpleForm),this.clearFormErrors(this.type2Form),this.rruleForm.get("cycleWeek").updateValueAndValidity(),this.convertCycleToFormData()}}),this.type2Form.get("time_radio").valueChanges.subscribe(e=>{switch(e){case"0":this.convertToOnce();break;case"1":this.convertToSlot()}}),this.simpleForm.valueChanges.subscribe(e=>{this.simpleForm.dirty&&this.convertDailyToFormData()}),this.dailyForm.valueChanges.subscribe(e=>{this.dailyForm.dirty&&this.convertToSlot()}))}convertCycleToFormData(){if(!this.formData)return;const e=this.rruleForm.get("cycleDays"),t=this.rruleForm.get("cycleWeek"),n=this.rruleForm.get("daysOfMonth").value,r=this.rruleForm.get("weeksOfMonth").value,i=this.rruleForm.get("daysOfWeekForWeeksOfMonth").value,l={freq:a.Frequency.MONTHLY.valueOf()};if("everyDay"===e.value&&(l.freq=a.Frequency.DAILY),"customMonth"===this.rruleForm.get("cycleMonth").value){const e=[];this.rruleForm.get("months").value.forEach((t,n)=>{t&&e.push(n+1)}),l.bymonth=e}if("customWeek"===t.value){const e=[];r.forEach((t,n)=>{t&&e.push(4===n?-1:n+1)}),l.byweekday=[i],l.bysetpos=e,l.freq=a.Frequency.MONTHLY}if("customDay"===e.value&&"everyWeek"===t.value){const e=this.rruleForm.get("interval").value;e>1&&(l.freq=a.Frequency.DAILY,l.interval=e,l.bysetpos=null);const t=[];n.forEach((e,n)=>{e&&t.push(31===n?-1:n+1)}),l.bymonthday=t;const r=this.rruleForm.get("daysOfWeek").value,i=[];r.forEach((e,t)=>{e&&i.push(t)}),i.length>0&&(l.byweekday=i)}const o=this.rruleForm.get("dtStart").value||new Date;o&&(l.dtstart=o);const m=this.rruleForm.get("until").value;m&&(l.until=m);let d,s={};const p=this.rruleForm.get("count").value;p?(l.count=p,s=Object.assign(s,l)):s=Object.assign(s,l,{count:50});try{d=new a.RRule(l),this.updateRRuleSet(s)}catch(u){}this.submitChange(Object.assign(this.formData,{schedule_type:"4",r_rule:d.toString()}))}updateRRuleSet(e){const t=new a.RRuleSet;if(e instanceof a.RRule)if(null===e.options.count){const n=e.toString(),r=a.RRule.fromString(n);r.options.count=50,t.rrule(r)}else t.rrule(e);else{const n=new a.RRule(e);t.rrule(n)}this.results=t.all()}parseScheduleType2(){const e=this.formData.time_radio,t=this.formData.time||"00,00,00",n=this.formData.time1,r=this.formData.time2,i=this.formData.time3;if(t){const e=new Date,n=t.split(",");e.setHours(parseInt(n[0],10)),e.setMinutes(parseInt(n[1],10)),e.setSeconds(parseInt(n[2],10)),this.patchSimpleValues({time:e})}this.patchType2Values({time_radio:e});const l={time1_start_hour:null,time1_end_hour:null,time1_cycle_unit:null,time1_cycle_value:null,time2_start_hour:null,time2_end_hour:null,time2_cycle_unit:null,time2_cycle_value:null,time3_start_hour:null,time3_end_hour:null,time3_cycle_unit:null,time3_cycle_value:null,time_radio:"1",schedule_type:"2"};if(n){const e=n.split(",");l.time1_start_hour=parseInt(e[0],10),l.time1_end_hour=parseInt(e[3],10),l.time1_cycle_unit=e[7],l.time1_cycle_value=parseInt(e[6],10),this.patchDailyValues(l)}if(r){const e=r.split(",");l.time2_start_hour=parseInt(e[0],10),l.time2_end_hour=parseInt(e[3],10),l.time2_cycle_unit=e[7],l.time2_cycle_value=parseInt(e[6],10),this.patchDailyValues(l)}if(i){const e=i.split(",");l.time3_start_hour=parseInt(e[0],10),l.time3_end_hour=parseInt(e[3],10),l.time3_cycle_unit=e[7],l.time3_cycle_value=parseInt(e[6],10),this.patchDailyValues(l)}}patchDailyValues(e){this.dailyForm.patchValue(e)}patchSimpleValues(e){this.simpleForm.patchValue(e)}patchType2Values(e){this.type2Form.patchValue(e)}patchCycleValues(e){this.rruleForm.patchValue(e),e.daysOfMonth&&this.rruleForm.get("daysOfMonth").patchValue(e.daysOfMonth),e.months&&this.rruleForm.get("months").patchValue(e.months),e.weeksOfMonth&&this.rruleForm.get("weeksOfMonth").patchValue(e.weeksOfMonth)}buildFormArray(e){const t=[];return e.forEach((e,n)=>{t.push(new l.FormControl(!1))}),this.fb.array(t)}parseRRule(){const e={schedule_type:"4",cycleMonth:"",cycleDays:"everyDay",daysOfMonth:new Array(32),months:new Array(12),weeksOfMonth:new Array(5),dtStart:null,until:null,count:null,daysOfWeekForWeeksOfMonth:0,cycleWeek:"everyWeek",daysOfWeek:new Array(7),interval:1};let t;t=this.formData.r_rule?a.RRule.fromString(this.formData.r_rule):new a.RRule;const n=t.options.bymonth||[],r=t.options.bynmonthday||[],i=t.options.bymonthday||[],l=t.options.bynmonthday||[],o=t.options.byweekday||[],m=t.options.bysetpos||[],d=t.options.dtstart,s=t.options.until,p=t.options.count,u=t.options.freq;e.interval=t.options.interval,e.cycleMonth=0===n.length?"everyMonth":"customMonth",e.count=p,e.dtStart=d,e.until=s,n.concat(r).forEach(t=>{e.months[t-1]=!0}),i.concat(l).forEach(t=>{-1===t?e.daysOfMonth[31]=!0:t>0&&(e.daysOfMonth[t-1]=!0)}),(i.length>0||o.length>0)&&(e.cycleDays="customDay"),m.length>0&&1===o.length&&0===n.length&&0===l.length&&u===a.Frequency.MONTHLY?(m.forEach(t=>{-1===t?e.weeksOfMonth[4]=!0:e.weeksOfMonth[t-1]=!0}),o.forEach(t=>{e.daysOfWeekForWeeksOfMonth=t}),e.cycleWeek="customWeek",this.setCustomDayDisable(!0)):((i.length>0||o.length>0)&&(e.cycleDays="customDay",o.forEach(t=>{e.daysOfWeek[t]=!0})),this.setCustomDayDisable(0===i.length)),this.updateRRuleSet(t),this.patchCycleValues(e)}validateDailyForm(e){if(!e)return this.errors;const t={schedule_type:"2",time_radio:"1",time:null,time1_start_hour:null,time1_end_hour:null,time2_start_hour:null,time2_end_hour:null,time3_start_hour:null,time3_end_hour:null,time1_start_minute:null,time1_end_minute:null,time2_start_minute:null,time2_end_minute:null,time3_start_minute:null,time3_end_minute:null,time1_cycle_value:null,time2_cycle_value:null,time3_cycle_value:null,time1_cycle_unit:"1",time2_cycle_unit:"1",time3_cycle_unit:"1"};return t.time_radio=this.type2Form.get("time_radio").value,this.errors=null,e.startsWith("time")&&(t.time=this.simpleForm.get("time").value,this.clearFormErrors(this.dailyForm),this.clearFormErrors(this.simpleForm),this.clearFormErrors(this.type2Form),"0"===t.time_radio?t.time||(this.errors=Object.assign({time_required:!0},this.errors)):"1"===t.time_radio&&(parseInt(e[4],10),t.time1_start_hour=this.dailyForm.get("time1_start_hour").value,t.time1_end_hour=this.dailyForm.get("time1_end_hour").value,t.time1_start_minute=this.dailyForm.get("time1_start_minute").value,t.time1_end_minute=this.dailyForm.get("time1_end_minute").value,t.time1_cycle_value=this.dailyForm.get("time1_cycle_value").value,(!this.isNullOrEmpty(t.time1_start_hour)||!this.isNullOrEmpty(t.time1_end_hour)||!this.isNullOrEmpty(t.time1_cycle_value))&&(this.isNullOrEmpty(t.time1_start_hour)||this.isNullOrEmpty(t.time1_end_hour)||this.isNullOrEmpty(t.time1_cycle_value))&&(this.errors=Object.assign({time1_required:!0},this.errors)),t.time2_start_hour=this.dailyForm.get("time2_start_hour").value,t.time2_end_hour=this.dailyForm.get("time2_end_hour").value,t.time2_start_minute=this.dailyForm.get("time2_start_minute").value,t.time2_end_minute=this.dailyForm.get("time2_end_minute").value,t.time2_cycle_value=this.dailyForm.get("time2_cycle_value").value,(!this.isNullOrEmpty(t.time2_start_hour)||!this.isNullOrEmpty(t.time2_end_hour)||!this.isNullOrEmpty(t.time2_cycle_value))&&(this.isNullOrEmpty(t.time2_start_hour)||this.isNullOrEmpty(t.time2_end_hour)||this.isNullOrEmpty(t.time2_cycle_value))&&(this.errors=Object.assign({time2_required:!0},this.errors)),t.time3_start_hour=this.dailyForm.get("time3_start_hour").value,t.time3_end_hour=this.dailyForm.get("time3_end_hour").value,t.time3_start_minute=this.dailyForm.get("time3_start_minute").value,t.time3_end_minute=this.dailyForm.get("time3_end_minute").value,t.time3_cycle_value=this.dailyForm.get("time3_cycle_value").value,(!this.isNullOrEmpty(t.time3_start_hour)||!this.isNullOrEmpty(t.time3_end_hour)||!this.isNullOrEmpty(t.time3_cycle_value))&&(this.isNullOrEmpty(t.time3_start_hour)||this.isNullOrEmpty(t.time3_end_hour)||this.isNullOrEmpty(t.time3_cycle_value))&&(this.errors=Object.assign({time3_required:!0},this.errors)))),this.setParentFormErrors(this.errors),this.errors}setParentFormErrors(e){if(this.controlContainer&&this.controlContainer.control){let t=this.formControlName;if(this.formControl&&this.formControl.parent)for(const e in this.formControl.parent.controls)if(this.formControl.parent.controls.hasOwnProperty(e)&&this.formControl.parent.get(e)===this.formControl){t=e;break}let n=this.controlContainer.control.errors;n&&delete n[t],e&&(n=Object.assign({},n),n[t]=e),n&&0===Object.values(n).length&&(n=null),this.controlContainer.control.setErrors(n)}}isNullOrEmpty(e){return!1===e||null==e||""===e}clearFormErrors(e){for(const t in e.controls)e.controls.hasOwnProperty(t)&&e.controls[t].setErrors(null)}}return e.\u0275fac=function(t){return new(t||e)(r.\u0275\u0275directiveInject(l.FormBuilder),r.\u0275\u0275directiveInject(l.ControlContainer,13),r.\u0275\u0275directiveInject(i.DatePipe))},e.\u0275cmp=r.\u0275\u0275defineComponent({type:e,selectors:[["dw-job-time-setting"]],inputs:{dwSize:"dwSize",dwShowRRuleResult:"dwShowRRuleResult",dwJobType:"dwJobType",formControlName:"formControlName",formControl:"formControl"},features:[r.\u0275\u0275ProvidersFeature([{provide:l.NG_VALUE_ACCESSOR,useExisting:(0,r.forwardRef)(()=>e),multi:!0},{provide:l.NG_VALIDATORS,useExisting:(0,r.forwardRef)(()=>e),multi:!0}])],decls:13,vars:14,consts:[[3,"formGroup"],["formControlName","cronType",3,"dwSize",4,"ngIf"],[3,"formGroup","ngStyle"],["time_radio_0",""],["time_radio_1",""],[4,"ngTemplateOutlet"],[4,"ngIf"],[3,"ngStyle"],["dw-row","",3,"formGroup"],["formControlName","cronType",3,"dwSize"],["dw-radio-button","","dwValue","daily"],["dw-radio-button","","dwValue","cycle"],["dwSpan","24",3,"dwErrorTip"],["formControlName","time",3,"dwSize"],["timeErrorTpl",""],[3,"ngClass"],["formControlName","time1_start_hour","dwAllowClear","",3,"dwSize"],[3,"dwValue","dwLabel",4,"ngFor","ngForOf"],["formControlName","time1_end_hour","dwAllowClear","",3,"dwSize"],["formControlName","time1_cycle_value","dwMin","0","dwMax","59",1,"timeUnit",3,"dwSize"],["formControlName","time1_cycle_unit","dwAllowClear","",3,"dwSize"],["dwValue","1",3,"dwLabel"],["dwValue","2",3,"dwLabel"],[2,"margin-top","5px","display","none"],["formControlName","time1_start_minute","dwAllowClear","",3,"dwSize"],["formControlName","time1_end_minute","dwAllowClear","",3,"dwSize"],["dwSpan","24",3,"dwValidateStatus","dwErrorTip"],["formControlName","time2_start_hour","dwAllowClear","",3,"dwSize"],["formControlName","time2_end_hour","dwAllowClear","",3,"dwSize"],["formControlName","time2_cycle_value","dwMin","0","dwMax","59",1,"timeUnit",3,"dwSize"],["formControlName","time2_cycle_unit","dwAllowClear","",3,"dwSize"],["formControlName","time2_start_minute","dwAllowClear","",3,"dwSize"],["formControlName","time2_end_minute","dwAllowClear","",3,"dwSize"],["formControlName","time3_start_hour","dwAllowClear","",3,"dwSize"],["formControlName","time3_end_hour","dwAllowClear","",3,"dwSize"],["formControlName","time3_cycle_value","dwMin","0","dwMax","59",1,"timeUnit",3,"dwSize"],["formControlName","time3_cycle_unit","dwAllowClear","",3,"dwSize"],["formControlName","time3_start_minute","dwAllowClear","",3,"dwSize"],["formControlName","time3_end_minute","dwAllowClear","",3,"dwSize"],[3,"dwValue","dwLabel"],["formControlName","time_radio","dwName","time_radio",2,"width","100%",3,"dwSize"],["dw-row",""],["dw-col","","dwSpan","3",2,"margin-top","8px"],["dw-radio","",3,"dwValue"],["dw-col","","dwSpan","20"],["dw-col","","dwSpan","3",2,"margin-top","3px"],["dw-col","","dwSpan","20",1,"font14"],["dw-col","",3,"dwSpan"],["dw-col","","dwSpan","4"],["formControlName","cycleMonth","dwName","cycleMonth",2,"width","100%",3,"dwSize"],["dw-radio","","dwValue","everyMonth"],["dw-radio","","dwValue","customMonth"],["dwName","months","formArrayName","months",2,"width","100%"],[4,"ngFor","ngForOf"],[2,"height","3px"],["formControlName","cycleWeek","dwName","cycleWeek",2,"width","100%",3,"dwSize"],["dw-radio","","dwValue","everyWeek"],["dw-radio","","dwValue","customWeek"],["formArrayName","weeksOfMonth"],["formControlName","daysOfWeekForWeeksOfMonth","dwAllowClear","",3,"dwSize","dwDisabled"],["formControlName","cycleDays","dwName","cycleDays",2,"width","100%",3,"dwSize","dwDisabled"],["dw-radio","","dwValue","everyDay"],["dw-radio","","dwValue","customDay"],["formArrayName","daysOfWeek"],["dwName","daysOfMonth","formArrayName","daysOfMonth",2,"width","100%"],["dw-row","",2,"margin","5px 0"],["formControlName","dtStart","dwShowTime","",3,"dwSize"],["formControlName","until","dwShowTime","",3,"dwSize"],["formControlName","count","dwMin","-1",3,"dwPlaceHolder","dwSize"],["dw-col","","dwSpan","8",4,"ngIf"],["dw-checkbox","",1,"days-of-month",3,"formControlName","dwDisabled"],["dw-checkbox","",3,"formControlName","dwDisabled"],["dw-col","","dwSpan","8"],["dwSize","small",3,"dwData"],["table",""]],template:function(e,t){if(1&e&&(r.\u0275\u0275elementStart(0,"form",0),r.\u0275\u0275template(1,S,7,7,"dw-radio-group",1),r.\u0275\u0275elementStart(2,"div",2),r.\u0275\u0275template(3,F,5,3,"ng-template",null,3,r.\u0275\u0275templateRefExtractor),r.\u0275\u0275template(5,W,103,97,"ng-template",null,4,r.\u0275\u0275templateRefExtractor),r.\u0275\u0275template(7,L,1,0,"ng-container",5),r.\u0275\u0275template(8,B,1,0,"ng-container",5),r.\u0275\u0275template(9,P,16,11,"ng-container",6),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(10,"div",7),r.\u0275\u0275elementStart(11,"div",8),r.\u0275\u0275template(12,K,74,46,"ng-container",6),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd()),2&e){const e=r.\u0275\u0275reference(4),n=r.\u0275\u0275reference(6);r.\u0275\u0275property("formGroup",t.mainForm),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",void 0===t.dwJobType||(t.hasJobType("SIMPLE")||t.hasJobType("CYCLE"))&&t.hasJobType("RRULE")),r.\u0275\u0275advance(1),r.\u0275\u0275property("formGroup",t.type2Form)("ngStyle",r.\u0275\u0275pureFunction1(10,Q,"daily"===t.mainForm.get("cronType").value?"block":"none")),r.\u0275\u0275advance(5),r.\u0275\u0275property("ngTemplateOutlet",t.hasJobType("SIMPLE")&&!t.hasJobType("CYCLE")?e:null),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngTemplateOutlet",t.hasJobType("CYCLE")&&!t.hasJobType("SIMPLE")?n:null),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",void 0===t.dwJobType||t.hasJobType("SIMPLE")&&t.hasJobType("CYCLE")),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngStyle",r.\u0275\u0275pureFunction1(12,Q,"cycle"===t.mainForm.get("cronType").value||t.dwJobType&&t.hasJobType("RRULE",!0)?"block":"none")),r.\u0275\u0275advance(1),r.\u0275\u0275property("formGroup",t.rruleForm),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",t.hasJobType("RRULE"))}},directives:[l.\u0275NgNoValidate,l.NgControlStatusGroup,l.FormGroupDirective,i.NgIf,i.NgStyle,i.NgTemplateOutlet,y.DwRowDirective,o.DwRadioGroupComponent,l.NgControlStatus,l.FormControlName,o.DwRadioComponent,o.DwRadioButtonDirective,m.DwFormItemComponent,y.DwColDirective,m.DwFormControlComponent,d.DwTimePickerComponent,i.NgClass,s.DwSelectComponent,i.NgForOf,u.DwInputNumberComponent,s.DwOptionComponent,c.DwCheckboxWrapperComponent,l.FormArrayName,h.DwDividerComponent,w.DwDatePickerComponent,c.DwCheckboxComponent,_.DwTableComponent,_.DwTheadComponent,_.DwTrDirective,_.DwTableCellDirective,_.DwThMeasureDirective,_.DwTbodyComponent],pipes:[f.TranslatePipe],styles:["[dw-checkbox]>span:nth-child(2){display:inline-block;min-width:40px}dw-checkbox-wrapper[_ngcontent-%COMP%] > label[dw-checkbox][_ngcontent-%COMP%]:first-child, dw-checkbox-group[_ngcontent-%COMP%] > label[dw-checkbox][_ngcontent-%COMP%]:first-child{margin-left:8px}.radio-vertical[_ngcontent-%COMP%]{display:block}dw-select[_ngcontent-%COMP%]{width:80px}dw-form-time-picker[_ngcontent-%COMP%]{width:120px;display:inline-block}.ant-divider-horizontal[_ngcontent-%COMP%]{margin:12px 0}.timeUnit[_ngcontent-%COMP%]{width:80px}.ant-form-explain[_ngcontent-%COMP%], .ant-form-extra[_ngcontent-%COMP%]{color:red}.error[_ngcontent-%COMP%]{display:inline-block;border:1px solid red;border-radius:3px}.font14[_ngcontent-%COMP%]{font-size:14px}"]}),e})(),ne=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=r.\u0275\u0275defineInjector({imports:[[i.CommonModule,l.FormsModule,l.ReactiveFormsModule,v.DwFormItemsModule,f.TranslateModule,o.DwRadioModule,m.DwFormModule,d.DwTimePickerModule,s.DwSelectModule,p.DwInputModule,u.DwInputNumberModule,c.DwCheckboxModule,h.DwDividerModule,y.DwGridModule,_.DwTableModule,w.DwDatePickerModule]]}),e})()}}]);