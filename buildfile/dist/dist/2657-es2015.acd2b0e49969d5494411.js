"use strict";(self.webpackChunkassc_crs=self.webpackChunkassc_crs||[]).push([[2657],{16429:function(t,e,n){n.r(e),n.d(e,{DwAvatarComponent:function(){return g},DwAvatarModule:function(){return m},"\u0275a":function(){return S}});var i=n(64762),r=n(36535),s=n(42746),o=n(8929),a=n(5295),c=n(51260),d=n(55245),h=n(85277);const l=["textEl"];function u(t,e){if(1&t&&s.\u0275\u0275element(0,"i",3),2&t){const t=s.\u0275\u0275nextContext();s.\u0275\u0275property("dwType",t.dwIcon)}}function p(t,e){if(1&t){const t=s.\u0275\u0275getCurrentView();s.\u0275\u0275elementStart(0,"img",4),s.\u0275\u0275listener("error",function(e){return s.\u0275\u0275restoreView(t),s.\u0275\u0275nextContext().imgError(e)}),s.\u0275\u0275elementEnd()}if(2&t){const t=s.\u0275\u0275nextContext();s.\u0275\u0275property("src",t.dwSrc,s.\u0275\u0275sanitizeUrl),s.\u0275\u0275attribute("srcset",t.dwSrcSet,s.\u0275\u0275sanitizeUrl)("alt",t.dwAlt)}}function f(t,e){if(1&t&&(s.\u0275\u0275elementStart(0,"span",5,6),s.\u0275\u0275text(2),s.\u0275\u0275elementEnd()),2&t){const t=s.\u0275\u0275nextContext();s.\u0275\u0275property("ngStyle",t.textStyles),s.\u0275\u0275advance(2),s.\u0275\u0275textInterpolate(t.dwText)}}const w=["*"];let g=(()=>{class t{constructor(t,e,n,i){this.dwConfigService=t,this.elementRef=e,this.cdr=n,this.platform=i,this._dwModuleName="avatar",this.dwShape="circle",this.dwSize="default",this.dwGap=4,this.dwError=new s.EventEmitter,this.hasText=!1,this.hasSrc=!0,this.hasIcon=!1,this.textStyles={},this.classMap={},this.customSize=null,this.el=this.elementRef.nativeElement,this.elementRef.nativeElement.classList.add("ant-avatar")}imgError(t){this.dwError.emit(t),t.defaultPrevented||(this.hasSrc=!1,this.hasIcon=!1,this.hasText=!1,this.dwIcon?this.hasIcon=!0:this.dwText&&(this.hasText=!0),this.cdr.detectChanges(),this.setSizeStyle(),this.notifyCalc())}ngOnChanges(){this.hasText=!this.dwSrc&&!!this.dwText,this.hasIcon=!this.dwSrc&&!!this.dwIcon,this.hasSrc=!!this.dwSrc,this.setSizeStyle(),this.notifyCalc()}calcStringSize(){if(!this.hasText)return;const t=this.textEl.nativeElement.offsetWidth,e=this.el.getBoundingClientRect().width,n=2*this.dwGap<e?2*this.dwGap:8;this.textStyles={transform:`scale(${e-n<t?(e-n)/t:1}) translateX(-50%)`},this.customSize&&Object.assign(this.textStyles,{lineHeight:this.customSize}),this.cdr.detectChanges()}notifyCalc(){this.platform.isBrowser&&setTimeout(()=>{this.calcStringSize()})}setSizeStyle(){this.customSize="number"==typeof this.dwSize?`${this.dwSize}px`:null,this.cdr.markForCheck()}}return t.\u0275fac=function(e){return new(e||t)(s.\u0275\u0275directiveInject(o.Qn),s.\u0275\u0275directiveInject(s.ElementRef),s.\u0275\u0275directiveInject(s.ChangeDetectorRef),s.\u0275\u0275directiveInject(r.Platform))},t.\u0275cmp=s.\u0275\u0275defineComponent({type:t,selectors:[["dw-avatar"]],viewQuery:function(t,e){if(1&t&&s.\u0275\u0275viewQuery(l,5),2&t){let t;s.\u0275\u0275queryRefresh(t=s.\u0275\u0275loadQuery())&&(e.textEl=t.first)}},hostVars:20,hostBindings:function(t,e){2&t&&(s.\u0275\u0275styleProp("width",e.customSize)("height",e.customSize)("line-height",e.customSize)("font-size",e.hasIcon&&e.customSize?e.dwSize/2:null,"px"),s.\u0275\u0275classProp("ant-avatar-lg","large"===e.dwSize)("ant-avatar-sm","small"===e.dwSize)("ant-avatar-square","square"===e.dwShape)("ant-avatar-circle","circle"===e.dwShape)("ant-avatar-icon",e.dwIcon)("ant-avatar-image",e.hasSrc))},inputs:{dwShape:"dwShape",dwSize:"dwSize",dwGap:"dwGap",dwText:"dwText",dwSrc:"dwSrc",dwSrcSet:"dwSrcSet",dwAlt:"dwAlt",dwIcon:"dwIcon"},outputs:{dwError:"dwError"},exportAs:["dwAvatar"],features:[s.\u0275\u0275NgOnChangesFeature],decls:3,vars:3,consts:[["dw-icon","",3,"dwType",4,"ngIf"],[3,"src","error",4,"ngIf"],["class","ant-avatar-string",3,"ngStyle",4,"ngIf"],["dw-icon","",3,"dwType"],[3,"src","error"],[1,"ant-avatar-string",3,"ngStyle"],["textEl",""]],template:function(t,e){1&t&&(s.\u0275\u0275template(0,u,1,1,"i",0),s.\u0275\u0275template(1,p,1,3,"img",1),s.\u0275\u0275template(2,f,3,2,"span",2)),2&t&&(s.\u0275\u0275property("ngIf",e.dwIcon&&e.hasIcon),s.\u0275\u0275advance(1),s.\u0275\u0275property("ngIf",e.dwSrc&&e.hasSrc),s.\u0275\u0275advance(1),s.\u0275\u0275property("ngIf",e.dwText&&e.hasText))},directives:[d.NgIf,h.DwIconDirective,d.NgStyle],encapsulation:2,changeDetection:0}),(0,i.gn)([(0,o.oS)()],t.prototype,"dwShape",void 0),(0,i.gn)([(0,o.oS)()],t.prototype,"dwSize",void 0),(0,i.gn)([(0,o.oS)(),(0,a.Rn)()],t.prototype,"dwGap",void 0),t})(),S=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.\u0275\u0275defineComponent({type:t,selectors:[["dw-avatar-group"]],hostAttrs:[1,"ant-avatar-group"],exportAs:["dwAvatarGroup"],ngContentSelectors:w,decls:1,vars:0,template:function(t,e){1&t&&(s.\u0275\u0275projectionDef(),s.\u0275\u0275projection(0))},encapsulation:2,changeDetection:0}),t})(),m=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=s.\u0275\u0275defineInjector({imports:[[c.BidiModule,d.CommonModule,h.DwIconModule,r.PlatformModule]]}),t})()},8929:function(t,e,n){n.d(e,{Qn:function(){return c},oS:function(){return d}});var i=n(42746),r=n(71049),s=n(47372);const o=new i.InjectionToken("dw-config"),a=function(t){return void 0!==t};let c=(()=>{class t{constructor(t){this.configUpdated$=new r.Subject,this.config=t||{}}getConfig(){return this.config}getConfigForComponent(t){return this.config[t]}getConfigChangeEventForComponent(t){return this.configUpdated$.pipe((0,s.filter)(e=>e===t),(0,s.mapTo)(void 0))}set(t,e){this.config[t]=Object.assign(Object.assign({},this.config[t]),e),this.configUpdated$.next(t)}}return t.\u0275fac=function(e){return new(e||t)(i.\u0275\u0275inject(o,8))},t.\u0275prov=i.\u0275\u0275defineInjectable({factory:function(){return new t(i.\u0275\u0275inject(o,8))},token:t,providedIn:"root"}),t})();function d(){return function(t,e,n){const i=`$$__zorroConfigDecorator__${e}`;return Object.defineProperty(t,i,{configurable:!0,writable:!0,enumerable:!1}),{get(){var t,r;const s=(null==n?void 0:n.get)?n.get.bind(this)():this[i],o=((null===(t=this.propertyAssignCounter)||void 0===t?void 0:t[e])||0)>1,c=null===(r=this.dwConfigService.getConfigForComponent(this._dwModuleName))||void 0===r?void 0:r[e];return o&&a(s)?s:a(c)?c:s},set(t){this.propertyAssignCounter=this.propertyAssignCounter||{},this.propertyAssignCounter[e]=(this.propertyAssignCounter[e]||0)+1,(null==n?void 0:n.set)?n.set.bind(this)(t):this[i]=t},configurable:!0,enumerable:!0}}}}}]);