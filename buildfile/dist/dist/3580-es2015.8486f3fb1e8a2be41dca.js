"use strict";(self.webpackChunkassc_crs=self.webpackChunkassc_crs||[]).push([[3580,5136],{3580:function(e,t,r){r.r(t),r.d(t,{DwCmcHttpClient:function(){return h},DwCmcHttpErrorHandler:function(){return p},DwCmcModule:function(){return d}});var n=r(42746),i=r(52575),s=r(30469),c=r(87974),o=r(83522),a=r(32276),u=r(55245);let d=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=n.\u0275\u0275defineInjector({imports:[[u.CommonModule],i.DwHttpModule]}),e})(),p=(()=>{class e{constructor(e,t,r,n){this.route=e,this.injector=t,this.dwMessageService=r,this.translateService=n}handlerError(e){const t=this.injector.get(a.DwAuthService);this.dwMessageService.error(e.error.message).subscribe(),401===e.status||406===e.status?t.logout():(500===e.status||503===e.status)&&(e.error.dwHttpErrorResponse={errorStatusMessage:this.translateService.instant("dw-http-server-ACM")+"\uff1a"+this.translateService.instant("dw-http-error-500")})}}return e.\u0275fac=function(t){return new(t||e)(n.\u0275\u0275inject(c.Router),n.\u0275\u0275inject(n.Injector),n.\u0275\u0275inject(i.DwHttpMessageService),n.\u0275\u0275inject(o.TranslateService))},e.\u0275prov=n.\u0275\u0275defineInjectable({factory:function(){return new e(n.\u0275\u0275inject(c.Router),n.\u0275\u0275inject(n.INJECTOR),n.\u0275\u0275inject(i.DwHttpMessageService),n.\u0275\u0275inject(o.TranslateService))},token:e,providedIn:d}),e})(),h=(()=>{class e extends i.DwHttpClient{constructor(e,t,r,n,i,s){super(e,s),this.dwHttpRequestUrlService=e,this.configService=t,this.authToken=r,this.cmcHttpError=n,this.dwAppAuthToken=i,this.dwHttpLoadMaskService=s,this.getApiUrl().subscribe(e=>{this.api=e})}getApiUrl(){return this.configService.get("cmcUrl")}get defaultHeaders(){return{"digi-middleware-auth-app":this.dwAppAuthToken,"digi-middleware-auth-user":this.authToken.token?this.authToken.token:"","Client-Agent":"webplatform/"+s.DW_SYSTEM_CONFIG.dwVersion}}errorHandler(e){e.error&&e.error.message&&this.cmcHttpError.handlerError(e)}}return e.\u0275fac=function(t){return new(t||e)(n.\u0275\u0275inject(i.DwHttpRequestUrlService),n.\u0275\u0275inject(s.DwSystemConfigService),n.\u0275\u0275inject(a.DW_AUTH_TOKEN),n.\u0275\u0275inject(p),n.\u0275\u0275inject(s.DW_APP_AUTH_TOKEN),n.\u0275\u0275inject(i.DwHttpLoadMaskService))},e.\u0275prov=n.\u0275\u0275defineInjectable({factory:function(){return new e(n.\u0275\u0275inject(i.DwHttpRequestUrlService),n.\u0275\u0275inject(s.DwSystemConfigService),n.\u0275\u0275inject(a.DW_AUTH_TOKEN),n.\u0275\u0275inject(p),n.\u0275\u0275inject(s.DW_APP_AUTH_TOKEN),n.\u0275\u0275inject(i.DwHttpLoadMaskService))},token:e,providedIn:d}),e})()}}]);