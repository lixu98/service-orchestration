"use strict";(self.webpackChunkassc_crs=self.webpackChunkassc_crs||[]).push([[6769],{71452:function(e,t,n){n.d(t,{ee:function(){return mt},Y9:function(){return wt},My:function(){return pt},KP:function(){return ut},Uw:function(){return Ct},at:function(){return ht},hb:function(){return lt},f1:function(){return Et},xi:function(){return st},QF:function(){return ct},Ct:function(){return St},T:function(){return bt},b:function(){return yt},BL:function(){return _t},$2:function(){return xt},FH:function(){return gt},R9:function(){return vt}});var i=n(42746),r=n(69252),o=n(16612),a=n(10952),d=n(71049),l=n(47372),s=n(62695),c=n(87442),m=n(83522),p=n(51156),u=n(30469),f=n(32698),w=n.n(f),h=n(43938),g=n(55245),v=n(1020),C=n(85277),y=n(35626),x=n(119),_=n(82542),S=n(41937),b=n(67280),E=n(37568),I=n(93353);function D(e,t){1&e&&i.\u0275\u0275elementContainer(0)}const T=function(e){return{$implicit:e}};function O(e,t){if(1&e&&(i.\u0275\u0275elementContainerStart(0),i.\u0275\u0275template(1,D,1,0,"ng-container",8),i.\u0275\u0275elementContainerEnd()),2&e){const e=i.\u0275\u0275nextContext(),t=i.\u0275\u0275reference(7);i.\u0275\u0275advance(1),i.\u0275\u0275property("ngTemplateOutlet",t)("ngTemplateOutletContext",i.\u0275\u0275pureFunction1(2,T,e.dwFilterInfo))}}function M(e,t){1&e&&i.\u0275\u0275elementContainer(0)}function F(e,t){if(1&e&&(i.\u0275\u0275elementContainerStart(0),i.\u0275\u0275template(1,M,1,0,"ng-container",8),i.\u0275\u0275elementContainerEnd()),2&e){const e=i.\u0275\u0275nextContext(),t=i.\u0275\u0275reference(13);i.\u0275\u0275advance(1),i.\u0275\u0275property("ngTemplateOutlet",t)("ngTemplateOutletContext",i.\u0275\u0275pureFunction1(2,T,e.dwFilterInfo))}}function P(e,t){1&e&&i.\u0275\u0275elementContainer(0)}function k(e,t){if(1&e&&(i.\u0275\u0275elementContainerStart(0),i.\u0275\u0275template(1,P,1,0,"ng-container",8),i.\u0275\u0275elementContainerEnd()),2&e){const e=i.\u0275\u0275nextContext(),t=i.\u0275\u0275reference(9);i.\u0275\u0275advance(1),i.\u0275\u0275property("ngTemplateOutlet",t)("ngTemplateOutletContext",i.\u0275\u0275pureFunction1(2,T,e.dwFilterInfo))}}function V(e,t){1&e&&i.\u0275\u0275elementContainer(0)}function R(e,t){if(1&e&&(i.\u0275\u0275elementContainerStart(0),i.\u0275\u0275template(1,V,1,0,"ng-container",8),i.\u0275\u0275elementContainerEnd()),2&e){const e=i.\u0275\u0275nextContext(),t=i.\u0275\u0275reference(11);i.\u0275\u0275advance(1),i.\u0275\u0275property("ngTemplateOutlet",t)("ngTemplateOutletContext",i.\u0275\u0275pureFunction1(2,T,e.dwFilterInfo))}}function A(e,t){if(1&e&&(i.\u0275\u0275element(0,"dw-option",14),i.\u0275\u0275pipe(1,"translate")),2&e){const e=t.$implicit;i.\u0275\u0275property("dwLabel",i.\u0275\u0275pipeBind1(1,2,e.label))("dwValue",e.value)}}function L(e,t){if(1&e){const e=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementContainerStart(0),i.\u0275\u0275elementStart(1,"dw-select",12),i.\u0275\u0275listener("ngModelChange",function(t){return i.\u0275\u0275restoreView(e),i.\u0275\u0275nextContext().$implicit.condition1.filter=t})("ngModelChange",function(){return i.\u0275\u0275restoreView(e),i.\u0275\u0275nextContext(2).modelChange()}),i.\u0275\u0275template(2,A,2,4,"dw-option",13),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementContainerEnd()}if(2&e){const e=i.\u0275\u0275nextContext().$implicit,t=i.\u0275\u0275nextContext();i.\u0275\u0275advance(1),i.\u0275\u0275property("ngModel",e.condition1.filter)("dwMode",t.dwFilterMultipleMode),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngForOf",t.dwFilterList)}}function $(e,t){if(1&e&&(i.\u0275\u0275elementContainerStart(0),i.\u0275\u0275element(1,"input",15),i.\u0275\u0275elementContainerEnd()),2&e){const e=i.\u0275\u0275nextContext(2);i.\u0275\u0275advance(1),i.\u0275\u0275property("value",e.strCondition)("disabled",!0)}}function j(e,t){if(1&e&&(i.\u0275\u0275elementStart(0,"div",9),i.\u0275\u0275elementStart(1,"div",10),i.\u0275\u0275template(2,L,3,3,"ng-container",11),i.\u0275\u0275template(3,$,2,2,"ng-container",11),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd()),2&e){const e=t.$implicit,n=i.\u0275\u0275nextContext();i.\u0275\u0275advance(2),i.\u0275\u0275property("ngIf",n.canEditModel(e,n.dwFilterList)),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",!n.canEditModel(e,n.dwFilterList))}}function N(e,t){if(1&e){const e=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementContainerStart(0),i.\u0275\u0275elementStart(1,"dw-date-picker",16),i.\u0275\u0275listener("ngModelChange",function(t){return i.\u0275\u0275restoreView(e),i.\u0275\u0275nextContext().$implicit.condition1.filter=t})("ngModelChange",function(){return i.\u0275\u0275restoreView(e),i.\u0275\u0275nextContext(2).modelChange()}),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementContainerEnd()}if(2&e){const e=i.\u0275\u0275nextContext().$implicit;i.\u0275\u0275advance(1),i.\u0275\u0275property("ngModel",e.condition1.filter)}}function z(e,t){if(1&e&&(i.\u0275\u0275elementContainerStart(0),i.\u0275\u0275element(1,"input",15),i.\u0275\u0275elementContainerEnd()),2&e){const e=i.\u0275\u0275nextContext(2);i.\u0275\u0275advance(1),i.\u0275\u0275property("value",e.strCondition)("disabled",!0)}}function q(e,t){if(1&e&&(i.\u0275\u0275elementStart(0,"div",9),i.\u0275\u0275elementStart(1,"div",10),i.\u0275\u0275template(2,N,2,1,"ng-container",11),i.\u0275\u0275template(3,z,2,2,"ng-container",11),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd()),2&e){const e=t.$implicit,n=i.\u0275\u0275nextContext();i.\u0275\u0275advance(2),i.\u0275\u0275property("ngIf",n.canEditModel(e)),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",!n.canEditModel(e))}}function W(e,t){if(1&e){const e=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementStart(0,"i",21),i.\u0275\u0275listener("click",function(){return i.\u0275\u0275restoreView(e),i.\u0275\u0275nextContext(4).clear()}),i.\u0275\u0275elementEnd()}}function B(e,t){if(1&e&&i.\u0275\u0275template(0,W,1,0,"i",20),2&e){const e=i.\u0275\u0275nextContext(2).$implicit;i.\u0275\u0275property("ngIf",e.condition1.filter)}}function U(e,t){if(1&e){const e=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementContainerStart(0),i.\u0275\u0275elementStart(1,"dw-input-group",17),i.\u0275\u0275elementStart(2,"input",18),i.\u0275\u0275listener("ngModelChange",function(t){return i.\u0275\u0275restoreView(e),i.\u0275\u0275nextContext().$implicit.condition1.filter=t})("ngModelChange",function(){return i.\u0275\u0275restoreView(e),i.\u0275\u0275nextContext(2).modelChange()}),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275template(3,B,1,1,"ng-template",null,19,i.\u0275\u0275templateRefExtractor),i.\u0275\u0275elementContainerEnd()}if(2&e){const e=i.\u0275\u0275reference(4),t=i.\u0275\u0275nextContext().$implicit;i.\u0275\u0275advance(1),i.\u0275\u0275property("dwSuffix",e),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngModel",t.condition1.filter)}}function X(e,t){if(1&e&&(i.\u0275\u0275elementContainerStart(0),i.\u0275\u0275element(1,"input",15),i.\u0275\u0275elementContainerEnd()),2&e){const e=i.\u0275\u0275nextContext(2);i.\u0275\u0275advance(1),i.\u0275\u0275property("value",e.strCondition)("disabled",!0)}}function G(e,t){if(1&e&&(i.\u0275\u0275elementStart(0,"div",9),i.\u0275\u0275elementStart(1,"div",10),i.\u0275\u0275template(2,U,5,2,"ng-container",11),i.\u0275\u0275template(3,X,2,2,"ng-container",11),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd()),2&e){const e=t.$implicit,n=i.\u0275\u0275nextContext();i.\u0275\u0275advance(2),i.\u0275\u0275property("ngIf",n.canEditModel(e)),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",!n.canEditModel(e))}}function H(e,t){if(1&e){const e=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementContainerStart(0),i.\u0275\u0275elementStart(1,"dw-input-number",16),i.\u0275\u0275listener("ngModelChange",function(t){return i.\u0275\u0275restoreView(e),i.\u0275\u0275nextContext().$implicit.condition1.filter=t})("ngModelChange",function(){return i.\u0275\u0275restoreView(e),i.\u0275\u0275nextContext(2).modelChange()}),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementContainerEnd()}if(2&e){const e=i.\u0275\u0275nextContext().$implicit;i.\u0275\u0275advance(1),i.\u0275\u0275property("ngModel",e.condition1.filter)}}function K(e,t){if(1&e&&(i.\u0275\u0275elementContainerStart(0),i.\u0275\u0275element(1,"input",15),i.\u0275\u0275elementContainerEnd()),2&e){const e=i.\u0275\u0275nextContext(2);i.\u0275\u0275advance(1),i.\u0275\u0275property("value",e.strCondition)("disabled",!0)}}function Q(e,t){if(1&e&&(i.\u0275\u0275elementStart(0,"div",9),i.\u0275\u0275elementStart(1,"div",10),i.\u0275\u0275template(2,H,2,1,"ng-container",11),i.\u0275\u0275template(3,K,2,2,"ng-container",11),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd()),2&e){const e=t.$implicit,n=i.\u0275\u0275nextContext();i.\u0275\u0275advance(2),i.\u0275\u0275property("ngIf",n.canEditModel(e)),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",!n.canEditModel(e))}}const Z=["dwDropColumnsContent"],J=["rightMenu"],Y=["emptyDataColumns"],ee=["dwDropColumns",""];function te(e,t){1&e&&(i.\u0275\u0275elementStart(0,"td",11),i.\u0275\u0275text(1),i.\u0275\u0275pipe(2,"translate"),i.\u0275\u0275elementEnd()),2&e&&(i.\u0275\u0275advance(1),i.\u0275\u0275textInterpolate(i.\u0275\u0275pipeBind1(2,1,"dw-table-config-no-column-displayed")))}const ne=function(e){return{checked:e}};function ie(e,t){if(1&e){const e=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementStart(0,"li",12),i.\u0275\u0275elementStart(1,"div",13),i.\u0275\u0275listener("click",function(t){const n=i.\u0275\u0275restoreView(e).$implicit;return i.\u0275\u0275nextContext().changeVisible(n,t)}),i.\u0275\u0275element(2,"span",14),i.\u0275\u0275text(3),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd()}if(2&e){const e=t.$implicit;i.\u0275\u0275advance(2),i.\u0275\u0275property("ngClass",i.\u0275\u0275pureFunction1(2,ne,e.visible)),i.\u0275\u0275advance(1),i.\u0275\u0275textInterpolate1(" ",e.columnName," ")}}function re(e,t){1&e&&(i.\u0275\u0275elementStart(0,"div"),i.\u0275\u0275elementStart(1,"span",5),i.\u0275\u0275text(2,"dw-table-config-floatingFilter-open"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd())}function oe(e,t){1&e&&(i.\u0275\u0275elementStart(0,"div"),i.\u0275\u0275elementStart(1,"span",5),i.\u0275\u0275text(2,"dw-table-config-floatingFilter-close"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd())}function ae(e,t){if(1&e){const e=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementStart(0,"li",4),i.\u0275\u0275listener("click",function(){return i.\u0275\u0275restoreView(e),i.\u0275\u0275nextContext().changeFloatingFilter()}),i.\u0275\u0275template(1,re,3,0,"div",15),i.\u0275\u0275template(2,oe,3,0,"div",15),i.\u0275\u0275elementEnd()}if(2&e){const e=i.\u0275\u0275nextContext();i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",!0!==e.dwFloatingFilter),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",!0===e.dwFloatingFilter)}}const de=["*"],le=["dwReorderColumnsContent"],se=["dwReorderColumns",""];function ce(e,t){1&e&&i.\u0275\u0275elementContainer(0)}function me(e,t){1&e&&i.\u0275\u0275elementContainer(0)}const pe=function(e,t){return{$implicit:e,selectVisiable:t}};function ue(e,t){if(1&e&&(i.\u0275\u0275elementContainerStart(0),i.\u0275\u0275template(1,me,1,0,"ng-container",1),i.\u0275\u0275elementContainerEnd()),2&e){const e=i.\u0275\u0275nextContext(),t=e.$implicit,n=e.filterVisiable;i.\u0275\u0275nextContext();const r=i.\u0275\u0275reference(5);i.\u0275\u0275advance(1),i.\u0275\u0275property("ngTemplateOutlet",r)("ngTemplateOutletContext",i.\u0275\u0275pureFunction2(2,pe,t,n))}}function fe(e,t){1&e&&i.\u0275\u0275elementContainer(0)}function we(e,t){if(1&e&&(i.\u0275\u0275elementContainerStart(0),i.\u0275\u0275template(1,fe,1,0,"ng-container",1),i.\u0275\u0275elementContainerEnd()),2&e){const e=i.\u0275\u0275nextContext().$implicit;i.\u0275\u0275nextContext();const t=i.\u0275\u0275reference(11);i.\u0275\u0275advance(1),i.\u0275\u0275property("ngTemplateOutlet",t)("ngTemplateOutletContext",i.\u0275\u0275pureFunction1(2,T,e))}}function he(e,t){1&e&&i.\u0275\u0275elementContainer(0)}function ge(e,t){if(1&e&&(i.\u0275\u0275elementContainerStart(0),i.\u0275\u0275template(1,he,1,0,"ng-container",1),i.\u0275\u0275elementContainerEnd()),2&e){const e=i.\u0275\u0275nextContext().$implicit;i.\u0275\u0275nextContext();const t=i.\u0275\u0275reference(7);i.\u0275\u0275advance(1),i.\u0275\u0275property("ngTemplateOutlet",t)("ngTemplateOutletContext",i.\u0275\u0275pureFunction1(2,T,e))}}function ve(e,t){1&e&&i.\u0275\u0275elementContainer(0)}function Ce(e,t){if(1&e&&(i.\u0275\u0275elementContainerStart(0),i.\u0275\u0275template(1,ve,1,0,"ng-container",1),i.\u0275\u0275elementContainerEnd()),2&e){const e=i.\u0275\u0275nextContext().$implicit;i.\u0275\u0275nextContext();const t=i.\u0275\u0275reference(9);i.\u0275\u0275advance(1),i.\u0275\u0275property("ngTemplateOutlet",t)("ngTemplateOutletContext",i.\u0275\u0275pureFunction1(2,T,e))}}function ye(e,t){if(1&e){const e=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementStart(0,"a",7),i.\u0275\u0275listener("dwVisibleChange",function(t){return i.\u0275\u0275restoreView(e).filterVisiable.value=t}),i.\u0275\u0275element(1,"i",8),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(2,"dw-dropdown-menu",null,9),i.\u0275\u0275elementStart(4,"div",10),i.\u0275\u0275elementStart(5,"div",11),i.\u0275\u0275elementContainerStart(6,12),i.\u0275\u0275template(7,ue,2,5,"ng-container",13),i.\u0275\u0275template(8,we,2,4,"ng-container",13),i.\u0275\u0275template(9,ge,2,4,"ng-container",13),i.\u0275\u0275template(10,Ce,2,4,"ng-container",14),i.\u0275\u0275elementContainerEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(11,"div",15),i.\u0275\u0275elementStart(12,"button",16),i.\u0275\u0275listener("click",function(){const t=i.\u0275\u0275restoreView(e);return t.filter(t.$implicit)}),i.\u0275\u0275elementStart(13,"span",17),i.\u0275\u0275text(14,"dw-table-config-search"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(15,"button",16),i.\u0275\u0275listener("click",function(){return i.\u0275\u0275restoreView(e),i.\u0275\u0275nextContext().close()}),i.\u0275\u0275elementStart(16,"span",17),i.\u0275\u0275text(17,"dw-table-config-close"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd()}if(2&e){const e=t.filterVisiable,n=i.\u0275\u0275reference(3),r=i.\u0275\u0275nextContext();i.\u0275\u0275property("dwClickHide",!0)("dwDropdownMenu",n)("dwVisible",e.value),i.\u0275\u0275advance(1),i.\u0275\u0275property("dwType",r.dwFilterIcon?r.dwFilterIcon:"search")("dwTheme",r.dwIconTheme?r.dwIconTheme:"outline"),i.\u0275\u0275advance(5),i.\u0275\u0275property("ngSwitch",r.dwColumnFilter),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngSwitchCase","selectFilter"),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngSwitchCase","numberFilter"),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngSwitchCase","dateFilter")}}function xe(e,t){if(1&e&&(i.\u0275\u0275element(0,"dw-option",25),i.\u0275\u0275pipe(1,"translate")),2&e){const e=i.\u0275\u0275nextContext().$implicit;i.\u0275\u0275property("dwValue",e.value)("dwLabel",i.\u0275\u0275pipeBind1(1,2,"dw-table-config-"+e.value))}}function _e(e,t){if(1&e&&(i.\u0275\u0275elementContainerStart(0),i.\u0275\u0275template(1,xe,2,4,"dw-option",24),i.\u0275\u0275elementContainerEnd()),2&e){const e=t.$implicit;i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",e.supported.indexOf("select")>=0)}}function Se(e,t){if(1&e&&(i.\u0275\u0275element(0,"dw-option",28),i.\u0275\u0275pipe(1,"translate")),2&e){const e=t.$implicit;i.\u0275\u0275property("dwLabel",i.\u0275\u0275pipeBind1(1,2,e.label))("dwValue",e.value)}}function be(e,t){if(1&e){const e=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementStart(0,"dw-select",26),i.\u0275\u0275listener("ngModelChange",function(t){return i.\u0275\u0275restoreView(e),i.\u0275\u0275nextContext().$implicit.condition1.filter=t}),i.\u0275\u0275template(1,Se,2,4,"dw-option",27),i.\u0275\u0275elementEnd()}if(2&e){const e=i.\u0275\u0275nextContext().$implicit,t=i.\u0275\u0275nextContext();i.\u0275\u0275property("ngModel",e.condition1.filter)("dwMode",t.dwFilterMultipleMode),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngForOf",t.dwFilterList)}}function Ee(e,t){if(1&e&&(i.\u0275\u0275elementStart(0,"label",30),i.\u0275\u0275text(1),i.\u0275\u0275pipe(2,"translate"),i.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;i.\u0275\u0275property("dwValue",e),i.\u0275\u0275advance(1),i.\u0275\u0275textInterpolate1(" ",i.\u0275\u0275pipeBind1(2,2,"dw-table-config-"+e)," ")}}function Ie(e,t){if(1&e&&(i.\u0275\u0275element(0,"dw-option",25),i.\u0275\u0275pipe(1,"translate")),2&e){const e=i.\u0275\u0275nextContext().$implicit;i.\u0275\u0275property("dwValue",e.value)("dwLabel",i.\u0275\u0275pipeBind1(1,2,"dw-table-config-"+e.value))}}function De(e,t){if(1&e&&(i.\u0275\u0275elementContainerStart(0),i.\u0275\u0275template(1,Ie,2,4,"dw-option",24),i.\u0275\u0275elementContainerEnd()),2&e){const e=t.$implicit;i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",e.supported.indexOf("select")>=0)}}function Te(e,t){if(1&e&&(i.\u0275\u0275element(0,"dw-option",28),i.\u0275\u0275pipe(1,"translate")),2&e){const e=t.$implicit;i.\u0275\u0275property("dwLabel",i.\u0275\u0275pipeBind1(1,2,e.label))("dwValue",e.value)}}function Oe(e,t){if(1&e){const e=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementStart(0,"dw-select",26),i.\u0275\u0275listener("ngModelChange",function(t){return i.\u0275\u0275restoreView(e),i.\u0275\u0275nextContext(2).$implicit.condition2.filter=t}),i.\u0275\u0275template(1,Te,2,4,"dw-option",27),i.\u0275\u0275elementEnd()}if(2&e){const e=i.\u0275\u0275nextContext(2).$implicit,t=i.\u0275\u0275nextContext();i.\u0275\u0275property("ngModel",e.condition2.filter)("dwMode",t.dwFilterMultipleMode),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngForOf",t.dwFilterList)}}function Me(e,t){if(1&e){const e=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementContainerStart(0),i.\u0275\u0275elementStart(1,"div",19),i.\u0275\u0275elementStart(2,"dw-radio-group",20),i.\u0275\u0275listener("ngModelChange",function(t){return i.\u0275\u0275restoreView(e),i.\u0275\u0275nextContext().$implicit.operator=t}),i.\u0275\u0275template(3,Ee,3,4,"label",29),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(4,"div",19),i.\u0275\u0275elementStart(5,"dw-select",20),i.\u0275\u0275listener("ngModelChange",function(t){return i.\u0275\u0275restoreView(e),i.\u0275\u0275nextContext().$implicit.condition2.options=t}),i.\u0275\u0275template(6,De,2,1,"ng-container",21),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(7,"div",19),i.\u0275\u0275template(8,Oe,2,3,"dw-select",22),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementContainerEnd()}if(2&e){const e=i.\u0275\u0275nextContext(),t=e.$implicit,n=e.selectVisiable,r=i.\u0275\u0275nextContext();i.\u0275\u0275advance(2),i.\u0275\u0275property("ngModel",t.operator),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngForOf",r.dwFilterOperator),i.\u0275\u0275advance(2),i.\u0275\u0275property("ngModel",t.condition2.options),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngForOf",r.dwFilterOptions),i.\u0275\u0275advance(2),i.\u0275\u0275property("ngIf",n.value)}}function Fe(e,t){if(1&e){const e=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementStart(0,"div",18),i.\u0275\u0275elementStart(1,"div",19),i.\u0275\u0275elementStart(2,"dw-select",20),i.\u0275\u0275listener("ngModelChange",function(t){return i.\u0275\u0275restoreView(e).$implicit.condition1.options=t}),i.\u0275\u0275template(3,_e,2,1,"ng-container",21),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(4,"div",19),i.\u0275\u0275template(5,be,2,3,"dw-select",22),i.\u0275\u0275elementEnd(),i.\u0275\u0275template(6,Me,9,5,"ng-container",23),i.\u0275\u0275elementEnd()}if(2&e){const e=t.$implicit,n=t.selectVisiable,r=i.\u0275\u0275nextContext();i.\u0275\u0275advance(2),i.\u0275\u0275property("ngModel",e.condition1.options),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngForOf",r.dwFilterOptions),i.\u0275\u0275advance(2),i.\u0275\u0275property("ngIf",n.value),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",e.condition1.filter)}}function Pe(e,t){if(1&e&&(i.\u0275\u0275element(0,"dw-option",25),i.\u0275\u0275pipe(1,"translate")),2&e){const e=i.\u0275\u0275nextContext().$implicit;i.\u0275\u0275property("dwValue",e.value)("dwLabel",i.\u0275\u0275pipeBind1(1,2,"dw-table-config-"+e.value))}}function ke(e,t){if(1&e&&(i.\u0275\u0275elementContainerStart(0),i.\u0275\u0275template(1,Pe,2,4,"dw-option",24),i.\u0275\u0275elementContainerEnd()),2&e){const e=t.$implicit;i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",e.supported.indexOf("date")>=0)}}function Ve(e,t){if(1&e){const e=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementContainerStart(0),i.\u0275\u0275elementStart(1,"div",19),i.\u0275\u0275elementStart(2,"dw-date-picker",20),i.\u0275\u0275listener("ngModelChange",function(t){return i.\u0275\u0275restoreView(e),i.\u0275\u0275nextContext().$implicit.condition1.filterTo=t}),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementContainerEnd()}if(2&e){const e=i.\u0275\u0275nextContext().$implicit;i.\u0275\u0275advance(2),i.\u0275\u0275property("ngModel",e.condition1.filterTo)}}function Re(e,t){if(1&e&&(i.\u0275\u0275elementStart(0,"label",30),i.\u0275\u0275text(1),i.\u0275\u0275pipe(2,"translate"),i.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;i.\u0275\u0275property("dwValue",e),i.\u0275\u0275advance(1),i.\u0275\u0275textInterpolate1(" ",i.\u0275\u0275pipeBind1(2,2,"dw-table-config-"+e)," ")}}function Ae(e,t){if(1&e&&(i.\u0275\u0275element(0,"dw-option",25),i.\u0275\u0275pipe(1,"translate")),2&e){const e=i.\u0275\u0275nextContext().$implicit;i.\u0275\u0275property("dwValue",e.value)("dwLabel",i.\u0275\u0275pipeBind1(1,2,"dw-table-config-"+e.value))}}function Le(e,t){if(1&e&&(i.\u0275\u0275elementContainerStart(0),i.\u0275\u0275template(1,Ae,2,4,"dw-option",24),i.\u0275\u0275elementContainerEnd()),2&e){const e=t.$implicit;i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",e.supported.indexOf("date")>=0)}}function $e(e,t){if(1&e){const e=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementContainerStart(0),i.\u0275\u0275elementStart(1,"div",19),i.\u0275\u0275elementStart(2,"dw-date-picker",20),i.\u0275\u0275listener("ngModelChange",function(t){return i.\u0275\u0275restoreView(e),i.\u0275\u0275nextContext(2).$implicit.condition2.filterTo=t}),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementContainerEnd()}if(2&e){const e=i.\u0275\u0275nextContext(2).$implicit;i.\u0275\u0275advance(2),i.\u0275\u0275property("ngModel",e.condition2.filterTo)}}function je(e,t){if(1&e){const e=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementContainerStart(0),i.\u0275\u0275elementStart(1,"div",19),i.\u0275\u0275elementStart(2,"dw-radio-group",20),i.\u0275\u0275listener("ngModelChange",function(t){return i.\u0275\u0275restoreView(e),i.\u0275\u0275nextContext().$implicit.operator=t}),i.\u0275\u0275template(3,Re,3,4,"label",29),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(4,"div",19),i.\u0275\u0275elementStart(5,"dw-select",20),i.\u0275\u0275listener("ngModelChange",function(t){return i.\u0275\u0275restoreView(e),i.\u0275\u0275nextContext().$implicit.condition2.options=t}),i.\u0275\u0275template(6,Le,2,1,"ng-container",21),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(7,"div",19),i.\u0275\u0275elementStart(8,"dw-date-picker",20),i.\u0275\u0275listener("ngModelChange",function(t){return i.\u0275\u0275restoreView(e),i.\u0275\u0275nextContext().$implicit.condition2.filter=t}),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275template(9,$e,3,1,"ng-container",23),i.\u0275\u0275elementContainerEnd()}if(2&e){const e=i.\u0275\u0275nextContext().$implicit,t=i.\u0275\u0275nextContext();i.\u0275\u0275advance(2),i.\u0275\u0275property("ngModel",e.operator),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngForOf",t.dwFilterOperator),i.\u0275\u0275advance(2),i.\u0275\u0275property("ngModel",e.condition2.options),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngForOf",t.dwFilterOptions),i.\u0275\u0275advance(2),i.\u0275\u0275property("ngModel",e.condition2.filter),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf","inRange"===e.condition2.options)}}function Ne(e,t){if(1&e){const e=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementStart(0,"div",18),i.\u0275\u0275elementStart(1,"div",19),i.\u0275\u0275elementStart(2,"dw-select",20),i.\u0275\u0275listener("ngModelChange",function(t){return i.\u0275\u0275restoreView(e).$implicit.condition1.options=t}),i.\u0275\u0275template(3,ke,2,1,"ng-container",21),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(4,"div",19),i.\u0275\u0275elementStart(5,"dw-date-picker",20),i.\u0275\u0275listener("ngModelChange",function(t){return i.\u0275\u0275restoreView(e).$implicit.condition1.filter=t}),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275template(6,Ve,3,1,"ng-container",23),i.\u0275\u0275template(7,je,10,6,"ng-container",23),i.\u0275\u0275elementEnd()}if(2&e){const e=t.$implicit,n=i.\u0275\u0275nextContext();i.\u0275\u0275advance(2),i.\u0275\u0275property("ngModel",e.condition1.options),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngForOf",n.dwFilterOptions),i.\u0275\u0275advance(2),i.\u0275\u0275property("ngModel",e.condition1.filter),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf","inRange"===e.condition1.options),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf","inRange"!==e.condition1.options&&e.condition1.filter||"inRange"===e.condition1.options&&e.condition1.filter&&e.condition1.filterTo)}}function ze(e,t){if(1&e&&(i.\u0275\u0275element(0,"dw-option",25),i.\u0275\u0275pipe(1,"translate")),2&e){const e=i.\u0275\u0275nextContext().$implicit;i.\u0275\u0275property("dwValue",e.value)("dwLabel",i.\u0275\u0275pipeBind1(1,2,"dw-table-config-"+e.value))}}function qe(e,t){if(1&e&&(i.\u0275\u0275elementContainerStart(0),i.\u0275\u0275template(1,ze,2,4,"dw-option",24),i.\u0275\u0275elementContainerEnd()),2&e){const e=t.$implicit;i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",e.supported.indexOf("text")>=0)}}function We(e,t){if(1&e){const e=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementStart(0,"i",35),i.\u0275\u0275listener("click",function(){return i.\u0275\u0275restoreView(e),i.\u0275\u0275nextContext(3).clear("condition1","filter")}),i.\u0275\u0275elementEnd()}}function Be(e,t){if(1&e&&i.\u0275\u0275template(0,We,1,0,"i",34),2&e){const e=i.\u0275\u0275nextContext().$implicit;i.\u0275\u0275property("ngIf",e.condition1.filter)}}function Ue(e,t){if(1&e&&(i.\u0275\u0275elementStart(0,"label",30),i.\u0275\u0275text(1),i.\u0275\u0275pipe(2,"translate"),i.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;i.\u0275\u0275property("dwValue",e),i.\u0275\u0275advance(1),i.\u0275\u0275textInterpolate1(" ",i.\u0275\u0275pipeBind1(2,2,"dw-table-config-"+e)," ")}}function Xe(e,t){if(1&e&&(i.\u0275\u0275element(0,"dw-option",25),i.\u0275\u0275pipe(1,"translate")),2&e){const e=i.\u0275\u0275nextContext().$implicit;i.\u0275\u0275property("dwValue",e.value)("dwLabel",i.\u0275\u0275pipeBind1(1,2,"dw-table-config-"+e.value))}}function Ge(e,t){if(1&e&&(i.\u0275\u0275elementContainerStart(0),i.\u0275\u0275template(1,Xe,2,4,"dw-option",24),i.\u0275\u0275elementContainerEnd()),2&e){const e=t.$implicit;i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",e.supported.indexOf("text")>=0)}}function He(e,t){if(1&e){const e=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementStart(0,"i",35),i.\u0275\u0275listener("click",function(){return i.\u0275\u0275restoreView(e),i.\u0275\u0275nextContext(4).clear("condition2","filter")}),i.\u0275\u0275elementEnd()}}function Ke(e,t){if(1&e&&i.\u0275\u0275template(0,He,1,0,"i",34),2&e){const e=i.\u0275\u0275nextContext(2).$implicit;i.\u0275\u0275property("ngIf",e.condition2.filter)}}function Qe(e,t){if(1&e){const e=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementContainerStart(0),i.\u0275\u0275elementStart(1,"div",19),i.\u0275\u0275elementStart(2,"dw-radio-group",20),i.\u0275\u0275listener("ngModelChange",function(t){return i.\u0275\u0275restoreView(e),i.\u0275\u0275nextContext().$implicit.operator=t}),i.\u0275\u0275template(3,Ue,3,4,"label",29),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(4,"div",19),i.\u0275\u0275elementStart(5,"dw-select",20),i.\u0275\u0275listener("ngModelChange",function(t){return i.\u0275\u0275restoreView(e),i.\u0275\u0275nextContext().$implicit.condition2.options=t}),i.\u0275\u0275template(6,Ge,2,1,"ng-container",21),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(7,"div",19),i.\u0275\u0275elementStart(8,"dw-input-group",31),i.\u0275\u0275elementStart(9,"input",32),i.\u0275\u0275listener("ngModelChange",function(t){return i.\u0275\u0275restoreView(e),i.\u0275\u0275nextContext().$implicit.condition2.filter=t}),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275template(10,Ke,1,1,"ng-template",null,36,i.\u0275\u0275templateRefExtractor),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementContainerEnd()}if(2&e){const e=i.\u0275\u0275reference(11),t=i.\u0275\u0275nextContext().$implicit,n=i.\u0275\u0275nextContext();i.\u0275\u0275advance(2),i.\u0275\u0275property("ngModel",t.operator),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngForOf",n.dwFilterOperator),i.\u0275\u0275advance(2),i.\u0275\u0275property("ngModel",t.condition2.options),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngForOf",n.dwFilterOptions),i.\u0275\u0275advance(2),i.\u0275\u0275property("dwSuffix",e),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngModel",t.condition2.filter)}}function Ze(e,t){if(1&e){const e=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementStart(0,"div",18),i.\u0275\u0275elementStart(1,"div",19),i.\u0275\u0275elementStart(2,"dw-select",20),i.\u0275\u0275listener("ngModelChange",function(t){return i.\u0275\u0275restoreView(e).$implicit.condition1.options=t}),i.\u0275\u0275template(3,qe,2,1,"ng-container",21),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(4,"div",19),i.\u0275\u0275elementStart(5,"dw-input-group",31),i.\u0275\u0275elementStart(6,"input",32),i.\u0275\u0275listener("ngModelChange",function(t){return i.\u0275\u0275restoreView(e).$implicit.condition1.filter=t}),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275template(7,Be,1,1,"ng-template",null,33,i.\u0275\u0275templateRefExtractor),i.\u0275\u0275elementEnd(),i.\u0275\u0275template(9,Qe,12,6,"ng-container",23),i.\u0275\u0275elementEnd()}if(2&e){const e=t.$implicit,n=i.\u0275\u0275reference(8),r=i.\u0275\u0275nextContext();i.\u0275\u0275advance(2),i.\u0275\u0275property("ngModel",e.condition1.options),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngForOf",r.dwFilterOptions),i.\u0275\u0275advance(2),i.\u0275\u0275property("dwSuffix",n),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngModel",e.condition1.filter),i.\u0275\u0275advance(3),i.\u0275\u0275property("ngIf",e.condition1.filter)}}function Je(e,t){if(1&e&&(i.\u0275\u0275element(0,"dw-option",25),i.\u0275\u0275pipe(1,"translate")),2&e){const e=i.\u0275\u0275nextContext().$implicit;i.\u0275\u0275property("dwValue",e.value)("dwLabel",i.\u0275\u0275pipeBind1(1,2,"dw-table-config-"+e.value))}}function Ye(e,t){if(1&e&&(i.\u0275\u0275elementContainerStart(0),i.\u0275\u0275template(1,Je,2,4,"dw-option",24),i.\u0275\u0275elementContainerEnd()),2&e){const e=t.$implicit;i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",e.supported.indexOf("number")>=0)}}function et(e,t){if(1&e){const e=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementContainerStart(0),i.\u0275\u0275elementStart(1,"div",19),i.\u0275\u0275elementStart(2,"dw-input-number",20),i.\u0275\u0275listener("ngModelChange",function(t){return i.\u0275\u0275restoreView(e),i.\u0275\u0275nextContext().$implicit.condition1.filterTo=t}),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementContainerEnd()}if(2&e){const e=i.\u0275\u0275nextContext().$implicit;i.\u0275\u0275advance(2),i.\u0275\u0275property("ngModel",e.condition1.filterTo)}}function tt(e,t){if(1&e&&(i.\u0275\u0275elementStart(0,"label",30),i.\u0275\u0275text(1),i.\u0275\u0275pipe(2,"translate"),i.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;i.\u0275\u0275property("dwValue",e),i.\u0275\u0275advance(1),i.\u0275\u0275textInterpolate1(" ",i.\u0275\u0275pipeBind1(2,2,"dw-table-config-"+e)," ")}}function nt(e,t){if(1&e&&(i.\u0275\u0275element(0,"dw-option",25),i.\u0275\u0275pipe(1,"translate")),2&e){const e=i.\u0275\u0275nextContext().$implicit;i.\u0275\u0275property("dwValue",e.value)("dwLabel",i.\u0275\u0275pipeBind1(1,2,"dw-table-config-"+e.value))}}function it(e,t){if(1&e&&(i.\u0275\u0275elementContainerStart(0),i.\u0275\u0275template(1,nt,2,4,"dw-option",24),i.\u0275\u0275elementContainerEnd()),2&e){const e=t.$implicit;i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",e.supported.indexOf("number")>=0)}}function rt(e,t){if(1&e){const e=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementContainerStart(0),i.\u0275\u0275elementStart(1,"div",19),i.\u0275\u0275elementStart(2,"dw-input-number",20),i.\u0275\u0275listener("ngModelChange",function(t){return i.\u0275\u0275restoreView(e),i.\u0275\u0275nextContext(2).$implicit.condition2.filterTo=t}),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementContainerEnd()}if(2&e){const e=i.\u0275\u0275nextContext(2).$implicit;i.\u0275\u0275advance(2),i.\u0275\u0275property("ngModel",e.condition2.filterTo)}}function ot(e,t){if(1&e){const e=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementContainerStart(0),i.\u0275\u0275elementStart(1,"div",19),i.\u0275\u0275elementStart(2,"dw-radio-group",20),i.\u0275\u0275listener("ngModelChange",function(t){return i.\u0275\u0275restoreView(e),i.\u0275\u0275nextContext().$implicit.operator=t}),i.\u0275\u0275template(3,tt,3,4,"label",29),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(4,"div",19),i.\u0275\u0275elementStart(5,"dw-select",20),i.\u0275\u0275listener("ngModelChange",function(t){return i.\u0275\u0275restoreView(e),i.\u0275\u0275nextContext().$implicit.condition2.options=t}),i.\u0275\u0275template(6,it,2,1,"ng-container",21),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(7,"div",19),i.\u0275\u0275elementStart(8,"dw-input-number",20),i.\u0275\u0275listener("ngModelChange",function(t){return i.\u0275\u0275restoreView(e),i.\u0275\u0275nextContext().$implicit.condition2.filter=t}),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275template(9,rt,3,1,"ng-container",23),i.\u0275\u0275elementContainerEnd()}if(2&e){const e=i.\u0275\u0275nextContext().$implicit,t=i.\u0275\u0275nextContext();i.\u0275\u0275advance(2),i.\u0275\u0275property("ngModel",e.operator),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngForOf",t.dwFilterOperator),i.\u0275\u0275advance(2),i.\u0275\u0275property("ngModel",e.condition2.options),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngForOf",t.dwFilterOptions),i.\u0275\u0275advance(2),i.\u0275\u0275property("ngModel",e.condition2.filter),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf","inRange"===e.condition2.options)}}function at(e,t){if(1&e){const e=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementStart(0,"div",18),i.\u0275\u0275elementStart(1,"div",19),i.\u0275\u0275elementStart(2,"dw-select",20),i.\u0275\u0275listener("ngModelChange",function(t){return i.\u0275\u0275restoreView(e).$implicit.condition1.options=t}),i.\u0275\u0275template(3,Ye,2,1,"ng-container",21),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(4,"div",19),i.\u0275\u0275elementStart(5,"dw-input-number",20),i.\u0275\u0275listener("ngModelChange",function(t){return i.\u0275\u0275restoreView(e).$implicit.condition1.filter=t}),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275template(6,et,3,1,"ng-container",23),i.\u0275\u0275template(7,ot,10,6,"ng-container",23),i.\u0275\u0275elementEnd()}if(2&e){const e=t.$implicit,n=i.\u0275\u0275nextContext();i.\u0275\u0275advance(2),i.\u0275\u0275property("ngModel",e.condition1.options),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngForOf",n.dwFilterOptions),i.\u0275\u0275advance(2),i.\u0275\u0275property("ngModel",e.condition1.filter),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf","inRange"===e.condition1.options),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf","inRange"!==e.condition1.options&&""!==e.condition1.filter&&null!==e.condition1.filter||"inRange"===e.condition1.options&&""!==e.condition1.filter&&null!==e.condition1.filter&&""!==e.condition1.filterTo&&null!==e.condition1.filterTo)}}const dt=function(e,t,n){return{$implicit:e,filter:t,filterVisiable:n}};let lt=(()=>{class e{constructor(){}saveTableConfig(e){return(0,d.of)(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i.\u0275\u0275defineInjectable({factory:function(){return new e},token:e,providedIn:"root"}),e})(),st=(()=>{class e{constructor(e){this.http=e}getTableConfig(e,t){const n={tableId:e};return t&&Object.assign(n,{userId:t}),this.http.get("restful/service/DWSys/CustomColumn",{params:n}).pipe((0,l.map)(e=>e.data))}saveTableConfig(e,t,n){const i={tableId:e,config:t};return n&&Object.assign(i,{userId:n}),this.http.post("restful/service/DWSys/CustomColumn",{param:i})}deleteTableConfig(e,t){const n={tableId:e};return t&&Object.assign(n,{userId:t}),this.http.delete("restful/service/DWSys/CustomColumn",{body:n})}saveTenantConfig(e,t){return this.http.post("restful/service/DWSys/CustomColumn/Default",{param:{tableId:e,config:t}})}deleteTenantConfig(e){return this.http.delete("restful/service/DWSys/CustomColumn/Default",{body:{tableId:e}})}}return e.\u0275fac=function(t){return new(t||e)(i.\u0275\u0275inject(p.DwDapHttpClient))},e.\u0275prov=i.\u0275\u0275defineInjectable({factory:function(){return new e(i.\u0275\u0275inject(p.DwDapHttpClient))},token:e,providedIn:"root"}),e})(),ct=(()=>{class e{constructor(e,t){this.dwTableConfigRepository=e,this.dwTableConfigExtraService=t,this.tableConfig=null,this.isGetConfig=!1,this.dwTableId=null,this.columnNameMap=new Map,this.dragSubject=new d.Subject,this.resizeSubject=new d.Subject,this.dragDisabledSubject=new d.Subject,this.columnConfigSubject=new d.BehaviorSubject(null),this.deleteConfigSubject=new d.Subject,this.configSubject=new d.Subject,this.visibleSubject=new d.Subject,this.filterSubject=new d.Subject,this.floatingFilterSubject=new d.Subject}get dragSubject$(){return this.dragSubject.asObservable().pipe((0,l.filter)(e=>null!==e))}get resizeSubject$(){return this.resizeSubject.asObservable().pipe((0,l.filter)(e=>null!==e))}get dragDisabledSubject$(){return this.dragDisabledSubject.asObservable().pipe((0,l.filter)(e=>null!==e))}get columnConfigSubject$(){return this.columnConfigSubject.asObservable().pipe((0,l.filter)(e=>null!==e))}get deleteConfigSubject$(){return this.deleteConfigSubject.asObservable().pipe((0,l.filter)(e=>null!==e))}get visibleSubject$(){return this.visibleSubject.asObservable().pipe((0,l.filter)(e=>null!==e))}get filterSubject$(){return this.filterSubject.asObservable().pipe((0,l.filter)(e=>null!==e))}get floatingFilterSubject$(){return this.floatingFilterSubject.asObservable().pipe((0,l.filter)(e=>null!==e))}dragInfo(e){this.dragSubject.next(e)}resize(e){this.resizeSubject.next(e)}dragDisabled(e){this.dragDisabledSubject.next(e)}columnInfo(e,t){this.columnConfigSubject.next({event:e,tableConfig:t})}deleteConfig(e){this.deleteConfigSubject.next(e)}visibleChange(e){this.visibleSubject.next(e)}filterChange(e){this.filterSubject.next(e)}floatingFilterChange(e){this.floatingFilterSubject.next(e)}setDwTableId(e){this.dwTableId=e}getDwTableId(){return this.dwTableId}setColumnConfig(e){this.tableConfig.hasOwnProperty("dwColumnConfig")||(this.tableConfig.dwColumnConfig=[]),this.tableConfig.dwColumnConfig=Object.assign([],e)}getTableConfig(e){return this.tableConfig?(0,d.of)(this.tableConfig):(this.isGetConfig||(this.isGetConfig=!0,this.getConfig(e).subscribe(e=>{this.isGetConfig=!1,this.configSubject.next(e)})),this.configSubject.asObservable())}getConfig(e){return this.dwTableConfigRepository.getTableConfig(this.dwTableId,e).pipe((0,l.map)(e=>{let t={};const n=Object.assign(e.default_config,e.user_config);return n.hasOwnProperty("config")&&n.config.hasOwnProperty("dwColumnConfig")&&n.config.dwColumnConfig.length>0&&(n.config.dwColumnConfig.sort((e,t)=>e.index-t.index),t=n.config),t}),(0,l.tap)(e=>{this.columnInfo("getConfig",e),this.tableConfig=Object.assign({},e)}))}saveTableConfig(e,t){return this.dwTableConfigExtraService.saveTableConfig(this.tableConfig).pipe((0,l.switchMap)(n=>(this.columnInfo(e,n),this.dwTableConfigRepository.saveTableConfig(this.dwTableId,n,t))))}saveTableConfigImmediately(e,t){this.saveTableConfig(e,t).subscribe()}deleteTableConfig(e){return this.tableConfig=null,this.dwTableConfigRepository.deleteTableConfig(this.dwTableId,e)}getTenantConfig(){return this.dwTableConfigRepository.getTableConfig(this.dwTableId).pipe((0,l.map)(e=>{let t={};return e.default_config.hasOwnProperty("config")&&(t=e.default_config.config),t}))}saveTenantConfig(e){return this.dwTableConfigRepository.saveTenantConfig(this.dwTableId,{dwColumnConfig:e})}deleteTenantConfig(){return this.dwTableConfigRepository.deleteTenantConfig(this.dwTableId)}getColumnWidth(e){if(!e||!this.tableConfig||!this.tableConfig.dwColumnConfig||0===this.tableConfig.dwColumnConfig.length)return null;const t=this.tableConfig.dwColumnConfig.findIndex(t=>t.dwColumnId===e);return-1===t?null:this.tableConfig.dwColumnConfig[t].width}setColumnWidth(e,t){if(!e||!this.tableConfig||!this.tableConfig.dwColumnConfig||0===this.tableConfig.dwColumnConfig.length)return;const n=this.tableConfig.dwColumnConfig.findIndex(t=>t.dwColumnId===e);-1!==n&&(this.tableConfig.dwColumnConfig[n].width=t,this.saveTableConfigImmediately("widthChange"))}setColumnSort(e,t){if(!e||!this.tableConfig||!this.tableConfig.dwColumnConfig||0===this.tableConfig.dwColumnConfig.length)return;const n=this.tableConfig.dwColumnConfig.findIndex(t=>t.dwColumnId===e);-1!==n&&(this.tableConfig.dwColumnConfig[n].sort=t,this.saveTableConfigImmediately("sortChange"))}getColumnSort(e){const t=void 0;if(!e||!this.tableConfig||!this.tableConfig.dwColumnConfig||0===this.tableConfig.dwColumnConfig.length)return t;const n=this.tableConfig.dwColumnConfig.findIndex(t=>t.dwColumnId===e);return-1===n?t:this.tableConfig.dwColumnConfig[n].sort}setColumnVisible(e,t){if(!e||!this.tableConfig||!this.tableConfig.dwColumnConfig||0===this.tableConfig.dwColumnConfig.length)return;const n=this.tableConfig.dwColumnConfig.findIndex(t=>t.dwColumnId===e);-1!==n&&(this.tableConfig.dwColumnConfig[n].visible=t)}getColumnVisible(e){let t=!0;if(!e||!this.tableConfig||!this.tableConfig.dwColumnConfig||0===this.tableConfig.dwColumnConfig.length)return t;const n=this.tableConfig.dwColumnConfig.findIndex(t=>t.dwColumnId===e);return-1===n||(t=this.tableConfig.dwColumnConfig[n].visible),t}getVisibleColumns(){if(!this.tableConfig||!this.tableConfig.dwColumnConfig||0===this.tableConfig.dwColumnConfig.length)return[];const e=[];return this.tableConfig.dwColumnConfig.forEach(t=>{t.visible&&e.push(t)}),e}setColumnName(e,t){this.columnNameMap.set(e,t)}getColumnName(e){return this.columnNameMap.get(e)}setColumnFilter(e,t){if(!e||!this.tableConfig||!this.tableConfig.dwColumnConfig||0===this.tableConfig.dwColumnConfig.length)return;const n=this.tableConfig.dwColumnConfig.findIndex(t=>t.dwColumnId===e);-1!==n&&(this.tableConfig.dwColumnConfig[n].filter=t,this.saveTableConfigImmediately("filterChange"))}getColumnFilter(e){let t=null;if(!e||!this.tableConfig||!this.tableConfig.dwColumnConfig||0===this.tableConfig.dwColumnConfig.length)return t;const n=this.tableConfig.dwColumnConfig.findIndex(t=>t.dwColumnId===e);return-1===n||(t=this.tableConfig.dwColumnConfig[n].filter),t}setFloatingFilter(e){!this.tableConfig||(this.tableConfig.dwFloatingFilter=e,this.saveTableConfigImmediately("floatingFilterChange"))}getFloatingFilter(){let e=!1;return!this.tableConfig||!this.tableConfig.hasOwnProperty("dwFloatingFilter")||(e=this.tableConfig.dwFloatingFilter),e}}return e.\u0275fac=function(t){return new(t||e)(i.\u0275\u0275inject(st),i.\u0275\u0275inject(lt))},e.\u0275prov=i.\u0275\u0275defineInjectable({factory:function(){return new e(i.\u0275\u0275inject(st),i.\u0275\u0275inject(lt))},token:e,providedIn:"root"}),e})(),mt=(()=>{class e{constructor(e,t,n){this.tableStyleService=e,this.dndService=t,this.elementRef=n,this.thPureArray=[],this.thColumnIdArray=[],this.thNoColumnIdArray=[],this.thOriColumnIdArray=[],this.dragableRef=[],this.elemDragRefMap=new Map,this.dropListRef=this.dndService.createDropList(this.elementRef),this.dropListRef.withOrientation("horizontal"),this.dropListRef.lockAxis="x"}setThNoColumnWidth(e,t){const n=this.thNoColumnIdArray.findIndex(t=>t.template===e);this.thNoColumnIdArray[n].width=t,setTimeout(()=>{this.setTableWidthConfig()})}setThColumnWidth(e,t,n,i,r,o){const a=this.thColumnIdArray.findIndex(t=>t.dwColumnId===e);this.thColumnIdArray[a].width=t,this.thColumnIdArray[a].dwDragDrop=n,this.thColumnIdArray[a].dwColumnFilter=i,this.thColumnIdArray[a].dwFilterList=r,this.thColumnIdArray[a].dwFilterMultiple=o,setTimeout(()=>{this.setTableWidthConfig()})}setThPureWidth(e,t){this.thPureArray.push({dwColumnId:e,width:t}),setTimeout(()=>{this.setTableWidthConfig()})}appendThIdView(e,t){const n={dwColumnId:e,template:t};this.thColumnIdArray.push(n),this.thOriColumnIdArray.push(n)}appendThNoIdView(e,t){this.thNoColumnIdArray.push({dwColumnId:e,template:t})}appendThElement(e){const t=this.dndService.createDrag(e);this.dragableRef.push(t),this.elemDragRefMap.set(e,t),this.dropListRef.withItems(this.dragableRef)}removeThElement(e){const t=this.elemDragRefMap.get(e),n=this.dragableRef.indexOf(t);this.dragableRef.splice(n,1),this.dropListRef.withItems(this.dragableRef),this.elemDragRefMap.delete(e)}setTableWidthConfig(){}}return e.\u0275fac=function(t){return new(t||e)(i.\u0275\u0275directiveInject(s.DwTableStyleService),i.\u0275\u0275directiveInject(r.DragDrop),i.\u0275\u0275directiveInject(i.ElementRef))},e.\u0275cmp=i.\u0275\u0275defineComponent({type:e,selectors:[["dw-drop-columns-base"]],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})(),pt=(()=>{class e{constructor(e,t){this.dwDateFormat=e,this.dwTimeFormat=t,this.dwFilterMultiple=!1,this.dwFilterMultipleMode="default",this.dwFilterInfo={condition1:{options:"equals",filter:null,filterTo:null},condition2:{options:"equals",filter:null,filterTo:null},operator:"AND",filterType:"textFilter"}}onInit(){this.dwColumnFilter||(this.dwColumnFilter="textFilter"),this.dwFilterInfo.filterType=this.dwColumnFilter,"textFilter"===this.dwColumnFilter&&(this.dwFilterInfo.condition1.options="contains",this.dwFilterInfo.condition2.options="contains"),null==this.dwFilterMultiple&&(this.dwFilterMultiple=!0),!0===this.dwFilterMultiple&&(this.dwFilterMultipleMode="multiple")}transStringToDate(e){const t=JSON.parse(JSON.stringify(e));return"dateFilter"!==this.dwColumnFilter||(e.condition1.filter&&"string"==typeof e.condition1.filter&&(t.condition1.filter=new Date(e.condition1.filter)),e.condition1.filterTo&&"string"==typeof e.condition1.filterTo&&(t.condition1.filterTo=new Date(e.condition1.filterTo)),e.condition2.filter&&"string"==typeof e.condition2.filter&&(t.condition2.filter=new Date(e.condition2.filter)),e.condition2.filterTo&&"string"==typeof e.condition2.filterTo&&(t.condition2.filterTo=new Date(e.condition2.filterTo))),t}transDateToString(e){const t=JSON.parse(JSON.stringify(e));if("dateFilter"!==this.dwColumnFilter)return t;const n=this.dwDateFormat.concat(" ",this.dwTimeFormat);return e.condition1.filter&&e.condition1.filter instanceof Date&&(t.condition1.filter=w()(e.condition1.filter,n)),e.condition1.filterTo&&e.condition1.filterTo instanceof Date&&(t.condition1.filterTo=w()(e.condition1.filterTo,n)),e.condition2.filter&&e.condition2.filter instanceof Date&&(t.condition2.filter=w()(e.condition2.filter,n)),e.condition2.filterTo&&e.condition2.filterTo instanceof Date&&(t.condition2.filterTo=w()(e.condition2.filterTo,n)),t}syncFilterToModel(e,t=!0){if(!e.tableConfig||!e.tableConfig.hasOwnProperty("dwColumnConfig")||0===e.tableConfig.dwColumnConfig.length)return;const n=JSON.parse(JSON.stringify(e.tableConfig)).dwColumnConfig.find(e=>e.dwColumnId===this.dwColumnId);if(!n||!n.filter)return;const i=this.transStringToDate(n.filter);this.dwFilterInfo.condition1.filter=i.condition1.filter,this.dwFilterInfo.condition1.filterTo=i.condition1.filterTo,this.dwFilterInfo.condition2.filter=i.condition2.filter,this.dwFilterInfo.condition2.filterTo=i.condition2.filterTo,!0===t&&(this.dwFilterInfo.condition1.options=i.condition1.options,this.dwFilterInfo.condition2.options=i.condition2.options),this.dwFilterInfo.operator=i.operator}checkEmpty(e){return null===e||""===e}resetEmptyArray(e){return e.condition1.filter&&Array.isArray(e.condition1.filter)&&0===e.condition1.filter.length&&(e.condition1.filter=null),e.condition1.filterTo&&Array.isArray(e.condition1.filterTo)&&0===e.condition1.filterTo.length&&(e.condition1.filterTo=null),e.condition2.filter&&Array.isArray(e.condition2.filter)&&0===e.condition2.filter.length&&(e.condition2.filter=null),e.condition2.filterTo&&Array.isArray(e.condition2.filterTo)&&0===e.condition2.filterTo.length&&(e.condition2.filterTo=null),e}validColumnFilter(e){"inRange"===e.condition1.options&&(this.checkEmpty(e.condition1.filter)||this.checkEmpty(e.condition1.filterTo))&&(e.condition1.filter=null,e.condition1.filterTo=null,e.condition2.filter=null,e.condition2.filterTo=null),this.checkEmpty(e.condition1.filter)&&(e.condition1.filter=null,e.condition1.filterTo=null,e.condition2.filter=null,e.condition2.filterTo=null),"inRange"!==e.condition1.options&&(e.condition1.filterTo=null),"inRange"===e.condition2.options&&(this.checkEmpty(e.condition2.filter)||this.checkEmpty(e.condition2.filterTo))&&(e.condition2.filter=null,e.condition2.filterTo=null),this.checkEmpty(e.condition2.filter)&&(e.condition2.filter=null,e.condition2.filterTo=null),"inRange"!==e.condition2.options&&(e.condition2.filterTo=null)}cloneObject(e){const t={};for(const n in e)t[n]=null!==e[n]&&"object"==typeof e[n]?Array.isArray(e[n])?e[n]:Object.keys(e[n]).length>0?this.cloneObject(e[n]):e[n]:e[n];return t}}return e.\u0275fac=function(t){return new(t||e)(i.\u0275\u0275directiveInject(u.APP_DATE_FORMAT),i.\u0275\u0275directiveInject(u.APP_TIME_FORMAT))},e.\u0275cmp=i.\u0275\u0275defineComponent({type:e,selectors:[["dw-filter-base"]],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})(),ut=(()=>{class e extends pt{constructor(e,t,n,i,r){super(i,r),this.elementRef=e,this.dwTableConfigService=t,this.translateService=n,this.dwDateFormat=i,this.dwTimeFormat=r,this.timer=null,this.subscription=new d.Subscription,this.strCondition=""}ngOnInit(){super.onInit(),this.subscription.add(this.dwTableConfigService.columnConfigSubject$.subscribe(e=>{this.syncFilterToModel(e,!1)}))}ngOnDestroy(){this.destroy()}destroy(){this.subscription.unsubscribe()}modelChange(){this.timer&&clearTimeout(this.timer),this.timer=setTimeout(()=>{this.emitFloatingFilterChange();const e=this.transDateToString(this.dwFilterInfo);this.resetEmptyArray(e),this.validColumnFilter(e),this.dwTableConfigService.setColumnFilter(this.dwColumnId,e),this.timer=null},500)}clear(){this.dwFilterInfo.condition1.filter=null,this.emitFloatingFilterChange(),this.dwTableConfigService.setColumnFilter(this.dwColumnId,this.dwFilterInfo)}emitFloatingFilterChange(){this.dwTableConfigService.floatingFilterChange({dwColumnId:this.dwColumnId,dwFilterInfo:this.dwFilterInfo})}canEditModel(e,t){const n=this.transDateToString(e),i=[],r=[];if(this.strCondition="",!this.checkEmpty(e.condition1.filter))if("selectFilter"===n.filterType){let r=[];r=Array.isArray(e.condition1.filter)&&Array.isArray(t)?this.getSelectLabel(n.condition1.filter,t):this.getSelectLabel([n.condition1.filter],t),i.push(r)}else i.push(n.condition1.filter);if(this.checkEmpty(e.condition1.filterTo)||i.push(n.condition1.filterTo),!this.checkEmpty(e.condition2.filter))if("selectFilter"===n.filterType){let i=[];i=Array.isArray(e.condition2.filter)&&Array.isArray(t)?this.getSelectLabel(n.condition2.filter,t):this.getSelectLabel([n.condition2.filter],t),r.push(i)}else r.push(n.condition2.filter);if(this.checkEmpty(e.condition2.filterTo)||r.push(n.condition2.filterTo),i.length<=1&&0===r.length)return!0;if(this.strCondition=i.join("-"),r.length>0){const e=this.translateService.instant("dw-table-config-"+n.operator);this.strCondition+=" "+e+" "+r.join("-")}return!1}getSelectLabel(e,t){const n=[];return!Array.isArray(t)||0===t.length||t.forEach(t=>{e.findIndex(e=>e===t.value)>=0&&n.push(this.translateService.instant(t.label))}),n}}return e.\u0275fac=function(t){return new(t||e)(i.\u0275\u0275directiveInject(i.ElementRef),i.\u0275\u0275directiveInject(ct),i.\u0275\u0275directiveInject(m.TranslateService),i.\u0275\u0275directiveInject(u.APP_DATE_FORMAT),i.\u0275\u0275directiveInject(u.APP_TIME_FORMAT))},e.\u0275cmp=i.\u0275\u0275defineComponent({type:e,selectors:[["dw-filter-input"]],features:[i.\u0275\u0275InheritDefinitionFeature],decls:14,vars:4,consts:[[1,"filter-input-block"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["dwSelectTpl",""],["dwDateTpl",""],["dwTextTpl",""],["dwNumberTpl",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"dwFilterTemplate"],[1,""],[4,"ngIf"],["dwAllowClear","","dwShowSearch","",3,"ngModel","dwMode","ngModelChange"],[3,"dwLabel","dwValue",4,"ngFor","ngForOf"],[3,"dwLabel","dwValue"],["type","text","dw-input","",3,"value","disabled"],[3,"ngModel","ngModelChange"],[3,"dwSuffix"],["type","text","dw-input","",3,"ngModel","ngModelChange"],["dwInputClearTpl",""],["dw-icon","","class","ant-input-clear-icon","dwTheme","fill","dwType","close-circle",3,"click",4,"ngIf"],["dw-icon","","dwTheme","fill","dwType","close-circle",1,"ant-input-clear-icon",3,"click"]],template:function(e,t){1&e&&(i.\u0275\u0275elementStart(0,"div",0),i.\u0275\u0275elementContainerStart(1,1),i.\u0275\u0275template(2,O,2,4,"ng-container",2),i.\u0275\u0275template(3,F,2,4,"ng-container",2),i.\u0275\u0275template(4,k,2,4,"ng-container",2),i.\u0275\u0275template(5,R,2,4,"ng-container",3),i.\u0275\u0275elementContainerEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275template(6,j,4,2,"ng-template",null,4,i.\u0275\u0275templateRefExtractor),i.\u0275\u0275template(8,q,4,2,"ng-template",null,5,i.\u0275\u0275templateRefExtractor),i.\u0275\u0275template(10,G,4,2,"ng-template",null,6,i.\u0275\u0275templateRefExtractor),i.\u0275\u0275template(12,Q,4,2,"ng-template",null,7,i.\u0275\u0275templateRefExtractor)),2&e&&(i.\u0275\u0275advance(1),i.\u0275\u0275property("ngSwitch",t.dwColumnFilter),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngSwitchCase","selectFilter"),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngSwitchCase","numberFilter"),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngSwitchCase","dateFilter"))},directives:[g.NgSwitch,g.NgSwitchCase,g.NgSwitchDefault,g.NgTemplateOutlet,g.NgIf,y.DwSelectComponent,v.NgControlStatus,v.NgModel,g.NgForOf,y.DwOptionComponent,b.DwInputDirective,S.DwDatePickerComponent,b.DwInputGroupComponent,b.DwInputGroupWhitSuffixOrPrefixDirective,v.DefaultValueAccessor,C.DwIconDirective,x.DwInputNumberComponent],pipes:[m.TranslatePipe],styles:[".filter-input-block{display:block;max-width:70%;margin:0 auto}span.ant-input-suffix{width:14px;cursor:text}i.anticon.ant-input-clear-icon.anticon-close-circle{cursor:pointer}dw-input-group.ant-input-affix-wrapper{cursor:text}\n"],encapsulation:2}),e})();const ft=[new o.ConnectionPositionPair({originX:"start",originY:"top"},{overlayX:"start",overlayY:"top"}),new o.ConnectionPositionPair({originX:"start",originY:"top"},{overlayX:"start",overlayY:"bottom"}),new o.ConnectionPositionPair({originX:"start",originY:"top"},{overlayX:"end",overlayY:"bottom"}),new o.ConnectionPositionPair({originX:"start",originY:"top"},{overlayX:"end",overlayY:"top"})];let wt=(()=>{class e extends mt{constructor(e,t,n,i,r,o,a,l,s,c,m){super(t,n,i),this.dwTableConfigService=e,this.tableStyleService=t,this.dndService=n,this.elementRef=i,this.contextMenuService=r,this.translateService=o,this.overlay=a,this.renderer=l,this.vcRef=s,this.cfResolver=c,this.cdr=m,this.dwColumnConfig=[],this.dwColumnConfig$=new d.Subject,this.dwFloatingFilter=null,this.showFloatingFilter=!1,this.destroy$=new d.Subject,this.overlayRef=null,this.isVisibleChange=!1,this.floatingElement=null,this.floatingComponentRef=[]}ngOnInit(){this.dwTableConfigService.getDwTableId()?(this.dwTableConfigService.dragSubject$.pipe((0,l.takeUntil)(this.destroy$)).subscribe(e=>{if(!this.dwTableConfigService.getDwTableId())return;this.moveView(e.previousIndex,e.currentIndex);const t=this.getViewOrder();this.dwTableConfigService.setColumnConfig(t),this.dwTableConfigService.saveTableConfigImmediately("columnChange"),this.setTableWidthConfig()}),this.dwTableConfigService.resizeSubject$.pipe((0,l.takeUntil)(this.destroy$)).subscribe(e=>{!this.dwTableConfigService.getDwTableId()||this.setTableWidthConfig()}),this.dwTableConfigService.dragDisabledSubject$.pipe((0,l.takeUntil)(this.destroy$)).subscribe(e=>{this.dropListRef.disabled=e}),this.dropListRef.dropped.pipe((0,l.takeUntil)(this.destroy$)).subscribe(e=>{!this.dwTableConfigService.getDwTableId()||this.dwTableConfigService.dragInfo(e)}),this.elementRef.nativeElement.addEventListener("contextmenu",this.onContextmenu.bind(this))):console.warn(this.translateService.instant("dw-table-config-noTableId"))}ngAfterViewInit(){this.initView()}ngOnDestroy(){this.elementRef&&this.elementRef.nativeElement.removeEventListener("contextmenu",this.onContextmenu.bind(this)),this.destroy$.next(),this.destroy$.complete()}onContextmenu(e){this.isVisibleChange=!1,this.showFloatingFilter=this.visiableFloatingFilter(),this.dwFloatingFilter=this.dwTableConfigService.getFloatingFilter(),e instanceof MouseEvent&&e.preventDefault(),this.getRightMenu(),this.createRightMenu(e)}getRightMenu(){this.contextmenuSubscription=this.dwTableConfigService.getTableConfig().subscribe(e=>{!e&&!e.dwColumnConfig&&0===e.dwColumnConfig.length||(this.dwColumnConfig=JSON.parse(JSON.stringify(e.dwColumnConfig)),this.dwColumnConfig.forEach(e=>{e.columnName=this.dwTableConfigService.getColumnName(e.dwColumnId)}),this.dwColumnConfig$.next(this.dwColumnConfig),this.contextmenuSubscription&&this.contextmenuSubscription.unsubscribe())})}createRightMenu(e){const{x:t,y:n}=e,i=this.overlay.position().flexibleConnectedTo({x:t,y:n}).withPositions(ft).withFlexibleDimensions(!1).withTransformOriginOn(".ant-dropdown");this.overlayRef=this.overlay.create({positionStrategy:i,hasBackdrop:!0,disposeOnNavigation:!0,panelClass:"dw-drop-columns-cm-panel",scrollStrategy:this.overlay.scrollStrategies.close()}),this.overlayRef.attach(new a.TemplatePortal(this.rightMenu.templateRef,this.rightMenu.viewContainerRef)),this.overlayRef.backdropElement.addEventListener("contextmenu",this.onBackdropContextmenu.bind(this)),this.backdropSubscription=this.overlayRef.backdropClick().pipe().subscribe(()=>{this.closeOverlay()})}onBackdropContextmenu(e){e.preventDefault(),this.closeOverlay()}closeOverlay(){if(this.overlayRef.backdropElement&&this.overlayRef.backdropElement.removeEventListener("contextmenu",this.onContextmenu.bind(this)),this.backdropSubscription.unsubscribe(),this.overlayRef.detach(),this.overlayRef.dispose(),this.overlayRef=null,!this.isVisibleChange)return;const e=this.getViewOrder();this.dwTableConfigService.setColumnConfig(e),this.dwTableConfigService.saveTableConfigImmediately("visibleChange")}createView(){this.dwDropColumnsContent.length>0&&this.dwDropColumnsContent.clear();const e=this.thColumnIdArray.concat(this.thNoColumnIdArray),t=[];e.forEach((e,n)=>{const i=this.dwTableConfigService.getColumnVisible(e.dwColumnId);e.template&&(this.dwDropColumnsContent.createEmbeddedView(e.template),i||t.push(n))}),setTimeout(()=>{if(t.reverse().forEach(e=>{this.dwDropColumnsContent.remove(e)}),0===this.dwTableConfigService.getVisibleColumns().length)this.emptyDataColumnsViewRef=this.dwDropColumnsContent.createEmbeddedView(this.emptyDataColumns),this.cdr.markForCheck();else{const e=this.dwDropColumnsContent.indexOf(this.emptyDataColumnsViewRef);e>-1&&this.dwDropColumnsContent.remove(e)}})}moveView(e,t){if(0===this.dwDropColumnsContent.length)return;const n=[];this.thColumnIdArray.forEach((e,t)=>{void 0!==e.dwDragDrop&&this.dwTableConfigService.getColumnVisible(e.dwColumnId)&&n.push(e)}),(0,r.moveItemInArray)(n,e,t);const i=[...this.thColumnIdArray];for(let r=0;r<i.length;r++)void 0!==i[r].dwDragDrop&&this.dwTableConfigService.getColumnVisible(i[r].dwColumnId)&&n.length&&(i[r]=n.shift());this.thColumnIdArray=i,setTimeout(()=>{this.createView(),this.createFloatingFilter()})}initView(){!this.dwTableConfigService.getDwTableId()||(this.dropListRef&&this.dropListRef.withScrollableParents(Array.from(document.querySelectorAll(".ant-table-content"))),this.initViewSubscription=this.dwTableConfigService.getTableConfig().subscribe(e=>{e&&e.dwColumnConfig&&e.dwColumnConfig.length>0?e.dwColumnConfig.forEach((e,t)=>{const n=this.thColumnIdArray.findIndex(t=>t.dwColumnId===e.dwColumnId);-1!==n&&(!this.thColumnIdArray[t]||(0,r.moveItemInArray)(this.thColumnIdArray,n,t))}):this.thColumnIdArray=this.thOriColumnIdArray;const t=this.getViewOrder();this.dwTableConfigService.setColumnConfig(t),setTimeout(()=>{this.createView(),this.createFloatingFilter()}),this.initViewSubscription&&this.initViewSubscription.unsubscribe()}))}getViewOrder(){const e=[];return this.thColumnIdArray.forEach((t,n)=>{const i=this.dwTableConfigService.getColumnWidth(t.dwColumnId)||t.width,r=this.dwTableConfigService.getColumnSort(t.dwColumnId),o=this.dwTableConfigService.getColumnVisible(t.dwColumnId),a=this.dwTableConfigService.getColumnFilter(t.dwColumnId);e.push({dwColumnId:t.dwColumnId,width:i,index:n,sort:r,visible:o,filter:a})}),e}setTableWidthConfig(){const e=this.thPureArray.concat(this.thColumnIdArray,this.thNoColumnIdArray),t=[];e.filter(e=>this.dwTableConfigService.getColumnVisible(e.dwColumnId)).forEach((e,n)=>{if(this.dwTableConfigService.getColumnVisible(e.dwColumnId)){const n=this.dwTableConfigService.getColumnWidth(e.dwColumnId),i=Number.isInteger(n)?n+"px":e.width||"auto";t.push(i)}}),this.tableStyleService.setTableWidthConfig(t)}setViewColumnWidth(e,t,n){if(0===e.length||!t)return;const i=e.findIndex(e=>e.dwColumnId===t);return e[i].width=n,e}deleteConfig(){this.dwTableConfigService.deleteTableConfig().pipe((0,l.takeUntil)(this.destroy$)).subscribe(()=>{this.initView(),this.dwTableConfigService.deleteConfig(this.thOriColumnIdArray),this.closeOverlay()})}saveTenantConfig(){const e=this.getViewOrder();this.dwTableConfigService.saveTenantConfig(e).pipe((0,l.takeUntil)(this.destroy$)).subscribe(()=>{this.closeOverlay()})}deleteTenantConfig(){this.dwTableConfigService.deleteTenantConfig().pipe((0,l.takeUntil)(this.destroy$)).subscribe(()=>{this.initView(),this.dwTableConfigService.deleteConfig(this.thOriColumnIdArray),this.closeOverlay()})}changeVisible(e,t){t.preventDefault(),t.stopPropagation();let n=0;this.dwColumnConfig.forEach(e=>{e.visible&&n++}),(1!==n||!e.visible)&&(this.isVisibleChange=!0,e.visible=!e.visible,this.dwTableConfigService.setColumnVisible(e.dwColumnId,e.visible),this.initView(),this.dwTableConfigService.visibleChange(!0))}createFloatingFilter(){this.removeFloatingFilter(),!0===this.dwTableConfigService.getFloatingFilter()&&setTimeout(()=>{const e=this.thPureArray.concat(this.thColumnIdArray,this.thNoColumnIdArray);0!==e.filter(e=>void 0!==e.dwColumnFilter&&this.dwTableConfigService.getColumnVisible(e.dwColumnId)).length&&(this.floatingElement=document.createElement("tr"),this.elementRef.nativeElement.parentElement.appendChild(this.floatingElement),e.forEach(e=>{if(!0!==this.dwTableConfigService.getColumnVisible(e.dwColumnId))return;const t=document.createElement("th"),n=document.createElement("div");if(void 0===e.dwColumnFilter)this.renderer.appendChild(t,n);else{const n=this.cfResolver.resolveComponentFactory(ut),i=this.vcRef.createComponent(n);this.floatingComponentRef.push(i),this.renderer.appendChild(t,i.injector.get(ut).elementRef.nativeElement);const r=i.instance;r.dwColumnId=e.dwColumnId,r.dwColumnFilter=e.dwColumnFilter,r.dwFilterList=e.dwFilterList,r.dwFilterMultiple=e.dwFilterMultiple}this.renderer.setStyle(t,"background","#fafafa"),this.renderer.appendChild(this.floatingElement,t)}))})}removeFloatingFilter(){if(null!==this.floatingElement){this.elementRef.nativeElement.parentElement.removeChild(this.floatingElement),this.floatingElement=null;const e=this.floatingComponentRef.length;if(e>0)for(let t=e-1;t>=0;t-=1)this.floatingComponentRef[t].instance.destroy(),this.floatingComponentRef.splice(t,1)}}changeFloatingFilter(){this.dwFloatingFilter=!this.dwFloatingFilter,this.dwTableConfigService.setFloatingFilter(this.dwFloatingFilter),this.createFloatingFilter(),this.closeOverlay()}visiableFloatingFilter(){let e=!1;return this.thPureArray.concat(this.thColumnIdArray,this.thNoColumnIdArray).filter(e=>e.hasOwnProperty("dwColumnFilter")&&void 0!==e.dwColumnFilter).length>0&&(e=!0),e}}return e.\u0275fac=function(t){return new(t||e)(i.\u0275\u0275directiveInject(ct),i.\u0275\u0275directiveInject(s.DwTableStyleService),i.\u0275\u0275directiveInject(r.DragDrop),i.\u0275\u0275directiveInject(i.ElementRef),i.\u0275\u0275directiveInject(c.DwContextMenuService),i.\u0275\u0275directiveInject(m.TranslateService),i.\u0275\u0275directiveInject(o.Overlay),i.\u0275\u0275directiveInject(i.Renderer2),i.\u0275\u0275directiveInject(i.ViewContainerRef),i.\u0275\u0275directiveInject(i.ComponentFactoryResolver),i.\u0275\u0275directiveInject(i.ChangeDetectorRef))},e.\u0275cmp=i.\u0275\u0275defineComponent({type:e,selectors:[["tr","dwDropColumns",""]],viewQuery:function(e,t){if(1&e&&(i.\u0275\u0275viewQuery(Z,7,i.ViewContainerRef),i.\u0275\u0275viewQuery(J,7),i.\u0275\u0275viewQuery(Y,7)),2&e){let e;i.\u0275\u0275queryRefresh(e=i.\u0275\u0275loadQuery())&&(t.dwDropColumnsContent=e.first),i.\u0275\u0275queryRefresh(e=i.\u0275\u0275loadQuery())&&(t.rightMenu=e.first),i.\u0275\u0275queryRefresh(e=i.\u0275\u0275loadQuery())&&(t.emptyDataColumns=e.first)}},features:[i.\u0275\u0275ProvidersFeature([{provide:mt,useExisting:(0,i.forwardRef)(()=>e)}]),i.\u0275\u0275InheritDefinitionFeature],attrs:ee,ngContentSelectors:de,decls:23,vars:13,consts:[["dwDropColumnsContent",""],["emptyDataColumns",""],["rightMenu","dwDropdownMenu"],["dw-menu","",1,"dw-dc-context-menu"],["dw-menu-item","",3,"click"],["translate",""],["dw-submenu","","dwMenuClassName","dw-dc-sub-context-menu",3,"dwTitle"],[1,"dw-visible-submenu"],["dw-menu-item","",4,"ngFor","ngForOf"],["dw-menu-item","","dwActionAuthorized","",3,"dwAuthorizedId","dwActionId","dwDefaultAuthorized","dwClick"],["dw-menu-item","",3,"click",4,"ngIf"],[1,"no-column-displayed"],["dw-menu-item",""],[3,"click"],[1,"dw-visible-submenu-item",3,"ngClass"],[4,"ngIf"]],template:function(e,t){1&e&&(i.\u0275\u0275projectionDef(),i.\u0275\u0275projection(0),i.\u0275\u0275elementContainer(1,null,0),i.\u0275\u0275template(3,te,3,3,"ng-template",null,1,i.\u0275\u0275templateRefExtractor),i.\u0275\u0275elementStart(5,"dw-dropdown-menu",null,2),i.\u0275\u0275elementStart(7,"ul",3),i.\u0275\u0275elementStart(8,"li",4),i.\u0275\u0275listener("click",function(){return t.deleteConfig()}),i.\u0275\u0275elementStart(9,"span",5),i.\u0275\u0275text(10,"dw-table-config-userConfig-delete"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(11,"li",6),i.\u0275\u0275pipe(12,"translate"),i.\u0275\u0275elementStart(13,"ul",7),i.\u0275\u0275template(14,ie,4,4,"li",8),i.\u0275\u0275pipe(15,"async"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(16,"li",9),i.\u0275\u0275listener("dwClick",function(){return t.saveTenantConfig()}),i.\u0275\u0275elementStart(17,"span",5),i.\u0275\u0275text(18,"dw-table-config-tenantConfig-save"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(19,"li",9),i.\u0275\u0275listener("dwClick",function(){return t.deleteTenantConfig()}),i.\u0275\u0275elementStart(20,"span",5),i.\u0275\u0275text(21,"dw-table-config-tenantConfig-delete"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275template(22,ae,3,2,"li",10),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd()),2&e&&(i.\u0275\u0275advance(11),i.\u0275\u0275property("dwTitle",i.\u0275\u0275pipeBind1(12,9,"dw-table-config-visibleChange")),i.\u0275\u0275advance(3),i.\u0275\u0275property("ngForOf",i.\u0275\u0275pipeBind1(15,11,t.dwColumnConfig$)),i.\u0275\u0275advance(2),i.\u0275\u0275property("dwAuthorizedId","dw-table-config")("dwActionId","save")("dwDefaultAuthorized","hidden"),i.\u0275\u0275advance(3),i.\u0275\u0275property("dwAuthorizedId","dw-table-config")("dwActionId","save")("dwDefaultAuthorized","hidden"),i.\u0275\u0275advance(3),i.\u0275\u0275property("ngIf",!0===t.showFloatingFilter))},directives:[c.DwDropdownMenuComponent,I.DwMenuDirective,I.DwMenuItemDirective,m.TranslateDirective,I.DwSubMenuComponent,g.NgForOf,E.DwActionAuthorizedDirective,g.NgIf,s.DwTableCellDirective,g.NgClass],pipes:[m.TranslatePipe,g.AsyncPipe],styles:['.ant-table-thead>tr>th:not(:last-child):not(.ant-table-selection-column):not(.ant-table-row-expand-icon-cell):not([colspan]):before{display:none}.ant-table-thead>tr>th:last-child .dw-resize-handler{display:none}.dw-resize-handler{width:8px;top:0;bottom:0;right:0;-webkit-user-select:none;-moz-user-select:none;user-select:none;position:absolute;cursor:col-resize}dw-resizer.active .dw-resize-handler-inner-box{width:2px;z-index:9;background:#c7c7c7}.ant-table-cell-fix-right .dw-resize-handler-inner-box{right:1px}.dw-resize-handler-inner-box{position:absolute;width:1px;height:60%;margin-top:12px;background:#e8e8e8;top:0;right:0;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:col-resize;display:block}th.dw-drag-drop-box.ant-table-cell{color:#000000de;box-sizing:border-box;font-size:14px;flex-grow:1;flex-basis:0}th.dw-drag-drop-box.ant-table-cell:not([dwshowfilter]):not([dwshowsort]){cursor:move}.cdk-drag-placeholder{opacity:0}.cdk-drag-preview{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drag-animating{transition:transform .25s cubic-bezier(0,0,.2,1)}.dw-drag-drop-box.cdk-drop-list-dragging .dw-drag-drop-box:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.dw-visible-submenu{overflow:auto;max-height:55vh}.dw-visible-submenu-item{width:16px;display:inline-block}.dw-visible-submenu-item.checked:before{content:"\\2714"}td.no-column-displayed{line-height:35px;padding-left:10px}.dw-drag-drop-box.cdk-drag-preview{padding:12px 8px;background:#efefef}.dw-drag-drop-box.cdk-drag-preview .ant-table-column-title{text-align:left}.dw-drag-drop-box.cdk-drag-preview>span{display:block;text-align:left}th.dw-drag-drop-box.ant-table-column-has-sorters.ant-table-cell{cursor:move}th.dw-drag-drop-box .ant-table-filter-column .ant-table-column-sorter{cursor:pointer;z-index:1}\n'],encapsulation:2,changeDetection:0}),e})(),ht=(()=>{class e{constructor(e){this.dwTableConfigService=e,this.destroy$=new d.Subject,this.tdIdArray=[],this.tdOriIdArray=[],this.tdNoIdArray=[]}ngOnInit(){this.dwTableConfigService.dragSubject$.pipe((0,l.takeUntil)(this.destroy$)).subscribe(e=>{!this.dwTableConfigService.getDwTableId()||this.moveView()}),this.dwTableConfigService.deleteConfigSubject$.pipe((0,l.takeUntil)(this.destroy$)).subscribe(e=>{!this.dwTableConfigService.getDwTableId()||(this.orderView(e,this.tdOriIdArray),this.moveView())}),this.dwTableConfigService.visibleSubject$.pipe((0,l.takeUntil)(this.destroy$)).subscribe(e=>{!this.dwTableConfigService.getDwTableId()||this.moveView()})}ngAfterViewInit(){this.moveView()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}createView(){this.dwReorderColumnsContent.length>0&&this.dwReorderColumnsContent.clear(),this.tdIdArray.concat(this.tdNoIdArray).forEach((e,t)=>{const n=this.dwTableConfigService.getColumnVisible(e.dwColumnId);e.template&&!1!==n&&this.dwReorderColumnsContent.createEmbeddedView(e.template)})}appendTDIdView(e,t){const n={dwColumnId:e,template:t};this.tdIdArray.push(n),this.tdOriIdArray.push(n)}appendTDNoIdView(e,t){this.tdNoIdArray.push({dwColumnId:e,template:t})}moveView(){!this.dwTableConfigService.getDwTableId()||(this.moveViewSubscription=this.dwTableConfigService.getTableConfig().subscribe(e=>{e&&e.dwColumnConfig&&e.dwColumnConfig.length>0?this.orderView(e.dwColumnConfig,this.tdIdArray):this.tdIdArray=this.tdOriIdArray,setTimeout(()=>{this.createView()}),this.moveViewSubscription&&this.moveViewSubscription.unsubscribe()}))}orderView(e,t){const n=[];e.forEach((e,i)=>{-1!==t.findIndex(t=>t.dwColumnId===e.dwColumnId)&&n.push(e)}),n.forEach((e,n)=>{const i=t.findIndex(t=>t.dwColumnId===e.dwColumnId);-1!==i&&(!t[n]||(0,r.moveItemInArray)(t,i,n))})}}return e.\u0275fac=function(t){return new(t||e)(i.\u0275\u0275directiveInject(ct))},e.\u0275cmp=i.\u0275\u0275defineComponent({type:e,selectors:[["tr","dwReorderColumns",""]],viewQuery:function(e,t){if(1&e&&i.\u0275\u0275viewQuery(le,7,i.ViewContainerRef),2&e){let e;i.\u0275\u0275queryRefresh(e=i.\u0275\u0275loadQuery())&&(t.dwReorderColumnsContent=e.first)}},attrs:se,ngContentSelectors:de,decls:3,vars:0,consts:[["dwReorderColumnsContent",""]],template:function(e,t){1&e&&(i.\u0275\u0275projectionDef(),i.\u0275\u0275projection(0),i.\u0275\u0275elementContainer(1,null,0))},encapsulation:2}),e})();const gt=["AND","OR"],vt=[{value:"equals",supported:["text","number","date","select"]},{value:"contains",supported:["text"]},{value:"startsWith",supported:["text"]},{value:"lessThan",supported:["number","date"]},{value:"lessThanOrEqual",supported:["number"]},{value:"greaterThan",supported:["number","date"]},{value:"greaterThanOrEqual",supported:["number"]},{value:"inRange",supported:["number","date"]}];let Ct=(()=>{class e extends pt{constructor(e,t,n,i){super(n,i),this.elementRef=e,this.dwTableConfigService=t,this.dwDateFormat=n,this.dwTimeFormat=i,this.destroy$=new d.Subject,this.menuVisiable={value:!1},this.onFilter=(e,t)=>{t&&t(e);let n=e;this.dwFilterTemplate||(n=this.transDateToString(e),this.resetEmptyArray(n),this.validColumnFilter(n)),this.dwTableConfigService.setColumnFilter(this.dwColumnId,n)},this.dwFilterOperator=gt,this.dwFilterOptions=vt}mouseDown(e){e.preventDefault(),e.stopPropagation()}mouseUp(e){e.preventDefault(),e.stopPropagation()}click(e){e.preventDefault(),e.stopPropagation()}contextmenu(e){e.preventDefault(),e.stopPropagation()}ngOnInit(){super.onInit(),this.dwTableConfigService.columnConfigSubject$.pipe((0,l.takeUntil)(this.destroy$)).subscribe(e=>{this.syncFilterToModel(e,!0),("getConfig"===e.event||!this.modalFilterInfo)&&(this.modalFilterInfo=this.cloneObject(this.dwFilterInfo))}),this.dwTableConfigService.floatingFilterSubject$.pipe((0,l.takeUntil)(this.destroy$)).subscribe(e=>{this.dwColumnId===e.dwColumnId&&(this.modalFilterInfo=this.cloneObject(e.dwFilterInfo))})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}clear(e,t){this.dwFilterInfo[e][t]=null,this.modalFilterInfo[e][t]=null}close(){this.menuVisiable.value=!1}}return e.\u0275fac=function(t){return new(t||e)(i.\u0275\u0275directiveInject(i.ElementRef),i.\u0275\u0275directiveInject(ct),i.\u0275\u0275directiveInject(u.APP_DATE_FORMAT),i.\u0275\u0275directiveInject(u.APP_TIME_FORMAT))},e.\u0275cmp=i.\u0275\u0275defineComponent({type:e,selectors:[["dw-filter-modal"]],hostBindings:function(e,t){1&e&&i.\u0275\u0275listener("mousedown",function(e){return t.mouseDown(e)})("mouseup",function(e){return t.mouseUp(e)})("click",function(e){return t.click(e)})("contextmenu",function(e){return t.contextmenu(e)})},features:[i.\u0275\u0275InheritDefinitionFeature],decls:12,vars:6,consts:[[1,"filter-modal-block"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["defaultDropdownTpl",""],["dwSelectTpl",""],["dwDateTpl",""],["dwTextTpl",""],["dwNumberTpl",""],["dw-dropdown","","dwTrigger","click",3,"dwClickHide","dwDropdownMenu","dwVisible","dwVisibleChange"],["dw-icon","",1,"filter-modal-icon",3,"dwType","dwTheme"],["dwDropdownTpl",""],[1,"filter-modal-dropdown"],[1,"filter-modal-dropdown-input"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"filter-modal-dropdown-button"],["dw-button","","dwType","'primary'",3,"click"],["translate",""],[1,"dwFilterTemplate"],[1,""],[3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],["dwAllowClear","","dwShowSearch","",3,"ngModel","dwMode","ngModelChange",4,"ngIf"],[4,"ngIf"],[3,"dwValue","dwLabel",4,"ngIf"],[3,"dwValue","dwLabel"],["dwAllowClear","","dwShowSearch","",3,"ngModel","dwMode","ngModelChange"],[3,"dwLabel","dwValue",4,"ngFor","ngForOf"],[3,"dwLabel","dwValue"],["dw-radio","",3,"dwValue",4,"ngFor","ngForOf"],["dw-radio","",3,"dwValue"],[3,"dwSuffix"],["type","text","dw-input","",3,"ngModel","ngModelChange"],["dwInputFilterClearTpl",""],["dw-icon","","class","ant-input-clear-icon","dwTheme","fill","dwType","close-circle",3,"click",4,"ngIf"],["dw-icon","","dwTheme","fill","dwType","close-circle",1,"ant-input-clear-icon",3,"click"],["dwInputFilterToClearTpl",""]],template:function(e,t){if(1&e&&(i.\u0275\u0275elementStart(0,"div",0),i.\u0275\u0275template(1,ce,1,0,"ng-container",1),i.\u0275\u0275template(2,ye,18,9,"ng-template",null,2,i.\u0275\u0275templateRefExtractor),i.\u0275\u0275elementEnd(),i.\u0275\u0275template(4,Fe,7,4,"ng-template",null,3,i.\u0275\u0275templateRefExtractor),i.\u0275\u0275template(6,Ne,8,5,"ng-template",null,4,i.\u0275\u0275templateRefExtractor),i.\u0275\u0275template(8,Ze,10,5,"ng-template",null,5,i.\u0275\u0275templateRefExtractor),i.\u0275\u0275template(10,at,8,5,"ng-template",null,6,i.\u0275\u0275templateRefExtractor)),2&e){const e=i.\u0275\u0275reference(3);i.\u0275\u0275advance(1),i.\u0275\u0275property("ngTemplateOutlet",t.dwFilterTemplate?t.dwFilterTemplate:e)("ngTemplateOutletContext",i.\u0275\u0275pureFunction3(2,dt,t.modalFilterInfo,t.onFilter,t.menuVisiable))}},directives:[g.NgTemplateOutlet,c.DwDropDownADirective,c.DwDropDownDirective,C.DwIconDirective,c.DwDropdownMenuComponent,g.NgSwitch,g.NgSwitchCase,g.NgSwitchDefault,m.TranslateDirective,y.DwSelectComponent,v.NgControlStatus,v.NgModel,g.NgForOf,g.NgIf,y.DwOptionComponent,_.DwRadioGroupComponent,_.DwRadioComponent,S.DwDatePickerComponent,b.DwInputGroupComponent,b.DwInputGroupWhitSuffixOrPrefixDirective,b.DwInputDirective,v.DefaultValueAccessor,x.DwInputNumberComponent],pipes:[m.TranslatePipe],styles:[".filter-modal-block{display:inline-block}.filter-modal-dropdown{padding:10px;background-color:#e8e8e8;border:1px solid #ccc}.dwFilterTemplate dw-select,.dwFilterTemplate dw-input-number,.dwFilterTemplate input,.dwFilterTemplate dw-date-picker{width:100%}\n"],encapsulation:2}),e})(),yt=(()=>{class e{constructor(e,t,n){this.templateRef=e,this.dwDropColumnsBaseComponent=t,this.dwReorderColumnsComponent=n}ngOnInit(){this.dwDropColumnsBaseComponent&&this.templateRef&&(this.dwColumnId?this.dwDropColumnsBaseComponent.appendThIdView(this.dwColumnId,this.templateRef):this.dwDropColumnsBaseComponent.appendThNoIdView(this.dwColumnId,this.templateRef)),this.dwReorderColumnsComponent&&this.templateRef&&(this.dwColumnId?this.dwReorderColumnsComponent.appendTDIdView(this.dwColumnId,this.templateRef):this.dwReorderColumnsComponent.appendTDNoIdView(this.dwColumnId,this.templateRef))}}return e.\u0275fac=function(t){return new(t||e)(i.\u0275\u0275directiveInject(i.TemplateRef,8),i.\u0275\u0275directiveInject(mt,8),i.\u0275\u0275directiveInject(ht,8))},e.\u0275dir=i.\u0275\u0275defineDirective({type:e,selectors:[["","dwColumnId",""]],inputs:{dwColumnId:"dwColumnId"}}),e})(),xt=(()=>{class e{constructor(e,t,n){this.element=e,this.dwDropColumnsBaseComponent=t,this.dwThColumnIdDirective=n,this.allowDrag=!0}set dwLeft(e){this.allowDrag=!1}set dwRight(e){this.allowDrag=!1}ngOnInit(){!this.dwThColumnIdDirective||!this.dwThColumnIdDirective.dwColumnId||!1!==this.allowDrag&&this.dwThColumnIdDirective.templateRef&&(this.dwDropColumnsBaseComponent.appendThElement(this.element),this.element.nativeElement.classList.add("dw-drag-drop-box"))}ngOnDestroy(){this.dwDropColumnsBaseComponent.removeThElement(this.element)}}return e.\u0275fac=function(t){return new(t||e)(i.\u0275\u0275directiveInject(i.ElementRef),i.\u0275\u0275directiveInject(mt,8),i.\u0275\u0275directiveInject(yt,8))},e.\u0275dir=i.\u0275\u0275defineDirective({type:e,selectors:[["th","dwDragDrop",""]],inputs:{allowDrag:"allowDrag",dwLeft:"dwLeft",dwRight:"dwRight"}}),e})(),_t=(()=>{class e{constructor(e,t,n,i,r,o,a,l){this.dwThColumnIdDirective=e,this.dwTableConfigService=t,this.dwDropColumnsBaseComponent=n,this.element=i,this.resizableService=r,this.ngZone=o,this.thAddOnComponent=a,this.renderer=l,this.dwRight=void 0,this.dwLeft=void 0,this.destroy$=new d.Subject}ngOnInit(){!this.dwDropColumnsBaseComponent||(this.dwDragDrop=void 0===this.dwLeft&&void 0===this.dwRight?this.dwDragDrop:void 0,this.setColumnSort(),this.setColumnWidth(),this.createResizer(),this.setColumnFilter(),this.renderer.addClass(this.element.nativeElement,"dw-filter-box"))}ngAfterViewInit(){this.setColumnName()}setColumnSort(){if(!(this.thAddOnComponent&&this.dwThColumnIdDirective&&this.dwThColumnIdDirective.dwColumnId&&this.dwThColumnIdDirective.templateRef))return;const e=this.dwTableConfigService.getColumnSort(this.dwThColumnIdDirective.dwColumnId);this.thAddOnComponent.dwColumnKey=this.dwThColumnIdDirective.dwColumnId,void 0!==e&&(this.thAddOnComponent.dwSortOrder=e,this.thAddOnComponent.sortOrder=e),this.sortChangeSubscription=this.thAddOnComponent.dwSortOrderChange.subscribe(e=>{this.dwTableConfigService.getDwTableId()&&this.dwThColumnIdDirective.dwColumnId&&this.dwTableConfigService.setColumnSort(this.dwThColumnIdDirective.dwColumnId,e)})}setColumnWidth(){this.dwThColumnIdDirective&&this.dwThColumnIdDirective.templateRef?this.dwThColumnIdDirective.dwColumnId?this.dwDropColumnsBaseComponent.setThColumnWidth(this.dwThColumnIdDirective.dwColumnId,this.dwWidth,this.dwDragDrop,this.dwColumnFilter,this.dwFilterList,this.dwFilterMultiple):this.dwDropColumnsBaseComponent.setThNoColumnWidth(this.dwThColumnIdDirective.templateRef,this.dwWidth):this.dwDropColumnsBaseComponent.setThPureWidth(this.dwColumnId,this.dwWidth)}createResizer(){if(!this.dwThColumnIdDirective||!this.dwThColumnIdDirective.dwColumnId||!this.dwThColumnIdDirective.templateRef)return;this.elRect=this.element.nativeElement.getBoundingClientRect(),this.el=document.createElement("dw-resizer");const e=document.createElement("dw-resizer-inner");e.classList.add("dw-resize-handler-inner-box"),this.el.appendChild(e),this.el.classList.add("dw-resize-handler"),this.element.nativeElement.appendChild(this.el),this.el.addEventListener("mousedown",this.onMouseDown.bind(this)),this.el.addEventListener("mouseup",this.onMouseUp.bind(this)),this.el.addEventListener("click",this.onMouseUp.bind(this))}setColumnFilter(){!this.thAddOnComponent||!this.dwThColumnIdDirective||!this.dwThColumnIdDirective.dwColumnId||!this.dwThColumnIdDirective.templateRef||(this.thAddOnComponent.dwColumnKey=this.dwThColumnIdDirective.dwColumnId,this.filterChangeSubscription=this.thAddOnComponent.dwFilterChange.subscribe(e=>{}))}onMouseDown(e){e.preventDefault(),e.stopPropagation(),this.renderer.addClass(this.el,"active"),this.dwTableConfigService.dragDisabled(!0),this.origWidth=this.element.nativeElement.clientWidth,this.elRect=this.element.nativeElement.getBoundingClientRect(),this.resizableService.startResizing(e);let t=0;this.mouseUpSubscription=this.resizableService.documentMouseUp$.pipe((0,l.takeUntil)(this.destroy$)).subscribe(e=>{this.origWidth=this.origWidth+t,this.ngZone.run(()=>{this.dwTableConfigService.getDwTableId()&&this.dwThColumnIdDirective.dwColumnId&&(this.dwTableConfigService.setColumnWidth(this.dwThColumnIdDirective.dwColumnId,this.origWidth),this.dwTableConfigService.resize(!0)),this.el.style.right="0",this.renderer.removeClass(this.el,"active"),this.mouseUpSubscription.unsubscribe(),this.mouseMoveSubscription.unsubscribe(),this.dwTableConfigService.dragDisabled(!1)})}),this.mouseMoveSubscription=this.resizableService.documentMouseMove$.pipe((0,l.takeUntil)(this.destroy$)).subscribe(e=>{const n=e.clientX-this.elRect.left-this.elRect.width+this.el.clientWidth/2;t=Math.ceil(n),this.el.style.right=-n+"px"})}onMouseUp(e){e.preventDefault(),e.stopPropagation(),this.resizableService.documentMouseUp$.next(e)}setColumnName(){!this.dwThColumnIdDirective||!this.dwThColumnIdDirective.dwColumnId||!this.dwThColumnIdDirective.templateRef||this.dwTableConfigService.setColumnName(this.dwThColumnIdDirective.dwColumnId,this.element.nativeElement.innerText)}ngOnDestroy(){this.el&&(this.el.removeEventListener("mousedown",this.onMouseDown.bind(this)),this.el.removeEventListener("mouseup",this.onMouseUp.bind(this)),this.el.removeEventListener("click",this.onMouseUp.bind(this))),this.sortChangeSubscription&&this.sortChangeSubscription.unsubscribe(),this.filterChangeSubscription&&this.filterChangeSubscription.unsubscribe(),this.destroy$.next(),this.destroy$.complete()}}return e.\u0275fac=function(t){return new(t||e)(i.\u0275\u0275directiveInject(yt,8),i.\u0275\u0275directiveInject(ct),i.\u0275\u0275directiveInject(mt,8),i.\u0275\u0275directiveInject(i.ElementRef),i.\u0275\u0275directiveInject(h.DwResizableService,8),i.\u0275\u0275directiveInject(i.NgZone),i.\u0275\u0275directiveInject(s.DwThAddOnComponent,8),i.\u0275\u0275directiveInject(i.Renderer2))},e.\u0275dir=i.\u0275\u0275defineDirective({type:e,selectors:[["th"]],inputs:{dwRight:"dwRight",dwLeft:"dwLeft",dwDragDrop:"dwDragDrop",dwWidth:"dwWidth",dwColumnId:"dwColumnId",dwColumnFilter:"dwColumnFilter",dwFilterList:"dwFilterList",dwFilterMultiple:"dwFilterMultiple"},features:[i.\u0275\u0275ProvidersFeature([h.DwResizableService])]}),e})(),St=(()=>{class e{constructor(e){this.dwTableConfigService=e}ngOnInit(){!this.dwTableId||(this.dwTableConfigService.setDwTableId(this.dwTableId),this.dwTableConfigService.getTableConfig().subscribe())}}return e.\u0275fac=function(t){return new(t||e)(i.\u0275\u0275directiveInject(ct))},e.\u0275dir=i.\u0275\u0275defineDirective({type:e,selectors:[["dw-table"]],inputs:{dwTableId:"dwTableId"},features:[i.\u0275\u0275ProvidersFeature([ct])]}),e})(),bt=(()=>{class e{constructor(e,t,n,i,r){this.dwThColumnIdDirective=e,this.element=t,this.vcRef=n,this.cfResolver=i,this.renderer=r}ngOnInit(){this.createFilterModal()}createFilterModal(){const e=this.cfResolver.resolveComponentFactory(Ct),t=this.vcRef.createComponent(e);this.renderer.appendChild(this.element.nativeElement,t.injector.get(Ct).elementRef.nativeElement);const n=t.instance;n.dwColumnId=this.dwThColumnIdDirective.dwColumnId,n.dwColumnFilter=this.dwColumnFilter,n.dwFilterTemplate=this.dwFilterTemplate,n.dwFilterIcon=this.dwFilterIcon,n.dwIconTheme=this.dwIconTheme,n.dwFilterList=this.dwFilterList,n.dwFilterMultiple=this.dwFilterMultiple}}return e.\u0275fac=function(t){return new(t||e)(i.\u0275\u0275directiveInject(yt,8),i.\u0275\u0275directiveInject(i.ElementRef),i.\u0275\u0275directiveInject(i.ViewContainerRef),i.\u0275\u0275directiveInject(i.ComponentFactoryResolver),i.\u0275\u0275directiveInject(i.Renderer2))},e.\u0275dir=i.\u0275\u0275defineDirective({type:e,selectors:[["th","dwColumnFilter",""]],inputs:{dwColumnFilter:"dwColumnFilter",dwFilterIcon:"dwFilterIcon",dwIconTheme:"dwIconTheme",dwFilterTemplate:"dwFilterTemplate",dwFilterList:"dwFilterList",dwFilterMultiple:"dwFilterMultiple"}}),e})(),Et=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=i.\u0275\u0275defineInjector({imports:[[g.CommonModule,m.TranslateModule,v.FormsModule,E.DwActionModule,C.DwIconModule,s.DwTableModule,h.DwResizableModule,c.DwDropDownModule,y.DwSelectModule,x.DwInputNumberModule,_.DwRadioModule,S.DwDatePickerModule,b.DwInputModule]]}),e})()},8852:function(e,t,n){n.d(t,{u:function(){return o},f:function(){return a}});var i=n(36535),r=n(42746);let o=(()=>{class e{constructor(e,t){this.elementRef=e,this.renderer=t,this.hidden=null,this.renderer.setAttribute(this.elementRef.nativeElement,"hidden","")}setHiddenAttribute(){this.hidden?this.renderer.setAttribute(this.elementRef.nativeElement,"hidden","string"==typeof this.hidden?this.hidden:""):this.renderer.removeAttribute(this.elementRef.nativeElement,"hidden")}ngOnChanges(){this.setHiddenAttribute()}ngAfterViewInit(){this.setHiddenAttribute()}}return e.\u0275fac=function(t){return new(t||e)(r.\u0275\u0275directiveInject(r.ElementRef),r.\u0275\u0275directiveInject(r.Renderer2))},e.\u0275dir=r.\u0275\u0275defineDirective({type:e,selectors:[["","dw-button",""],["dw-button-group"],["","dw-icon",""],["","dw-menu-item",""],["","dw-submenu",""],["dw-select-top-control"],["dw-select-placeholder"],["dw-input-group"]],inputs:{hidden:"hidden"},features:[r.\u0275\u0275NgOnChangesFeature]}),e})(),a=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=r.\u0275\u0275defineInjector({imports:[[i.PlatformModule]]}),e})()},96670:function(e,t,n){n.d(t,{uG:function(){return s},ln:function(){return c}});var i=n(36535),r=n(42746),o=n(88065);class a{constructor(e,t,n,r){this.triggerElement=e,this.ngZone=t,this.insertExtraNode=n,this.platformId=r,this.waveTransitionDuration=400,this.styleForPseudo=null,this.extraNode=null,this.lastTime=0,this.onClick=e=>{!this.triggerElement||!this.triggerElement.getAttribute||this.triggerElement.getAttribute("disabled")||"INPUT"===e.target.tagName||this.triggerElement.className.indexOf("disabled")>=0||this.fadeOutWave()},this.platform=new i.Platform(this.platformId),this.clickHandler=this.onClick.bind(this),this.bindTriggerEvent()}get waveAttributeName(){return this.insertExtraNode?"ant-click-animating":"ant-click-animating-without-extra-node"}bindTriggerEvent(){this.platform.isBrowser&&this.ngZone.runOutsideAngular(()=>{this.removeTriggerEvent(),this.triggerElement&&this.triggerElement.addEventListener("click",this.clickHandler,!0)})}removeTriggerEvent(){this.triggerElement&&this.triggerElement.removeEventListener("click",this.clickHandler,!0)}removeStyleAndExtraNode(){this.styleForPseudo&&document.body.contains(this.styleForPseudo)&&(document.body.removeChild(this.styleForPseudo),this.styleForPseudo=null),this.insertExtraNode&&this.triggerElement.contains(this.extraNode)&&this.triggerElement.removeChild(this.extraNode)}destroy(){this.removeTriggerEvent(),this.removeStyleAndExtraNode()}fadeOutWave(){const e=this.triggerElement,t=this.getWaveColor(e);e.setAttribute(this.waveAttributeName,"true"),!(Date.now()<this.lastTime+this.waveTransitionDuration)&&(this.isValidColor(t)&&(this.styleForPseudo||(this.styleForPseudo=document.createElement("style")),this.styleForPseudo.innerHTML=`\n      [ant-click-animating-without-extra-node='true']::after, .ant-click-animating-node {\n        --antd-wave-shadow-color: ${t};\n      }`,document.body.appendChild(this.styleForPseudo)),this.insertExtraNode&&(this.extraNode||(this.extraNode=document.createElement("div")),this.extraNode.className="ant-click-animating-node",e.appendChild(this.extraNode)),this.lastTime=Date.now(),this.runTimeoutOutsideZone(()=>{e.removeAttribute(this.waveAttributeName),this.removeStyleAndExtraNode()},this.waveTransitionDuration))}isValidColor(e){return!!e&&"#ffffff"!==e&&"rgb(255, 255, 255)"!==e&&this.isNotGrey(e)&&!/rgba\(\d*, \d*, \d*, 0\)/.test(e)&&"transparent"!==e}isNotGrey(e){const t=e.match(/rgba?\((\d*), (\d*), (\d*)(, [\.\d]*)?\)/);return!(t&&t[1]&&t[2]&&t[3]&&t[1]===t[2]&&t[2]===t[3])}getWaveColor(e){const t=getComputedStyle(e);return t.getPropertyValue("border-top-color")||t.getPropertyValue("border-color")||t.getPropertyValue("background-color")}runTimeoutOutsideZone(e,t){this.ngZone.runOutsideAngular(()=>setTimeout(e,t))}}const d={disabled:!1},l=new r.InjectionToken("dw-wave-global-options",{providedIn:"root",factory:function(){return d}});let s=(()=>{class e{constructor(e,t,n,i,r){this.ngZone=e,this.elementRef=t,this.config=n,this.animationType=i,this.platformId=r,this.dwWaveExtraNode=!1,this.waveDisabled=!1,this.waveDisabled=this.isConfigDisabled()}get disabled(){return this.waveDisabled}get rendererRef(){return this.waveRenderer}isConfigDisabled(){let e=!1;return this.config&&"boolean"==typeof this.config.disabled&&(e=this.config.disabled),"NoopAnimations"===this.animationType&&(e=!0),e}ngOnDestroy(){this.waveRenderer&&this.waveRenderer.destroy()}ngOnInit(){this.renderWaveIfEnabled()}renderWaveIfEnabled(){!this.waveDisabled&&this.elementRef.nativeElement&&(this.waveRenderer=new a(this.elementRef.nativeElement,this.ngZone,this.dwWaveExtraNode,this.platformId))}disable(){this.waveDisabled=!0,this.waveRenderer&&(this.waveRenderer.removeTriggerEvent(),this.waveRenderer.removeStyleAndExtraNode())}enable(){this.waveDisabled=this.isConfigDisabled()||!1,this.waveRenderer&&this.waveRenderer.bindTriggerEvent()}}return e.\u0275fac=function(t){return new(t||e)(r.\u0275\u0275directiveInject(r.NgZone),r.\u0275\u0275directiveInject(r.ElementRef),r.\u0275\u0275directiveInject(l,8),r.\u0275\u0275directiveInject(o.ANIMATION_MODULE_TYPE,8),r.\u0275\u0275directiveInject(r.PLATFORM_ID))},e.\u0275dir=r.\u0275\u0275defineDirective({type:e,selectors:[["","dw-wave",""],["button","dw-button","",3,"dwType","link",3,"dwType","text"]],inputs:{dwWaveExtraNode:"dwWaveExtraNode"},exportAs:["dwWave"]}),e})(),c=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=r.\u0275\u0275defineInjector({imports:[[i.PlatformModule]]}),e})()},16511:function(e,t,n){n.d(t,{R:function(){return i}});let i=(()=>{class e{}return e.product_file=[{fieldName:"\u7f16\u7801",fieldKey:"product_file_code",fieldType:"INPUT",isRequired:!0,isTurnOn:!0},{fieldName:"\u540d\u79f0",fieldKey:"product_file_name",fieldType:"INPUT",isRequired:!0,isTurnOn:!0},{fieldName:"\u4ea7\u54c1\u5206\u7c7b",fieldKey:"item_group",fieldType:"SELECT",isRequired:!0,isTurnOn:!0},{fieldName:"\u578b\u53f7",fieldKey:"model",fieldType:"INPUT",isRequired:!1,isTurnOn:!0},{fieldName:"\u89c4\u683c",fieldKey:"specification",fieldType:"INPUT",isRequired:!1,isTurnOn:!0},{fieldName:"\u5e8f\u5217\u53f7",fieldKey:"sn",fieldType:"INPUT",isRequired:!0,isTurnOn:!0},{fieldName:"\u5ba2\u6237",fieldKey:"customer",fieldType:"OPENER",isRequired:!0,isTurnOn:!0},{fieldName:"\u4f7f\u7528\u5730\u70b9",fieldKey:"location",fieldType:"INPUT",isRequired:!1,isTurnOn:!0},{fieldName:"\u670d\u52a1\u7ad9\u70b9",fieldKey:"service_site",fieldType:"OPENER",isRequired:!1,isTurnOn:!0},{fieldName:"\u670d\u52a1\u4eba\u5458",fieldKey:"employee",fieldType:"OPENER",isRequired:!1,isTurnOn:!0},{fieldName:"\u51fa\u5e93\u65e5\u671f",fieldKey:"delivery_date",fieldType:"DATEPICKER",isRequired:!0,isTurnOn:!0},{fieldName:"\u5b89\u88c5\u65e5\u671f",fieldKey:"installation_date_range",fieldType:"DATERANGEPICKER",isRequired:!0,isTurnOn:!0},{fieldName:"\u8c03\u8bd5\u4eba\u5458",fieldKey:"commissioning_person",fieldType:"INPUT",isRequired:!1,isTurnOn:!0},{fieldName:"\u9644\u4ef6",fieldKey:"attachment",fieldType:"ATTACHMENT",isRequired:!1,isTurnOn:!0},{fieldName:"\u7ef4\u62a4\u4fdd\u517b",fieldKey:"enable_maintain",fieldType:"CHECKBOX",isRequired:!1,isTurnOn:!0},{fieldName:"\u4ea7\u54c1\u6863\u6848\u7167\u7247",fieldKey:"file",fieldType:"PICTURE",isRequired:!1,isTurnOn:!0},{fieldName:"\u63cf\u8ff0",fieldKey:"product_description",fieldType:"TEXTAREA",isRequired:!1,isTurnOn:!0},{fieldName:"\u4fdd\u4fee\u622a\u6b62\u65e5\u671f",fieldKey:"expiry_date",fieldType:"DATEPICKER",isRequired:!0,isTurnOn:!0},{fieldName:"\u9a8c\u6536\u65e5\u671f",fieldKey:"acceptance_date",fieldType:"DATEPICKER",isRequired:!1,isTurnOn:!0},{fieldName:"\u9a8c\u6536\u4eba\u5458",fieldKey:"acceptance_person",fieldType:"INPUT",isRequired:!1,isTurnOn:!0},{fieldName:"\u7ef4\u4fee\u6b21\u6570",fieldKey:"maintenance_count",fieldType:"INPUT",isRequired:!1,isTurnOn:!0},{fieldName:"\u5907\u6ce8",fieldKey:"remark",fieldType:"INPUT",isRequired:!1,isTurnOn:!0}],e})()},53771:function(e,t,n){n.d(t,{v:function(){return d}});var i=n(51156),r=n(47372),o=n(65134),a=n(42746);let d=(()=>{class e{constructor(e,t){this.http=e,this.pctHttp=t}getCustomerList(e,t){return this.http.get(`restful/service/customer/Customer/Customer?code=${e}&name=${t}`).pipe((0,r.map)(e=>e))}deleteCustomer(e){return this.http.delete("restful/service/customer/Customer/BathRemove",{body:{ids:e.join(",")}})}getQuery(e){return this.http.get(`restful/service/customer/Customer/CustomerSearch?param=${e}`).pipe((0,r.map)(e=>e))}getIntegratedEnableStatus(){return this.pctHttp.get("restful/service/integratedSettings/IntegratedSettings/IntegratedEnableStatus")}}return e.\u0275fac=function(t){return new(t||e)(a.\u0275\u0275inject(i.DwDapHttpClient),a.\u0275\u0275inject(o.k))},e.\u0275prov=a.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},48005:function(e,t,n){n.d(t,{w:function(){return Fn}});var i=n(64762),r=n(42746),o=n(87974),a=n(53524),d=n(33795),l=n(18843),s=n(66800),c=n(99487),m=n(83237),p=n(16511),u=n(45890),f=n(9201),w=n(55245),h=n(1020),g=n(14025),v=n(31441),C=n(85773),y=n(29872),x=n(67280),_=n(8852),S=n(41937),b=n(93761),E=n(96670),I=n(85277);function D(e,t){1&e&&(r.\u0275\u0275elementStart(0,"div",7),r.\u0275\u0275text(1,"\u5e8f\u5217\u53f7:"),r.\u0275\u0275elementEnd())}function T(e,t){1&e&&(r.\u0275\u0275elementStart(0,"div",7),r.\u0275\u0275text(1,"\u9879\u76ee\u53f7:"),r.\u0275\u0275elementEnd())}function O(e,t){if(1&e){const e=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"em",22),r.\u0275\u0275listener("click",function(){return r.\u0275\u0275restoreView(e),r.\u0275\u0275nextContext(3).clear()}),r.\u0275\u0275elementEnd()}}function M(e,t){if(1&e){const e=r.\u0275\u0275getCurrentView();r.\u0275\u0275template(0,O,1,0,"em",19),r.\u0275\u0275elementStart(1,"button",20),r.\u0275\u0275listener("click",function(){return r.\u0275\u0275restoreView(e),r.\u0275\u0275nextContext(2).openCustomer()}),r.\u0275\u0275element(2,"em",21),r.\u0275\u0275elementEnd()}if(2&e){const e=r.\u0275\u0275nextContext(2);r.\u0275\u0275property("ngIf",e.form.value.new_customer_name)}}function F(e,t){if(1&e&&(r.\u0275\u0275elementStart(0,"form",2),r.\u0275\u0275elementStart(1,"div",3),r.\u0275\u0275elementStart(2,"div",4),r.\u0275\u0275element(3,"div",5),r.\u0275\u0275elementStart(4,"div",6),r.\u0275\u0275elementStart(5,"div",7),r.\u0275\u0275text(6,"\u54c1\u53f7:"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(7,"div",8),r.\u0275\u0275text(8),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(9,"div",6),r.\u0275\u0275elementStart(10,"div",7),r.\u0275\u0275text(11,"\u54c1\u540d:"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(12,"div",8),r.\u0275\u0275text(13),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(14,"div",6),r.\u0275\u0275elementStart(15,"div",7),r.\u0275\u0275text(16,"\u89c4\u683c:"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(17,"div",8),r.\u0275\u0275text(18),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(19,"div",4),r.\u0275\u0275element(20,"div",5),r.\u0275\u0275elementStart(21,"div",6),r.\u0275\u0275elementStart(22,"div",7),r.\u0275\u0275text(23,"\u578b\u53f7:"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(24,"div",8),r.\u0275\u0275text(25),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(26,"div",9),r.\u0275\u0275template(27,D,2,0,"div",10),r.\u0275\u0275template(28,T,2,0,"div",10),r.\u0275\u0275elementStart(29,"div",8),r.\u0275\u0275text(30),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(31,"dw-form-item"),r.\u0275\u0275elementStart(32,"dw-form-label",11),r.\u0275\u0275text(33,"\u539f\u5ba2\u6237"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(34,"dw-form-control",12),r.\u0275\u0275element(35,"input",13),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(36,"dw-form-item"),r.\u0275\u0275elementStart(37,"dw-form-label",11),r.\u0275\u0275text(38,"\u65b0\u5ba2\u6237"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(39,"dw-form-control",12),r.\u0275\u0275elementStart(40,"dw-input-group",14),r.\u0275\u0275element(41,"input",15),r.\u0275\u0275elementEnd(),r.\u0275\u0275template(42,M,3,1,"ng-template",null,16,r.\u0275\u0275templateRefExtractor),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(44,"dw-form-item"),r.\u0275\u0275elementStart(45,"dw-form-label",12),r.\u0275\u0275text(46,"\u8fc7\u6237\u65e5\u671f"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(47,"dw-form-control",12),r.\u0275\u0275element(48,"dw-date-picker",17),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(49,"dw-form-item"),r.\u0275\u0275elementStart(50,"dw-form-label",12),r.\u0275\u0275text(51,"\u5907\u6ce8"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(52,"dw-form-control",12),r.\u0275\u0275element(53,"textarea",18),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd()),2&e){const e=r.\u0275\u0275reference(43),t=r.\u0275\u0275nextContext();r.\u0275\u0275property("formGroup",t.form),r.\u0275\u0275advance(8),r.\u0275\u0275textInterpolate(t.productInfo.product_file_code),r.\u0275\u0275advance(5),r.\u0275\u0275textInterpolate(t.productInfo.product_file_name),r.\u0275\u0275advance(5),r.\u0275\u0275textInterpolate(t.productInfo.specification),r.\u0275\u0275advance(7),r.\u0275\u0275textInterpolate(t.productInfo.model),r.\u0275\u0275advance(2),r.\u0275\u0275property("ngIf","1"===t.file_type),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf","2"===t.file_type),r.\u0275\u0275advance(2),r.\u0275\u0275textInterpolate(t.productInfo.sn),r.\u0275\u0275advance(2),r.\u0275\u0275property("dwSm",4)("dwXs",24),r.\u0275\u0275advance(2),r.\u0275\u0275property("dwSm",16)("dwXs",24),r.\u0275\u0275advance(3),r.\u0275\u0275property("dwSm",4)("dwXs",24),r.\u0275\u0275advance(2),r.\u0275\u0275property("dwSm",16)("dwXs",24),r.\u0275\u0275advance(1),r.\u0275\u0275property("dwSuffix",e),r.\u0275\u0275advance(5),r.\u0275\u0275property("dwSm",4)("dwXs",24),r.\u0275\u0275advance(2),r.\u0275\u0275property("dwSm",16)("dwXs",24),r.\u0275\u0275advance(1),r.\u0275\u0275property("dwDisabledDate",t.disabledDate),r.\u0275\u0275advance(2),r.\u0275\u0275property("dwSm",4)("dwXs",24),r.\u0275\u0275advance(2),r.\u0275\u0275property("dwSm",16)("dwXs",24)}}const P=function(){return{height:"calc(100% - 55px)",overflow:"auto","padding-bottom":"24px","padding-top":"0"}};let k=(()=>{class e{constructor(e,t,n,i){this.fb=e,this.productFileService=t,this.newCustomerService=n,this.message=i,this.file_type="1",this.visibleChanged=new r.EventEmitter,this.productInfo={product_file_code:"2222222",product_file_name:"\u6ce8\u5851\u673a",specification:"SDSDFS32342",model:"DF333333",sn:"3333333333333333333333"},this.lastTransferDate="",this.disabledDate=e=>(0,g.differenceInCalendarDays)(e,new Date)>0||(0,g.differenceInCalendarDays)(e,new Date(this.lastTransferDate))<=0,this.form=this.fb.group({product_file_id:["",h.Validators.required],original_customer_id:[""],original_customer_code:[""],original_customer_name:["",h.Validators.required],new_customer_id:[""],new_customer_code:[""],new_customer_name:["",h.Validators.required],transfer_date:["",h.Validators.required],remark:[""]})}initData(e,t){this.file_type=t,this.form.get("product_file_id").setValue(e.toString()),this.form.get("new_customer_name").reset(),this.form.get("new_customer_id").setValue(0),this.form.get("new_customer_code").setValue(""),this.form.get("transfer_date").setValue(new Date),this.form.get("remark").setValue(""),this.getProductInfo()}ngOnInit(){}getProductInfo(){this.productFileService.getProductInfo(this.form.value.product_file_id).subscribe(e=>{e.success?(this.productInfo=e.data[0],this.form.get("original_customer_id").setValue(e.data[0].customer_id.toString()),this.form.get("original_customer_code").setValue(e.data[0].customer_code),this.form.get("original_customer_name").setValue(e.data[0].customer_name),this.lastTransferDate=e.data[0].transfer_date||""):this.message.create("error",e.message)})}openCustomer(){this.newCustomerService.setConfig(this.form.value.original_customer_id,!1),this.newCustomerService.open([]).subscribe(e=>{null==e||0===e.length||(this.form.get("new_customer_id").setValue(e[0].customer_id.toString()),this.form.get("new_customer_code").setValue(e[0].customer_code),this.form.get("new_customer_name").setValue(e[0].customer_name))})}clear(){this.form.get("new_customer_id").setValue(0),this.form.get("new_customer_code").setValue(""),this.form.get("new_customer_name").setValue("")}handleOk(){this.productFileService.transfer(this.form.value).subscribe(e=>{this.handleCancel(),this.message.create("success","\u8fc7\u6237\u6210\u529f\uff01")},e=>{e.hasOwnProperty("error")&&e.error.hasOwnProperty("errorMessage")&&e.error.errorMessage&&this.message.error(e.error.errorMessage)})}handleCancel(){this.visibleChanged.emit(!1)}}return e.\u0275fac=function(t){return new(t||e)(r.\u0275\u0275directiveInject(h.FormBuilder),r.\u0275\u0275directiveInject(d.U),r.\u0275\u0275directiveInject(f.N),r.\u0275\u0275directiveInject(m.DwMessageService))},e.\u0275cmp=r.\u0275\u0275defineComponent({type:e,selectors:[["app-product-transfer"]],inputs:{visible:"visible"},outputs:{visibleChanged:"visibleChanged"},features:[r.\u0275\u0275ProvidersFeature([f.N])],decls:2,vars:8,consts:[[3,"dwBodyStyle","dwMaskClosable","dwWidth","dwVisible","dwTitle","dwOkDisabled","dwOkText","dwVisibleChange","dwOnCancel","dwOnOk"],["dwModalContent",""],["dw-form","",3,"formGroup"],[1,"item-wrap"],["dw-row",""],["dw-col","","dwSpan","1"],["dw-col","","dwSpan","7",1,"flex-box"],[1,"label"],[1,"info"],["dw-col","","dwSpan","14",1,"flex-box"],["class","label",4,"ngIf"],["dwRequired","",3,"dwSm","dwXs"],[3,"dwSm","dwXs"],["dw-input","","readonly","","required","","placeholder","\u8bf7\u8f93\u5165\u539f\u5ba2\u6237","formControlName","original_customer_name","maxlength","40",1,"ant-input","ng-untouched","ng-pristine","ng-invalid"],["dwSearch","",3,"dwSuffix"],["dw-input","","type","text","readonly","","dw-input","","formControlName","new_customer_name"],["suffixCustomerData",""],["formControlName","transfer_date",3,"dwDisabledDate"],["formControlName","remark","dw-input","","maxlength","50","placeholder","50\u5b57\u4ee5\u5185"],["dw-icon","","class","ant-input-clear-icon","dwTheme","fill","dwType","close-circle",3,"click",4,"ngIf"],["dw-button","","dwType","primary","dwSearch","","type","button",3,"click"],["dw-icon","","dwType","search"],["dw-icon","","dwTheme","fill","dwType","close-circle",1,"ant-input-clear-icon",3,"click"]],template:function(e,t){1&e&&(r.\u0275\u0275elementStart(0,"dw-modal",0),r.\u0275\u0275listener("dwVisibleChange",function(e){return t.visible=e})("dwOnCancel",function(){return t.handleCancel()})("dwOnOk",function(){return t.handleOk()}),r.\u0275\u0275template(1,F,54,26,"ng-template",1),r.\u0275\u0275elementEnd()),2&e&&r.\u0275\u0275property("dwBodyStyle",r.\u0275\u0275pureFunction0(7,P))("dwMaskClosable",!0)("dwWidth",720)("dwVisible",t.visible)("dwTitle","\u8fc7\u6237")("dwOkDisabled",!t.form.valid)("dwOkText","\u4fdd\u5b58")},directives:[v.DwModalComponent,v.DwModalContentDirective,h.\u0275NgNoValidate,h.NgControlStatusGroup,C.DwFormDirective,h.FormGroupDirective,y.DwRowDirective,y.DwColDirective,w.NgIf,C.DwFormItemComponent,C.DwFormLabelComponent,C.DwFormControlComponent,x.DwInputDirective,h.DefaultValueAccessor,h.RequiredValidator,h.NgControlStatus,h.FormControlName,h.MaxLengthValidator,_.u,x.DwInputGroupComponent,x.DwInputGroupWhitSuffixOrPrefixDirective,S.DwDatePickerComponent,b.DwButtonComponent,E.uG,I.DwIconDirective],styles:[".item-wrap[_ngcontent-%COMP%]{border-bottom:1px solid #d9d9d9;padding:20px 0;margin-bottom:24px}"]}),e})();const V=function(){return{minRows:3,maxRows:3}};function R(e,t){if(1&e&&(r.\u0275\u0275elementStart(0,"form",2),r.\u0275\u0275elementStart(1,"dw-form-item"),r.\u0275\u0275elementStart(2,"dw-form-label",3),r.\u0275\u0275text(3,"\u56de\u6536\u539f\u56e0"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(4,"dw-form-control",4),r.\u0275\u0275element(5,"textarea",5),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd()),2&e){const e=r.\u0275\u0275nextContext();r.\u0275\u0275property("formGroup",e.form),r.\u0275\u0275advance(2),r.\u0275\u0275property("dwSm",5)("dwXs",24),r.\u0275\u0275advance(2),r.\u0275\u0275property("dwSm",18)("dwXs",24),r.\u0275\u0275advance(1),r.\u0275\u0275property("dwAutosize",r.\u0275\u0275pureFunction0(6,V))}}const A=function(){return{height:"calc(100% - 55px)",overflow:"auto","padding-bottom":"24px"}};let L=(()=>{class e{constructor(e,t,n,i){this.fb=e,this.productFileService=t,this.newCustomerService=n,this.message=i,this.visibleChanged=new r.EventEmitter,this.form=this.fb.group({product_file_id:["",h.Validators.required],recycled_reason:["",h.Validators.required]})}initData(e){this.form.get("product_file_id").setValue(e.toString()),this.form.get("recycled_reason").reset()}ngOnInit(){}handleOk(){this.productFileService.recycle(this.form.value).subscribe(e=>{this.visibleChanged.emit(!0),this.message.create("success","\u56de\u6536\u6210\u529f\uff01\u53ef\u81f3\u5df2\u56de\u6536\u8bbe\u5907\u4e2d\u8fdb\u884c\u67e5\u770b")},e=>{e.hasOwnProperty("error")&&e.error.hasOwnProperty("errorMessage")&&e.error.errorMessage&&this.message.error(e.error.errorMessage)})}handleCancel(){this.visibleChanged.emit(!1)}}return e.\u0275fac=function(t){return new(t||e)(r.\u0275\u0275directiveInject(h.FormBuilder),r.\u0275\u0275directiveInject(d.U),r.\u0275\u0275directiveInject(f.N),r.\u0275\u0275directiveInject(m.DwMessageService))},e.\u0275cmp=r.\u0275\u0275defineComponent({type:e,selectors:[["app-product-recycle"]],inputs:{visible:"visible"},outputs:{visibleChanged:"visibleChanged"},decls:2,vars:8,consts:[[3,"dwBodyStyle","dwMaskClosable","dwWidth","dwVisible","dwTitle","dwOkDisabled","dwOkText","dwVisibleChange","dwOnCancel","dwOnOk"],["dwModalContent",""],["dw-form","",3,"formGroup"],["dwRequired","",3,"dwSm","dwXs"],[3,"dwSm","dwXs"],["formControlName","recycled_reason","dw-input","","maxlength","255","placeholder","\u8bf7\u586b\u5199\u8bbe\u5907\u56e0\u4f55\u79cd\u539f\u56e0\u9000\u56de\u5de5\u5382\uff0c\u5982\uff1a\u8fc7\u5ea6\u8425\u9500\u3001\u6362\u8d27\u3001\u591a\u6b21\u7ef4\u4fee\u4e0d\u597d\uff0c\u5ba2\u6237\u4e0d\u4e88\u9a8c\u6536\u7b49",3,"dwAutosize"]],template:function(e,t){1&e&&(r.\u0275\u0275elementStart(0,"dw-modal",0),r.\u0275\u0275listener("dwVisibleChange",function(e){return t.visible=e})("dwOnCancel",function(){return t.handleCancel()})("dwOnOk",function(){return t.handleOk()}),r.\u0275\u0275template(1,R,6,7,"ng-template",1),r.\u0275\u0275elementEnd()),2&e&&r.\u0275\u0275property("dwBodyStyle",r.\u0275\u0275pureFunction0(7,A))("dwMaskClosable",!0)("dwWidth",420)("dwVisible",t.visible)("dwTitle","\u4ea7\u54c1\u56de\u6536")("dwOkDisabled",!t.form.valid)("dwOkText","\u4fdd\u5b58")},directives:[v.DwModalComponent,v.DwModalContentDirective,h.\u0275NgNoValidate,h.NgControlStatusGroup,C.DwFormDirective,h.FormGroupDirective,y.DwRowDirective,C.DwFormItemComponent,y.DwColDirective,C.DwFormLabelComponent,C.DwFormControlComponent,h.DefaultValueAccessor,x.DwInputDirective,x.DwAutosizeDirective,h.NgControlStatus,h.FormControlName,h.MaxLengthValidator],styles:[""]}),e})();var $=n(37568),j=n(17494),N=n(78169),z=n(67733),q=n(62695),W=n(71452),B=n(83522),U=n(41430);function X(e,t){if(1&e){const e=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"div",10),r.\u0275\u0275listener("click",function(){r.\u0275\u0275restoreView(e);const t=r.\u0275\u0275nextContext(2),n=r.\u0275\u0275reference(2);return t.isVisible=!0,n.initData(t.id,t.product_file[0].file_type)}),r.\u0275\u0275text(1," \u8fc7\u6237 "),r.\u0275\u0275elementEnd()}if(2&e){const e=r.\u0275\u0275nextContext(2);r.\u0275\u0275propertyInterpolate("angularticsLabel",e.userInfo.tenantId+","+e.userInfo.userId),r.\u0275\u0275property("dwActionId","transfer")("dwDefaultAuthorized","disabled")("angularticsCategory","\u4ea7\u54c1\u6863\u6848")}}function G(e,t){if(1&e){const e=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"div",11),r.\u0275\u0275listener("click",function(){r.\u0275\u0275restoreView(e);const t=r.\u0275\u0275nextContext(2),n=r.\u0275\u0275reference(4);return t.isRecycleVisible=!0,n.initData(t.id)}),r.\u0275\u0275text(1," \u56de\u6536 "),r.\u0275\u0275elementEnd()}if(2&e){const e=r.\u0275\u0275nextContext(2);r.\u0275\u0275propertyInterpolate("angularticsLabel",e.userInfo.tenantId+","+e.userInfo.userId),r.\u0275\u0275property("dwActionId","recycle")("dwDefaultAuthorized","disabled")("angularticsCategory","\u4ea7\u54c1\u6863\u6848")}}function H(e,t){if(1&e&&(r.\u0275\u0275elementStart(0,"div",5),r.\u0275\u0275element(1,"em",6),r.\u0275\u0275elementStart(2,"div",7),r.\u0275\u0275template(3,X,2,4,"div",8),r.\u0275\u0275template(4,G,2,4,"div",9),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd()),2&e){const e=r.\u0275\u0275nextContext();r.\u0275\u0275advance(3),r.\u0275\u0275property("ngIf","1"==e.userSite),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf","1"===e.product_file[0].service_status)}}function K(e,t){if(1&e&&(r.\u0275\u0275elementStart(0,"div",17),r.\u0275\u0275elementStart(1,"div",18),r.\u0275\u0275text(2,"\u7f16\u7801\uff1a"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(3,"div",24),r.\u0275\u0275text(4),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd()),2&e){const e=r.\u0275\u0275nextContext(2);r.\u0275\u0275advance(4),r.\u0275\u0275textInterpolate(e.product_file[0].product_file_code)}}function Q(e,t){if(1&e&&(r.\u0275\u0275elementStart(0,"div",17),r.\u0275\u0275elementStart(1,"div",18),r.\u0275\u0275text(2,"\u540d\u79f0\uff1a"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(3,"div",24),r.\u0275\u0275text(4),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd()),2&e){const e=r.\u0275\u0275nextContext(2);r.\u0275\u0275advance(4),r.\u0275\u0275textInterpolate(e.product_file[0].product_file_name)}}function Z(e,t){1&e&&(r.\u0275\u0275elementStart(0,"span",32),r.\u0275\u0275text(1,"\u6b63\u5e38"),r.\u0275\u0275elementEnd())}function J(e,t){1&e&&(r.\u0275\u0275elementStart(0,"span",33),r.\u0275\u0275text(1,"\u62a5\u4fee\u4e2d"),r.\u0275\u0275elementEnd())}function Y(e,t){1&e&&(r.\u0275\u0275elementStart(0,"span",34),r.\u0275\u0275text(1,"\u5df2\u56de\u6536"),r.\u0275\u0275elementEnd())}function ee(e,t){1&e&&r.\u0275\u0275element(0,"img",42)}function te(e,t){if(1&e&&r.\u0275\u0275element(0,"img",43),2&e){const e=r.\u0275\u0275nextContext(3);r.\u0275\u0275property("src",e.product_file[0].url,r.\u0275\u0275sanitizeUrl)}}function ne(e,t){if(1&e&&(r.\u0275\u0275elementStart(0,"div",35),r.\u0275\u0275elementStart(1,"div",36),r.\u0275\u0275template(2,ee,1,0,"img",37),r.\u0275\u0275template(3,te,1,1,"img",38),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(4,"div",39),r.\u0275\u0275elementStart(5,"div",40),r.\u0275\u0275elementStart(6,"div"),r.\u0275\u0275text(7),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(8,"div"),r.\u0275\u0275text(9),r.\u0275\u0275pipe(10,"date"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(11,"div",41),r.\u0275\u0275text(12),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd()),2&e){const e=r.\u0275\u0275nextContext(2);r.\u0275\u0275advance(2),r.\u0275\u0275property("ngIf",!e.product_file[0].recycler_file_id),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",e.product_file[0].recycler_file_id),r.\u0275\u0275advance(4),r.\u0275\u0275textInterpolate(e.product_file[0].recycler_name),r.\u0275\u0275advance(2),r.\u0275\u0275textInterpolate(r.\u0275\u0275pipeBind2(10,5,e.product_file[0].recycled_date,"yyyy-MM-dd HH:mm:ss")),r.\u0275\u0275advance(3),r.\u0275\u0275textInterpolate(e.product_file[0].recycled_reason)}}function ie(e,t){if(1&e&&(r.\u0275\u0275elementStart(0,"div",17),r.\u0275\u0275elementStart(1,"div",18),r.\u0275\u0275text(2,"\u4ea7\u54c1\u5206\u7c7b\uff1a"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(3,"div",24),r.\u0275\u0275text(4),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd()),2&e){const e=r.\u0275\u0275nextContext(2);r.\u0275\u0275advance(4),r.\u0275\u0275textInterpolate(e.product_file[0].item_group_name)}}function re(e,t){if(1&e&&(r.\u0275\u0275elementStart(0,"div",17),r.\u0275\u0275elementStart(1,"div",18),r.\u0275\u0275text(2,"\u578b\u53f7\uff1a"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(3,"div",24),r.\u0275\u0275text(4),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd()),2&e){const e=r.\u0275\u0275nextContext(2);r.\u0275\u0275advance(4),r.\u0275\u0275textInterpolate(e.product_file[0].model)}}function oe(e,t){if(1&e&&(r.\u0275\u0275elementStart(0,"div",17),r.\u0275\u0275elementStart(1,"div",18),r.\u0275\u0275text(2,"\u89c4\u683c\uff1a"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(3,"div",24),r.\u0275\u0275text(4),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd()),2&e){const e=r.\u0275\u0275nextContext(2);r.\u0275\u0275advance(4),r.\u0275\u0275textInterpolate(e.product_file[0].specification)}}function ae(e,t){1&e&&(r.\u0275\u0275elementStart(0,"div",18),r.\u0275\u0275text(1,"\u5e8f\u5217\u53f7\uff1a"),r.\u0275\u0275elementEnd())}function de(e,t){1&e&&(r.\u0275\u0275elementStart(0,"div",18),r.\u0275\u0275text(1,"\u9879\u76ee\u53f7\uff1a"),r.\u0275\u0275elementEnd())}function le(e,t){if(1&e&&(r.\u0275\u0275elementStart(0,"div",17),r.\u0275\u0275template(1,ae,2,0,"div",44),r.\u0275\u0275template(2,de,2,0,"div",44),r.\u0275\u0275elementStart(3,"div",24),r.\u0275\u0275text(4),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd()),2&e){const e=r.\u0275\u0275nextContext(2);r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf","1"===e.product_file[0].file_type),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf","2"===e.product_file[0].file_type),r.\u0275\u0275advance(2),r.\u0275\u0275textInterpolate(e.product_file[0].sn)}}function se(e,t){if(1&e&&(r.\u0275\u0275elementStart(0,"div",17),r.\u0275\u0275elementStart(1,"div",18),r.\u0275\u0275text(2,"\u5ba2\u6237\uff1a"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(3,"div",24),r.\u0275\u0275text(4),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd()),2&e){const e=r.\u0275\u0275nextContext(2);r.\u0275\u0275advance(4),r.\u0275\u0275textInterpolate(e.product_file[0].customer_name)}}function ce(e,t){if(1&e&&(r.\u0275\u0275elementStart(0,"div",17),r.\u0275\u0275elementStart(1,"div",18),r.\u0275\u0275text(2,"\u51fa\u5382\u5ba2\u6237\uff1a"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(3,"div",24),r.\u0275\u0275text(4),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd()),2&e){const e=r.\u0275\u0275nextContext(2);r.\u0275\u0275advance(4),r.\u0275\u0275textInterpolate(e.product_file[0].exfactory_customer_name)}}function me(e,t){if(1&e&&(r.\u0275\u0275elementStart(0,"div",17),r.\u0275\u0275elementStart(1,"div",18),r.\u0275\u0275text(2,"\u4f7f\u7528\u5730\u70b9\uff1a"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(3,"div",24),r.\u0275\u0275text(4),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd()),2&e){const e=r.\u0275\u0275nextContext(2);r.\u0275\u0275advance(4),r.\u0275\u0275textInterpolate(e.product_file[0].location)}}function pe(e,t){if(1&e&&(r.\u0275\u0275elementStart(0,"div",17),r.\u0275\u0275elementStart(1,"div",18),r.\u0275\u0275text(2,"\u670d\u52a1\u7ad9\u70b9\uff1a"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(3,"div",24),r.\u0275\u0275text(4),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd()),2&e){const e=r.\u0275\u0275nextContext(2);r.\u0275\u0275advance(4),r.\u0275\u0275textInterpolate(e.product_file[0].service_site_name)}}function ue(e,t){if(1&e&&(r.\u0275\u0275elementStart(0,"div",17),r.\u0275\u0275elementStart(1,"div",18),r.\u0275\u0275text(2,"\u670d\u52a1\u4eba\u5458\uff1a"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(3,"div",24),r.\u0275\u0275text(4),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd()),2&e){const e=r.\u0275\u0275nextContext(2);r.\u0275\u0275advance(4),r.\u0275\u0275textInterpolate(e.product_file[0].employee_name)}}function fe(e,t){if(1&e&&(r.\u0275\u0275elementStart(0,"div",17),r.\u0275\u0275elementStart(1,"div",18),r.\u0275\u0275text(2,"\u51fa\u5e93\u65e5\u671f\uff1a"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(3,"div",24),r.\u0275\u0275text(4),r.\u0275\u0275pipe(5,"date"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd()),2&e){const e=r.\u0275\u0275nextContext(2);r.\u0275\u0275advance(4),r.\u0275\u0275textInterpolate(r.\u0275\u0275pipeBind2(5,1,e.product_file[0].delivery_date,"yyyy-MM-dd"))}}function we(e,t){if(1&e&&(r.\u0275\u0275elementStart(0,"div"),r.\u0275\u0275text(1),r.\u0275\u0275pipe(2,"date"),r.\u0275\u0275pipe(3,"date"),r.\u0275\u0275elementEnd()),2&e){const e=r.\u0275\u0275nextContext(3);r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate2(" ",r.\u0275\u0275pipeBind2(2,2,e.product_file[0].installation_date,"yyyy-MM-dd"),"~",r.\u0275\u0275pipeBind2(3,5,e.product_file[0].installation_date_end,"yyyy-MM-dd")," ")}}function he(e,t){if(1&e&&(r.\u0275\u0275elementStart(0,"div"),r.\u0275\u0275text(1),r.\u0275\u0275pipe(2,"date"),r.\u0275\u0275elementEnd()),2&e){const e=r.\u0275\u0275nextContext(3);r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate1(" ",r.\u0275\u0275pipeBind2(2,1,e.product_file[0].installation_date,"yyyy-MM-dd")," ")}}function ge(e,t){if(1&e&&(r.\u0275\u0275elementStart(0,"div",17),r.\u0275\u0275elementStart(1,"div",18),r.\u0275\u0275text(2,"\u5b89\u88c5\u65e5\u671f\uff1a"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(3,"div",24),r.\u0275\u0275template(4,we,4,8,"div",25),r.\u0275\u0275template(5,he,3,4,"div",25),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd()),2&e){const e=r.\u0275\u0275nextContext(2);r.\u0275\u0275advance(4),r.\u0275\u0275property("ngIf",e.product_file[0].installation_date&&e.product_file[0].installation_date_end),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",!e.product_file[0].installation_date_end)}}function ve(e,t){if(1&e&&(r.\u0275\u0275elementStart(0,"div",17),r.\u0275\u0275elementStart(1,"div",18),r.\u0275\u0275text(2,"\u9a8c\u6536\u65e5\u671f\uff1a"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(3,"div",24),r.\u0275\u0275text(4),r.\u0275\u0275pipe(5,"date"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd()),2&e){const e=r.\u0275\u0275nextContext(2);r.\u0275\u0275advance(4),r.\u0275\u0275textInterpolate(r.\u0275\u0275pipeBind2(5,1,e.product_file[0].acceptance_date,"yyyy-MM-dd"))}}function Ce(e,t){if(1&e&&(r.\u0275\u0275elementStart(0,"div",17),r.\u0275\u0275elementStart(1,"div",18),r.\u0275\u0275text(2,"\u4fdd\u4fee\u622a\u6b62\u65e5\u671f\uff1a"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(3,"div",24),r.\u0275\u0275text(4),r.\u0275\u0275pipe(5,"date"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd()),2&e){const e=r.\u0275\u0275nextContext(2);r.\u0275\u0275advance(4),r.\u0275\u0275textInterpolate(r.\u0275\u0275pipeBind2(5,1,e.product_file[0].expiry_date,"yyyy-MM-dd"))}}function ye(e,t){if(1&e&&(r.\u0275\u0275elementStart(0,"div",17),r.\u0275\u0275elementStart(1,"div",18),r.\u0275\u0275text(2,"\u8c03\u8bd5\u4eba\u5458\uff1a"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(3,"div",24),r.\u0275\u0275text(4),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd()),2&e){const e=r.\u0275\u0275nextContext(2);r.\u0275\u0275advance(4),r.\u0275\u0275textInterpolate(e.product_file[0].commissioning_person)}}function xe(e,t){if(1&e&&(r.\u0275\u0275elementStart(0,"div",17),r.\u0275\u0275elementStart(1,"div",18),r.\u0275\u0275text(2,"\u9a8c\u6536\u4eba\u5458\uff1a"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(3,"div",24),r.\u0275\u0275text(4),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd()),2&e){const e=r.\u0275\u0275nextContext(2);r.\u0275\u0275advance(4),r.\u0275\u0275textInterpolate(e.product_file[0].acceptance_person)}}function _e(e,t){1&e&&(r.\u0275\u0275elementContainerStart(0),r.\u0275\u0275text(1," \u5f00\u542f "),r.\u0275\u0275elementContainerEnd())}function Se(e,t){1&e&&(r.\u0275\u0275elementContainerStart(0),r.\u0275\u0275text(1," \u5173\u95ed "),r.\u0275\u0275elementContainerEnd())}function be(e,t){if(1&e&&(r.\u0275\u0275elementStart(0,"div",17),r.\u0275\u0275elementStart(1,"div",18),r.\u0275\u0275text(2,"\u7ef4\u62a4\u5f00\u59cb\u65e5\u671f\uff1a"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(3,"div",24),r.\u0275\u0275text(4),r.\u0275\u0275pipe(5,"date"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd()),2&e){const e=r.\u0275\u0275nextContext(2);r.\u0275\u0275advance(4),r.\u0275\u0275textInterpolate(r.\u0275\u0275pipeBind2(5,1,e.product_file[0].maintain_begin_date,"yyyy-MM-dd"))}}function Ee(e,t){if(1&e&&(r.\u0275\u0275elementContainerStart(0),r.\u0275\u0275text(1),r.\u0275\u0275elementContainerEnd()),2&e){const e=r.\u0275\u0275nextContext(3);r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate1(" ",e.product_file[0].maintain_period," \u6708 ")}}function Ie(e,t){if(1&e&&(r.\u0275\u0275elementStart(0,"div",17),r.\u0275\u0275elementStart(1,"div",18),r.\u0275\u0275text(2,"\u7ef4\u62a4\u5468\u671f\uff1a"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(3,"div",24),r.\u0275\u0275template(4,Ee,2,1,"ng-container",25),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd()),2&e){const e=r.\u0275\u0275nextContext(2);r.\u0275\u0275advance(4),r.\u0275\u0275property("ngIf","1"===e.product_file[0].enable_maintain)}}function De(e,t){if(1&e&&(r.\u0275\u0275elementContainerStart(0),r.\u0275\u0275text(1),r.\u0275\u0275elementContainerEnd()),2&e){const e=r.\u0275\u0275nextContext(3);r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate1(" ",e.product_file[0].maintain_period," \u9700\u4fdd\u517b ")}}function Te(e,t){if(1&e&&(r.\u0275\u0275elementStart(0,"div",17),r.\u0275\u0275elementStart(1,"div",18),r.\u0275\u0275text(2,"\u6bcf\u6284\u8868\u8fbe\uff1a"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(3,"div",24),r.\u0275\u0275template(4,De,2,1,"ng-container",25),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd()),2&e){const e=r.\u0275\u0275nextContext(2);r.\u0275\u0275advance(4),r.\u0275\u0275property("ngIf","1"===e.product_file[0].enable_maintain)}}function Oe(e,t){if(1&e&&(r.\u0275\u0275elementStart(0,"div",24),r.\u0275\u0275text(1),r.\u0275\u0275pipe(2,"date"),r.\u0275\u0275elementEnd()),2&e){const e=r.\u0275\u0275nextContext(3);r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate1(" ",r.\u0275\u0275pipeBind2(2,1,e.product_file[0].recently_maintain_date,"yyyy-MM-dd")," ")}}function Me(e,t){if(1&e&&(r.\u0275\u0275elementStart(0,"div",24),r.\u0275\u0275text(1),r.\u0275\u0275pipe(2,"date"),r.\u0275\u0275elementEnd()),2&e){const e=r.\u0275\u0275nextContext(3);r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate1(" ",r.\u0275\u0275pipeBind2(2,1,e.product_file[0].next_maintain_date,"yyyy-MM-dd")," ")}}function Fe(e,t){if(1&e&&(r.\u0275\u0275elementStart(0,"div",17),r.\u0275\u0275elementStart(1,"div",18),r.\u0275\u0275text(2,"\u7ef4\u4fee\u6b21\u6570\uff1a"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(3,"div",24),r.\u0275\u0275text(4),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd()),2&e){const e=r.\u0275\u0275nextContext(3);r.\u0275\u0275advance(4),r.\u0275\u0275textInterpolate1(" ",e.product_file[0].maintenance_count," ")}}function Pe(e,t){if(1&e&&(r.\u0275\u0275elementContainerStart(0),r.\u0275\u0275elementStart(1,"div",17),r.\u0275\u0275elementStart(2,"div",18),r.\u0275\u0275text(3,"\u6700\u8fd1\u7ef4\u62a4\u65e5\u671f\uff1a"),r.\u0275\u0275elementEnd(),r.\u0275\u0275template(4,Oe,3,4,"div",45),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(5,"div",17),r.\u0275\u0275elementStart(6,"div",18),r.\u0275\u0275text(7,"\u4e0b\u6b21\u7ef4\u62a4\u65e5\u671f\uff1a"),r.\u0275\u0275elementEnd(),r.\u0275\u0275template(8,Me,3,4,"div",45),r.\u0275\u0275elementEnd(),r.\u0275\u0275template(9,Fe,5,1,"div",16),r.\u0275\u0275elementContainerEnd()),2&e){const e=r.\u0275\u0275nextContext(2);r.\u0275\u0275advance(4),r.\u0275\u0275property("ngIf","1"===e.product_file[0].enable_maintain),r.\u0275\u0275advance(4),r.\u0275\u0275property("ngIf","1"===e.product_file[0].enable_maintain),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",e.formConfigList.indexOf("maintenance_count")>=0)}}function ke(e,t){if(1&e&&(r.\u0275\u0275elementStart(0,"div",24),r.\u0275\u0275text(1),r.\u0275\u0275elementEnd()),2&e){const e=r.\u0275\u0275nextContext(3);r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate1(" ",e.product_file[0].recently_maintain_readingmeter," ")}}function Ve(e,t){if(1&e&&(r.\u0275\u0275elementStart(0,"div",24),r.\u0275\u0275text(1),r.\u0275\u0275elementEnd()),2&e){const e=r.\u0275\u0275nextContext(3);r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate1(" ",e.product_file[0].next_maintain_readingmeter," ")}}function Re(e,t){if(1&e&&(r.\u0275\u0275elementStart(0,"div",17),r.\u0275\u0275elementStart(1,"div",18),r.\u0275\u0275text(2,"\u7ef4\u4fee\u6b21\u6570\uff1a"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(3,"div",24),r.\u0275\u0275text(4),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd()),2&e){const e=r.\u0275\u0275nextContext(3);r.\u0275\u0275advance(4),r.\u0275\u0275textInterpolate1(" ",e.product_file[0].maintenance_count," ")}}function Ae(e,t){if(1&e&&(r.\u0275\u0275elementContainerStart(0),r.\u0275\u0275elementStart(1,"div",17),r.\u0275\u0275elementStart(2,"div",18),r.\u0275\u0275text(3,"\u6700\u8fd1\u4fdd\u517b\u6284\u8868\u6570\uff1a"),r.\u0275\u0275elementEnd(),r.\u0275\u0275template(4,ke,2,1,"div",45),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(5,"div",17),r.\u0275\u0275elementStart(6,"div",18),r.\u0275\u0275text(7,"\u4e0b\u6b21\u4fdd\u517b\u6284\u8868\u6570\uff1a"),r.\u0275\u0275elementEnd(),r.\u0275\u0275template(8,Ve,2,1,"div",45),r.\u0275\u0275elementEnd(),r.\u0275\u0275template(9,Re,5,1,"div",16),r.\u0275\u0275elementContainerEnd()),2&e){const e=r.\u0275\u0275nextContext(2);r.\u0275\u0275advance(4),r.\u0275\u0275property("ngIf","1"===e.product_file[0].enable_maintain),r.\u0275\u0275advance(4),r.\u0275\u0275property("ngIf","1"===e.product_file[0].enable_maintain),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",e.formConfigList.indexOf("maintenance_count")>=0)}}function Le(e,t){if(1&e&&(r.\u0275\u0275elementStart(0,"div",46),r.\u0275\u0275elementStart(1,"div",18),r.\u0275\u0275text(2,"\u63cf\u8ff0\uff1a"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(3,"div",24),r.\u0275\u0275text(4),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd()),2&e){const e=r.\u0275\u0275nextContext(2);r.\u0275\u0275advance(4),r.\u0275\u0275textInterpolate(e.product_file[0].product_description)}}function $e(e,t){if(1&e&&(r.\u0275\u0275elementStart(0,"div",46),r.\u0275\u0275elementStart(1,"div",18),r.\u0275\u0275text(2,"\u5907\u6ce8\uff1a"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(3,"div",24),r.\u0275\u0275text(4),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd()),2&e){const e=r.\u0275\u0275nextContext(2);r.\u0275\u0275advance(4),r.\u0275\u0275textInterpolate(e.product_file[0].remark)}}const je=function(){return{width:"100%"}};function Ne(e,t){if(1&e&&r.\u0275\u0275element(0,"img",53),2&e){const e=r.\u0275\u0275nextContext(3);r.\u0275\u0275property("src",e.previewImage,r.\u0275\u0275sanitizeUrl)("ngStyle",r.\u0275\u0275pureFunction0(2,je))}}function ze(e,t){if(1&e){const e=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"div",46),r.\u0275\u0275elementStart(1,"div",18),r.\u0275\u0275text(2,"\u4ea7\u54c1\u6863\u6848\u56fe\u7247\uff1a"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(3,"div",24),r.\u0275\u0275elementStart(4,"div",47),r.\u0275\u0275elementStart(5,"dw-upload",48),r.\u0275\u0275listener("dwFileListChange",function(t){return r.\u0275\u0275restoreView(e),r.\u0275\u0275nextContext(2).fileList=t}),r.\u0275\u0275element(6,"em",49),r.\u0275\u0275elementStart(7,"div",50),r.\u0275\u0275text(8,"Upload"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(9,"dw-modal",51),r.\u0275\u0275listener("dwOnCancel",function(){return r.\u0275\u0275restoreView(e),r.\u0275\u0275nextContext(2).previewVisible=!1}),r.\u0275\u0275template(10,Ne,1,3,"ng-template",null,52,r.\u0275\u0275templateRefExtractor),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd()}if(2&e){const e=r.\u0275\u0275reference(11),t=r.\u0275\u0275nextContext(2);r.\u0275\u0275advance(5),r.\u0275\u0275property("dwFileList",t.fileList)("dwShowButton",!1)("dwShowUploadList",t.showUploadList)("dwPreview",t.handlePreview),r.\u0275\u0275advance(4),r.\u0275\u0275property("dwVisible",t.previewVisible)("dwContent",e)("dwFooter",null)}}function qe(e,t){1&e&&r.\u0275\u0275element(0,"img",64)}function We(e,t){1&e&&r.\u0275\u0275element(0,"img",65)}function Be(e,t){1&e&&r.\u0275\u0275element(0,"img",66)}function Ue(e,t){1&e&&r.\u0275\u0275element(0,"img",67)}function Xe(e,t){1&e&&r.\u0275\u0275element(0,"img",68)}function Ge(e,t){if(1&e){const e=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"div",56),r.\u0275\u0275template(1,qe,1,0,"img",57),r.\u0275\u0275template(2,We,1,0,"img",58),r.\u0275\u0275template(3,Be,1,0,"img",59),r.\u0275\u0275template(4,Ue,1,0,"img",60),r.\u0275\u0275template(5,Xe,1,0,"img",61),r.\u0275\u0275elementStart(6,"div",40),r.\u0275\u0275text(7),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(8,"div",62),r.\u0275\u0275listener("click",function(){const t=r.\u0275\u0275restoreView(e).$implicit;return r.\u0275\u0275nextContext(3).downloadFile(t.uid)}),r.\u0275\u0275element(9,"em",63),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd()}if(2&e){const e=t.$implicit;r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",e.name.indexOf(".xls")>=0),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",e.name.indexOf(".doc")>=0),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",e.name.indexOf(".pdf")>=0),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",e.name.indexOf(".ppt")>=0),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",e.name.indexOf(".png")>=0||e.name.indexOf(".jpg")>=0),r.\u0275\u0275advance(2),r.\u0275\u0275textInterpolate(e.name)}}function He(e,t){if(1&e&&(r.\u0275\u0275elementStart(0,"div",46),r.\u0275\u0275elementStart(1,"div",18),r.\u0275\u0275text(2,"\u9644\u4ef6\uff1a"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(3,"div",24),r.\u0275\u0275elementStart(4,"div",54),r.\u0275\u0275template(5,Ge,10,6,"div",55),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd()),2&e){const e=r.\u0275\u0275nextContext(2);r.\u0275\u0275advance(5),r.\u0275\u0275property("ngForOf",e.attachmentsList)}}function Ke(e,t){1&e&&(r.\u0275\u0275elementStart(0,"th",79),r.\u0275\u0275elementStart(1,"span",80),r.\u0275\u0275text(2,"\u8bbe\u5907\u7f16\u53f7"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd())}function Qe(e,t){1&e&&(r.\u0275\u0275elementStart(0,"th",79),r.\u0275\u0275elementStart(1,"span",80),r.\u0275\u0275text(2,"\u8bbe\u5907\u540d\u79f0"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd())}function Ze(e,t){1&e&&(r.\u0275\u0275elementStart(0,"th",81),r.\u0275\u0275elementStart(1,"span",80),r.\u0275\u0275text(2,"\u89c4\u683c"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd())}function Je(e,t){1&e&&(r.\u0275\u0275elementStart(0,"th",81),r.\u0275\u0275elementStart(1,"span",80),r.\u0275\u0275text(2,"\u578b\u53f7"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd())}function Ye(e,t){1&e&&(r.\u0275\u0275elementStart(0,"th",81),r.\u0275\u0275elementStart(1,"span",80),r.\u0275\u0275text(2,"\u5206\u7c7b"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd())}function et(e,t){1&e&&(r.\u0275\u0275elementStart(0,"th",82),r.\u0275\u0275elementStart(1,"span",80),r.\u0275\u0275text(2,"\u5e8f\u5217\u53f7"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd())}function tt(e,t){1&e&&(r.\u0275\u0275elementStart(0,"th",83),r.\u0275\u0275elementStart(1,"span",80),r.\u0275\u0275text(2,"\u6570\u91cf"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd())}function nt(e,t){1&e&&(r.\u0275\u0275elementStart(0,"th",79),r.\u0275\u0275elementStart(1,"span",80),r.\u0275\u0275text(2,"\u5907\u6ce8"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd())}function it(e,t){if(1&e&&(r.\u0275\u0275elementStart(0,"td"),r.\u0275\u0275text(1),r.\u0275\u0275elementEnd()),2&e){const e=r.\u0275\u0275nextContext().$implicit;r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate1(" ",e.code," ")}}function rt(e,t){if(1&e&&(r.\u0275\u0275elementStart(0,"td"),r.\u0275\u0275text(1),r.\u0275\u0275elementEnd()),2&e){const e=r.\u0275\u0275nextContext().$implicit;r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate1(" ",e.name," ")}}function ot(e,t){if(1&e&&(r.\u0275\u0275elementStart(0,"td"),r.\u0275\u0275text(1),r.\u0275\u0275elementEnd()),2&e){const e=r.\u0275\u0275nextContext().$implicit;r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate1(" ",e.specification," ")}}function at(e,t){if(1&e&&(r.\u0275\u0275elementStart(0,"td"),r.\u0275\u0275text(1),r.\u0275\u0275elementEnd()),2&e){const e=r.\u0275\u0275nextContext().$implicit;r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate1(" ",e.model," ")}}function dt(e,t){if(1&e&&(r.\u0275\u0275elementStart(0,"td"),r.\u0275\u0275text(1),r.\u0275\u0275elementEnd()),2&e){const e=r.\u0275\u0275nextContext().$implicit;r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate1(" ",e.item_group_name," ")}}function lt(e,t){if(1&e&&(r.\u0275\u0275elementStart(0,"td"),r.\u0275\u0275text(1),r.\u0275\u0275elementEnd()),2&e){const e=r.\u0275\u0275nextContext().$implicit;r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate1(" ",e.sn," ")}}function st(e,t){if(1&e&&(r.\u0275\u0275elementStart(0,"td",87),r.\u0275\u0275text(1),r.\u0275\u0275elementEnd()),2&e){const e=r.\u0275\u0275nextContext().$implicit;r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate1(" ",e.quantity," ")}}function ct(e,t){if(1&e&&(r.\u0275\u0275elementStart(0,"td"),r.\u0275\u0275text(1),r.\u0275\u0275elementEnd()),2&e){const e=r.\u0275\u0275nextContext().$implicit;r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate1(" ",e.remark," ")}}function mt(e,t){1&e&&(r.\u0275\u0275elementContainerStart(0),r.\u0275\u0275elementStart(1,"tr",84),r.\u0275\u0275template(2,it,2,1,"td",85),r.\u0275\u0275template(3,rt,2,1,"td",85),r.\u0275\u0275template(4,ot,2,1,"td",85),r.\u0275\u0275template(5,at,2,1,"td",85),r.\u0275\u0275template(6,dt,2,1,"td",85),r.\u0275\u0275template(7,lt,2,1,"td",85),r.\u0275\u0275template(8,st,2,1,"td",86),r.\u0275\u0275template(9,ct,2,1,"td",85),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementContainerEnd()),2&e&&(r.\u0275\u0275advance(2),r.\u0275\u0275property("dwColumnId","code"),r.\u0275\u0275advance(1),r.\u0275\u0275property("dwColumnId","name"),r.\u0275\u0275advance(1),r.\u0275\u0275property("dwColumnId","specification"),r.\u0275\u0275advance(1),r.\u0275\u0275property("dwColumnId","model"),r.\u0275\u0275advance(1),r.\u0275\u0275property("dwColumnId","item_group_name"),r.\u0275\u0275advance(1),r.\u0275\u0275property("dwColumnId","sn"),r.\u0275\u0275advance(1),r.\u0275\u0275property("dwColumnId","quantity"),r.\u0275\u0275advance(1),r.\u0275\u0275property("dwColumnId","remark"))}const pt=function(){return{x:"1000px"}};function ut(e,t){if(1&e){const e=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"dw-tab",69),r.\u0275\u0275elementStart(1,"div",15),r.\u0275\u0275elementStart(2,"div",70),r.\u0275\u0275elementStart(3,"dw-form-item"),r.\u0275\u0275elementStart(4,"dw-form-control"),r.\u0275\u0275elementStart(5,"dw-table",71,72),r.\u0275\u0275listener("dwPageIndexChange",function(t){return r.\u0275\u0275restoreView(e),r.\u0275\u0275nextContext(2).search2.pageIndex=t})("dwPageSizeChange",function(t){return r.\u0275\u0275restoreView(e),r.\u0275\u0275nextContext(2).search2.pageSize=t})("dwPageSizeOptionsChange",function(t){return r.\u0275\u0275restoreView(e),r.\u0275\u0275nextContext(2).search2.pageSizeOptions=t}),r.\u0275\u0275elementStart(7,"thead"),r.\u0275\u0275elementStart(8,"tr",73),r.\u0275\u0275template(9,Ke,3,0,"th",74),r.\u0275\u0275template(10,Qe,3,0,"th",74),r.\u0275\u0275template(11,Ze,3,0,"th",75),r.\u0275\u0275template(12,Je,3,0,"th",75),r.\u0275\u0275template(13,Ye,3,0,"th",75),r.\u0275\u0275template(14,et,3,0,"th",76),r.\u0275\u0275template(15,tt,3,0,"th",77),r.\u0275\u0275template(16,nt,3,0,"th",74),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(17,"tbody"),r.\u0275\u0275template(18,mt,10,8,"ng-container",78),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd()}if(2&e){const e=r.\u0275\u0275reference(6),t=r.\u0275\u0275nextContext(2);r.\u0275\u0275advance(5),r.\u0275\u0275property("dwPageIndex",t.search2.pageIndex)("dwData",t.product_equipment_list)("dwPageSize",t.search2.pageSize)("dwPageSizeOptions",t.search2.pageSizeOptions)("dwScroll",r.\u0275\u0275pureFunction0(14,pt)),r.\u0275\u0275advance(4),r.\u0275\u0275property("dwColumnId","code"),r.\u0275\u0275advance(1),r.\u0275\u0275property("dwColumnId","name"),r.\u0275\u0275advance(1),r.\u0275\u0275property("dwColumnId","specification"),r.\u0275\u0275advance(1),r.\u0275\u0275property("dwColumnId","model"),r.\u0275\u0275advance(1),r.\u0275\u0275property("dwColumnId","item_group_name"),r.\u0275\u0275advance(1),r.\u0275\u0275property("dwColumnId","sn"),r.\u0275\u0275advance(1),r.\u0275\u0275property("dwColumnId","quantity"),r.\u0275\u0275advance(1),r.\u0275\u0275property("dwColumnId","remark"),r.\u0275\u0275advance(2),r.\u0275\u0275property("ngForOf",e.data)}}function ft(e,t){1&e&&(r.\u0275\u0275elementStart(0,"th",94),r.\u0275\u0275elementStart(1,"span",80),r.\u0275\u0275text(2,"\u8bbe\u5907"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd())}function wt(e,t){1&e&&(r.\u0275\u0275elementStart(0,"th",94),r.\u0275\u0275elementStart(1,"span",80),r.\u0275\u0275text(2,"\u8bbe\u5907\u5e8f\u5217\u53f7"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd())}function ht(e,t){1&e&&(r.\u0275\u0275elementStart(0,"th",95),r.\u0275\u0275elementStart(1,"span",80),r.\u0275\u0275text(2,"\u914d\u4ef6\u7f16\u53f7"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd())}function gt(e,t){1&e&&(r.\u0275\u0275elementStart(0,"th",81),r.\u0275\u0275elementStart(1,"span",80),r.\u0275\u0275text(2,"\u914d\u4ef6\u540d\u79f0"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd())}function vt(e,t){1&e&&(r.\u0275\u0275elementStart(0,"th",96),r.\u0275\u0275elementStart(1,"span",80),r.\u0275\u0275text(2,"\u89c4\u683c"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd())}function Ct(e,t){1&e&&(r.\u0275\u0275elementStart(0,"th",81),r.\u0275\u0275elementStart(1,"span",80),r.\u0275\u0275text(2,"\u578b\u53f7"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd())}function yt(e,t){1&e&&(r.\u0275\u0275elementStart(0,"th",82),r.\u0275\u0275elementStart(1,"span",80),r.\u0275\u0275text(2,"\u5e8f\u5217\u53f7"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd())}function xt(e,t){1&e&&(r.\u0275\u0275elementStart(0,"th",97),r.\u0275\u0275elementStart(1,"span",80),r.\u0275\u0275text(2,"\u5355\u4f4d"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd())}function _t(e,t){1&e&&(r.\u0275\u0275elementStart(0,"th",96),r.\u0275\u0275elementStart(1,"span",80),r.\u0275\u0275text(2,"\u5355\u4f4d\u6570\u91cf"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd())}function St(e,t){1&e&&(r.\u0275\u0275elementStart(0,"th",96),r.\u0275\u0275elementStart(1,"span",80),r.\u0275\u0275text(2,"\u7c7b\u578b"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd())}function bt(e,t){1&e&&(r.\u0275\u0275elementStart(0,"th",81),r.\u0275\u0275elementStart(1,"span",80),r.\u0275\u0275text(2,"\u4fdd\u4fee\u622a\u6b62\u65e5\u671f"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd())}function Et(e,t){1&e&&(r.\u0275\u0275elementStart(0,"th",81),r.\u0275\u0275elementStart(1,"span",80),r.\u0275\u0275text(2,"\u5230\u671f\u66f4\u6362\u65e5\u671f"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd())}function It(e,t){1&e&&(r.\u0275\u0275elementStart(0,"th",79),r.\u0275\u0275elementStart(1,"span",80),r.\u0275\u0275text(2,"\u5907\u6ce8"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd())}const Dt=function(e){return{display:e}};function Tt(e,t){if(1&e&&(r.\u0275\u0275elementStart(0,"td",99),r.\u0275\u0275text(1),r.\u0275\u0275elementEnd()),2&e){const e=r.\u0275\u0275nextContext().index,t=r.\u0275\u0275nextContext().$implicit;r.\u0275\u0275property("ngStyle",r.\u0275\u0275pureFunction1(3,Dt,0===e?"":"none")),r.\u0275\u0275attribute("rowspan",t.child.product_part.length),r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate1(" ",t.name," ")}}function Ot(e,t){if(1&e&&(r.\u0275\u0275elementStart(0,"td",99),r.\u0275\u0275text(1),r.\u0275\u0275elementEnd()),2&e){const e=r.\u0275\u0275nextContext().index,t=r.\u0275\u0275nextContext().$implicit;r.\u0275\u0275property("ngStyle",r.\u0275\u0275pureFunction1(3,Dt,0===e?"":"none")),r.\u0275\u0275attribute("rowspan",t.child.product_part.length),r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate1(" ",t.sn," ")}}function Mt(e,t){1&e&&(r.\u0275\u0275elementStart(0,"span",101),r.\u0275\u0275element(1,"em",102),r.\u0275\u0275elementEnd())}function Ft(e,t){if(1&e&&(r.\u0275\u0275elementStart(0,"td"),r.\u0275\u0275template(1,Mt,2,0,"span",100),r.\u0275\u0275text(2),r.\u0275\u0275elementEnd()),2&e){const e=r.\u0275\u0275nextContext().$implicit;r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",e.quickwear_part),r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate1(" ",e.material_code," ")}}function Pt(e,t){if(1&e&&(r.\u0275\u0275elementStart(0,"td"),r.\u0275\u0275text(1),r.\u0275\u0275elementEnd()),2&e){const e=r.\u0275\u0275nextContext().$implicit;r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate1(" ",e.material_name," ")}}function kt(e,t){if(1&e&&(r.\u0275\u0275elementStart(0,"td"),r.\u0275\u0275text(1),r.\u0275\u0275elementEnd()),2&e){const e=r.\u0275\u0275nextContext().$implicit;r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate1(" ",e.specification," ")}}function Vt(e,t){if(1&e&&(r.\u0275\u0275elementStart(0,"td"),r.\u0275\u0275text(1),r.\u0275\u0275elementEnd()),2&e){const e=r.\u0275\u0275nextContext().$implicit;r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate1(" ",e.model," ")}}function Rt(e,t){if(1&e&&(r.\u0275\u0275elementStart(0,"td"),r.\u0275\u0275text(1),r.\u0275\u0275elementEnd()),2&e){const e=r.\u0275\u0275nextContext().$implicit;r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate1(" ",e.sn," ")}}function At(e,t){if(1&e&&(r.\u0275\u0275elementStart(0,"td"),r.\u0275\u0275text(1),r.\u0275\u0275elementEnd()),2&e){const e=r.\u0275\u0275nextContext().$implicit;r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate1(" ",e.unit," ")}}function Lt(e,t){if(1&e&&(r.\u0275\u0275elementStart(0,"td",87),r.\u0275\u0275text(1),r.\u0275\u0275elementEnd()),2&e){const e=r.\u0275\u0275nextContext().$implicit;r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate1(" ",e.unit_qty," ")}}function $t(e,t){if(1&e&&(r.\u0275\u0275elementStart(0,"td"),r.\u0275\u0275text(1),r.\u0275\u0275elementEnd()),2&e){const e=r.\u0275\u0275nextContext().$implicit;r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate1(" ",e.item_group_name," ")}}function jt(e,t){if(1&e&&(r.\u0275\u0275elementStart(0,"td"),r.\u0275\u0275text(1),r.\u0275\u0275pipe(2,"date"),r.\u0275\u0275elementEnd()),2&e){const e=r.\u0275\u0275nextContext().$implicit;r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate1(" ",r.\u0275\u0275pipeBind2(2,1,e.expiry_date,"yyyy-MM-dd")," ")}}function Nt(e,t){if(1&e&&(r.\u0275\u0275elementStart(0,"td"),r.\u0275\u0275text(1),r.\u0275\u0275pipe(2,"date"),r.\u0275\u0275elementEnd()),2&e){const e=r.\u0275\u0275nextContext().$implicit;r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate1(" ",r.\u0275\u0275pipeBind2(2,1,e.replacement_date,"yyyy-MM-dd")," ")}}function zt(e,t){if(1&e&&(r.\u0275\u0275elementStart(0,"td"),r.\u0275\u0275text(1),r.\u0275\u0275elementEnd()),2&e){const e=r.\u0275\u0275nextContext().$implicit;r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate1(" ",e.remark," ")}}function qt(e,t){1&e&&(r.\u0275\u0275elementContainerStart(0),r.\u0275\u0275elementStart(1,"tr",84),r.\u0275\u0275template(2,Tt,2,5,"td",98),r.\u0275\u0275template(3,Ot,2,5,"td",98),r.\u0275\u0275template(4,Ft,3,2,"td",85),r.\u0275\u0275template(5,Pt,2,1,"td",85),r.\u0275\u0275template(6,kt,2,1,"td",85),r.\u0275\u0275template(7,Vt,2,1,"td",85),r.\u0275\u0275template(8,Rt,2,1,"td",85),r.\u0275\u0275template(9,At,2,1,"td",85),r.\u0275\u0275template(10,Lt,2,1,"td",86),r.\u0275\u0275template(11,$t,2,1,"td",85),r.\u0275\u0275template(12,jt,3,4,"td",85),r.\u0275\u0275template(13,Nt,3,4,"td",85),r.\u0275\u0275template(14,zt,2,1,"td",85),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementContainerEnd()),2&e&&(r.\u0275\u0275advance(2),r.\u0275\u0275property("dwColumnId","equipment_name"),r.\u0275\u0275advance(1),r.\u0275\u0275property("dwColumnId","equipment_sn"),r.\u0275\u0275advance(1),r.\u0275\u0275property("dwColumnId","material_code"),r.\u0275\u0275advance(1),r.\u0275\u0275property("dwColumnId","material_name"),r.\u0275\u0275advance(1),r.\u0275\u0275property("dwColumnId","specification"),r.\u0275\u0275advance(1),r.\u0275\u0275property("dwColumnId","model"),r.\u0275\u0275advance(1),r.\u0275\u0275property("dwColumnId","sn"),r.\u0275\u0275advance(1),r.\u0275\u0275property("dwColumnId","unit"),r.\u0275\u0275advance(1),r.\u0275\u0275property("dwColumnId","unit_qty"),r.\u0275\u0275advance(1),r.\u0275\u0275property("dwColumnId","item_group_name"),r.\u0275\u0275advance(1),r.\u0275\u0275property("dwColumnId","expiry_date"),r.\u0275\u0275advance(1),r.\u0275\u0275property("dwColumnId","replacement_date"),r.\u0275\u0275advance(1),r.\u0275\u0275property("dwColumnId","remark"))}function Wt(e,t){if(1&e&&(r.\u0275\u0275elementContainerStart(0),r.\u0275\u0275template(1,qt,15,13,"ng-container",78),r.\u0275\u0275elementContainerEnd()),2&e){const e=t.$implicit;r.\u0275\u0275advance(1),r.\u0275\u0275property("ngForOf",e.child.product_part)}}const Bt=function(){return{x:"1200px"}};function Ut(e,t){if(1&e){const e=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"dw-tab",88),r.\u0275\u0275elementStart(1,"div",15),r.\u0275\u0275elementStart(2,"div",70),r.\u0275\u0275elementStart(3,"dw-form-item"),r.\u0275\u0275elementStart(4,"dw-form-control"),r.\u0275\u0275elementStart(5,"dw-table",89,72),r.\u0275\u0275listener("dwPageIndexChange",function(t){return r.\u0275\u0275restoreView(e),r.\u0275\u0275nextContext(2).search.pageIndex=t})("dwPageSizeChange",function(t){return r.\u0275\u0275restoreView(e),r.\u0275\u0275nextContext(2).search.pageSize=t})("dwPageSizeOptionsChange",function(t){return r.\u0275\u0275restoreView(e),r.\u0275\u0275nextContext(2).search.pageSizeOptions=t}),r.\u0275\u0275elementStart(7,"thead"),r.\u0275\u0275elementStart(8,"tr",73),r.\u0275\u0275template(9,ft,3,0,"th",90),r.\u0275\u0275template(10,wt,3,0,"th",90),r.\u0275\u0275template(11,ht,3,0,"th",91),r.\u0275\u0275template(12,gt,3,0,"th",75),r.\u0275\u0275template(13,vt,3,0,"th",92),r.\u0275\u0275template(14,Ct,3,0,"th",75),r.\u0275\u0275template(15,yt,3,0,"th",76),r.\u0275\u0275template(16,xt,3,0,"th",93),r.\u0275\u0275template(17,_t,3,0,"th",92),r.\u0275\u0275template(18,St,3,0,"th",92),r.\u0275\u0275template(19,bt,3,0,"th",75),r.\u0275\u0275template(20,Et,3,0,"th",75),r.\u0275\u0275template(21,It,3,0,"th",74),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(22,"tbody"),r.\u0275\u0275template(23,Wt,2,1,"ng-container",78),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd()}if(2&e){const e=r.\u0275\u0275reference(6),t=r.\u0275\u0275nextContext(2);r.\u0275\u0275advance(5),r.\u0275\u0275property("dwPageIndex",t.search.pageIndex)("dwData",t.product_part)("dwPageSize",t.search.pageSize)("dwPageSizeOptions",t.search.pageSizeOptions)("dwScroll",r.\u0275\u0275pureFunction0(19,Bt)),r.\u0275\u0275advance(4),r.\u0275\u0275property("dwColumnId","equipment_name"),r.\u0275\u0275advance(1),r.\u0275\u0275property("dwColumnId","equipment_sn"),r.\u0275\u0275advance(1),r.\u0275\u0275property("dwColumnId","material_code"),r.\u0275\u0275advance(1),r.\u0275\u0275property("dwColumnId","material_name"),r.\u0275\u0275advance(1),r.\u0275\u0275property("dwColumnId","specification"),r.\u0275\u0275advance(1),r.\u0275\u0275property("dwColumnId","model"),r.\u0275\u0275advance(1),r.\u0275\u0275property("dwColumnId","sn"),r.\u0275\u0275advance(1),r.\u0275\u0275property("dwColumnId","unit"),r.\u0275\u0275advance(1),r.\u0275\u0275property("dwColumnId","unit_qty"),r.\u0275\u0275advance(1),r.\u0275\u0275property("dwColumnId","item_group_name"),r.\u0275\u0275advance(1),r.\u0275\u0275property("dwColumnId","expiry_date"),r.\u0275\u0275advance(1),r.\u0275\u0275property("dwColumnId","replacement_date"),r.\u0275\u0275advance(1),r.\u0275\u0275property("dwColumnId","remark"),r.\u0275\u0275advance(2),r.\u0275\u0275property("ngForOf",e.data)}}function Xt(e,t){1&e&&(r.\u0275\u0275elementStart(0,"th",79),r.\u0275\u0275elementStart(1,"span",80),r.\u0275\u0275text(2,"\u914d\u4ef6\u7f16\u53f7"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd())}function Gt(e,t){1&e&&(r.\u0275\u0275elementStart(0,"th",79),r.\u0275\u0275elementStart(1,"span",80),r.\u0275\u0275text(2,"\u914d\u4ef6\u540d\u79f0"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd())}function Ht(e,t){1&e&&(r.\u0275\u0275elementStart(0,"th",81),r.\u0275\u0275elementStart(1,"span",80),r.\u0275\u0275text(2,"\u89c4\u683c"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd())}function Kt(e,t){1&e&&(r.\u0275\u0275elementStart(0,"th",81),r.\u0275\u0275elementStart(1,"span",80),r.\u0275\u0275text(2,"\u578b\u53f7"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd())}function Qt(e,t){1&e&&(r.\u0275\u0275elementStart(0,"th",82),r.\u0275\u0275elementStart(1,"span",80),r.\u0275\u0275text(2,"\u5e8f\u5217\u53f7"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd())}function Zt(e,t){1&e&&(r.\u0275\u0275elementStart(0,"th",97),r.\u0275\u0275elementStart(1,"span",80),r.\u0275\u0275text(2,"\u5355\u4f4d"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd())}function Jt(e,t){1&e&&(r.\u0275\u0275elementStart(0,"th",105),r.\u0275\u0275elementStart(1,"span",80),r.\u0275\u0275text(2,"\u5355\u4f4d\u6570\u91cf"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd())}function Yt(e,t){1&e&&(r.\u0275\u0275elementStart(0,"th",81),r.\u0275\u0275elementStart(1,"span",80),r.\u0275\u0275text(2,"\u7c7b\u578b"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd())}function en(e,t){1&e&&(r.\u0275\u0275elementStart(0,"th",81),r.\u0275\u0275elementStart(1,"span",80),r.\u0275\u0275text(2,"\u4fdd\u4fee\u622a\u6b62\u65e5\u671f"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd())}function tn(e,t){1&e&&(r.\u0275\u0275elementStart(0,"th",81),r.\u0275\u0275elementStart(1,"span",80),r.\u0275\u0275text(2,"\u5230\u671f\u66f4\u6362\u65e5\u671f"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd())}function nn(e,t){1&e&&(r.\u0275\u0275elementStart(0,"th",79),r.\u0275\u0275elementStart(1,"span",80),r.\u0275\u0275text(2,"\u5907\u6ce8"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd())}function rn(e,t){1&e&&(r.\u0275\u0275elementStart(0,"span",101),r.\u0275\u0275element(1,"em",102),r.\u0275\u0275elementEnd())}function on(e,t){if(1&e&&(r.\u0275\u0275elementStart(0,"td"),r.\u0275\u0275template(1,rn,2,0,"span",100),r.\u0275\u0275text(2),r.\u0275\u0275elementEnd()),2&e){const e=r.\u0275\u0275nextContext().$implicit;r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",e.quickwear_part),r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate1(" ",e.material_code," ")}}function an(e,t){if(1&e&&(r.\u0275\u0275elementStart(0,"td"),r.\u0275\u0275text(1),r.\u0275\u0275elementEnd()),2&e){const e=r.\u0275\u0275nextContext().$implicit;r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate1(" ",e.material_name," ")}}function dn(e,t){if(1&e&&(r.\u0275\u0275elementStart(0,"td"),r.\u0275\u0275text(1),r.\u0275\u0275elementEnd()),2&e){const e=r.\u0275\u0275nextContext().$implicit;r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate1(" ",e.specification," ")}}function ln(e,t){if(1&e&&(r.\u0275\u0275elementStart(0,"td"),r.\u0275\u0275text(1),r.\u0275\u0275elementEnd()),2&e){const e=r.\u0275\u0275nextContext().$implicit;r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate1(" ",e.model," ")}}function sn(e,t){if(1&e&&(r.\u0275\u0275elementStart(0,"td"),r.\u0275\u0275text(1),r.\u0275\u0275elementEnd()),2&e){const e=r.\u0275\u0275nextContext().$implicit;r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate1(" ",e.sn," ")}}function cn(e,t){if(1&e&&(r.\u0275\u0275elementStart(0,"td",107),r.\u0275\u0275text(1),r.\u0275\u0275elementEnd()),2&e){const e=r.\u0275\u0275nextContext().$implicit;r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate1(" ",e.unit," ")}}function mn(e,t){if(1&e&&(r.\u0275\u0275elementStart(0,"td",87),r.\u0275\u0275text(1),r.\u0275\u0275elementEnd()),2&e){const e=r.\u0275\u0275nextContext().$implicit;r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate1(" ",e.unit_qty," ")}}function pn(e,t){if(1&e&&(r.\u0275\u0275elementStart(0,"td"),r.\u0275\u0275text(1),r.\u0275\u0275elementEnd()),2&e){const e=r.\u0275\u0275nextContext().$implicit;r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate1(" ",e.item_group_name," ")}}function un(e,t){if(1&e&&(r.\u0275\u0275elementStart(0,"td"),r.\u0275\u0275text(1),r.\u0275\u0275pipe(2,"date"),r.\u0275\u0275elementEnd()),2&e){const e=r.\u0275\u0275nextContext().$implicit;r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate1(" ",r.\u0275\u0275pipeBind2(2,1,e.expiry_date,"yyyy-MM-dd")," ")}}function fn(e,t){if(1&e&&(r.\u0275\u0275elementStart(0,"td"),r.\u0275\u0275text(1),r.\u0275\u0275pipe(2,"date"),r.\u0275\u0275elementEnd()),2&e){const e=r.\u0275\u0275nextContext().$implicit;r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate1(" ",r.\u0275\u0275pipeBind2(2,1,e.replacement_date,"yyyy-MM-dd")," ")}}function wn(e,t){if(1&e&&(r.\u0275\u0275elementStart(0,"td"),r.\u0275\u0275text(1),r.\u0275\u0275elementEnd()),2&e){const e=r.\u0275\u0275nextContext().$implicit;r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate1(" ",e.remark," ")}}function hn(e,t){1&e&&(r.\u0275\u0275elementContainerStart(0),r.\u0275\u0275elementStart(1,"tr",84),r.\u0275\u0275template(2,on,3,2,"td",85),r.\u0275\u0275template(3,an,2,1,"td",85),r.\u0275\u0275template(4,dn,2,1,"td",85),r.\u0275\u0275template(5,ln,2,1,"td",85),r.\u0275\u0275template(6,sn,2,1,"td",85),r.\u0275\u0275template(7,cn,2,1,"td",106),r.\u0275\u0275template(8,mn,2,1,"td",86),r.\u0275\u0275template(9,pn,2,1,"td",85),r.\u0275\u0275template(10,un,3,4,"td",85),r.\u0275\u0275template(11,fn,3,4,"td",85),r.\u0275\u0275template(12,wn,2,1,"td",85),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementContainerEnd()),2&e&&(r.\u0275\u0275advance(2),r.\u0275\u0275property("dwColumnId","material_code"),r.\u0275\u0275advance(1),r.\u0275\u0275property("dwColumnId","material_name"),r.\u0275\u0275advance(1),r.\u0275\u0275property("dwColumnId","specification"),r.\u0275\u0275advance(1),r.\u0275\u0275property("dwColumnId","model"),r.\u0275\u0275advance(1),r.\u0275\u0275property("dwColumnId","sn"),r.\u0275\u0275advance(1),r.\u0275\u0275property("dwColumnId","unit"),r.\u0275\u0275advance(1),r.\u0275\u0275property("dwColumnId","unit_qty"),r.\u0275\u0275advance(1),r.\u0275\u0275property("dwColumnId","item_group_name"),r.\u0275\u0275advance(1),r.\u0275\u0275property("dwColumnId","expiry_date"),r.\u0275\u0275advance(1),r.\u0275\u0275property("dwColumnId","replacement_date"),r.\u0275\u0275advance(1),r.\u0275\u0275property("dwColumnId","remark"))}const gn=function(){return{x:"1080px"}};function vn(e,t){if(1&e){const e=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"dw-tab",88),r.\u0275\u0275elementStart(1,"div",15),r.\u0275\u0275elementStart(2,"div",70),r.\u0275\u0275elementStart(3,"dw-form-item"),r.\u0275\u0275elementStart(4,"dw-form-control"),r.\u0275\u0275elementStart(5,"dw-table",103,72),r.\u0275\u0275listener("dwPageIndexChange",function(t){return r.\u0275\u0275restoreView(e),r.\u0275\u0275nextContext(2).search.pageIndex=t})("dwPageSizeChange",function(t){return r.\u0275\u0275restoreView(e),r.\u0275\u0275nextContext(2).search.pageSize=t})("dwPageSizeOptionsChange",function(t){return r.\u0275\u0275restoreView(e),r.\u0275\u0275nextContext(2).search.pageSizeOptions=t}),r.\u0275\u0275elementStart(7,"thead"),r.\u0275\u0275elementStart(8,"tr",73),r.\u0275\u0275template(9,Xt,3,0,"th",74),r.\u0275\u0275template(10,Gt,3,0,"th",74),r.\u0275\u0275template(11,Ht,3,0,"th",75),r.\u0275\u0275template(12,Kt,3,0,"th",75),r.\u0275\u0275template(13,Qt,3,0,"th",76),r.\u0275\u0275template(14,Zt,3,0,"th",93),r.\u0275\u0275template(15,Jt,3,0,"th",104),r.\u0275\u0275template(16,Yt,3,0,"th",75),r.\u0275\u0275template(17,en,3,0,"th",75),r.\u0275\u0275template(18,tn,3,0,"th",75),r.\u0275\u0275template(19,nn,3,0,"th",74),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(20,"tbody"),r.\u0275\u0275template(21,hn,13,11,"ng-container",78),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd()}if(2&e){const e=r.\u0275\u0275reference(6),t=r.\u0275\u0275nextContext(2);r.\u0275\u0275advance(5),r.\u0275\u0275property("dwPageIndex",t.search.pageIndex)("dwData",t.product_part)("dwPageSize",t.search.pageSize)("dwPageSizeOptions",t.search.pageSizeOptions)("dwScroll",r.\u0275\u0275pureFunction0(17,gn)),r.\u0275\u0275advance(4),r.\u0275\u0275property("dwColumnId","material_code"),r.\u0275\u0275advance(1),r.\u0275\u0275property("dwColumnId","material_name"),r.\u0275\u0275advance(1),r.\u0275\u0275property("dwColumnId","specification"),r.\u0275\u0275advance(1),r.\u0275\u0275property("dwColumnId","model"),r.\u0275\u0275advance(1),r.\u0275\u0275property("dwColumnId","sn"),r.\u0275\u0275advance(1),r.\u0275\u0275property("dwColumnId","unit"),r.\u0275\u0275advance(1),r.\u0275\u0275property("dwColumnId","unit_qty"),r.\u0275\u0275advance(1),r.\u0275\u0275property("dwColumnId","item_group_name"),r.\u0275\u0275advance(1),r.\u0275\u0275property("dwColumnId","expiry_date"),r.\u0275\u0275advance(1),r.\u0275\u0275property("dwColumnId","replacement_date"),r.\u0275\u0275advance(1),r.\u0275\u0275property("dwColumnId","remark"),r.\u0275\u0275advance(2),r.\u0275\u0275property("ngForOf",e.data)}}function Cn(e,t){if(1&e&&(r.\u0275\u0275elementStart(0,"div",24),r.\u0275\u0275text(1),r.\u0275\u0275pipe(2,"date"),r.\u0275\u0275elementEnd()),2&e){const e=r.\u0275\u0275nextContext().$implicit;r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate(r.\u0275\u0275pipeBind2(2,1,e.field_value,"yyyy-MM-dd"))}}function yn(e,t){if(1&e&&(r.\u0275\u0275elementStart(0,"div",24),r.\u0275\u0275text(1),r.\u0275\u0275elementEnd()),2&e){const e=r.\u0275\u0275nextContext().$implicit;r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate(e.field_value)}}function xn(e,t){if(1&e&&(r.\u0275\u0275elementStart(0,"div",111),r.\u0275\u0275elementStart(1,"div",18),r.\u0275\u0275text(2),r.\u0275\u0275elementEnd(),r.\u0275\u0275template(3,Cn,3,4,"div",45),r.\u0275\u0275template(4,yn,2,1,"div",45),r.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;r.\u0275\u0275advance(2),r.\u0275\u0275textInterpolate1("",e.field_label,"\uff1a"),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf","DATEPICKER"===e.field_type),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf","DATEPICKER"!==e.field_type)}}function _n(e,t){if(1&e&&(r.\u0275\u0275elementStart(0,"div",24),r.\u0275\u0275text(1),r.\u0275\u0275pipe(2,"date"),r.\u0275\u0275elementEnd()),2&e){const e=r.\u0275\u0275nextContext().$implicit;r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate(r.\u0275\u0275pipeBind2(2,1,e.field_value,"yyyy-MM-dd"))}}function Sn(e,t){if(1&e&&(r.\u0275\u0275elementStart(0,"div",24),r.\u0275\u0275text(1),r.\u0275\u0275elementEnd()),2&e){const e=r.\u0275\u0275nextContext().$implicit;r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate(e.field_value)}}function bn(e,t){if(1&e&&(r.\u0275\u0275elementStart(0,"div",111),r.\u0275\u0275elementStart(1,"div",18),r.\u0275\u0275text(2),r.\u0275\u0275elementEnd(),r.\u0275\u0275template(3,_n,3,4,"div",45),r.\u0275\u0275template(4,Sn,2,1,"div",45),r.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;r.\u0275\u0275advance(2),r.\u0275\u0275textInterpolate1("",e.field_label,"\uff1a"),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf","DATEPICKER"===e.field_type),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf","DATEPICKER"!==e.field_type)}}function En(e,t){if(1&e&&(r.\u0275\u0275elementStart(0,"dw-tab",108),r.\u0275\u0275elementStart(1,"div",109),r.\u0275\u0275template(2,xn,5,3,"div",110),r.\u0275\u0275template(3,bn,5,3,"div",110),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd()),2&e){const e=r.\u0275\u0275nextContext(2);r.\u0275\u0275advance(2),r.\u0275\u0275property("ngForOf",e.custFieldsLeft),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngForOf",e.custFieldsRight)}}function In(e,t){if(1&e&&(r.\u0275\u0275elementStart(0,"div",113),r.\u0275\u0275text(1," \u60a8\u53ef\u5c06\u6b64\u4e8c\u7ef4\u7801\u8d34\u5728\u8bbe\u5907\u673a\u8eab\u4e0a\uff0c\u7528\u6237\u53ef\u626b\u7801\u8fdb\u884c\u5feb\u6377\u62a5\u4fee\u3002 "),r.\u0275\u0275element(2,"img",114),r.\u0275\u0275elementEnd()),2&e){const e=r.\u0275\u0275nextContext(3);r.\u0275\u0275advance(2),r.\u0275\u0275property("src",e.product_file[0].qrCodeContext,r.\u0275\u0275sanitizeUrl)}}function Dn(e,t){1&e&&(r.\u0275\u0275elementStart(0,"div",113),r.\u0275\u0275text(1," \u8be5\u8bbe\u5907\u6682\u65e0\u4e8c\u7ef4\u7801 "),r.\u0275\u0275elementEnd())}function Tn(e,t){if(1&e&&(r.\u0275\u0275template(0,In,3,1,"div",112),r.\u0275\u0275template(1,Dn,2,0,"div",112)),2&e){const e=r.\u0275\u0275nextContext(2);r.\u0275\u0275property("ngIf",e.product_file[0].qrCodeContext),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",!e.product_file[0].qrCodeContext)}}const On=function(){return{height:"calc(100% - 55px)",overflow:"auto","padding-bottom":"24px"}};function Mn(e,t){if(1&e){const e=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"form",12),r.\u0275\u0275elementStart(1,"dw-tabset",13),r.\u0275\u0275elementStart(2,"dw-tab",14),r.\u0275\u0275elementStart(3,"div",15),r.\u0275\u0275template(4,K,5,1,"div",16),r.\u0275\u0275template(5,Q,5,1,"div",16),r.\u0275\u0275elementStart(6,"div",17),r.\u0275\u0275elementStart(7,"div",18),r.\u0275\u0275text(8,"\u552e\u540e\u72b6\u6001\uff1a"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(9,"div",19),r.\u0275\u0275template(10,Z,2,0,"span",20),r.\u0275\u0275template(11,J,2,0,"span",21),r.\u0275\u0275template(12,Y,2,0,"span",22),r.\u0275\u0275template(13,ne,13,8,"div",23),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275template(14,ie,5,1,"div",16),r.\u0275\u0275template(15,re,5,1,"div",16),r.\u0275\u0275template(16,oe,5,1,"div",16),r.\u0275\u0275template(17,le,5,3,"div",16),r.\u0275\u0275template(18,se,5,1,"div",16),r.\u0275\u0275template(19,ce,5,1,"div",16),r.\u0275\u0275template(20,me,5,1,"div",16),r.\u0275\u0275template(21,pe,5,1,"div",16),r.\u0275\u0275template(22,ue,5,1,"div",16),r.\u0275\u0275template(23,fe,6,4,"div",16),r.\u0275\u0275template(24,ge,6,2,"div",16),r.\u0275\u0275template(25,ve,6,4,"div",16),r.\u0275\u0275template(26,Ce,6,4,"div",16),r.\u0275\u0275template(27,ye,5,1,"div",16),r.\u0275\u0275template(28,xe,5,1,"div",16),r.\u0275\u0275elementStart(29,"div",17),r.\u0275\u0275elementStart(30,"div",18),r.\u0275\u0275text(31,"\u7ef4\u62a4\u4fdd\u517b\uff1a"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(32,"div",24),r.\u0275\u0275template(33,_e,2,0,"ng-container",25),r.\u0275\u0275template(34,Se,2,0,"ng-container",25),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275template(35,be,6,4,"div",16),r.\u0275\u0275template(36,Ie,5,1,"div",16),r.\u0275\u0275template(37,Te,5,1,"div",16),r.\u0275\u0275template(38,Pe,10,3,"ng-container",25),r.\u0275\u0275template(39,Ae,10,3,"ng-container",25),r.\u0275\u0275template(40,Le,5,1,"div",26),r.\u0275\u0275template(41,$e,5,1,"div",26),r.\u0275\u0275template(42,ze,12,7,"div",26),r.\u0275\u0275template(43,He,6,1,"div",26),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275template(44,ut,19,15,"dw-tab",27),r.\u0275\u0275template(45,Ut,24,20,"dw-tab",28),r.\u0275\u0275template(46,vn,22,18,"dw-tab",28),r.\u0275\u0275template(47,En,4,2,"dw-tab",29),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(48,"dw-modal",30),r.\u0275\u0275listener("dwVisibleChange",function(t){return r.\u0275\u0275restoreView(e),r.\u0275\u0275nextContext().isShowQrcode=t})("dwOnCancel",function(){return r.\u0275\u0275restoreView(e),r.\u0275\u0275nextContext().handleCancel()})("dwOnOk",function(){return r.\u0275\u0275restoreView(e),r.\u0275\u0275nextContext().handleOk()}),r.\u0275\u0275template(49,Tn,2,2,"ng-template",31),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd()}if(2&e){const e=r.\u0275\u0275nextContext();r.\u0275\u0275advance(1),r.\u0275\u0275property("dwTabPosition","top")("dwType","line")("dwAnimated",!1),r.\u0275\u0275advance(3),r.\u0275\u0275property("ngIf",e.formConfigList.indexOf("product_file_code")>=0),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",e.formConfigList.indexOf("product_file_name")>=0),r.\u0275\u0275advance(5),r.\u0275\u0275property("ngIf","1"===e.product_file[0].service_status),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf","2"===e.product_file[0].service_status),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf","3"===e.product_file[0].service_status),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf","3"===e.product_file[0].service_status&&e.product_file[0].recycler),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",e.formConfigList.indexOf("item_group")>=0),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",e.formConfigList.indexOf("model")>=0),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",e.formConfigList.indexOf("specification")>=0),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",e.formConfigList.indexOf("sn")>=0),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",e.formConfigList.indexOf("customer")>=0),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",e.formConfigList.indexOf("customer")>=0),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",e.formConfigList.indexOf("location")>=0),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",e.formConfigList.indexOf("service_site")>=0),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",e.formConfigList.indexOf("employee")>=0),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",e.formConfigList.indexOf("delivery_date")>=0),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",e.formConfigList.indexOf("installation_date")>=0),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",e.formConfigList.indexOf("acceptance_date")>=0),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",e.formConfigList.indexOf("expiry_date")>=0),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",e.formConfigList.indexOf("commissioning_person")>=0),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",e.formConfigList.indexOf("acceptance_person")>=0),r.\u0275\u0275advance(5),r.\u0275\u0275property("ngIf","1"===e.product_file[0].enable_maintain),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf","0"===e.product_file[0].enable_maintain),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf","1"===e.basis_of_maintain),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf","1"===e.basis_of_maintain),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf","2"===e.basis_of_maintain),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf","1"===e.basis_of_maintain),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf","2"===e.basis_of_maintain),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",e.formConfigList.indexOf("product_description")>=0),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",e.formConfigList.indexOf("remark")>=0),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",e.formConfigList.indexOf("file")>=0),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",e.formConfigList.indexOf("attachment")>=0),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf","2"===e.fileType),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf","2"===e.fileType),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf","1"===e.fileType),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",e.productFileHasCustomizeField),r.\u0275\u0275advance(1),r.\u0275\u0275property("dwBodyStyle",r.\u0275\u0275pureFunction0(44,On))("dwMaskClosable",!0)("dwWidth",500)("dwVisible",e.isShowQrcode)("dwOkDisabled",!e.product_file[0].qrCodeContext)}}let Fn=(()=>{class e{constructor(e,t,n,o,a,d,l){this.activeRoute=e,this.dwRoutingMessageSrv=t,this.doc=n,this.userService=o,this.productFileSrv=a,this.commonHttpService=d,this.message=l,this.visibleChanged=new r.EventEmitter,this.formConfigList=[],this.product_file=[],this.product_part=[],this.product_equipment_list=[],this.custFields=[],this.custFieldsLeft=[],this.custFieldsRight=[],this.showUploadList={showPreviewIcon:!0,showRemoveIcon:!1,showDownloadIcon:!1},this.id="",this.fileType="",this.type="",this.search={pageIndex:1,pageSize:10,pageSizeOptions:[10,20,30]},this.search2={pageIndex:1,pageSize:10,pageSizeOptions:[10,20,30]},this.displayData=[],this.itemGroupList=[],this.isShowQrcode=!1,this.userSite="",this.attachmentsList=[],this.userInfo={tenantId:"",userId:""},this.productFileHasCustomizeField=!1,this.basis_of_maintain="1",this.isVisible=!1,this.isRecycleVisible=!1,this.product_picture="",this.fileList=[],this.previewImage="",this.previewVisible=!1,this.handlePreview=e=>(0,i.mG)(this,void 0,void 0,function*(){!e.url&&!e.preview&&(e.preview=yield this.getBase64(e.originFileObj)),this.previewImage=e.url||e.preview,this.previewVisible=!0})}ngOnInit(){this.userInfo=this.userService.getUserInfo()}initData(e,t){console.log(e),this.commonHttpService.get("restful/service/autoSettings/CustomView/CustomView?viewId=product_file").subscribe(e=>{let t=[];e.data.config&&e.data.config.formConfig&&e.data.config.formConfig.length?(t=e.data.config.formConfig,p.R.product_file.length!==e.data.config.formConfig.length&&(t=p.R.product_file,t.forEach(t=>{e.data.config.formConfig.forEach(e=>{e.fieldKey===t.fieldKey&&(t.isTurnOn=e.isTurnOn)})}))):t=p.R.product_file;let n=[];t.forEach(e=>{e.isTurnOn&&n.push(e.fieldKey)}),this.formConfigList=n},e=>{e.hasOwnProperty("error")&&e.error.hasOwnProperty("errorMessage")&&e.error.errorMessage&&this.message.error(e.error.errorMessage)}),this.search.pageIndex=1,this.search2.pageIndex=1,this.product_file=[],this.product_part=[],this.product_equipment_list=[],this.attachmentsList=[],this.custFields=[],this.custFieldsLeft=[],this.custFieldsRight=[],this.id=e,this.fileType=t,this.productFileSrv.getProductFileDetail(e,t).subscribe(e=>{const t=e.data;if(this.product_file=t.product_file,this.product_part=t.product_file[0].child.product_part||[],this.product_equipment_list=t.product_file[0].child.product_equipment_list||[],"2"===this.product_file[0].file_type){const e=[];this.product_equipment_list.forEach(t=>{t.child.product_part&&t.child.product_part.forEach(t=>{e.push(Object.assign({},t))})}),this.product_part=e.length?JSON.parse(JSON.stringify(this.product_equipment_list)):[]}this.product_picture=t.product_file[0].product_picture,t.product_file[0].product_picture?this.fileList=[{uid:this.product_picture,name:t.product_file[0].file_name,status:"done",url:t.product_file[0].file_context}]:(this.fileList=[],this.previewImage=""),t.product_file[0].child.attachments.forEach(e=>{this.attachmentsList.push(e)}),this.attachmentsList.forEach(e=>{e.name=e.attachment_name,e.uid=e.attachment_id,e.state=""});const n=t.$custFieldsConfig?t.$custFieldsConfig.product_file:[],i=t.product_file[0].cust_field?JSON.parse(t.product_file[0].cust_field):null;if(console.log(n),console.log(i),n.length){const e=[];n.forEach(t=>{if(e.push({field_type:t.field_type,field_label:t.field_label,field_value:null}),i)for(const n in i)t.field_id===n&&(e[e.length-1].field_value=i[n])});const t=Math.ceil(e.length/2),r=[];for(let n=0;n<t;n++)r.push(2*n+1===e.length?[e[2*n]]:[e[2*n],e[2*n+1]]);this.custFields=r,r.forEach(e=>{this.custFieldsLeft.push(e[0]),e.length>1&&this.custFieldsRight.push(e[1])})}this.productFileSrv.getItemGroupList("","","1").subscribe(e=>{this.itemGroupList=e||[];const t=this.itemGroupList.filter(e=>e.item_group_id===this.product_file[0].item_group_id);this.basis_of_maintain=t.length&&t[0].basis_of_maintain||"1"},e=>{e.hasOwnProperty("error")&&e.error.hasOwnProperty("errorMessage")&&e.error.errorMessage&&this.message.error(e.error.errorMessage)})},e=>{e.hasOwnProperty("error")&&e.error.hasOwnProperty("errorMessage")&&e.error.errorMessage&&this.message.error(e.error.errorMessage)}),this.productFileSrv.getUserSite().subscribe(e=>{this.userSite=e.data.data.service_site_type},e=>{e.hasOwnProperty("error")&&e.error.hasOwnProperty("errorMessage")&&e.error.errorMessage&&this.message.error(e.error.errorMessage)}),this.productFileSrv.getProductFileHasCustomizeField("product_file").subscribe(e=>{this.productFileHasCustomizeField="true"===e.data},e=>{e.hasOwnProperty("error")&&e.error.hasOwnProperty("errorMessage")&&e.error.errorMessage&&this.message.error(e.error.errorMessage)})}showQrcode(){this.isShowQrcode=!0}downloadImg(e,t="qrCode.png"){const n=document.createElement("a");n.download=t,n.href=e;const i=document.createEvent("MouseEvents");i.initEvent("click",!0,!0),n.dispatchEvent(i)}handleOk(){this.downloadImg(this.product_file[0].qrCodeContext,this.product_file[0].qrCodeName)}dataURLtoBlob(e){const t=e.split(","),n=t[0].match(/:(.*?);/)[1],i=atob(t[1]);let r=i.length;const o=new Uint8Array(r);for(;r--;)o[r]=i.charCodeAt(r);return new Blob([o],{type:n})}changeVisible(e){this.isVisible=e,this.initData(this.id,this.fileType)}changeRecycleVisible(e){this.isRecycleVisible=!1,e&&this.visibleChanged.emit(!0)}handleCancel(){this.isShowQrcode=!1}saving(){return!0}saved(e){}getBase64(e){return new Promise((t,n)=>{const i=new FileReader;i.readAsDataURL(e),i.onload=()=>t(i.result),i.onerror=e=>n(e)})}downloadFile(e){this.productFileSrv.download({attachment_id:e}).subscribe(e=>{if(e)switch(e.type){case c.HttpEventType.Response:const t=URL.createObjectURL(e.body),n=document.createElement("a");n.href=t,n.style="visibility:hidden";const i=e.headers.get("Content-disposition").split("filename=")[1];n.download=decodeURI(i),document.body.appendChild(n),n.click(),document.body.removeChild(n)}},e=>{e.hasOwnProperty("error")&&e.error.hasOwnProperty("errorMessage")&&e.error.errorMessage&&this.message.error(e.error.errorMessage)})}}return e.\u0275fac=function(t){return new(t||e)(r.\u0275\u0275directiveInject(o.ActivatedRoute),r.\u0275\u0275directiveInject(l.DwRoutingMessageService),r.\u0275\u0275directiveInject(a.DwDocument),r.\u0275\u0275directiveInject(s.DwUserService),r.\u0275\u0275directiveInject(d.U),r.\u0275\u0275directiveInject(u.$),r.\u0275\u0275directiveInject(m.DwMessageService))},e.\u0275cmp=r.\u0275\u0275defineComponent({type:e,selectors:[["app-product-file-detail"]],outputs:{visibleChanged:"visibleChanged"},features:[r.\u0275\u0275ProvidersFeature([a.DwDocument,f.N])],decls:6,vars:4,consts:[["class","sub_act",4,"ngIf"],[3,"visible","visibleChanged"],["child2",""],["child3",""],["dw-form","","style","margin-top: -12px;",4,"ngIf"],[1,"sub_act"],["dw-icon","","dwType","ellipsis","dwTheme","outline"],[1,"pub-btns"],["dwActionAuthorized","","angularticsAction","\u8be6\u60c5-\u70b9\u51fb\u8fc7\u6237","dw-analyticsOn","click",3,"dwActionId","dwDefaultAuthorized","angularticsCategory","angularticsLabel","click",4,"ngIf"],["dwActionAuthorized","","angularticsAction","\u8be6\u60c5-\u70b9\u51fb\u56de\u6536","dw-analyticsOn","click",3,"dwActionId","dwDefaultAuthorized","angularticsCategory","angularticsLabel","click",4,"ngIf"],["dwActionAuthorized","","angularticsAction","\u8be6\u60c5-\u70b9\u51fb\u8fc7\u6237","dw-analyticsOn","click",3,"dwActionId","dwDefaultAuthorized","angularticsCategory","angularticsLabel","click"],["dwActionAuthorized","","angularticsAction","\u8be6\u60c5-\u70b9\u51fb\u56de\u6536","dw-analyticsOn","click",3,"dwActionId","dwDefaultAuthorized","angularticsCategory","angularticsLabel","click"],["dw-form","",2,"margin-top","-12px"],[1,"my-tab",3,"dwTabPosition","dwType","dwAnimated"],["dwTitle","\u57fa\u672c\u4fe1\u606f"],["dw-row",""],["dw-col","","dwSpan","8","class","flex-box",4,"ngIf"],["dw-col","","dwSpan","8",1,"flex-box"],[1,"label"],[1,"info","status_info",2,"flex","none","width","64px","position","relative"],["class","state_tip",4,"ngIf"],["class","state_tip zise",4,"ngIf"],["class","state_tip gray",4,"ngIf"],["class","recycle_info",4,"ngIf"],[1,"info"],[4,"ngIf"],["dw-col","","dwSpan","24","class","flex-box",4,"ngIf"],["dwTitle","\u8bbe\u5907\u4fe1\u606f",4,"ngIf"],["dwTitle","\u914d\u4ef6\u4fe1\u606f",4,"ngIf"],["dwTitle","\u9644\u52a0\u4fe1\u606f",4,"ngIf"],["dwTitle","\u8bbe\u5907\u62a5\u4fee\u4e8c\u7ef4\u7801","dwOkText","\u4e0b\u8f7d\u4e8c\u7ef4\u7801",3,"dwBodyStyle","dwMaskClosable","dwWidth","dwVisible","dwOkDisabled","dwVisibleChange","dwOnCancel","dwOnOk"],["dwModalContent",""],[1,"state_tip"],[1,"state_tip","zise"],[1,"state_tip","gray"],[1,"recycle_info"],[1,"left"],["src","../../../../../../assets/img/user-head.png","alt","\u5934\u50cf",4,"ngIf"],["alt","\u5934\u50cf",3,"src",4,"ngIf"],[1,"right"],[1,"name"],[1,"reason"],["src","../../../../../../assets/img/user-head.png","alt","\u5934\u50cf"],["alt","\u5934\u50cf",3,"src"],["class","label",4,"ngIf"],["class","info",4,"ngIf"],["dw-col","","dwSpan","24",1,"flex-box"],[1,"clearfix"],["dwListType","picture-card",3,"dwFileList","dwShowButton","dwShowUploadList","dwPreview","dwFileListChange"],["dw-icon","","dwType","plus"],[1,"ant-upload-text"],[3,"dwVisible","dwContent","dwFooter","dwOnCancel"],["modalContent",""],["alt","\u4ea7\u54c1\u6863\u6848",3,"src","ngStyle"],[1,"files"],["class","file",4,"ngFor","ngForOf"],[1,"file"],["src","../../../../../../assets/img/icon_excel.png","alt","excel",4,"ngIf"],["src","../../../../../../assets/img/icon_word.png","alt","word",4,"ngIf"],["src","../../../../../../assets/img/icon_pdf.png","alt","pdf",4,"ngIf"],["src","../../../../../../assets/img/icon_ppt.png","alt","ppt",4,"ngIf"],["src","../../../../../../assets/img/icon_picture.png","alt","pic",4,"ngIf"],[1,"download",3,"click"],["dw-icon","","dwType","download","dwTheme","outline"],["src","../../../../../../assets/img/icon_excel.png","alt","excel"],["src","../../../../../../assets/img/icon_word.png","alt","word"],["src","../../../../../../assets/img/icon_pdf.png","alt","pdf"],["src","../../../../../../assets/img/icon_ppt.png","alt","ppt"],["src","../../../../../../assets/img/icon_picture.png","alt","pic"],["dwTitle","\u8bbe\u5907\u4fe1\u606f"],["dw-col","","dwSpan","24"],["dwTableId","crs-product-equipment-detail-list",3,"dwPageIndex","dwData","dwPageSize","dwPageSizeOptions","dwScroll","dwPageIndexChange","dwPageSizeChange","dwPageSizeOptionsChange"],["dwTable",""],["dw-tr","","dwDropColumns",""],["dw-th","","dwDragDrop","","dwWidth","140px",4,"dwColumnId"],["dw-th","","dwDragDrop","","dwWidth","110px",4,"dwColumnId"],["dw-th","","dwDragDrop","","dwWidth","120px",4,"dwColumnId"],["dw-th","","dwDragDrop","","dwWidth","96px","class","align-right",4,"dwColumnId"],[4,"ngFor","ngForOf"],["dw-th","","dwDragDrop","","dwWidth","140px"],["translate",""],["dw-th","","dwDragDrop","","dwWidth","110px"],["dw-th","","dwDragDrop","","dwWidth","120px"],["dw-th","","dwDragDrop","","dwWidth","96px",1,"align-right"],["dw-tbody-tr","","dwReorderColumns",""],[4,"dwColumnId"],["width","96","class","align-right",4,"dwColumnId"],["width","96",1,"align-right"],["dwTitle","\u914d\u4ef6\u4fe1\u606f"],["dwTableId","crs-equipment-part-detail-list",3,"dwPageIndex","dwData","dwPageSize","dwPageSizeOptions","dwScroll","dwPageIndexChange","dwPageSizeChange","dwPageSizeOptionsChange"],["dw-th","","dwWidth","140px",4,"dwColumnId"],["dw-th","","dwDragDrop","","dwWidth","140px","dwWidth","140px",4,"dwColumnId"],["dw-th","","dwDragDrop","","dwWidth","100px",4,"dwColumnId"],["dw-th","","dwDragDrop","","dwWidth","80px",4,"dwColumnId"],["dw-th","","dwWidth","140px"],["dw-th","","dwDragDrop","","dwWidth","140px","dwWidth","140px"],["dw-th","","dwDragDrop","","dwWidth","100px"],["dw-th","","dwDragDrop","","dwWidth","80px"],[3,"ngStyle",4,"dwColumnId"],[3,"ngStyle"],["dw-tooltip","","dwTooltipTitle","\u6613\u635f\u4ef6","class","quickPart",4,"ngIf"],["dw-tooltip","","dwTooltipTitle","\u6613\u635f\u4ef6",1,"quickPart"],[1,"point"],["dwTableId","crs-product-part-detail-list",3,"dwPageIndex","dwData","dwPageSize","dwPageSizeOptions","dwScroll","dwPageIndexChange","dwPageSizeChange","dwPageSizeOptionsChange"],["dw-th","","dwWidth","96px","class","align-right","dwDragDrop","",4,"dwColumnId"],["dw-th","","dwWidth","96px","dwDragDrop","",1,"align-right"],["width","72",4,"dwColumnId"],["width","72"],["dwTitle","\u9644\u52a0\u4fe1\u606f"],[1,"flex-list"],["dwSpan","11","class","flex-box",4,"ngFor","ngForOf"],["dwSpan","11",1,"flex-box"],["class","qr-wrap",4,"ngIf"],[1,"qr-wrap"],["alt","\u4e8c\u7ef4\u7801",3,"src"]],template:function(e,t){1&e&&(r.\u0275\u0275template(0,H,5,2,"div",0),r.\u0275\u0275elementStart(1,"app-product-transfer",1,2),r.\u0275\u0275listener("visibleChanged",function(){return t.changeVisible(!1)}),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(3,"app-product-recycle",1,3),r.\u0275\u0275listener("visibleChanged",function(e){return t.changeRecycleVisible(e)}),r.\u0275\u0275elementEnd(),r.\u0275\u0275template(5,Mn,50,45,"form",4)),2&e&&(r.\u0275\u0275property("ngIf",t.product_file[0]&&"3"!==t.product_file[0].service_status&&("1"==t.userSite||"1"===t.product_file[0].service_status)),r.\u0275\u0275advance(1),r.\u0275\u0275property("visible",t.isVisible),r.\u0275\u0275advance(2),r.\u0275\u0275property("visible",t.isRecycleVisible),r.\u0275\u0275advance(2),r.\u0275\u0275property("ngIf",t.product_file[0]))},directives:[w.NgIf,k,L,_.u,I.DwIconDirective,$.DwActionAuthorizedDirective,j.DwAnalyticsOn,h.\u0275NgNoValidate,h.NgControlStatusGroup,h.NgForm,C.DwFormDirective,N.DwTabSetComponent,N.DwTabComponent,y.DwRowDirective,y.DwColDirective,v.DwModalComponent,v.DwModalContentDirective,z.DwUploadComponent,w.NgStyle,w.NgForOf,C.DwFormItemComponent,C.DwFormControlComponent,q.DwTableComponent,W.Ct,q.DwTheadComponent,q.DwTrDirective,W.Y9,W.b,q.DwTbodyComponent,q.DwTableCellDirective,q.DwThMeasureDirective,W.BL,W.$2,B.TranslateDirective,W.at,U.DwTooltipDirective],pipes:[w.DatePipe],styles:[".sub-title[_ngcontent-%COMP%]{margin-left:0}.sub-title[_ngcontent-%COMP%]:first-of-type{margin-top:0;position:relative}.sub_act[_ngcontent-%COMP%]{position:fixed;top:56px;right:28px;width:28px;height:30px;line-height:30px;text-align:center;white-space:nowrap;font-weight:normal;z-index:999}.sub_act[_ngcontent-%COMP%]:hover{cursor:pointer}.sub_act[_ngcontent-%COMP%]:hover   em[_ngcontent-%COMP%]{color:#009bf2}.sub_act[_ngcontent-%COMP%]:hover   .pub-btns[_ngcontent-%COMP%]{display:flex}.pub-btns[_ngcontent-%COMP%]{width:68px;position:absolute;top:30px;right:-8px;z-index:1999;background:#fff;display:none;flex-direction:column}.pub-btns[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{text-align:left;padding-left:12px;border:1px solid #e9e9e9;border-top:0}.pub-btns[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{border-top:1px solid #e9e9e9}.pub-btns[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:hover{background:#f1f1f1;cursor:pointer}.flex-box[_ngcontent-%COMP%]{display:flex;line-height:30px}.info[_ngcontent-%COMP%]{flex:1;word-break:break-all;word-wrap:break-word;padding-right:20px}.state_tip[_ngcontent-%COMP%]{display:block;width:64px;height:26px;line-height:26px;text-align:center;border-radius:15px;color:#fff;font-size:13px;margin-top:2px;background:#29cc8d}.state_tip.zise[_ngcontent-%COMP%]{background:#5c64d1}.state_tip.gray[_ngcontent-%COMP%]{background:#5c5c5c;cursor:pointer}.qr-wrap[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.qr-wrap[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:280px;margin:8px 0 -10px}.file[_ngcontent-%COMP%]{width:368px;height:34px;display:flex;align-items:center;padding:0 10px;margin-top:10px;margin-bottom:10px;border:1px solid #dadada;border-radius:3px}.file[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:26px;height:26px;margin-right:6px}.file[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{color:#333;font-size:14px;width:314px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.file[_ngcontent-%COMP%]   .download[_ngcontent-%COMP%]{width:22px;text-align:right;color:#999;font-size:14px;cursor:pointer}.file[_ngcontent-%COMP%]   .download[_ngcontent-%COMP%]:hover{color:#40a9ff}.file[_ngcontent-%COMP%]   .download[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]{font-size:22px}.status_info[_ngcontent-%COMP%]:hover   .recycle_info[_ngcontent-%COMP%]{top:32px}.recycle_info[_ngcontent-%COMP%]{position:absolute;top:-9999px;right:-64px;width:300px;background:rgba(0,0,0,.75);padding:16px;display:flex;border-radius:2px;z-index:9}.recycle_info[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{width:40px;height:40px;margin-right:12px;font-size:0}.recycle_info[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%}.recycle_info[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{flex:1;line-height:20px}.recycle_info[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;color:#fff;font-size:12px;margin-bottom:8px}.recycle_info[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-of-type{font-size:14px;font-weight:bold}.recycle_info[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .reason[_ngcontent-%COMP%]{color:#fff;font-size:12px}.flex-list[_ngcontent-%COMP%]{display:flex;align-items:flex-start;flex-wrap:wrap;padding-right:24px;width:100%;overflow-x:hidden}.flex-list[_ngcontent-%COMP%]   .flex-box[_ngcontent-%COMP%]{width:50%;padding-right:20px}.quickPart[_ngcontent-%COMP%]   .point[_ngcontent-%COMP%]{display:inline-block;width:6px;height:6px;border-radius:3px;background-color:#ffbe68;margin-bottom:3px}"]}),e})()},6769:function(e,t,n){n.r(t),n.d(t,{ProductFileModule:function(){return Nd}});var i=n(55245),r=n(87974),o=n(42746);let a=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.\u0275\u0275defineComponent({type:e,selectors:[["app-product-file"]],decls:1,vars:0,template:function(e,t){1&e&&o.\u0275\u0275element(0,"router-outlet")},directives:[r.RouterOutlet],styles:[""]}),e})();var d=n(1020),l=n(33795),s=n(83237),c=n(31441),m=n(61937),p=n(53771),u=n(17494),f=n(66800),w=n(9201),h=n(71049),g=n(45890),v=n(48005),C=n(97834),y=n(53460),x=n(62695),_=n(71452),S=n(74591),b=n(83522);function E(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"th",12),o.\u0275\u0275elementStart(1,"span",13),o.\u0275\u0275text(2),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;o.\u0275\u0275property("width",e.width)("dwColumnKey",e.field),o.\u0275\u0275advance(2),o.\u0275\u0275textInterpolate(e.title)}}function I(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"th",14),o.\u0275\u0275elementStart(1,"span",13),o.\u0275\u0275text(2),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()),2&e){const e=o.\u0275\u0275nextContext(2);o.\u0275\u0275property("dwColumnKey","item_group"===e.modify_obj.modify_item_label||"service_site"===e.modify_obj.modify_item_label||"employee"===e.modify_obj.modify_item_label?e.modify_obj.modify_item_label+"_name":e.modify_obj.modify_item_label)("dwAlign","enable_maintain"===e.modify_obj.modify_item_label?"center":"left"),o.\u0275\u0275advance(2),o.\u0275\u0275textInterpolate(e.modify_obj.modify_item_name)}}function D(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"td"),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&e){const e=t.$implicit,n=o.\u0275\u0275nextContext().$implicit;o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",n[e.field]," ")}}function T(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"td"),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&e){const e=o.\u0275\u0275nextContext(2).$implicit,t=o.\u0275\u0275nextContext(2);o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",e[t.modify_obj.modify_item_label+"_name"]," ")}}function O(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"td"),o.\u0275\u0275text(1),o.\u0275\u0275pipe(2,"date"),o.\u0275\u0275elementEnd()),2&e){const e=o.\u0275\u0275nextContext(2).$implicit,t=o.\u0275\u0275nextContext(2);o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",o.\u0275\u0275pipeBind2(2,1,e[t.modify_obj.modify_item_label],"yyyy-MM-dd")," ")}}function M(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"td",18),o.\u0275\u0275element(1,"label",19),o.\u0275\u0275elementEnd()),2&e){const e=o.\u0275\u0275nextContext(2).$implicit,t=o.\u0275\u0275nextContext(2);o.\u0275\u0275advance(1),o.\u0275\u0275property("dwChecked","1"===e[t.modify_obj.modify_item_label])}}function F(e,t){if(1&e&&(o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275template(1,T,2,1,"td",16),o.\u0275\u0275template(2,O,3,4,"td",16),o.\u0275\u0275template(3,M,2,1,"td",17),o.\u0275\u0275elementContainerEnd()),2&e){const e=o.\u0275\u0275nextContext(3);o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf","item_group"===e.modify_obj.modify_item_label||"service_site"===e.modify_obj.modify_item_label||"employee"===e.modify_obj.modify_item_label),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf","delivery_date"===e.modify_obj.modify_item_label||"expiry_date"===e.modify_obj.modify_item_label),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf","enable_maintain"===e.modify_obj.modify_item_label)}}function P(e,t){if(1&e){const e=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"tr"),o.\u0275\u0275elementStart(1,"td"),o.\u0275\u0275elementStart(2,"label",15),o.\u0275\u0275listener("ngModelChange",function(t){return o.\u0275\u0275restoreView(e).$implicit.checked=t})("ngModelChange",function(){return o.\u0275\u0275restoreView(e),o.\u0275\u0275nextContext(2).updateSingleChecked()}),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275template(3,D,2,1,"td",11),o.\u0275\u0275template(4,F,4,3,"ng-container",16),o.\u0275\u0275elementEnd()}if(2&e){const e=t.$implicit,n=o.\u0275\u0275nextContext(2);o.\u0275\u0275advance(2),o.\u0275\u0275property("ngModel",e.checked),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngForOf",n.configObj.tableColDefs),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf","preview"===n.dataType)}}function k(e,t){if(1&e){const e=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"dw-table",3,4),o.\u0275\u0275elementStart(2,"thead",5),o.\u0275\u0275listener("dwSortOrderChange",function(t){return o.\u0275\u0275restoreView(e),o.\u0275\u0275nextContext().order(t)}),o.\u0275\u0275elementStart(3,"tr",6),o.\u0275\u0275elementStart(4,"th",7),o.\u0275\u0275elementStart(5,"label",8),o.\u0275\u0275listener("ngModelChange",function(t){return o.\u0275\u0275restoreView(e),o.\u0275\u0275nextContext().allChecked=t})("ngModelChange",function(){return o.\u0275\u0275restoreView(e),o.\u0275\u0275nextContext().updateAllChecked()}),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275template(6,E,3,3,"th",9),o.\u0275\u0275template(7,I,3,3,"th",10),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(8,"tbody"),o.\u0275\u0275template(9,P,5,3,"tr",11),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()}if(2&e){const e=o.\u0275\u0275reference(1),t=o.\u0275\u0275nextContext(),n=o.\u0275\u0275reference(3);o.\u0275\u0275property("dwData",t.dataList)("dwShowTotal",n),o.\u0275\u0275advance(5),o.\u0275\u0275property("ngModel",t.allChecked)("dwIndeterminate",t.indeterminate),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngForOf",t.configObj.tableColDefs),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf","preview"===t.dataType),o.\u0275\u0275advance(2),o.\u0275\u0275property("ngForOf",e.data)}}function V(e,t){if(1&e&&o.\u0275\u0275text(0),2&e){const e=o.\u0275\u0275nextContext();o.\u0275\u0275textInterpolate1("\u5171 ",e.dataList.length," \u6761")}}const R=function(){return{height:"calc(100% - 24px)",overflow:"auto"}};let A=(()=>{class e{constructor(e,t){this.http=e,this.message=t,this.dataList=[],this.allChecked=!1,this.indeterminate=!1,this.chosen_id="0",this.chosen_name="\u5168\u90e8",this.configObj={},this.modify_obj={},this.visibleChanged=new o.EventEmitter}ngOnInit(){}initData(e,t={},n,i={}){this.dataType=e,this.configObj=t,"preview"===e?(this.allChecked=!0,this.indeterminate=!1,this.modify_obj=i,this.http.post(t.dataSourceUrl,{params:t.paramData}).subscribe(e=>{this.dataList=e||[],this.updateAllChecked()},e=>{e.hasOwnProperty("error")&&e.error.hasOwnProperty("errorMessage")&&e.error.errorMessage&&this.message.error(e.error.errorMessage)})):(this.allChecked=!1,this.indeterminate=!1,this.http.get(t.dataSourceUrl).subscribe(t=>{if(this.dataList=t||[],null!=n)if(this.allChecked="0"===n,this.allChecked)this.updateAllChecked();else{const t=n.split(",");for(const n of this.dataList){const i=t.indexOf(n[`${e}_id`].toString());n.checked=i>=0}this.updateSingleChecked()}},e=>{e.hasOwnProperty("error")&&e.error.hasOwnProperty("errorMessage")&&e.error.errorMessage&&this.message.error(e.error.errorMessage)}))}updateAllChecked(){this.indeterminate=!1,this.dataList=this.dataList.map(this.allChecked?e=>Object.assign(Object.assign({},e),{checked:!0}):e=>Object.assign(Object.assign({},e),{checked:!1})),this.updateChosen()}updateSingleChecked(){this.dataList.every(e=>!e.checked)?(this.allChecked=!1,this.indeterminate=!1):this.dataList.every(e=>e.checked)?(this.allChecked=!0,this.indeterminate=!1):(this.allChecked=!1,this.indeterminate=!0),this.updateChosen()}updateChosen(){if(this.allChecked){const e=[];("service_type"===this.dataType||"employee"===this.dataType||"preview"===this.dataType)&&this.dataList.forEach(t=>{t.checked&&e.push(t[`${"preview"===this.dataType?"product_file":this.dataType}_id`])}),this.chosen_id=e.join(","),this.chosen_name="\u5168\u90e8"}else{const e=[],t=[];this.dataList.forEach(n=>{n.checked&&(e.push(n[`${"preview"===this.dataType?"product_file":this.dataType}_id`]),t.push(n[`${"preview"===this.dataType?"product_file":this.dataType}_name`]))}),this.chosen_id=e.join(","),this.chosen_name=t.join(",")}}handleCancel(){this.visibleChanged.emit(null)}handleOk(){this.dataList.filter(e=>e.checked).length?this.visibleChanged.emit(Object.assign({type:this.dataType,chosen_id:this.chosen_id,chosen_name:this.chosen_name},this.modify_obj)):this.message.create("error","\u8bf7\u81f3\u5c11\u9009\u62e9\u4e00\u9879")}order(e){const t=e.key;switch(e.value){case"ascend":this.dataList=m.l.order(this.dataList,[t]);break;case"descend":this.dataList=m.l.order(this.dataList,[t,-1])}}}return e.\u0275fac=function(t){return new(t||e)(o.\u0275\u0275directiveInject(y.DwDapHttpClient),o.\u0275\u0275directiveInject(s.DwMessageService))},e.\u0275cmp=o.\u0275\u0275defineComponent({type:e,selectors:[["app-multy-all-select-opener"]],inputs:{visible:"visible"},outputs:{visibleChanged:"visibleChanged"},decls:4,vars:7,consts:[[3,"dwBodyStyle","dwMaskClosable","dwWidth","dwVisible","dwTitle","dwOkText","dwVisibleChange","dwOnCancel","dwOnOk"],["dwModalContent",""],["totalTemplate",""],[3,"dwData","dwShowTotal"],["dwTable",""],[3,"dwSortOrderChange"],["dw-tr",""],["dw-th","","width","40"],["dw-checkbox","",2,"width","100%",3,"ngModel","dwIndeterminate","ngModelChange"],["dw-th","","dwShowSort","",3,"width","dwColumnKey",4,"ngFor","ngForOf"],["dw-th","","width","140","dwShowSort","",3,"dwColumnKey","dwAlign",4,"ngIf"],[4,"ngFor","ngForOf"],["dw-th","","dwShowSort","",3,"width","dwColumnKey"],["translate",""],["dw-th","","width","140","dwShowSort","",3,"dwColumnKey","dwAlign"],["dw-checkbox","",2,"width","100%",3,"ngModel","ngModelChange"],[4,"ngIf"],["dwAlign","center",4,"ngIf"],["dwAlign","center"],["dwDisabled","","dw-checkbox","",3,"dwChecked"]],template:function(e,t){1&e&&(o.\u0275\u0275elementStart(0,"dw-modal",0),o.\u0275\u0275listener("dwVisibleChange",function(e){return t.visible=e})("dwOnCancel",function(){return t.handleCancel()})("dwOnOk",function(){return t.handleOk()}),o.\u0275\u0275template(1,k,10,7,"ng-template",1),o.\u0275\u0275elementEnd(),o.\u0275\u0275template(2,V,1,1,"ng-template",null,2,o.\u0275\u0275templateRefExtractor)),2&e&&o.\u0275\u0275property("dwBodyStyle",o.\u0275\u0275pureFunction0(6,R))("dwMaskClosable",!1)("dwWidth","preview"===t.dataType?960:620)("dwVisible",t.visible)("dwTitle",t.configObj.modalTitle)("dwOkText","preview"===t.dataType?"\u7acb\u5373\u4fee\u6539":"\u786e\u5b9a")},directives:[c.DwModalComponent,c.DwModalContentDirective,x.DwTableComponent,_.Ct,x.DwTheadComponent,x.DwTrDirective,x.DwTableCellDirective,x.DwThMeasureDirective,_.BL,S.DwCheckboxComponent,d.NgControlStatus,d.NgModel,i.NgForOf,i.NgIf,x.DwTbodyComponent,x.DwThAddOnComponent,b.TranslateDirective,x.DwCellAlignDirective],pipes:[i.DatePipe],styles:[""]}),e})();var L=n(29872),$=n(85773),j=n(35626),N=n(93761),z=n(67280),q=n(85277),W=n(39288),B=n(41937),U=n(59970),X=n(47372);let G=(()=>{class e{constructor(e){this.commonHttpService=e,this.diffSubject=new h.Subject}get diffSubject$(){return this.diffSubject.asObservable().pipe((0,X.filter)(e=>null!==e))}getCustomView(){return this.commonHttpService.get("restful/service/autoSettings/CustomView/FormSetting?viewId=product_file")}isDiff(e){const t={};e.forEach((e,n)=>{t[e.dwColumnId]=n});let n=!1;return this.getCustomView().pipe((0,X.switchMap)(e=>{for(const i in e)if(t.hasOwnProperty(i)&&!e[i]){n=!0;break}for(const i in e)if(!t.hasOwnProperty(i)&&e[i]){n=!0;break}return(0,h.of)(n)}))}isDeleteConfigDiff(e){this.isDiff(e).subscribe(e=>{e&&this.diffSubject.next(!0)})}saveTableConfig(e){return new h.Observable(t=>{this.isDiff(e.dwColumnConfig).subscribe(n=>{n?(this.diffSubject.next(!0),t.error(e),t.complete()):(t.next(e),t.complete())})})}}return e.\u0275fac=function(t){return new(t||e)(o.\u0275\u0275inject(g.$))},e.\u0275prov=o.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac}),e})();var H=n(99487),K=n(80677),Q=n(8852),Z=n(96670),J=n(37568),Y=n(51156);function ee(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"th",10),o.\u0275\u0275elementStart(1,"span",11),o.\u0275\u0275text(2),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;o.\u0275\u0275property("width",e.width)("dwColumnKey",e.field),o.\u0275\u0275advance(2),o.\u0275\u0275textInterpolate(e.title)}}function te(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"td"),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&e){const e=t.$implicit,n=o.\u0275\u0275nextContext().$implicit;o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",n[e.field]," ")}}function ne(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"td"),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&e){const e=o.\u0275\u0275nextContext().$implicit,t=o.\u0275\u0275nextContext();o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",e[t.modify_obj.modify_item_label+"_name"]," ")}}function ie(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"td"),o.\u0275\u0275text(1),o.\u0275\u0275pipe(2,"date"),o.\u0275\u0275elementEnd()),2&e){const e=o.\u0275\u0275nextContext().$implicit,t=o.\u0275\u0275nextContext();o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",o.\u0275\u0275pipeBind2(2,1,e[t.modify_obj.modify_item_label],"yyyy-MM-dd")," ")}}function re(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"td",15),o.\u0275\u0275element(1,"label",16),o.\u0275\u0275elementEnd()),2&e){const e=o.\u0275\u0275nextContext().$implicit,t=o.\u0275\u0275nextContext();o.\u0275\u0275advance(1),o.\u0275\u0275property("dwChecked","1"===e[t.modify_obj.modify_item_label])}}function oe(e,t){if(1&e){const e=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"tr"),o.\u0275\u0275elementStart(1,"td"),o.\u0275\u0275elementStart(2,"label",12),o.\u0275\u0275listener("ngModelChange",function(t){return o.\u0275\u0275restoreView(e).$implicit.checked=t})("ngModelChange",function(){return o.\u0275\u0275restoreView(e),o.\u0275\u0275nextContext().updateSingleChecked()}),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275template(3,te,2,1,"td",8),o.\u0275\u0275elementContainerStart(4),o.\u0275\u0275template(5,ne,2,1,"td",13),o.\u0275\u0275template(6,ie,3,4,"td",13),o.\u0275\u0275template(7,re,2,1,"td",14),o.\u0275\u0275elementContainerEnd(),o.\u0275\u0275elementEnd()}if(2&e){const e=t.$implicit,n=o.\u0275\u0275nextContext();o.\u0275\u0275advance(2),o.\u0275\u0275property("ngModel",e.checked),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngForOf",n.tableColDefs),o.\u0275\u0275advance(2),o.\u0275\u0275property("ngIf","item_group"===n.modify_obj.modify_item_label||"service_site"===n.modify_obj.modify_item_label||"employee"===n.modify_obj.modify_item_label),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf","delivery_date"===n.modify_obj.modify_item_label||"expiry_date"===n.modify_obj.modify_item_label),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf","enable_maintain"===n.modify_obj.modify_item_label)}}function ae(e,t){if(1&e&&o.\u0275\u0275text(0),2&e){const e=o.\u0275\u0275nextContext();o.\u0275\u0275textInterpolate1("\u5171 ",e.dataList.length," \u6761")}}let de=(()=>{class e{constructor(e,t){this.http=e,this.message=t,this.dataList=[],this.allChecked=!1,this.indeterminate=!1,this.modify_obj={},this.tableColDefs=[{title:"\u7f16\u53f7",field:"product_file_code",width:"140"},{title:"\u540d\u79f0",field:"product_file_name",width:"140"},{title:"\u89c4\u683c",field:"specification",width:"150"},{title:"\u5e8f\u5217\u53f7",field:"sn",width:"140"},{title:"\u578b\u53f7",field:"model",width:"140"}]}ngOnInit(){}initData(e={},t={}){this.modify_obj=t,this.allChecked=!0,this.indeterminate=!1,this.http.post("restful/service/productFile/ProductFile/ProductFileListForBatchModify",{params:e}).subscribe(e=>{this.dataList=e||[],this.updateAllChecked()},e=>{e.hasOwnProperty("error")&&e.error.hasOwnProperty("errorMessage")&&e.error.errorMessage&&this.message.error(e.error.errorMessage)})}updateAllChecked(){this.indeterminate=!1,this.dataList=this.dataList.map(this.allChecked?e=>Object.assign(Object.assign({},e),{checked:!0}):e=>Object.assign(Object.assign({},e),{checked:!1})),this.updateChosen()}updateSingleChecked(){this.dataList.every(e=>!e.checked)?(this.allChecked=!1,this.indeterminate=!1):this.dataList.every(e=>e.checked)?(this.allChecked=!0,this.indeterminate=!1):(this.allChecked=!1,this.indeterminate=!0),this.updateChosen()}updateChosen(){if(this.allChecked){const e=[];this.dataList.forEach(t=>{t.checked&&e.push(t.product_file_id)})}else{const e=[],t=[];this.dataList.forEach(n=>{n.checked&&(e.push(n.product_file_id),t.push(n.product_file_name))})}}reset(){this.dataList=[],this.allChecked=!1,this.indeterminate=!1}order(e){const t=e.key;switch(e.value){case"ascend":this.dataList=m.l.order(this.dataList,[t]);break;case"descend":this.dataList=m.l.order(this.dataList,[t,-1])}}}return e.\u0275fac=function(t){return new(t||e)(o.\u0275\u0275directiveInject(Y.DwDapHttpClient),o.\u0275\u0275directiveInject(s.DwMessageService))},e.\u0275cmp=o.\u0275\u0275defineComponent({type:e,selectors:[["app-multy-all-select"]],decls:13,vars:9,consts:[[3,"dwData","dwShowTotal"],["dwTable",""],[3,"dwSortOrderChange"],["dw-tr",""],["dw-th","","width","40"],["dw-checkbox","",2,"width","100%",3,"ngModel","dwIndeterminate","ngModelChange"],["dw-th","","dwShowSort","",3,"width","dwColumnKey",4,"ngFor","ngForOf"],["dw-th","","width","140","dwShowSort","",3,"dwColumnKey","dwAlign"],[4,"ngFor","ngForOf"],["totalTemplate",""],["dw-th","","dwShowSort","",3,"width","dwColumnKey"],["translate",""],["dw-checkbox","",2,"width","100%",3,"ngModel","ngModelChange"],[4,"ngIf"],["dwAlign","center",4,"ngIf"],["dwAlign","center"],["dwDisabled","","dw-checkbox","",3,"dwChecked"]],template:function(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"dw-table",0,1),o.\u0275\u0275elementStart(2,"thead",2),o.\u0275\u0275listener("dwSortOrderChange",function(e){return t.order(e)}),o.\u0275\u0275elementStart(3,"tr",3),o.\u0275\u0275elementStart(4,"th",4),o.\u0275\u0275elementStart(5,"label",5),o.\u0275\u0275listener("ngModelChange",function(e){return t.allChecked=e})("ngModelChange",function(){return t.updateAllChecked()}),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275template(6,ee,3,3,"th",6),o.\u0275\u0275elementStart(7,"th",7),o.\u0275\u0275text(8),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(9,"tbody"),o.\u0275\u0275template(10,oe,8,5,"tr",8),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275template(11,ae,1,1,"ng-template",null,9,o.\u0275\u0275templateRefExtractor)),2&e){const e=o.\u0275\u0275reference(1),n=o.\u0275\u0275reference(12);o.\u0275\u0275property("dwData",t.dataList)("dwShowTotal",n),o.\u0275\u0275advance(5),o.\u0275\u0275property("ngModel",t.allChecked)("dwIndeterminate",t.indeterminate),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngForOf",t.tableColDefs),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnKey","item_group"===t.modify_obj.modify_item_label||"service_site"===t.modify_obj.modify_item_label||"employee"===t.modify_obj.modify_item_label?t.modify_obj.modify_item_label+"_name":t.modify_obj.modify_item_label)("dwAlign","enable_maintain"===t.modify_obj.modify_item_label?"center":"left"),o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",t.modify_obj.modify_item_name," "),o.\u0275\u0275advance(2),o.\u0275\u0275property("ngForOf",e.data)}},directives:[x.DwTableComponent,_.Ct,x.DwTheadComponent,x.DwTrDirective,x.DwTableCellDirective,x.DwThMeasureDirective,_.BL,S.DwCheckboxComponent,d.NgControlStatus,d.NgModel,i.NgForOf,x.DwThAddOnComponent,x.DwCellAlignDirective,x.DwTbodyComponent,b.TranslateDirective,i.NgIf],pipes:[i.DatePipe],styles:[""]}),e})();const le=["child2"];function se(e,t){if(1&e){const e=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"button",30),o.\u0275\u0275listener("click",function(){o.\u0275\u0275restoreView(e);const t=o.\u0275\u0275nextContext(2);return o.\u0275\u0275reference(3).initData("item_group",t.getConfigValue("item_group",!0),t.form.value.item_group_id),t.openDataWin("item_group")}),o.\u0275\u0275element(1,"em",31),o.\u0275\u0275elementEnd()}}function ce(e,t){if(1&e){const e=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"button",30),o.\u0275\u0275listener("click",function(){o.\u0275\u0275restoreView(e);const t=o.\u0275\u0275nextContext(2);return o.\u0275\u0275reference(3).initData("customer",t.getConfigValue("customer",!1),t.form.value.customer_id),t.openDataWin("customer")}),o.\u0275\u0275element(1,"em",31),o.\u0275\u0275elementEnd()}}function me(e,t){if(1&e){const e=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"button",30),o.\u0275\u0275listener("click",function(){o.\u0275\u0275restoreView(e);const t=o.\u0275\u0275nextContext(2);return o.\u0275\u0275reference(3).initData("service_site",t.getConfigValue("service_site",!1),t.form.value.service_site_id),t.openDataWin("service_site")}),o.\u0275\u0275element(1,"em",31),o.\u0275\u0275elementEnd()}}function pe(e,t){if(1&e){const e=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"button",30),o.\u0275\u0275listener("click",function(){o.\u0275\u0275restoreView(e);const t=o.\u0275\u0275nextContext(2);return o.\u0275\u0275reference(3).initData("employee",t.getConfigValue("employee",!0),t.form.value.employee_id),t.openDataWin("employee")}),o.\u0275\u0275element(1,"em",31),o.\u0275\u0275elementEnd()}}function ue(e,t){1&e&&(o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275elementStart(1,"div",6),o.\u0275\u0275elementStart(2,"div",7),o.\u0275\u0275elementStart(3,"div",8),o.\u0275\u0275text(4,"\u51fa\u5e93\u65e5\u671f"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(5,"dw-form-item",9),o.\u0275\u0275elementStart(6,"dw-form-control"),o.\u0275\u0275elementStart(7,"div",32),o.\u0275\u0275element(8,"dw-date-picker",33),o.\u0275\u0275elementStart(9,"span",34),o.\u0275\u0275text(10,"-"),o.\u0275\u0275elementEnd(),o.\u0275\u0275element(11,"dw-date-picker",35),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(12,"div",7),o.\u0275\u0275elementStart(13,"div",8),o.\u0275\u0275text(14,"\u4fdd\u4fee\u622a\u6b62\u65e5\u671f"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(15,"dw-form-item",9),o.\u0275\u0275elementStart(16,"dw-form-control"),o.\u0275\u0275elementStart(17,"div",32),o.\u0275\u0275element(18,"dw-date-picker",36),o.\u0275\u0275elementStart(19,"span",34),o.\u0275\u0275text(20,"-"),o.\u0275\u0275elementEnd(),o.\u0275\u0275element(21,"dw-date-picker",37),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementContainerEnd())}function fe(e,t){if(1&e){const e=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"button",30),o.\u0275\u0275listener("click",function(){o.\u0275\u0275restoreView(e);const t=o.\u0275\u0275reference(3),n=o.\u0275\u0275nextContext(3);return t.initData(n.getConfigValue(n.modify_item,!1))}),o.\u0275\u0275element(1,"em",31),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(2,"app-opener-frontend",39,40),o.\u0275\u0275listener("selectedChanged",function(t){return o.\u0275\u0275restoreView(e),o.\u0275\u0275nextContext(3).openSelect2(t)}),o.\u0275\u0275elementEnd()}}function we(e,t){if(1&e){const e=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"dw-form-control"),o.\u0275\u0275elementStart(1,"dw-input-group",10),o.\u0275\u0275elementStart(2,"input",38),o.\u0275\u0275listener("ngModelChange",function(t){return o.\u0275\u0275restoreView(e),o.\u0275\u0275nextContext(2).modify_value.name=t}),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275template(3,fe,4,0,"ng-template",null,12,o.\u0275\u0275templateRefExtractor),o.\u0275\u0275elementEnd()}if(2&e){const e=o.\u0275\u0275reference(4),t=o.\u0275\u0275nextContext(2);o.\u0275\u0275advance(1),o.\u0275\u0275property("dwSuffix",e),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngModel",t.modify_value.name)}}function he(e,t){if(1&e){const e=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"dw-form-control"),o.\u0275\u0275elementStart(1,"div",32),o.\u0275\u0275elementStart(2,"dw-date-picker",41),o.\u0275\u0275listener("ngModelChange",function(t){return o.\u0275\u0275restoreView(e),o.\u0275\u0275nextContext(2).modify_value=t}),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()}if(2&e){const e=o.\u0275\u0275nextContext(2);o.\u0275\u0275advance(2),o.\u0275\u0275property("ngModel",e.modify_value)}}function ge(e,t){if(1&e){const e=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"dw-form-control"),o.\u0275\u0275elementStart(1,"div",32),o.\u0275\u0275elementStart(2,"label",42),o.\u0275\u0275listener("ngModelChange",function(t){return o.\u0275\u0275restoreView(e),o.\u0275\u0275nextContext(2).modify_value=t}),o.\u0275\u0275text(3),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()}if(2&e){const e=o.\u0275\u0275nextContext(2);o.\u0275\u0275advance(2),o.\u0275\u0275property("ngModel",e.modify_value),o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",e.modify_value?"\u5f00\u542f":"\u5173\u95ed"," ")}}function ve(e,t){if(1&e){const e=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"div",4),o.\u0275\u0275text(1,"\u67e5\u8be2\u6761\u4ef6"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(2,"form",5),o.\u0275\u0275elementStart(3,"div",6),o.\u0275\u0275elementStart(4,"div",7),o.\u0275\u0275elementStart(5,"div",8),o.\u0275\u0275text(6,"\u4ea7\u54c1\u5206\u7c7b"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(7,"dw-form-item",9),o.\u0275\u0275elementStart(8,"dw-form-control"),o.\u0275\u0275elementStart(9,"dw-input-group",10),o.\u0275\u0275element(10,"input",11),o.\u0275\u0275elementEnd(),o.\u0275\u0275template(11,se,2,0,"ng-template",null,12,o.\u0275\u0275templateRefExtractor),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(13,"div",7),o.\u0275\u0275elementStart(14,"div",8),o.\u0275\u0275text(15,"\u5ba2\u6237"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(16,"dw-form-item",9),o.\u0275\u0275elementStart(17,"dw-form-control"),o.\u0275\u0275elementStart(18,"dw-input-group",10),o.\u0275\u0275element(19,"input",13),o.\u0275\u0275elementEnd(),o.\u0275\u0275template(20,ce,2,0,"ng-template",null,14,o.\u0275\u0275templateRefExtractor),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(22,"div",15),o.\u0275\u0275elementStart(23,"button",16),o.\u0275\u0275listener("click",function(){return o.\u0275\u0275restoreView(e),o.\u0275\u0275nextContext().searchData()}),o.\u0275\u0275text(24),o.\u0275\u0275pipe(25,"translate"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(26,"button",16),o.\u0275\u0275listener("click",function(){return o.\u0275\u0275restoreView(e),o.\u0275\u0275nextContext().resetSearch()}),o.\u0275\u0275text(27),o.\u0275\u0275pipe(28,"translate"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(29,"div",17),o.\u0275\u0275listener("click",function(){return o.\u0275\u0275restoreView(e),o.\u0275\u0275nextContext().isShowSearchExpand()}),o.\u0275\u0275text(30),o.\u0275\u0275element(31,"em",18),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(32,"div",6),o.\u0275\u0275elementStart(33,"div",7),o.\u0275\u0275elementStart(34,"div",8),o.\u0275\u0275text(35,"\u670d\u52a1\u7ad9\u70b9"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(36,"dw-form-item",9),o.\u0275\u0275elementStart(37,"dw-form-control"),o.\u0275\u0275elementStart(38,"dw-input-group",10),o.\u0275\u0275element(39,"input",19),o.\u0275\u0275elementEnd(),o.\u0275\u0275template(40,me,2,0,"ng-template",null,20,o.\u0275\u0275templateRefExtractor),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(42,"div",7),o.\u0275\u0275elementStart(43,"div",8),o.\u0275\u0275text(44,"\u670d\u52a1\u4eba\u5458"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(45,"dw-form-item",9),o.\u0275\u0275elementStart(46,"dw-form-control"),o.\u0275\u0275elementStart(47,"dw-input-group",10),o.\u0275\u0275element(48,"input",21),o.\u0275\u0275elementEnd(),o.\u0275\u0275template(49,pe,2,0,"ng-template",null,22,o.\u0275\u0275templateRefExtractor),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275template(51,ue,22,0,"ng-container",23),o.\u0275\u0275elementEnd(),o.\u0275\u0275element(52,"hr",24),o.\u0275\u0275elementStart(53,"div",4),o.\u0275\u0275text(54,"\u4fee\u6539\u680f\u4f4d"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(55,"div",25),o.\u0275\u0275elementStart(56,"div",7),o.\u0275\u0275elementStart(57,"div",8),o.\u0275\u0275text(58,"\u4fee\u6539\u680f\u4f4d"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(59,"dw-form-item",9),o.\u0275\u0275elementStart(60,"dw-form-control"),o.\u0275\u0275elementStart(61,"dw-select",26),o.\u0275\u0275listener("ngModelChange",function(t){return o.\u0275\u0275restoreView(e),o.\u0275\u0275nextContext().modify_item=t})("ngModelChange",function(t){return o.\u0275\u0275restoreView(e),o.\u0275\u0275nextContext().bindPickerChange(t)}),o.\u0275\u0275element(62,"dw-option",27),o.\u0275\u0275element(63,"dw-option",27),o.\u0275\u0275element(64,"dw-option",27),o.\u0275\u0275element(65,"dw-option",27),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(66,"div",7),o.\u0275\u0275elementStart(67,"div",8),o.\u0275\u0275text(68,"\u8d4b\u503c"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(69,"dw-form-item",9),o.\u0275\u0275template(70,we,5,2,"dw-form-control",23),o.\u0275\u0275template(71,he,3,1,"dw-form-control",23),o.\u0275\u0275template(72,ge,4,2,"dw-form-control",23),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(73,"div",28),o.\u0275\u0275element(74,"app-multy-all-select",null,29),o.\u0275\u0275elementEnd()}if(2&e){const e=o.\u0275\u0275reference(12),t=o.\u0275\u0275reference(21),n=o.\u0275\u0275reference(41),i=o.\u0275\u0275reference(50),r=o.\u0275\u0275nextContext();o.\u0275\u0275advance(2),o.\u0275\u0275property("formGroup",r.form),o.\u0275\u0275advance(7),o.\u0275\u0275property("dwSuffix",e),o.\u0275\u0275advance(9),o.\u0275\u0275property("dwSuffix",t),o.\u0275\u0275advance(5),o.\u0275\u0275property("dwType","primary"),o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",o.\u0275\u0275pipeBind1(25,24,"\u67e5\u8be2")," "),o.\u0275\u0275advance(2),o.\u0275\u0275property("dwType","defult"),o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",o.\u0275\u0275pipeBind1(28,26,"\u91cd\u7f6e")," "),o.\u0275\u0275advance(3),o.\u0275\u0275textInterpolate1(" ",r.showMore?"\u6536\u8d77":"\u5c55\u5f00"," "),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwType",r.showMore?"up":"down"),o.\u0275\u0275advance(7),o.\u0275\u0275property("dwSuffix",n),o.\u0275\u0275advance(9),o.\u0275\u0275property("dwSuffix",i),o.\u0275\u0275advance(4),o.\u0275\u0275property("ngIf",r.showMore),o.\u0275\u0275advance(10),o.\u0275\u0275property("ngModel",r.modify_item),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwLabel","\u4ea7\u54c1\u5206\u7c7b")("dwValue","item_group"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwLabel","\u670d\u52a1\u7ad9\u70b9")("dwValue","service_site"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwLabel","\u670d\u52a1\u4eba\u5458")("dwValue","employee"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwLabel","\u7ef4\u62a4\u4fdd\u517b")("dwValue","enable_maintain"),o.\u0275\u0275advance(5),o.\u0275\u0275property("ngIf","item_group"===r.modify_item||"service_site"===r.modify_item||"employee"===r.modify_item),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf","delivery_date"===r.modify_item||"expiry_date"===r.modify_item),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf","enable_maintain"===r.modify_item)}}const Ce=function(){return{height:"calc(100% - 24px)",overflow:"auto","padding-left":"16px"}};let ye=(()=>{class e{constructor(e,t,n,i){this.fb=e,this.http=t,this.message=n,this.datePipe=i,this.visibleChanged=new o.EventEmitter,this.showMultyAllOpener=!1,this.showMore=!1,this.modify_item="item_group",this.modify_value="",this.modify_obj={item_group:"\u4ea7\u54c1\u5206\u7c7b",service_site:"\u670d\u52a1\u7ad9\u70b9",employee:"\u670d\u52a1\u4eba\u5458",delivery_date:"\u51fa\u5e93\u65e5\u671f",expiry_date:"\u4fdd\u4fee\u622a\u6b62\u65e5\u671f",enable_maintain:"\u7ef4\u62a4\u4fdd\u517b"},this.form=this.fb.group({item_group_id:[""],item_group_name:["\u5168\u90e8"],customer_id:[""],customer_name:["\u5168\u90e8"],service_site_id:[""],service_site_name:["\u5168\u90e8"],employee_id:[""],employee_name:["\u5168\u90e8"],delivery_date_start:[""],delivery_date_end:[""],expiry_date_start:[""],expiry_date_end:[""]})}ngOnInit(){}initData(){this.showMore=!1,this.resetData(),this.getOpenerIds()}getOpenerIds(){let e=[];const t=[{label:"service_site",url:"restful/service/productFile/ProductFile/ServiceSiteForBatchModify"},{label:"employee",url:`restful/service/productFile/ProductFile/ServiceEmployeeForBatchModify?serviceSiteId=${this.form.value.service_site_id}`}];for(let n of t)e.push(new Promise((e,t)=>{this.http.get(n.url).subscribe(t=>{const i=[];t.forEach(e=>{i.push(e[n.label+"_id"]+"")}),e(i.join(","))},t=>{t.hasOwnProperty("error")&&t.error.hasOwnProperty("errorMessage")&&t.error.errorMessage&&this.message.error(t.error.errorMessage),e("")})}));Promise.all(e).then(e=>{console.log("\u6240\u6709id",e),this.form.get("service_site_id").setValue(e[0]),this.form.get("employee_id").setValue(e[1]),this.child2.modify_obj={modify_item_label:this.modify_item,modify_item_name:this.modify_obj[this.modify_item],modify_item_value:this.modify_value}})}openDataWin(e){this.showMultyAllOpener=!0}getConfigValue(e,t){return"item_group"===e?{modalTitle:"\u8bf7\u9009\u62e9\u4ea7\u54c1\u5206\u7c7b",modalWidth:"50%",multiSelect:t,tableIdField:"item_group_id",tableNameField:"item_group_name",returnFields:["item_group_id","item_group_name"],tablePageSize:10,tableColDefs:[{title:"\u5206\u7c7b\u7f16\u53f7",field:"item_group_code",width:"220"},{title:"\u5206\u7c7b\u540d\u79f0",field:"item_group_name",width:"310"}],tableCustomTag:e=>"("+e.item_group_code+")"+e.item_group_name,dataSourceUrl:"restful/service/itemGroup/ItemGroup/ItemGroup?code=&name=&type=1",dwHttp:this.http}:"customer"===e?{modalTitle:"\u8bf7\u9009\u62e9\u5ba2\u6237",modalWidth:"50%",multiSelect:t,tableIdField:"customer_id",tableNameField:"customer_name",tablePageSize:10,returnFields:["customer_id","customer_name"],tableColDefs:[{title:"\u5ba2\u6237\u7f16\u53f7",field:"customer_code",width:"220"},{title:"\u5ba2\u6237\u540d\u79f0",field:"customer_name",width:"310"}],tableCustomTag:e=>"("+e.customer_code+")"+e.customer_name,dataSourceUrl:"restful/service/productFile/ProductFile/CustomerForBatchModify",dwHttp:this.http}:"service_site"===e?{modalTitle:"\u8bf7\u9009\u62e9\u670d\u52a1\u7ad9\u70b9",modalWidth:"50%",multiSelect:t,tableIdField:"service_site_id",tableNameField:"service_site_name",tablePageSize:10,returnFields:["service_site_id","service_site_name"],tableColDefs:[{title:"\u7f16\u53f7",field:"service_site_code",width:"220"},{title:"\u540d\u79f0",field:"service_site_name",width:"310"}],tableCustomTag:e=>"("+e.service_site_code+")"+e.service_site_name,dataSourceUrl:"restful/service/productFile/ProductFile/ServiceSiteForBatchModify",dwHttp:this.http}:{modalTitle:"\u8bf7\u9009\u62e9\u670d\u52a1\u4eba\u5458",modalWidth:"50%",multiSelect:t,tableIdField:"employee_id",tableNameField:"employee_name",tablePageSize:10,returnFields:["employee_id","employee_name"],tableColDefs:[{title:"\u4eba\u5458\u7f16\u53f7",field:"employee_code",width:"220"},{title:"\u4eba\u5458\u59d3\u540d",field:"employee_name",width:"310"}],tableCustomTag:e=>"("+e.employee_code+")"+e.employee_name,dataSourceUrl:`restful/service/productFile/ProductFile/ServiceEmployeeForBatchModify?serviceSiteId=${this.form.value.service_site_id}`,dwHttp:this.http}}openSelect(e){console.log(e),this.showMultyAllOpener=!1,e&&(this.form.get(`${e.type}_id`).setValue(e.chosen_id),this.form.get(`${e.type}_name`).setValue(e.chosen_name))}isShowSearchExpand(){this.showMore=!this.showMore}openSelect2(e){e&&(this.modify_value={id:e[0][`${this.modify_item}_id`]+"",code:e[0][`${this.modify_item}_code`],name:e[0][`${this.modify_item}_name`]})}bindPickerChange(e){this.modify_value="enable_maintain"!==e&&"",this.child2.modify_obj={modify_item_label:this.modify_item,modify_item_name:this.modify_obj[this.modify_item],modify_item_value:this.modify_value}}handleOk(){const e=this.form.value;if(e.delivery_date_start&&e.delivery_date_end&&new Date(e.delivery_date_start)>new Date(e.delivery_date_end))return void this.message.error("\u51fa\u5e93\u8d77\u59cb\u65e5\u671f\u4e0d\u53ef\u5927\u4e8e\u51fa\u5e93\u7ed3\u675f\u65e5\u671f");if(e.expiry_date_start&&e.expiry_date_end&&new Date(e.expiry_date_start)>new Date(e.expiry_date_end))return void this.message.error("\u4fdd\u4fee\u622a\u6b62\u8d77\u59cb\u65e5\u671f\u4e0d\u53ef\u5927\u4e8e\u4fdd\u4fee\u622a\u6b62\u7ed3\u675f\u65e5\u671f");if("enable_maintain"!==this.modify_item&&!this.modify_value)return void this.message.error("\u8d4b\u503c\u4e0d\u53ef\u4e3a\u7a7a");const t=this.child2.dataList.filter(e=>e.checked);if(!t.length)return void this.message.create("error","\u6ca1\u6709\u9700\u4fee\u6539\u7684\u6570\u636e\uff0c\u8bf7\u5148\u4f7f\u7528\u3010\u67e5\u8be2\u3011\u786e\u8ba4\u8981\u4fee\u6539\u7684\u6570\u636e\u8303\u56f4\uff0c\u518d\u8fdb\u884c\u4fee\u6539\uff01");const n=[];t.forEach(e=>{n.push(e.product_file_id+"")});const i={valueName:this.modify_value.name?this.modify_value.name:"",productFileIds:n,modifyColumn:"item_group"===this.modify_item||"service_site"===this.modify_item||"employee"===this.modify_item?this.modify_item+"_id":this.modify_item,modifyValue:this.modify_value.id?this.modify_value.id:this.modify_item.indexOf("_date")>=0?this.datePipe.transform(this.modify_value,"yyyy-MM-dd"):this.modify_value};i.modifyValue=!0===i.modifyValue?"1":!1===i.modifyValue?"0":i.modifyValue,this.visibleChanged.emit(i)}handleCancel(){this.visibleChanged.emit(null)}resetData(){this.form.reset({item_group_id:"",item_group_name:"\u5168\u90e8",customer_id:"",customer_name:"\u5168\u90e8",service_site_id:"",service_site_name:"\u5168\u90e8",employee_id:"",employee_name:"\u5168\u90e8",delivery_date_start:"",delivery_date_end:"",expiry_date_start:"",expiry_date_end:""}),this.modify_item="item_group",this.modify_value=""}searchData(){const e={itemGroups:this.form.value.item_group_id?this.form.value.item_group_id.split(","):[],customers:this.form.value.customer_id?this.form.value.customer_id.split(","):[],serviceSites:this.form.value.service_site_id?this.form.value.service_site_id.split(","):[],employees:this.form.value.employee_id?this.form.value.employee_id.split(","):[],deliveryDateStart:this.datePipe.transform(this.form.value.delivery_date_start,"yyyy-MM-dd")||"",deliveryDateEnd:this.datePipe.transform(this.form.value.delivery_date_end,"yyyy-MM-dd")||"",expiryDateStart:this.datePipe.transform(this.form.value.expiry_date_start,"yyyy-MM-dd")||"",expiryDateEnd:this.datePipe.transform(this.form.value.expiry_date_end,"yyyy-MM-dd")||""};this.child2.initData(e,{modify_item_label:this.modify_item,modify_item_name:this.modify_obj[this.modify_item],modify_item_value:this.modify_value})}resetSearch(){this.form.reset({item_group_id:"",item_group_name:"\u5168\u90e8",customer_id:"",customer_name:"\u5168\u90e8",service_site_id:"",service_site_name:"\u5168\u90e8",employee_id:"",employee_name:"\u5168\u90e8",delivery_date_start:"",delivery_date_end:"",expiry_date_start:"",expiry_date_end:""}),this.getOpenerIds(),this.child2.reset()}}return e.\u0275fac=function(t){return new(t||e)(o.\u0275\u0275directiveInject(d.FormBuilder),o.\u0275\u0275directiveInject(y.DwDapHttpClient),o.\u0275\u0275directiveInject(s.DwMessageService),o.\u0275\u0275directiveInject(i.DatePipe))},e.\u0275cmp=o.\u0275\u0275defineComponent({type:e,selectors:[["app-multy-modify-step1"]],viewQuery:function(e,t){if(1&e&&o.\u0275\u0275viewQuery(le,5),2&e){let e;o.\u0275\u0275queryRefresh(e=o.\u0275\u0275loadQuery())&&(t.child2=e.first)}},inputs:{visible:"visible"},outputs:{visibleChanged:"visibleChanged"},decls:4,vars:8,consts:[[3,"dwBodyStyle","dwMaskClosable","dwWidth","dwVisible","dwTitle","dwOkText","dwVisibleChange","dwOnCancel","dwOnOk"],["dwModalContent",""],[3,"visible","visibleChanged"],["child",""],[1,"sub-title",2,"margin-left","8px"],["dw-form","",2,"margin-left","-6px",3,"formGroup"],["dw-row","",1,"search-form-box"],[1,"search-input"],[1,"label"],[1,"form-input"],["dwSearch","",3,"dwSuffix"],["dw-input","","type","text","readonly","","dw-input","","formControlName","item_group_name"],["suffixcodeData",""],["dw-input","","type","text","readonly","","dw-input","","formControlName","customer_name"],["suffixcustomerData",""],[1,"search-input",2,"width","172px"],["dw-button","",3,"dwType","click"],[1,"isExpand",3,"click"],["dw-icon","","dwTheme","outline",3,"dwType"],["dw-input","","type","text","readonly","","dw-input","","formControlName","service_site_name"],["suffixsiteData",""],["dw-input","","type","text","readonly","","dw-input","","formControlName","employee_name"],["suffixemployeeData",""],[4,"ngIf"],["color","#e5e5e5"],["dw-row","",1,"search-form-box",2,"margin-left","-6px"],[2,"width","100%",3,"ngModel","ngModelChange"],[3,"dwLabel","dwValue"],[2,"margin-left","18px"],["child2",""],["dw-button","","dwType","primary","dwSearch","","type","button",3,"click"],["dw-icon","","dwType","search","dwTheme","outline"],[2,"display","flex","align-items","center"],["formControlName","delivery_date_start"],[2,"margin","0 8px"],["formControlName","delivery_date_end"],["formControlName","expiry_date_start"],["formControlName","expiry_date_end"],["dw-input","","type","text","readonly","","dw-input","",3,"ngModel","ngModelChange"],[3,"selectedChanged"],["selectOpener",""],[3,"ngModel","ngModelChange"],["dw-checkbox","",2,"color","rgba(0,0,0,0.85)","align-items","center",3,"ngModel","ngModelChange"]],template:function(e,t){1&e&&(o.\u0275\u0275elementStart(0,"dw-modal",0),o.\u0275\u0275listener("dwVisibleChange",function(e){return t.visible=e})("dwOnCancel",function(){return t.handleCancel()})("dwOnOk",function(){return t.handleOk()}),o.\u0275\u0275template(1,ve,76,28,"ng-template",1),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(2,"app-multy-all-select-opener",2,3),o.\u0275\u0275listener("visibleChanged",function(e){return t.openSelect(e)}),o.\u0275\u0275elementEnd()),2&e&&(o.\u0275\u0275property("dwBodyStyle",o.\u0275\u0275pureFunction0(7,Ce))("dwMaskClosable",!1)("dwWidth",1e3)("dwVisible",t.visible)("dwTitle","\u6279\u91cf\u4fee\u6539\u4ea7\u54c1\u6863\u6848")("dwOkText","\u7acb\u5373\u4fee\u6539"),o.\u0275\u0275advance(2),o.\u0275\u0275property("visible",t.showMultyAllOpener))},directives:[c.DwModalComponent,c.DwModalContentDirective,A,d.\u0275NgNoValidate,d.NgControlStatusGroup,$.DwFormDirective,d.FormGroupDirective,L.DwRowDirective,$.DwFormItemComponent,L.DwColDirective,$.DwFormControlComponent,Q.u,z.DwInputGroupComponent,z.DwInputGroupWhitSuffixOrPrefixDirective,z.DwInputDirective,d.DefaultValueAccessor,d.NgControlStatus,d.FormControlName,N.DwButtonComponent,Z.uG,q.DwIconDirective,i.NgIf,j.DwSelectComponent,d.NgModel,j.DwOptionComponent,de,B.DwDatePickerComponent,W.R,S.DwCheckboxComponent],pipes:[b.TranslatePipe],styles:[".search-form-box[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{width:calc((100% - 2 * 24px - 172px) / 2)}.search-form-box[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{width:82px;text-align:right}.search-form-box[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{flex:1}.sub-title[_ngcontent-%COMP%]{padding-left:8px}.isExpand[_ngcontent-%COMP%]{width:46px;white-space:nowrap;color:#1890ff;margin-left:16px;cursor:pointer}"]}),e})();var xe=n(88059),_e=n(82542),Se=n(64840);const be=["child"],Ee=["childStep2"],Ie=["childPreview"],De=["dwTableMulty"],Te=["dwTable"];function Oe(e,t){if(1&e){const e=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"button",50),o.\u0275\u0275listener("click",function(){return o.\u0275\u0275restoreView(e),o.\u0275\u0275nextContext().query()}),o.\u0275\u0275element(1,"em",51),o.\u0275\u0275elementEnd()}}function Me(e,t){if(1&e){const e=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"em",54),o.\u0275\u0275listener("click",function(){return o.\u0275\u0275restoreView(e),o.\u0275\u0275nextContext(2).clear("customer")}),o.\u0275\u0275elementEnd()}}function Fe(e,t){if(1&e){const e=o.\u0275\u0275getCurrentView();o.\u0275\u0275template(0,Me,1,0,"em",52),o.\u0275\u0275elementStart(1,"button",53),o.\u0275\u0275listener("click",function(){return o.\u0275\u0275restoreView(e),o.\u0275\u0275nextContext().openCustomer()}),o.\u0275\u0275element(2,"em",51),o.\u0275\u0275elementEnd()}if(2&e){const e=o.\u0275\u0275nextContext();o.\u0275\u0275property("ngIf",e.searchForm.value.customer_name),o.\u0275\u0275advance(1),o.\u0275\u0275propertyInterpolate("angularticsLabel",e.userInfo.tenantId+","+e.userInfo.userId),o.\u0275\u0275property("angularticsCategory","\u4ea7\u54c1\u6863\u6848")}}function Pe(e,t){if(1&e){const e=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"div",11),o.\u0275\u0275elementStart(1,"div"),o.\u0275\u0275text(2,"\xa0\xa0\xa0\xa0\u7c7b\u578b\xa0\xa0\xa0\xa0"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(3,"dw-form-item",13),o.\u0275\u0275elementStart(4,"dw-form-control"),o.\u0275\u0275elementStart(5,"dw-radio-group",60),o.\u0275\u0275listener("ngModelChange",function(){return o.\u0275\u0275restoreView(e),o.\u0275\u0275nextContext(2).radioChange()}),o.\u0275\u0275elementStart(6,"label",61),o.\u0275\u0275text(7,"\u5168\u90e8"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(8,"label",61),o.\u0275\u0275text(9,"\u4ea7\u7ebf/\u9879\u76ee"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(10,"label",61),o.\u0275\u0275text(11,"\u5355\u673a"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()}2&e&&(o.\u0275\u0275advance(6),o.\u0275\u0275property("dwValue",""),o.\u0275\u0275advance(2),o.\u0275\u0275property("dwValue","2"),o.\u0275\u0275advance(2),o.\u0275\u0275property("dwValue","1"))}function ke(e,t){if(1&e){const e=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"div"),o.\u0275\u0275elementStart(1,"div",10),o.\u0275\u0275elementStart(2,"div",11),o.\u0275\u0275elementStart(3,"div",12),o.\u0275\u0275text(4,"\u552e\u540e\u72b6\u6001"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(5,"dw-form-item",13),o.\u0275\u0275elementStart(6,"dw-form-control"),o.\u0275\u0275elementStart(7,"dw-select",55),o.\u0275\u0275listener("ngModelChange",function(t){return o.\u0275\u0275restoreView(e),o.\u0275\u0275nextContext().onOpenRange3(t)}),o.\u0275\u0275element(8,"dw-option",56),o.\u0275\u0275element(9,"dw-option",56),o.\u0275\u0275element(10,"dw-option",56),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(11,"div",11),o.\u0275\u0275elementStart(12,"div",12),o.\u0275\u0275text(13,"\u4e0b\u6b21\u7ef4\u62a4\u65e5\u671f"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(14,"dw-form-item",13),o.\u0275\u0275elementStart(15,"dw-form-control"),o.\u0275\u0275elementStart(16,"dw-date-picker",57),o.\u0275\u0275listener("ngModelChange",function(){return o.\u0275\u0275restoreView(e),o.\u0275\u0275nextContext().onOpenRange2()}),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275template(17,Pe,12,3,"div",58),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(18,"div",10),o.\u0275\u0275elementStart(19,"div",11),o.\u0275\u0275elementStart(20,"div",12),o.\u0275\u0275text(21,"\u914d\u4ef6\u5e8f\u5217\u53f7"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(22,"dw-form-item",13),o.\u0275\u0275elementStart(23,"dw-form-control"),o.\u0275\u0275elementStart(24,"dw-input-group"),o.\u0275\u0275element(25,"input",59),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()}if(2&e){const e=o.\u0275\u0275nextContext();o.\u0275\u0275advance(8),o.\u0275\u0275property("dwLabel","\u5168\u90e8")("dwValue",""),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwLabel","\u6b63\u5e38")("dwValue","1"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwLabel","\u62a5\u4fee\u4e2d")("dwValue","2"),o.\u0275\u0275advance(7),o.\u0275\u0275property("ngIf","0"===e.fileType)}}function Ve(e,t){1&e&&(o.\u0275\u0275elementStart(0,"th",68),o.\u0275\u0275elementStart(1,"span",30),o.\u0275\u0275text(2,"\u7f16\u7801"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd())}function Re(e,t){1&e&&(o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275template(1,Ve,3,0,"th",67),o.\u0275\u0275elementContainerEnd()),2&e&&(o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","product_file_code"))}function Ae(e,t){1&e&&(o.\u0275\u0275elementStart(0,"th",70),o.\u0275\u0275elementStart(1,"span",30),o.\u0275\u0275text(2,"\u540d\u79f0"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd())}function Le(e,t){1&e&&(o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275template(1,Ae,3,0,"th",69),o.\u0275\u0275elementContainerEnd()),2&e&&(o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","product_file_name"))}function $e(e,t){1&e&&(o.\u0275\u0275elementStart(0,"th",72),o.\u0275\u0275elementStart(1,"span",30),o.\u0275\u0275text(2,"\u4ea7\u54c1\u5206\u7c7b"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd())}function je(e,t){1&e&&(o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275template(1,$e,3,0,"th",71),o.\u0275\u0275elementContainerEnd()),2&e&&(o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","item_group_name"))}function Ne(e,t){1&e&&(o.\u0275\u0275elementStart(0,"th",74),o.\u0275\u0275elementStart(1,"span",30),o.\u0275\u0275text(2,"\u7c7b\u578b"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd())}function ze(e,t){1&e&&(o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275template(1,Ne,3,0,"th",73),o.\u0275\u0275elementContainerEnd()),2&e&&(o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","file_type_name"))}function qe(e,t){1&e&&(o.\u0275\u0275elementStart(0,"span",30),o.\u0275\u0275text(1,"\u5e8f\u5217\u53f7"),o.\u0275\u0275elementEnd())}function We(e,t){1&e&&(o.\u0275\u0275elementStart(0,"span",30),o.\u0275\u0275text(1,"\u9879\u76ee\u53f7"),o.\u0275\u0275elementEnd())}function Be(e,t){1&e&&(o.\u0275\u0275elementStart(0,"span",30),o.\u0275\u0275text(1,"\u5e8f\u5217\u53f7/\u9879\u76ee\u53f7"),o.\u0275\u0275elementEnd())}function Ue(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"th",74),o.\u0275\u0275template(1,qe,2,0,"span",75),o.\u0275\u0275template(2,We,2,0,"span",75),o.\u0275\u0275template(3,Be,2,0,"span",75),o.\u0275\u0275elementEnd()),2&e){const e=o.\u0275\u0275nextContext(3);o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf","1"===e.fileType),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf","2"===e.fileType),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf","0"===e.fileType)}}function Xe(e,t){1&e&&(o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275template(1,Ue,4,3,"th",73),o.\u0275\u0275elementContainerEnd()),2&e&&(o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","sn"))}function Ge(e,t){1&e&&(o.\u0275\u0275elementStart(0,"th",77),o.\u0275\u0275elementStart(1,"span",30),o.\u0275\u0275text(2,"\u89c4\u683c"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd())}function He(e,t){1&e&&(o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275template(1,Ge,3,0,"th",76),o.\u0275\u0275elementContainerEnd()),2&e&&(o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","specification"))}function Ke(e,t){1&e&&(o.\u0275\u0275elementStart(0,"th",74),o.\u0275\u0275elementStart(1,"span",30),o.\u0275\u0275text(2,"\u578b\u53f7"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd())}function Qe(e,t){1&e&&(o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275template(1,Ke,3,0,"th",73),o.\u0275\u0275elementContainerEnd()),2&e&&(o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","model"))}function Ze(e,t){1&e&&(o.\u0275\u0275elementStart(0,"th",79),o.\u0275\u0275elementStart(1,"span",30),o.\u0275\u0275text(2,"\u4f7f\u7528\u5730\u70b9"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd())}function Je(e,t){1&e&&(o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275template(1,Ze,3,0,"th",78),o.\u0275\u0275elementContainerEnd()),2&e&&(o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","location"))}function Ye(e,t){1&e&&(o.\u0275\u0275elementStart(0,"th",79),o.\u0275\u0275elementStart(1,"span",30),o.\u0275\u0275text(2,"\u670d\u52a1\u7ad9\u70b9"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd())}function et(e,t){1&e&&(o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275template(1,Ye,3,0,"th",78),o.\u0275\u0275elementContainerEnd()),2&e&&(o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","service_site_name"))}function tt(e,t){1&e&&(o.\u0275\u0275elementStart(0,"th",81),o.\u0275\u0275elementStart(1,"span",30),o.\u0275\u0275text(2,"\u670d\u52a1\u4eba\u5458"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd())}function nt(e,t){1&e&&(o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275template(1,tt,3,0,"th",80),o.\u0275\u0275elementContainerEnd()),2&e&&(o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","employee_name"))}function it(e,t){1&e&&(o.\u0275\u0275elementStart(0,"th",83),o.\u0275\u0275elementStart(1,"span",30),o.\u0275\u0275text(2,"\u5ba2\u6237"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd())}function rt(e,t){1&e&&(o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275template(1,it,3,0,"th",82),o.\u0275\u0275elementContainerEnd()),2&e&&(o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","customer_name"))}function ot(e,t){1&e&&(o.\u0275\u0275elementStart(0,"th",85),o.\u0275\u0275elementStart(1,"span",30),o.\u0275\u0275text(2,"\u51fa\u5e93\u65e5\u671f"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd())}function at(e,t){1&e&&(o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275template(1,ot,3,0,"th",84),o.\u0275\u0275elementContainerEnd()),2&e&&(o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","delivery_date"))}function dt(e,t){1&e&&(o.\u0275\u0275elementStart(0,"th",87),o.\u0275\u0275elementStart(1,"span",30),o.\u0275\u0275text(2,"\u5b89\u88c5\u65e5\u671f"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd())}function lt(e,t){1&e&&(o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275template(1,dt,3,0,"th",86),o.\u0275\u0275elementContainerEnd()),2&e&&(o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","installation_date"))}function st(e,t){1&e&&(o.\u0275\u0275elementStart(0,"th",85),o.\u0275\u0275elementStart(1,"span",30),o.\u0275\u0275text(2,"\u9a8c\u6536\u65e5\u671f"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd())}function ct(e,t){1&e&&(o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275template(1,st,3,0,"th",84),o.\u0275\u0275elementContainerEnd()),2&e&&(o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","acceptance_date"))}function mt(e,t){1&e&&(o.\u0275\u0275elementStart(0,"th",85),o.\u0275\u0275elementStart(1,"span",30),o.\u0275\u0275text(2,"\u4fdd\u4fee\u622a\u81f3\u65e5\u671f"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd())}function pt(e,t){1&e&&(o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275template(1,mt,3,0,"th",84),o.\u0275\u0275elementContainerEnd()),2&e&&(o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","expiry_date"))}function ut(e,t){1&e&&(o.\u0275\u0275elementStart(0,"th",74),o.\u0275\u0275elementStart(1,"span",30),o.\u0275\u0275text(2,"\u63cf\u8ff0"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd())}function ft(e,t){1&e&&(o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275template(1,ut,3,0,"th",73),o.\u0275\u0275elementContainerEnd()),2&e&&(o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","product_description"))}function wt(e,t){1&e&&(o.\u0275\u0275elementStart(0,"th",89),o.\u0275\u0275elementStart(1,"span",30),o.\u0275\u0275text(2,"\u7ef4\u4fee\u6b21\u6570"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()),2&e&&o.\u0275\u0275property("dwAlign","right")}function ht(e,t){1&e&&(o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275template(1,wt,3,1,"th",88),o.\u0275\u0275elementContainerEnd()),2&e&&(o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","maintenance_count"))}function gt(e,t){1&e&&(o.\u0275\u0275elementStart(0,"th",91),o.\u0275\u0275elementStart(1,"span",30),o.\u0275\u0275text(2,"\u552e\u540e\u72b6\u6001"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()),2&e&&o.\u0275\u0275property("dwAlign","center")}function vt(e,t){1&e&&(o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275template(1,gt,3,1,"th",90),o.\u0275\u0275elementContainerEnd()),2&e&&(o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","service_status"))}function Ct(e,t){1&e&&(o.\u0275\u0275elementStart(0,"th",91),o.\u0275\u0275elementStart(1,"span",30),o.\u0275\u0275text(2,"\u4ea7\u54c1\u5c65\u5386"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()),2&e&&o.\u0275\u0275property("dwAlign","center")}function yt(e,t){1&e&&(o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275template(1,Ct,3,1,"th",90),o.\u0275\u0275elementContainerEnd()),2&e&&(o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","product_resume"))}function xt(e,t){1&e&&(o.\u0275\u0275elementStart(0,"th",91),o.\u0275\u0275elementStart(1,"span",30),o.\u0275\u0275text(2,"\u64cd\u4f5c"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()),2&e&&o.\u0275\u0275property("dwAlign","center")}function _t(e,t){1&e&&(o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275template(1,xt,3,1,"th",90),o.\u0275\u0275elementContainerEnd()),2&e&&(o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","operation"))}function St(e,t){if(1&e){const e=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"td",94),o.\u0275\u0275elementStart(1,"a",95),o.\u0275\u0275listener("click",function(){o.\u0275\u0275restoreView(e);const t=o.\u0275\u0275nextContext(2).$implicit;return o.\u0275\u0275nextContext(2).detail(t)}),o.\u0275\u0275text(2),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()}if(2&e){const e=o.\u0275\u0275nextContext(2).$implicit,t=o.\u0275\u0275nextContext(2);o.\u0275\u0275advance(1),o.\u0275\u0275propertyInterpolate("angularticsLabel",t.userInfo.tenantId+","+t.userInfo.userId),o.\u0275\u0275property("angularticsCategory","\u4ea7\u54c1\u6863\u6848"),o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate(e.product_file_code)}}function bt(e,t){1&e&&(o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275template(1,St,3,3,"td",93),o.\u0275\u0275elementContainerEnd()),2&e&&(o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","product_file_code"))}function Et(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"td",97),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&e){const e=o.\u0275\u0275nextContext(2).$implicit;o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",e.product_file_name," ")}}function It(e,t){1&e&&(o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275template(1,Et,2,1,"td",96),o.\u0275\u0275elementContainerEnd()),2&e&&(o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","product_file_name"))}function Dt(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"td",99),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&e){const e=o.\u0275\u0275nextContext(2).$implicit;o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",e.item_group_name," ")}}function Tt(e,t){1&e&&(o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275template(1,Dt,2,1,"td",98),o.\u0275\u0275elementContainerEnd()),2&e&&(o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","item_group_name"))}function Ot(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"td",101),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&e){const e=o.\u0275\u0275nextContext(2).$implicit;o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ","1"===e.file_type?"\u5355\u673a":"\u4ea7\u7ebf/\u9879\u76ee"," ")}}function Mt(e,t){1&e&&(o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275template(1,Ot,2,1,"td",100),o.\u0275\u0275elementContainerEnd()),2&e&&(o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","file_type_name"))}function Ft(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"td",99),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&e){const e=o.\u0275\u0275nextContext(2).$implicit;o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",e.sn," ")}}function Pt(e,t){1&e&&(o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275template(1,Ft,2,1,"td",98),o.\u0275\u0275elementContainerEnd()),2&e&&(o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","sn"))}function kt(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"td",97),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&e){const e=o.\u0275\u0275nextContext(2).$implicit;o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",e.specification," ")}}function Vt(e,t){1&e&&(o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275template(1,kt,2,1,"td",96),o.\u0275\u0275elementContainerEnd()),2&e&&(o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","specification"))}function Rt(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"td",99),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&e){const e=o.\u0275\u0275nextContext(2).$implicit;o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",e.model," ")}}function At(e,t){1&e&&(o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275template(1,Rt,2,1,"td",98),o.\u0275\u0275elementContainerEnd()),2&e&&(o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","model"))}function Lt(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"td",103),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&e){const e=o.\u0275\u0275nextContext(2).$implicit;o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",e.location," ")}}function $t(e,t){1&e&&(o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275template(1,Lt,2,1,"td",102),o.\u0275\u0275elementContainerEnd()),2&e&&(o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","location"))}function jt(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"td",103),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&e){const e=o.\u0275\u0275nextContext(2).$implicit;o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",e.service_site_name," ")}}function Nt(e,t){1&e&&(o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275template(1,jt,2,1,"td",102),o.\u0275\u0275elementContainerEnd()),2&e&&(o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","service_site_name"))}function zt(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"td",105),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&e){const e=o.\u0275\u0275nextContext(2).$implicit;o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",e.employee_name," ")}}function qt(e,t){1&e&&(o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275template(1,zt,2,1,"td",104),o.\u0275\u0275elementContainerEnd()),2&e&&(o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","employee_name"))}function Wt(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"td",107),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&e){const e=o.\u0275\u0275nextContext(2).$implicit;o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",e.customer_name," ")}}function Bt(e,t){1&e&&(o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275template(1,Wt,2,1,"td",106),o.\u0275\u0275elementContainerEnd()),2&e&&(o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","customer_name"))}function Ut(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"td",109),o.\u0275\u0275text(1),o.\u0275\u0275pipe(2,"date"),o.\u0275\u0275elementEnd()),2&e){const e=o.\u0275\u0275nextContext(2).$implicit;o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",o.\u0275\u0275pipeBind2(2,1,e.delivery_date,"yyyy/MM/dd")," ")}}function Xt(e,t){1&e&&(o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275template(1,Ut,3,4,"td",108),o.\u0275\u0275elementContainerEnd()),2&e&&(o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","delivery_date"))}function Gt(e,t){if(1&e&&(o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275text(1),o.\u0275\u0275pipe(2,"date"),o.\u0275\u0275pipe(3,"date"),o.\u0275\u0275elementContainerEnd()),2&e){const e=o.\u0275\u0275nextContext(3).$implicit;o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate2(" ",o.\u0275\u0275pipeBind2(2,2,e.installation_date,"yyyy/MM/dd"),"~",o.\u0275\u0275pipeBind2(3,5,e.installation_date_end,"yyyy/MM/dd")," ")}}function Ht(e,t){if(1&e&&(o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275text(1),o.\u0275\u0275pipe(2,"date"),o.\u0275\u0275elementContainerEnd()),2&e){const e=o.\u0275\u0275nextContext(3).$implicit;o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",o.\u0275\u0275pipeBind2(2,1,e.installation_date,"yyyy/MM/dd")," ")}}function Kt(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"td",111),o.\u0275\u0275template(1,Gt,4,8,"ng-container",24),o.\u0275\u0275template(2,Ht,3,4,"ng-container",24),o.\u0275\u0275elementEnd()),2&e){const e=o.\u0275\u0275nextContext(2).$implicit;o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",e.installation_date&&e.installation_date_end),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",!e.installation_date_end)}}function Qt(e,t){1&e&&(o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275template(1,Kt,3,2,"td",110),o.\u0275\u0275elementContainerEnd()),2&e&&(o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","installation_date"))}function Zt(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"td",109),o.\u0275\u0275text(1),o.\u0275\u0275pipe(2,"date"),o.\u0275\u0275elementEnd()),2&e){const e=o.\u0275\u0275nextContext(2).$implicit;o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",o.\u0275\u0275pipeBind2(2,1,e.acceptance_date,"yyyy/MM/dd")," ")}}function Jt(e,t){1&e&&(o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275template(1,Zt,3,4,"td",108),o.\u0275\u0275elementContainerEnd()),2&e&&(o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","acceptance_date"))}function Yt(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"td",109),o.\u0275\u0275text(1),o.\u0275\u0275pipe(2,"date"),o.\u0275\u0275elementEnd()),2&e){const e=o.\u0275\u0275nextContext(2).$implicit;o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",o.\u0275\u0275pipeBind2(2,1,e.expiry_date,"yyyy/MM/dd")," ")}}function en(e,t){1&e&&(o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275template(1,Yt,3,4,"td",108),o.\u0275\u0275elementContainerEnd()),2&e&&(o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","expiry_date"))}function tn(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"td",99),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&e){const e=o.\u0275\u0275nextContext(2).$implicit;o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",e.product_description," ")}}function nn(e,t){1&e&&(o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275template(1,tn,2,1,"td",98),o.\u0275\u0275elementContainerEnd()),2&e&&(o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","product_description"))}function rn(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"td",113),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&e){const e=o.\u0275\u0275nextContext(2).$implicit;o.\u0275\u0275property("dwAlign","right"),o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",e.maintenance_count," ")}}function on(e,t){1&e&&(o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275template(1,rn,2,2,"td",112),o.\u0275\u0275elementContainerEnd()),2&e&&(o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","maintenance_count"))}function an(e,t){1&e&&(o.\u0275\u0275elementStart(0,"span",117),o.\u0275\u0275text(1,"\u6b63\u5e38"),o.\u0275\u0275elementEnd())}function dn(e,t){1&e&&(o.\u0275\u0275elementStart(0,"span",118),o.\u0275\u0275text(1,"\u62a5\u4fee\u4e2d"),o.\u0275\u0275elementEnd())}function ln(e,t){1&e&&(o.\u0275\u0275elementStart(0,"span",119),o.\u0275\u0275text(1,"\u5df2\u56de\u6536"),o.\u0275\u0275elementEnd())}function sn(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"td",91),o.\u0275\u0275template(1,an,2,0,"span",114),o.\u0275\u0275template(2,dn,2,0,"span",115),o.\u0275\u0275template(3,ln,2,0,"span",116),o.\u0275\u0275elementEnd()),2&e){const e=o.\u0275\u0275nextContext(2).$implicit;o.\u0275\u0275property("dwAlign","center"),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf","1"===e.service_status),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf","2"===e.service_status),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf","3"===e.service_status)}}function cn(e,t){1&e&&(o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275template(1,sn,4,4,"td",90),o.\u0275\u0275elementContainerEnd()),2&e&&(o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","service_status"))}function mn(e,t){if(1&e){const e=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"td",121),o.\u0275\u0275elementStart(1,"a",122),o.\u0275\u0275listener("dwClick",function(){o.\u0275\u0275restoreView(e);const t=o.\u0275\u0275nextContext(2).$implicit;return o.\u0275\u0275nextContext(2).goProductResume(t)}),o.\u0275\u0275text(2," \u67e5\u770b "),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()}if(2&e){const e=o.\u0275\u0275nextContext(4);o.\u0275\u0275property("dwAlign","center"),o.\u0275\u0275advance(1),o.\u0275\u0275propertyInterpolate("angularticsLabel",e.userInfo.tenantId+","+e.userInfo.userId),o.\u0275\u0275property("dwActionId","resume")("dwDefaultAuthorized","disabled")("angularticsCategory","\u4ea7\u54c1\u6863\u6848")}}function pn(e,t){1&e&&(o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275template(1,mn,3,5,"td",120),o.\u0275\u0275elementContainerEnd()),2&e&&(o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","product_resume"))}function un(e,t){if(1&e){const e=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"div",128),o.\u0275\u0275elementStart(1,"a",129),o.\u0275\u0275listener("dwOnConfirm",function(){o.\u0275\u0275restoreView(e);const t=o.\u0275\u0275nextContext(3).$implicit;return o.\u0275\u0275nextContext(2).delete(t.product_file_id)}),o.\u0275\u0275pipe(2,"translate"),o.\u0275\u0275pipe(3,"translate"),o.\u0275\u0275pipe(4,"translate"),o.\u0275\u0275elementStart(5,"a",130),o.\u0275\u0275element(6,"img",131),o.\u0275\u0275element(7,"img",132),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()}2&e&&(o.\u0275\u0275property("dwActionId","delete")("dwDefaultAuthorized","disabled"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwPopconfirmTitle",o.\u0275\u0275pipeBind1(2,6,"\u662f\u5426\u5220\u9664"))("dwOkText",o.\u0275\u0275pipeBind1(3,8,"dw-determine"))("dwCancelText",o.\u0275\u0275pipeBind1(4,10,"dw-cancel"))("dwPopconfirmPlacement","topRight"))}function fn(e,t){if(1&e){const e=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"td",91),o.\u0275\u0275elementStart(1,"div",123),o.\u0275\u0275elementStart(2,"div",124),o.\u0275\u0275listener("click",function(){o.\u0275\u0275restoreView(e);const t=o.\u0275\u0275nextContext(2).$implicit;return o.\u0275\u0275nextContext(2).modify(t)}),o.\u0275\u0275element(3,"img",125),o.\u0275\u0275element(4,"img",126),o.\u0275\u0275elementEnd(),o.\u0275\u0275template(5,un,8,12,"div",127),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()}if(2&e){const e=o.\u0275\u0275nextContext(2).$implicit,t=o.\u0275\u0275nextContext(2);o.\u0275\u0275property("dwAlign","center"),o.\u0275\u0275advance(2),o.\u0275\u0275propertyInterpolate("angularticsLabel",t.userInfo.tenantId+","+t.userInfo.userId),o.\u0275\u0275property("dwActionId","modify")("dwDefaultAuthorized","disabled")("angularticsCategory","\u4ea7\u54c1\u6863\u6848"),o.\u0275\u0275advance(3),o.\u0275\u0275property("ngIf","1"===e.source)}}function wn(e,t){1&e&&(o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275template(1,fn,6,6,"td",90),o.\u0275\u0275elementContainerEnd()),2&e&&(o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","operation"))}function hn(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"tr",92),o.\u0275\u0275template(1,bt,2,1,"ng-container",24),o.\u0275\u0275template(2,It,2,1,"ng-container",24),o.\u0275\u0275template(3,Tt,2,1,"ng-container",24),o.\u0275\u0275template(4,Mt,2,1,"ng-container",24),o.\u0275\u0275template(5,Pt,2,1,"ng-container",24),o.\u0275\u0275template(6,Vt,2,1,"ng-container",24),o.\u0275\u0275template(7,At,2,1,"ng-container",24),o.\u0275\u0275template(8,$t,2,1,"ng-container",24),o.\u0275\u0275template(9,Nt,2,1,"ng-container",24),o.\u0275\u0275template(10,qt,2,1,"ng-container",24),o.\u0275\u0275template(11,Bt,2,1,"ng-container",24),o.\u0275\u0275template(12,Xt,2,1,"ng-container",24),o.\u0275\u0275template(13,Qt,2,1,"ng-container",24),o.\u0275\u0275template(14,Jt,2,1,"ng-container",24),o.\u0275\u0275template(15,en,2,1,"ng-container",24),o.\u0275\u0275template(16,nn,2,1,"ng-container",24),o.\u0275\u0275template(17,on,2,1,"ng-container",24),o.\u0275\u0275template(18,cn,2,1,"ng-container",24),o.\u0275\u0275template(19,pn,2,1,"ng-container",24),o.\u0275\u0275template(20,wn,2,1,"ng-container",24),o.\u0275\u0275elementEnd()),2&e){const e=o.\u0275\u0275nextContext(2);o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",e.showFile),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",e.showFile),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",e.showFile),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf","0"===e.fileType),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",e.showFile),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",e.showFile&&e.specification_enable),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",e.showFile&&e.model_enable),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",e.showFile&&e.location_enable),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",e.showFile&&e.service_site_name_enable),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",e.showFile&&e.employee_name_enable),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",e.showFile),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",e.showFile),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",e.showFile),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",e.showFile&&e.acceptance_date_enable),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",e.showFile),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",e.showFile&&e.product_description_enable),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",e.showFile&&e.maintenance_count_enable),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",e.showFile),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",e.showFile),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",e.showFile)}}const gn=function(){return{x:"2000px",y:"calc(100vh - 171px - 130px)"}};function vn(e,t){if(1&e){const e=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275elementStart(1,"dw-table",62,63),o.\u0275\u0275listener("dwPageIndexChange",function(t){return o.\u0275\u0275restoreView(e),o.\u0275\u0275nextContext().search.pageIndex=t})("dwPageSizeChange",function(t){return o.\u0275\u0275restoreView(e),o.\u0275\u0275nextContext().search.pageSize=t})("dwCurrentPageDataChange",function(t){return o.\u0275\u0275restoreView(e),o.\u0275\u0275nextContext().currentPageDataChange(t)}),o.\u0275\u0275elementStart(3,"thead",64),o.\u0275\u0275listener("dwSortOrderChange",function(t){return o.\u0275\u0275restoreView(e),o.\u0275\u0275nextContext().order(t)}),o.\u0275\u0275elementStart(4,"tr",65),o.\u0275\u0275template(5,Re,2,1,"ng-container",24),o.\u0275\u0275template(6,Le,2,1,"ng-container",24),o.\u0275\u0275template(7,je,2,1,"ng-container",24),o.\u0275\u0275template(8,ze,2,1,"ng-container",24),o.\u0275\u0275template(9,Xe,2,1,"ng-container",24),o.\u0275\u0275template(10,He,2,1,"ng-container",24),o.\u0275\u0275template(11,Qe,2,1,"ng-container",24),o.\u0275\u0275template(12,Je,2,1,"ng-container",24),o.\u0275\u0275template(13,et,2,1,"ng-container",24),o.\u0275\u0275template(14,nt,2,1,"ng-container",24),o.\u0275\u0275template(15,rt,2,1,"ng-container",24),o.\u0275\u0275template(16,at,2,1,"ng-container",24),o.\u0275\u0275template(17,lt,2,1,"ng-container",24),o.\u0275\u0275template(18,ct,2,1,"ng-container",24),o.\u0275\u0275template(19,pt,2,1,"ng-container",24),o.\u0275\u0275template(20,ft,2,1,"ng-container",24),o.\u0275\u0275template(21,ht,2,1,"ng-container",24),o.\u0275\u0275template(22,vt,2,1,"ng-container",24),o.\u0275\u0275template(23,yt,2,1,"ng-container",24),o.\u0275\u0275template(24,_t,2,1,"ng-container",24),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(25,"tbody"),o.\u0275\u0275template(26,hn,21,20,"tr",66),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementContainerEnd()}if(2&e){const e=o.\u0275\u0275reference(2),t=o.\u0275\u0275nextContext(),n=o.\u0275\u0275reference(80);o.\u0275\u0275advance(1),o.\u0275\u0275property("dwData",t.dataList)("dwPageIndex",t.search.pageIndex)("dwPageSize",t.search.pageSize)("dwScroll",o.\u0275\u0275pureFunction0(26,gn))("dwShowTotal",n),o.\u0275\u0275advance(4),o.\u0275\u0275property("ngIf",t.showFile),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",t.showFile),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",t.showFile),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf","0"===t.fileType),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",t.showFile),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",t.showFile&&t.specification_enable),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",t.showFile&&t.model_enable),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",t.showFile&&t.location_enable),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",t.showFile&&t.service_site_name_enable),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",t.showFile&&t.employee_name_enable),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",t.showFile),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",t.showFile),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",t.showFile),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",t.showFile&&t.acceptance_date_enable),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",t.showFile),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",t.showFile&&t.product_description_enable),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",t.showFile&&t.maintenance_count_enable),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",t.showFile),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",t.showFile),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",t.showFile),o.\u0275\u0275advance(2),o.\u0275\u0275property("ngForOf",e.data)}}function Cn(e,t){if(1&e){const e=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"app-product-file-detail",133,134),o.\u0275\u0275listener("visibleChanged",function(t){return o.\u0275\u0275restoreView(e),o.\u0275\u0275nextContext().changeRecycleVisible(t)}),o.\u0275\u0275elementEnd()}}function yn(e,t){if(1&e){const e=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"div",135),o.\u0275\u0275text(1," \u4ea7\u54c1\u6863\u6848 "),o.\u0275\u0275elementStart(2,"img",136),o.\u0275\u0275listener("click",function(){return o.\u0275\u0275restoreView(e),o.\u0275\u0275nextContext().child.showQrcode()}),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()}}function xn(e,t){if(1&e&&o.\u0275\u0275text(0),2&e){const e=o.\u0275\u0275nextContext();o.\u0275\u0275textInterpolate1("\u5171 ",e.dataList.length," \u6761")}}function _n(e,t){if(1&e&&o.\u0275\u0275text(0),2&e){const e=o.\u0275\u0275nextContext();o.\u0275\u0275textInterpolate1("\u5171 ",e.multyFailList.length," \u6761")}}function Sn(e,t){1&e&&(o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275elementStart(1,"th",140),o.\u0275\u0275elementStart(2,"span",30),o.\u0275\u0275text(3,"\u670d\u52a1\u4eba\u5458"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(4,"th",140),o.\u0275\u0275elementStart(5,"span",30),o.\u0275\u0275text(6,"\u670d\u52a1\u7ad9\u70b9"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementContainerEnd())}function bn(e,t){1&e&&(o.\u0275\u0275elementStart(0,"th",140),o.\u0275\u0275elementStart(1,"span",30),o.\u0275\u0275text(2,"\u670d\u52a1\u7ad9\u70b9"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd())}function En(e,t){1&e&&(o.\u0275\u0275elementStart(0,"th",140),o.\u0275\u0275elementStart(1,"span",30),o.\u0275\u0275text(2,"\u4fdd\u4fee\u622a\u6b62\u65e5\u671f"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd())}function In(e,t){1&e&&(o.\u0275\u0275elementStart(0,"th",140),o.\u0275\u0275elementStart(1,"span",30),o.\u0275\u0275text(2,"\u51fa\u5e93\u65e5\u671f"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd())}function Dn(e,t){if(1&e&&(o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275elementStart(1,"td"),o.\u0275\u0275text(2),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(3,"td"),o.\u0275\u0275text(4),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementContainerEnd()),2&e){const e=o.\u0275\u0275nextContext().$implicit;o.\u0275\u0275advance(2),o.\u0275\u0275textInterpolate1(" ",e.employeeInfo," "),o.\u0275\u0275advance(2),o.\u0275\u0275textInterpolate1(" ",e.serviceSiteInfo," ")}}function Tn(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"td"),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&e){const e=o.\u0275\u0275nextContext().$implicit;o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",e.serviceSiteInfo," ")}}function On(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"td"),o.\u0275\u0275text(1),o.\u0275\u0275pipe(2,"date"),o.\u0275\u0275elementEnd()),2&e){const e=o.\u0275\u0275nextContext().$implicit;o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",o.\u0275\u0275pipeBind2(2,1,e.expiryDate,"yyyy/MM/dd")," ")}}function Mn(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"td"),o.\u0275\u0275text(1),o.\u0275\u0275pipe(2,"date"),o.\u0275\u0275elementEnd()),2&e){const e=o.\u0275\u0275nextContext().$implicit;o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",o.\u0275\u0275pipeBind2(2,1,e.deliveryDate,"yyyy/MM/dd")," ")}}function Fn(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"tr"),o.\u0275\u0275elementStart(1,"td"),o.\u0275\u0275text(2),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(3,"td"),o.\u0275\u0275text(4),o.\u0275\u0275elementEnd(),o.\u0275\u0275template(5,Dn,5,2,"ng-container",24),o.\u0275\u0275template(6,Tn,2,1,"td",24),o.\u0275\u0275template(7,On,3,4,"td",24),o.\u0275\u0275template(8,Mn,3,4,"td",24),o.\u0275\u0275elementEnd()),2&e){const e=t.$implicit,n=o.\u0275\u0275nextContext(2);o.\u0275\u0275advance(2),o.\u0275\u0275textInterpolate1(" ",e.productFile," "),o.\u0275\u0275advance(2),o.\u0275\u0275textInterpolate1(" ",e.sn," "),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf","service_site"===n.modifyColumn),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf","employee"===n.modifyColumn),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf","delivery_date"===n.modifyColumn),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf","expiry_date"===n.modifyColumn)}}function Pn(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"dw-table",137,138),o.\u0275\u0275elementStart(2,"thead"),o.\u0275\u0275elementStart(3,"tr",139),o.\u0275\u0275elementStart(4,"th",140),o.\u0275\u0275elementStart(5,"span",30),o.\u0275\u0275text(6,"\u4ea7\u54c1"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(7,"th",140),o.\u0275\u0275elementStart(8,"span",30),o.\u0275\u0275text(9,"\u5e8f\u5217\u53f7"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275template(10,Sn,7,0,"ng-container",24),o.\u0275\u0275template(11,bn,3,0,"th",141),o.\u0275\u0275template(12,En,3,0,"th",141),o.\u0275\u0275template(13,In,3,0,"th",141),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(14,"tbody"),o.\u0275\u0275template(15,Fn,9,6,"tr",142),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()),2&e){const e=o.\u0275\u0275reference(1),t=o.\u0275\u0275nextContext(),n=o.\u0275\u0275reference(82);o.\u0275\u0275property("dwData",t.multyFailList)("dwShowTotal",n),o.\u0275\u0275advance(10),o.\u0275\u0275property("ngIf","service_site"===t.modifyColumn),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf","employee"===t.modifyColumn),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf","delivery_date"===t.modifyColumn),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf","expiry_date"===t.modifyColumn),o.\u0275\u0275advance(2),o.\u0275\u0275property("ngForOf",e.data)}}const kn=function(){return{overflow:"auto"}};let Vn=(()=>{class e{constructor(t,n,i,r,o,a,d,l,s,c,m,p,u){if(this.tableConfigDiffService=t,this.commonHttpService=n,this.router=i,this._route=r,this.productFileSrv=o,this.customerSrv=a,this.message=d,this.modalService=l,this.analytics=s,this.userService=c,this.newCustomerService=m,this.fb=p,this.datePipe=u,this.DW_IN_MFA=C.ns,this.search={pageIndex:1,pageSize:10},this.dataList=[],this.displayData=[],this.indeterminate=!1,this.isCollapsed=!1,this.param="",this.isIntegrated=!1,this.fileType="0",this._showFile=!1,this.configDiffSubscription=new h.Subscription,this.showStep1=!1,this.multyFailList=[],this.modifyColumn="",this.service_site_name_enable=!0,this.maintenance_count_enable=!0,this.specification_enable=!0,this.model_enable=!0,this.location_enable=!0,this.employee_name_enable=!0,this.product_description_enable=!0,this.acceptance_date_enable=!0,this.lastParam="",this.dataSource="1",this.isSearchExpand=!1,this.isDownloading=!1,this.userInfo={tenantId:"",userId:""},e.useKeeper&&e.keeper)return e.keeper}get showFile(){return this._showFile}set showFile(e){this._showFile=e,e&&setTimeout(()=>{this.deleteConfigSubscription&&this.deleteConfigSubscription.unsubscribe(),this.deleteConfigSubscription=this._table.dwTableConfigService.deleteConfigSubject$.subscribe(e=>{this.tableConfigDiffService.isDeleteConfigDiff(e)})},0)}set table(e){e&&(this._table=e)}ngOnInit(){this.configDiffSubscription.add(this.tableConfigDiffService.diffSubject$.subscribe(e=>{e&&this.modalService.warning({dwContent:"\u8868\u5355\u8bbe\u5b9a\u53d1\u751f\u53d8\u52a8,\u5c06\u91cd\u65b0\u6574\u7406",dwOnOk:()=>{this.loadData()}})})),this.subscription=this.router.events.subscribe(t=>{if(t instanceof r.NavigationStart){const n=this.router.parseUrl(this.router.url).root.children[r.PRIMARY_OUTLET].segments,i=this.router.parseUrl(t.url).root.children[r.PRIMARY_OUTLET].segments,o=n[n.length-1].path,a=i[i.length-1].path,d="product-resume"===o&&"product-file"===a;"product-file"===o&&"product-resume"===a||d?(e.useKeeper=!0,e.keeper=this):(e.useKeeper=!1,e.keeper=this)}}),this.userInfo=this.userService.getUserInfo(),this.commonHttpService.get("restful/service/serviceOrder/ServiceOrder/IsShowTypeOption").subscribe(e=>{this.fileType=e.data},e=>{e.hasOwnProperty("error")&&e.error.hasOwnProperty("errorMessage")&&e.error.errorMessage&&this.message.error(e.error.errorMessage)}),(!e.useKeeper||!e.keeper)&&this.init()}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe(),this.deleteConfigSubscription&&this.deleteConfigSubscription.unsubscribe(),this.configDiffSubscription&&this.configDiffSubscription.unsubscribe()}init(){this.searchForm=this.fb.group({}),this.searchForm.addControl("date_range",new d.FormControl("")),this.searchForm.addControl("customer_id",new d.FormControl("")),this.searchForm.addControl("customer_name",new d.FormControl("")),this.searchForm.addControl("next_maintain_date",new d.FormControl("")),this.searchForm.addControl("serviceStatus",new d.FormControl("")),this.searchForm.addControl("checkExpiryDate",new d.FormControl(!1)),this.searchForm.addControl("file_type",new d.FormControl("")),this.searchForm.addControl("SN",new d.FormControl("")),this.param="",this.loadData()}reset(){this.init()}isShowSearchExpand(){this.isSearchExpand=!this.isSearchExpand}loadData(){this.showFile=!1,this.search={pageIndex:1,pageSize:10},this.lastValue=this.searchForm.value,this.lastParam=this.param,this.dataSource="1",this.productFileSrv.getProductFileList(this.searchForm.value,this.param,this.dataSource).subscribe(e=>{this.dataList=e||[],this.dataList.filter(e=>"1"===e.file_type),this.commonHttpService.get("restful/service/autoSettings/CustomView/FormSetting?viewId=product_file").subscribe(e=>{this.service_site_name_enable=e.service_site_name,this.maintenance_count_enable=e.maintenance_count,this.specification_enable=e.specification,this.model_enable=e.model,this.location_enable=e.location,this.employee_name_enable=e.employee_name,this.product_description_enable=e.product_description,this.acceptance_date_enable=e.acceptance_date,this.showFile=!0})})}changeRecycleVisible(e){this.isCollapsed=!1,e&&this.loadData()}showMultyModify(){this.showStep1=!0}changeStep1Visible(e){if(console.log(e),e){const t=e.modifyColumn.split("_id")[0],n="service_site"===t?"\u670d\u52a1\u7ad9\u70b9":"employee"===t?"\u670d\u52a1\u4eba\u5458":"enable_maintain"===t?"\u7ef4\u62a4\u4fdd\u517b":"\u4ea7\u54c1\u5206\u7c7b",i=e.valueName?e.valueName:"0"===e.modifyValue?"\u5173\u95ed":"\u5f00\u542f";this.modifyColumn=t;const r={modifyColumn:e.modifyColumn,modifyValue:e.modifyValue,productFileIds:e.productFileIds};this.modalService.warning({dwTitle:"\u6279\u91cf\u4fee\u6539\u786e\u8ba4",dwContent:`<div>\u672c\u6b21\u5c06\u6279\u91cf\u4fee\u6539<b style="color:#0D9DEF">${e.productFileIds.length}</b>\u6761\u4ea7\u54c1\u6863\u6848\u5185\u5bb9\uff1a</div>\n                    <b>\u3010${n}\u3011 \u8c03\u6574\u4e3a\uff1a${i}</b>\n                    <div>\u66f4\u65b0\u540e\u5c06\u65e0\u6cd5\u64a4\u56de\uff0c\u786e\u5b9a\u4fee\u6539\u5417?</div>`,dwOkText:"\u786e\u8ba4",dwOkType:"primary",dwOnOk:()=>{this.commonHttpService.put("restful/service/productFile/ProductFile/BatchModifiyProductFile",r).subscribe(e=>{console.log(e),this.multyModifySucc(e)},e=>{e.hasOwnProperty("error")&&e.error.hasOwnProperty("errorMessage")&&e.error.errorMessage&&this.message.error(e.error.errorMessage)})},dwCancelText:"\u53d6\u6d88",dwOnCancel:()=>{}})}else this.showStep1=!1}multyModifySucc(e){e.errorList.length?(this.multyFailList=e.errorList,this.modalService.create({dwTitle:e.errorMessage,dwWidth:"800px",dwContent:this.dwTableMulty,dwFooter:null})):(this.message.create("success","\u6279\u91cf\u4fee\u6539\u6210\u529f"),this.loadData(),this.showStep1=!1)}resetForm(){this.searchForm.reset({bianma:"",mingcheng:"",date_range:"",customer_id:"",customer_name:"",serviceStatus:"",checkExpiryDate:!1,file_type:""}),this.loadData()}clear(e){"customer"===e&&(this.searchForm.get(e+"_id").setValue(""),this.searchForm.get(e+"_name").setValue(""))}goProductResume(e){this.router.navigateByUrl(`${this.DW_IN_MFA?"/assc_crs":""}/bases/product-file/product-resume?id=${e.product_file_id}&fromPage=1`)}goRecycledList(){this.router.navigateByUrl((this.DW_IN_MFA?"/assc_crs":"")+"/bases/product-file/recycled-list")}goCreateOrModify(e,t){this.router.navigateByUrl(e?`${this.DW_IN_MFA?"/assc_crs":""}/bases/product-file/product-file-modify/${e}?file_type=${t}`:`${this.DW_IN_MFA?"/assc_crs":""}/bases/product-file/product-file-create?file_type=${t}`)}create(e){this.type="create",this.goCreateOrModify("",e)}detail(e){this.isCollapsed=!0,setTimeout(()=>{this.child.initData(e.product_file_id,e.file_type)})}modify(e){this.type="modify",this.goCreateOrModify(e.product_file_id,e.file_type)}delete(e){this.deleteMul([e])}deleteMul(e){console.log(e),e.length>0&&this.productFileSrv.deleteProductFile(e).subscribe(e=>{!0===e.success?null!==e.data&&null!==e.data.data&&!1===e.data.data.success?this.message.create("error",e.data.data.message):(this.message.create("success","\u64cd\u4f5c\u6210\u529f\uff01"),this.loadData()):this.message.create("error","\u64cd\u4f5c\u5931\u8d25\uff01")})}popConfirm(e){console.log(e),this.searchForm.get(e.fieldName).setValue(e.con),this.loadData()}currentPageDataChange(e){this.displayData=e}query(){this.search={pageIndex:1,pageSize:10},this.lastValue=this.searchForm.value,this.lastParam=this.param,this.dataSource="2",this.productFileSrv.getProductFileList(this.searchForm.value,this.param,this.dataSource).subscribe(e=>{this.dataList=e||[]})}order(e){const t=e.key,n=e.value;if("maintenance_count"===t)switch(n){case"ascend":const e=[...this.dataList].sort((e,t)=>e.maintenance_count<t.maintenance_count?1:-1);this.dataList=e;break;case"descend":const t=[...this.dataList].sort((e,t)=>e.maintenance_count>=t.maintenance_count?1:-1);this.dataList=t}else switch(n){case"ascend":this.dataList=m.l.order(this.dataList,[t]);break;case"descend":this.dataList=m.l.order(this.dataList,[t,-1])}}openCustomer(){this.newCustomerService.setConfig("",!0),this.newCustomerService.open([]).subscribe(e=>{if(null==e||0===e.length)return;let t="",n="";e.forEach(e=>{t+=e.customer_id+",",n+=e.customer_name+","}),0!==t.length&&(t=t.substr(0,t.length-1)),0!==n.length&&(n=n.substr(0,n.length-1)),this.searchForm.get("customer_id").setValue(t),this.searchForm.get("customer_name").setValue(n)})}onOpenRange(e){console.log(e),e&&this.analytics.eventTrack.next({action:"\u67e5\u8be2\u6761\u4ef6-\u70b9\u51fb\u9009\u62e9\u51fa\u5e93\u65e5\u671f",properties:{category:"\u4ea7\u54c1\u6863\u6848",label:this.userInfo.tenantId+","+this.userInfo.userId,value:0}})}onOpenRange2(){console.log("\u70b9\u51fb\u9009\u62e9\u4e0b\u6b21\u7ef4\u62a4\u65e5\u671f"),this.analytics.eventTrack.next({action:"\u67e5\u8be2\u6761\u4ef6-\u70b9\u51fb\u9009\u62e9\u4e0b\u6b21\u7ef4\u62a4\u65e5\u671f",properties:{category:"\u4ea7\u54c1\u6863\u6848",label:this.userInfo.tenantId+","+this.userInfo.userId,value:0}})}onOpenRange3(e){console.log(e),this.analytics.eventTrack.next({action:"\u67e5\u8be2\u6761\u4ef6-\u70b9\u51fb\u9009\u62e9\u552e\u540e\u72b6\u6001-"+(1===e?"\u6b63\u5e38":2===e?"\u62a5\u4fee\u4e2d":"\u5168\u90e8"),properties:{category:"\u4ea7\u54c1\u6863\u6848",label:this.userInfo.tenantId+","+this.userInfo.userId,value:0}})}onOpenRange4(e){this.analytics.eventTrack.next({action:`\u67e5\u8be2\u6761\u4ef6-\u70b9\u51fb${e?"":"\u53d6\u6d88"}\u52fe\u900930\u5929\u540e\u8fc7\u4fdd`,properties:{category:"\u4ea7\u54c1\u6863\u6848",label:this.userInfo.tenantId+","+this.userInfo.userId,value:0}})}radioChange(){this.analytics.eventTrack.next({action:"\u67e5\u8be2\u6761\u4ef6-\u70b9\u51fb\u7c7b\u578b-"+(""===this.searchForm.value.file_type?"\u5168\u90e8":"1"===this.searchForm.value.file_type?"\u5355\u673a":"\u4ea7\u7ebf/\u9879\u76ee"),properties:{category:"\u4ea7\u54c1\u6863\u6848",label:this.userInfo.tenantId+","+this.userInfo.userId,value:0}})}export(){this.isDownloading=!0,this.productFileSrv.export(this.lastValue,this.lastParam,this.dataSource).subscribe(e=>{if(e)switch(e.type){case H.HttpEventType.Response:const t=URL.createObjectURL(e.body),n=document.createElement("a");n.href=t,n.style="visibility:hidden";const i=e.headers.get("Content-disposition").split("filename=")[1];n.download=decodeURI(i),document.body.appendChild(n),n.click(),document.body.removeChild(n),setTimeout(()=>{this.isDownloading=!1},1700)}},e=>{const t=new FileReader;t.onload=e=>{const t=JSON.parse(e.target.result);this.message.create("error",t.errorMessage)},t.readAsText(e.error),this.isDownloading=!1})}}return e.\u0275fac=function(t){return new(t||e)(o.\u0275\u0275directiveInject(G),o.\u0275\u0275directiveInject(g.$),o.\u0275\u0275directiveInject(r.Router),o.\u0275\u0275directiveInject(r.ActivatedRoute),o.\u0275\u0275directiveInject(l.U),o.\u0275\u0275directiveInject(p.v),o.\u0275\u0275directiveInject(s.DwMessageService),o.\u0275\u0275directiveInject(c.DwModalService),o.\u0275\u0275directiveInject(u.DwAnalytics),o.\u0275\u0275directiveInject(f.DwUserService),o.\u0275\u0275directiveInject(w.N),o.\u0275\u0275directiveInject(d.FormBuilder),o.\u0275\u0275directiveInject(i.DatePipe))},e.\u0275cmp=o.\u0275\u0275defineComponent({type:e,selectors:[["app-product-file-list"]],viewQuery:function(e,t){if(1&e&&(o.\u0275\u0275viewQuery(be,5),o.\u0275\u0275viewQuery(Ee,5),o.\u0275\u0275viewQuery(Ie,5),o.\u0275\u0275viewQuery(De,7),o.\u0275\u0275viewQuery(Te,5,U.DwTableDirective)),2&e){let e;o.\u0275\u0275queryRefresh(e=o.\u0275\u0275loadQuery())&&(t.child=e.first),o.\u0275\u0275queryRefresh(e=o.\u0275\u0275loadQuery())&&(t.childStep2=e.first),o.\u0275\u0275queryRefresh(e=o.\u0275\u0275loadQuery())&&(t.childPreview=e.first),o.\u0275\u0275queryRefresh(e=o.\u0275\u0275loadQuery())&&(t.dwTableMulty=e.first),o.\u0275\u0275queryRefresh(e=o.\u0275\u0275loadQuery())&&(t.table=e.first)}},features:[o.\u0275\u0275ProvidersFeature([w.N])],decls:85,vars:46,consts:[[1,"dw-f-content-list","layoutClass","sales_layout"],[1,"issue_layout_head"],[1,"issue_layout_title"],[1,"search-box"],["dwSearch","",3,"dwAddOnAfter"],["dw-input","","placeholder","\u54c1\u53f7\u3001\u54c1\u540d\u7b49",3,"ngModel","ngModelChange"],["suffixIconButton",""],["color","#e5e5e5"],[1,"dw-f-table","content-box"],[1,"sales_issue_form","sales_form","sales_shadow",2,"margin-left","-22px",3,"formGroup"],["dw-row","",1,"search-form-box"],[1,"search-input"],[1,"label"],[1,"form-input"],["formControlName","date_range",2,"width","100%",3,"dwOnOpenChange"],["dwSearch","",3,"dwSuffix"],["type","text","dw-input","","readonly","","dwMode","multiple","formControlName","customer_name",2,"width","100%"],["customerData",""],[2,"display","flex","align-items","center","justify-content","space-between"],["dw-checkbox","","formControlName","checkExpiryDate",3,"ngModelChange"],["dw-button","","dwActionAuthorized","","angularticsAction","\u67e5\u8be2\u6761\u4ef6-\u70b9\u51fb\u67e5\u8be2\u6309\u94ae","dw-analyticsOn","click",3,"dwType","dwActionId","angularticsCategory","angularticsLabel","dwClick"],["dw-button","","angularticsAction","\u67e5\u8be2\u6761\u4ef6-\u70b9\u51fb\u91cd\u7f6e\u6309\u94ae","dw-analyticsOn","click",3,"dwType","angularticsCategory","angularticsLabel","click"],[1,"isExpand",3,"click"],["dw-icon","","dwTheme","outline",3,"dwType"],[4,"ngIf"],["dw-row","","dwActionAuthorized","",1,"dw-f-btn-bar-action",3,"dwActionId","dwDefaultAuthorized"],["dw-col","",2,"display","flex"],[1,"sub_act"],["dw-button","","type","button","dwActionAuthorized","",3,"dwType","dwActionId","dwDefaultAuthorized"],["dw-icon","","dwType","plus"],["translate",""],[1,"pub-btns"],[1,"blank"],["dw-analyticsOn","click","angularticsAction","\u65b0\u5efa-\u8fdb\u5165\u65b0\u5efa\u9875\u9762",1,"act-item",3,"angularticsCategory","angularticsLabel","click"],["dw-button","","type","button","dwActionAuthorized","",1,"one_btn",3,"dwType","dwActionId","dwDefaultAuthorized","click"],["src","../../../../../../assets/img/icon_recycle.png","alt","\u5df2\u56de\u6536"],["src","../../../../../../assets/img/icon_recycle_pre.png","alt","\u5df2\u56de\u6536",1,"hover"],["dw-button","","type","button","dwActionAuthorized","",1,"one_btn",3,"dwType","dwDefaultAuthorized","dwActionId","click"],["src","../../../../../../assets/img/icon_multy_modify_nor.png","alt","\u6279\u91cf\u4fee\u6539"],["src","../../../../../../assets/img/icon_multy_modify.png","alt","\u6279\u91cf\u4fee\u6539",1,"hover"],["dw-button","","type","button","dwActionAuthorized","",1,"one_btn",3,"dwType","dwLoading","dwDefaultAuthorized","dwActionId","click"],["dw-icon","","dwType","upload"],[3,"visible","visibleChanged"],["childStep1",""],[3,"dwVisible","dwTitle","dwWidth","dwBodyStyle","dwOnClose"],["dwDrawerContent",""],["detailTitle",""],["totalTemplate",""],["totalTemplate2",""],["dwTableMulty",""],["dw-button","","dwType","primary","dwSearch","",3,"click"],["dw-icon","","dwType","search"],["dw-icon","","class","ant-input-clear-icon","dwTheme","fill","dwType","close-circle",3,"click",4,"ngIf"],["dw-button","","dwType","primary","dwSearch","","angularticsAction","\u67e5\u8be2\u6761\u4ef6-\u70b9\u51fb\u9009\u62e9\u5ba2\u6237\u540d\u79f0","dw-analyticsOn","click","type","button",3,"angularticsCategory","angularticsLabel","click"],["dw-icon","","dwTheme","fill","dwType","close-circle",1,"ant-input-clear-icon",3,"click"],["formControlName","serviceStatus",2,"width","100%",3,"ngModelChange"],[3,"dwLabel","dwValue"],["formControlName","next_maintain_date",3,"ngModelChange"],["class","search-input",4,"ngIf"],["type","text","dw-input","","formControlName","SN",2,"width","100%"],["formControlName","file_type",2,"white-space","nowrap",3,"ngModelChange"],["dw-radio","",3,"dwValue"],["dwTableId","crs-product-file-list","dwShowSizeChanger","",3,"dwData","dwPageIndex","dwPageSize","dwScroll","dwShowTotal","dwPageIndexChange","dwPageSizeChange","dwCurrentPageDataChange"],["dwTable",""],[3,"dwSortOrderChange"],["dwDropColumns",""],["dwReorderColumns","",4,"ngFor","ngForOf"],["dwWidth","114px","dwShowSort","","dwColumnKey","product_file_code","dwDragDrop","",4,"dwColumnId"],["dwWidth","114px","dwShowSort","","dwColumnKey","product_file_code","dwDragDrop",""],["dwWidth","160px","dwShowSort","","dwColumnKey","product_file_name","dwDragDrop","",4,"dwColumnId"],["dwWidth","160px","dwShowSort","","dwColumnKey","product_file_name","dwDragDrop",""],["dwShowSort","","dwColumnKey","item_group_name","dwWidth","120px","dwDragDrop","",4,"dwColumnId"],["dwShowSort","","dwColumnKey","item_group_name","dwWidth","120px","dwDragDrop",""],["dwWidth","120px","dwDragDrop","",4,"dwColumnId"],["dwWidth","120px","dwDragDrop",""],["translate","",4,"ngIf"],["dwWidth","160px","dwDragDrop","",4,"dwColumnId"],["dwWidth","160px","dwDragDrop",""],["dwWidth","136px","dwDragDrop","",4,"dwColumnId"],["dwWidth","136px","dwDragDrop",""],["dwWidth","96px","dwDragDrop","",4,"dwColumnId"],["dwWidth","96px","dwDragDrop",""],["dwWidth","200px","dwDragDrop","",4,"dwColumnId"],["dwWidth","200px","dwDragDrop",""],["dwWidth","112px","dwDragDrop","",4,"dwColumnId"],["dwWidth","112px","dwDragDrop",""],["dwWidth","210px","dwDragDrop","",4,"dwColumnId"],["dwWidth","210px","dwDragDrop",""],["dwWidth","120px","dwShowSort","","dwColumnKey","maintenance_count","dwDragDrop","",3,"dwAlign",4,"dwColumnId"],["dwWidth","120px","dwShowSort","","dwColumnKey","maintenance_count","dwDragDrop","",3,"dwAlign"],["dwRight","","dwWidth","96px",3,"dwAlign",4,"dwColumnId"],["dwRight","","dwWidth","96px",3,"dwAlign"],["dwReorderColumns",""],["dwWidth","114px","dwEllipsis","",4,"dwColumnId"],["dwWidth","114px","dwEllipsis",""],["dw-analyticsOn","click","id","product-file-detail","angularticsAction","\u8be6\u60c5-\u70b9\u51fb\u67e5\u770b\u8be6\u60c5",3,"angularticsCategory","angularticsLabel","click"],["dwWidth","160px","dwEllipsis","",4,"dwColumnId"],["dwWidth","160px","dwEllipsis",""],["dwWidth","120px","dwEllipsis","",4,"dwColumnId"],["dwWidth","120px","dwEllipsis",""],["dwEllipsis","","dwWidth","120px",4,"dwColumnId"],["dwEllipsis","","dwWidth","120px"],["dwWidth","136px","dwEllipsis","",4,"dwColumnId"],["dwWidth","136px","dwEllipsis",""],["dwWidth","96px","dwEllipsis","",4,"dwColumnId"],["dwWidth","96px","dwEllipsis",""],["dwWidth","200px","dwEllipsis","",4,"dwColumnId"],["dwWidth","200px","dwEllipsis",""],["dwWidth","112px","dwEllipsis","",4,"dwColumnId"],["dwWidth","112px","dwEllipsis",""],["dwWidth","210px","dwEllipsis","",4,"dwColumnId"],["dwWidth","210px","dwEllipsis",""],["dwWidth","120px","dwWidth","120px","dwEllipsis","",3,"dwAlign",4,"dwColumnId"],["dwWidth","120px","dwWidth","120px","dwEllipsis","",3,"dwAlign"],["class","state_tip",4,"ngIf"],["class","state_tip zise",4,"ngIf"],["class","state_tip gray",4,"ngIf"],[1,"state_tip"],[1,"state_tip","zise"],[1,"state_tip","gray"],["dwRight","","dwWidth","96px","dwEllipsis","",3,"dwAlign",4,"dwColumnId"],["dwRight","","dwWidth","96px","dwEllipsis","",3,"dwAlign"],["dwActionAuthorized","","translate","","id","product-resume","dw-analyticsOn","click","angularticsAction","\u5c65\u5386-\u70b9\u51fb\u67e5\u770b\u5c65\u5386",3,"dwActionId","dwDefaultAuthorized","angularticsCategory","angularticsLabel","dwClick"],[1,"action-grid"],["dwActionAuthorized","","title","\u7f16\u8f91","dw-analyticsOn","click","angularticsAction","\u4fee\u6539-\u8fdb\u5165\u4fee\u6539\u9875\u9762","id","modify-product-file",3,"dwActionId","dwDefaultAuthorized","angularticsCategory","angularticsLabel","click"],["src","../../../../../../assets/img/icon_edit.png","alt","\u4fee\u6539",1,"action-icon"],["src","../../../../../../assets/img/icon_edit_hover.png","alt","\u4fee\u6539",1,"action-icon"],["dwActionAuthorized","","title","\u5220\u9664",3,"dwActionId","dwDefaultAuthorized",4,"ngIf"],["dwActionAuthorized","","title","\u5220\u9664",3,"dwActionId","dwDefaultAuthorized"],["dw-popconfirm","",3,"dwPopconfirmTitle","dwOkText","dwCancelText","dwPopconfirmPlacement","dwOnConfirm"],["dw-popconfirm","","translate",""],["src","../../../../../../assets/img/icon_delete.png","alt","\u5220\u9664",1,"action-icon"],["src","../../../../../../assets/img/icon_delete_hover.png","alt","\u5220\u9664",1,"action-icon"],[3,"visibleChanged"],["child",""],[1,"detail-title"],["src","../../../../../../assets/img/qrcode.png","alt","\u4e8c\u7ef4\u7801",1,"qrcode",3,"click"],[3,"dwData","dwShowTotal"],["tableMulty",""],["dw-tr",""],["dw-th","","width","200"],["dw-th","","width","200",4,"ngIf"],[4,"ngFor","ngForOf"]],template:function(e,t){if(1&e){const e=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"dw-content",0),o.\u0275\u0275elementStart(1,"div",1),o.\u0275\u0275elementStart(2,"h2",2),o.\u0275\u0275elementStart(3,"span"),o.\u0275\u0275text(4,"\u4ea7\u54c1\u6863\u6848"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(5,"div",3),o.\u0275\u0275elementStart(6,"dw-input-group",4),o.\u0275\u0275elementStart(7,"input",5),o.\u0275\u0275listener("ngModelChange",function(e){return t.param=e}),o.\u0275\u0275elementEnd(),o.\u0275\u0275template(8,Oe,2,0,"ng-template",null,6,o.\u0275\u0275templateRefExtractor),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275element(10,"hr",7),o.\u0275\u0275elementStart(11,"div",8),o.\u0275\u0275elementStart(12,"form",9),o.\u0275\u0275elementStart(13,"div",10),o.\u0275\u0275elementStart(14,"div",11),o.\u0275\u0275elementStart(15,"div",12),o.\u0275\u0275text(16,"\u51fa\u5e93\u65e5\u671f"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(17,"dw-form-item",13),o.\u0275\u0275elementStart(18,"dw-form-control"),o.\u0275\u0275elementStart(19,"dw-range-picker",14),o.\u0275\u0275listener("dwOnOpenChange",function(e){return t.onOpenRange(e)}),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(20,"div",11),o.\u0275\u0275elementStart(21,"div",12),o.\u0275\u0275text(22,"\u5ba2\u6237\u540d\u79f0"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(23,"dw-form-item",13),o.\u0275\u0275elementStart(24,"dw-form-control"),o.\u0275\u0275elementStart(25,"dw-input-group",15),o.\u0275\u0275element(26,"input",16),o.\u0275\u0275elementEnd(),o.\u0275\u0275template(27,Fe,3,3,"ng-template",null,17,o.\u0275\u0275templateRefExtractor),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(29,"div",11),o.\u0275\u0275elementStart(30,"div"),o.\u0275\u0275text(31,"\xa0\xa0\xa0\xa0"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(32,"dw-form-item",13),o.\u0275\u0275elementStart(33,"dw-form-control"),o.\u0275\u0275elementStart(34,"div",18),o.\u0275\u0275elementStart(35,"dw-input-group"),o.\u0275\u0275elementStart(36,"label",19),o.\u0275\u0275listener("ngModelChange",function(e){return t.onOpenRange4(e)}),o.\u0275\u0275text(37," 30\u5929\u5185\u5373\u5c06\u8fc7\u4fdd "),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(38,"button",20),o.\u0275\u0275listener("dwClick",function(){return t.loadData()}),o.\u0275\u0275text(39),o.\u0275\u0275pipe(40,"translate"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(41,"button",21),o.\u0275\u0275listener("click",function(){return t.reset()}),o.\u0275\u0275text(42),o.\u0275\u0275pipe(43,"translate"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(44,"div",22),o.\u0275\u0275listener("click",function(){return t.isShowSearchExpand()}),o.\u0275\u0275text(45),o.\u0275\u0275element(46,"em",23),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275template(47,ke,26,7,"div",24),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(48,"div",25),o.\u0275\u0275elementStart(49,"div",26),o.\u0275\u0275elementStart(50,"div",27),o.\u0275\u0275elementStart(51,"button",28),o.\u0275\u0275element(52,"em",29),o.\u0275\u0275elementStart(53,"span",30),o.\u0275\u0275text(54,"\u65b0\u5efa"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(55,"div",31),o.\u0275\u0275element(56,"div",32),o.\u0275\u0275elementStart(57,"div",33),o.\u0275\u0275listener("click",function(){return t.create("1")}),o.\u0275\u0275text(58,"\u65b0\u5efa\u5355\u673a"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(59,"div",33),o.\u0275\u0275listener("click",function(){return t.create("2")}),o.\u0275\u0275text(60,"\u65b0\u5efa\u4ea7\u7ebf/\u9879\u76ee "),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(61,"button",34),o.\u0275\u0275listener("click",function(){return t.goRecycledList()}),o.\u0275\u0275element(62,"img",35),o.\u0275\u0275element(63,"img",36),o.\u0275\u0275text(64," \u5df2\u56de\u6536\u4ea7\u54c1 "),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(65,"button",37),o.\u0275\u0275listener("click",function(){return o.\u0275\u0275restoreView(e),o.\u0275\u0275reference(74).initData(),t.showMultyModify()}),o.\u0275\u0275element(66,"img",38),o.\u0275\u0275element(67,"img",39),o.\u0275\u0275text(68," \u6279\u91cf\u4fee\u6539 "),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(69,"button",40),o.\u0275\u0275listener("click",function(){return t.export()}),o.\u0275\u0275element(70,"em",41),o.\u0275\u0275text(71," \u5bfc\u51fa\u6570\u636e "),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275template(72,vn,27,27,"ng-container",24),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(73,"app-multy-modify-step1",42,43),o.\u0275\u0275listener("visibleChanged",function(e){return t.changeStep1Visible(e)}),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(75,"dw-drawer",44),o.\u0275\u0275listener("dwOnClose",function(){return t.isCollapsed=!1}),o.\u0275\u0275template(76,Cn,2,0,"ng-template",45),o.\u0275\u0275elementEnd(),o.\u0275\u0275template(77,yn,3,0,"ng-template",null,46,o.\u0275\u0275templateRefExtractor),o.\u0275\u0275template(79,xn,1,1,"ng-template",null,47,o.\u0275\u0275templateRefExtractor),o.\u0275\u0275template(81,_n,1,1,"ng-template",null,48,o.\u0275\u0275templateRefExtractor),o.\u0275\u0275template(83,Pn,16,7,"ng-template",null,49,o.\u0275\u0275templateRefExtractor)}if(2&e){const e=o.\u0275\u0275reference(9),n=o.\u0275\u0275reference(28),i=o.\u0275\u0275reference(78);o.\u0275\u0275advance(6),o.\u0275\u0275property("dwAddOnAfter",e),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngModel",t.param),o.\u0275\u0275advance(5),o.\u0275\u0275property("formGroup",t.searchForm),o.\u0275\u0275advance(13),o.\u0275\u0275property("dwSuffix",n),o.\u0275\u0275advance(13),o.\u0275\u0275propertyInterpolate("angularticsLabel",t.userInfo.tenantId+","+t.userInfo.userId),o.\u0275\u0275property("dwType","primary")("dwActionId","query")("angularticsCategory","\u4ea7\u54c1\u6863\u6848"),o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",o.\u0275\u0275pipeBind1(40,41,"\u67e5\u8be2")," "),o.\u0275\u0275advance(2),o.\u0275\u0275propertyInterpolate("angularticsLabel",t.userInfo.tenantId+","+t.userInfo.userId),o.\u0275\u0275property("dwType","defult")("angularticsCategory","\u4ea7\u54c1\u6863\u6848"),o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",o.\u0275\u0275pipeBind1(43,43,"\u91cd\u7f6e")," "),o.\u0275\u0275advance(3),o.\u0275\u0275textInterpolate1(" ",t.isSearchExpand?"\u6536\u8d77":"\u5c55\u5f00"," "),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwType",t.isSearchExpand?"up":"down"),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",t.isSearchExpand),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwActionId","add")("dwDefaultAuthorized","disabled"),o.\u0275\u0275advance(3),o.\u0275\u0275property("dwType","primary")("dwActionId","add")("dwDefaultAuthorized","disabled"),o.\u0275\u0275advance(6),o.\u0275\u0275propertyInterpolate("angularticsLabel",t.userInfo.tenantId+","+t.userInfo.userId),o.\u0275\u0275property("angularticsCategory","\u4ea7\u54c1\u6863\u6848"),o.\u0275\u0275advance(2),o.\u0275\u0275propertyInterpolate("angularticsLabel",t.userInfo.tenantId+","+t.userInfo.userId),o.\u0275\u0275property("angularticsCategory","\u4ea7\u54c1\u6863\u6848"),o.\u0275\u0275advance(2),o.\u0275\u0275property("dwType","defult")("dwActionId","recycle")("dwDefaultAuthorized","disabled"),o.\u0275\u0275advance(4),o.\u0275\u0275property("dwType","defult")("dwDefaultAuthorized","disabled")("dwActionId","batchmodify"),o.\u0275\u0275advance(4),o.\u0275\u0275property("dwType","defult")("dwLoading",t.isDownloading)("dwDefaultAuthorized","disabled")("dwActionId","export"),o.\u0275\u0275advance(3),o.\u0275\u0275property("ngIf",t.showFile),o.\u0275\u0275advance(1),o.\u0275\u0275property("visible",t.showStep1),o.\u0275\u0275advance(2),o.\u0275\u0275property("dwVisible",t.isCollapsed)("dwTitle",i)("dwWidth","70%")("dwBodyStyle",o.\u0275\u0275pureFunction0(45,kn))}},directives:[K.DwContentComponent,Q.u,z.DwInputGroupComponent,z.DwInputDirective,d.DefaultValueAccessor,d.NgControlStatus,d.NgModel,d.\u0275NgNoValidate,d.NgControlStatusGroup,d.FormGroupDirective,L.DwRowDirective,$.DwFormItemComponent,L.DwColDirective,$.DwFormControlComponent,B.DwDatePickerComponent,B.DwRangePickerComponent,d.FormControlName,z.DwInputGroupWhitSuffixOrPrefixDirective,S.DwCheckboxComponent,N.DwButtonComponent,Z.uG,J.DwActionAuthorizedDirective,u.DwAnalyticsOn,q.DwIconDirective,i.NgIf,b.TranslateDirective,ye,xe.DwDrawerComponent,xe.DwDrawerContentDirective,j.DwSelectComponent,j.DwOptionComponent,_e.DwRadioGroupComponent,_e.DwRadioComponent,x.DwTableComponent,_.Ct,x.DwTheadComponent,x.DwTrDirective,_.Y9,x.DwTbodyComponent,i.NgForOf,_.b,x.DwTableCellDirective,x.DwThMeasureDirective,_.BL,x.DwThAddOnComponent,_.$2,x.DwCellAlignDirective,x.DwCellFixedDirective,_.at,x.DwCellEllipsisDirective,Se.DwPopconfirmDirective,v.w],pipes:[b.TranslatePipe,i.DatePipe],styles:[".state_tip[_ngcontent-%COMP%]{display:inline-block;width:64px;height:28px;line-height:28px;text-align:center;border-radius:15px;color:#fff;font-size:13px;background:#29cc8d}.state_tip.zise[_ngcontent-%COMP%]{background:#5c64d1}.state_tip.gray[_ngcontent-%COMP%]{background:#5c5c5c}.search-form-box[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{width:calc((100% - 3 * 24px - 48px) / 3)}.search-form-box[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{flex:1}.search-form-box[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{width:5rem;text-align:right}.one_btn[_ngcontent-%COMP%]{height:32px;padding:0 8px 0 4px;margin-left:8px;border-radius:4px;display:flex;align-items:center}.one_btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;width:24px;margin-right:2px}.one_btn[_ngcontent-%COMP%]   img.hover[_ngcontent-%COMP%]{display:none}.one_btn[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{display:none}.one_btn[_ngcontent-%COMP%]:hover   img.hover[_ngcontent-%COMP%]{display:block}.one_btn[_ngcontent-%COMP%]:active{color:#096dd9;border-color:#096dd9}.sub_act[_ngcontent-%COMP%]:hover   .pub-btns[_ngcontent-%COMP%]{display:flex}.pub-btns[_ngcontent-%COMP%]{width:100px;position:absolute;top:32px;left:-20px;z-index:1999;background:#fff;display:none;flex-direction:column}.pub-btns[_ngcontent-%COMP%]   .blank[_ngcontent-%COMP%]{height:8px}.pub-btns[_ngcontent-%COMP%]   .act-item[_ngcontent-%COMP%]{display:block;width:100px;height:40px;line-height:40px;text-align:center;color:#000000a6;cursor:pointer;border:1px solid #e9e9e9;border-bottom:0}.pub-btns[_ngcontent-%COMP%]   .act-item[_ngcontent-%COMP%]:last-child{border-bottom:1px solid #e9e9e9}.pub-btns[_ngcontent-%COMP%]   .act-item[_ngcontent-%COMP%]:hover{background:#f1f1f1}  b{font-weight:normal;color:#0d9def}.isExpand[_ngcontent-%COMP%]{width:46px;white-space:nowrap;color:#1890ff;margin-left:16px;cursor:pointer}"]}),e})();var Rn=n(64762),An=n(53524);class Ln{constructor(e){this.product_file_id="",this.product_part_id="",this.material_id="",this.material_code="",this.material_name="",this.specification="",this.model="",this.sn="",this.sn_management="",this.unit="",this.unit_qty="",this.item_group_name="",this.expiry_date="",this.remark="",this.quickwear_part=!1,this.replacement_date="",Object.assign(this,e)}}class $n{constructor(e){this.product_file_id="",this.product_equipment_list_id="",this.code="",this.name="",this.specification="",this.model="",this.sn="",this.picture_id="",this.file_name="",this.file_context="",this.quantity=1,this.item_group_id="",this.item_group_name="",this.remark="",this.product_part=[],this.quickwear_part=!1,this.replacement_date="",Object.assign(this,e)}}var jn=n(9682);class Nn extends jn.DwClientPagingDataSource{constructor(e,t){super(),this.http=e,this.url=t}getDataList(e,t){return this.http.get(this.url).pipe((0,X.map)(n=>(this._result={currentPage:e,datas:Object.assign([],n),pageCount:Math.ceil(n.length/t),pageSize:t,rowCount:n.length},console.log("result",this._result),this._result)))}}var zn=n(16072),qn=n(59083);let Wn=(()=>{class e{constructor(e){this.sanitized=e}transform(e){const t="\u6613\u635f\u4ef6"===e.slice(-3),n=e.slice(0,e.length-3);return this.sanitized.bypassSecurityTrustHtml(t?`<div>${n}<span style="color: #ffffff;background: linear-gradient(270deg, #FD928B 0%, #FC493E 100%);border-radius: 2px;padding: 0 2px;font-size: 12px;margin-left: 10px;white-space:nowrap;">\u6613\u635f\u4ef6</span></div>`:`<div>${n}</div>`)}}return e.\u0275fac=function(t){return new(t||e)(o.\u0275\u0275directiveInject(qn.DomSanitizer,16))},e.\u0275pipe=o.\u0275\u0275definePipe({name:"CustomHtmlPipe",type:e,pure:!0}),e})(),Bn=(()=>{class e{constructor(e,t,n,i,r){this.selectModalService=e,this.dwHttp=t,this.http=n,this.customPipe=i,this.customHtmlPipe=r,this.typeEnum={1:"\u603b\u90e8",2:"\u7f51\u70b9",3:"\u7ecf\u9500\u5546"},this.config={modalTitle:"\u4ea7\u54c1\u6863\u6848",modalWidth:"50%",tableMultiSelect:!1,tableIdField:"product_file_id",tableNameField:"product_file_name",tablePageSize:10,tableColDefs:[],dataSource:new Nn(this.dwHttp,"restful/service/product/Product/Product?id=")}}open(e,t,n,i){let r="";return"service_site_name"===t?(r="restful/service/serviceSite/ServiceSite/List",this.config={modalTitle:"\u670d\u52a1\u7ad9\u70b9",modalWidth:"50%",tableMultiSelect:!1,tableIdField:"service_site_id",tableNameField:"service_site_name",tablePageSize:10,tableColDefs:[{title:"\u7f16\u53f7",field:"service_site_code",width:""},{title:"\u540d\u79f0",field:"service_site_name",width:""},{title:"\u7c7b\u578b",field:"service_site_type",dataPipe:"i18nSelect",dataEnum:this.typeEnum}],tableCustomTag:e=>"("+e.service_site_code+")"+e.service_site_name,dataSource:new jn.ApiServerPagingService(this.dwHttp,r,"service_site",["service_site_code","service_site_name"]),returnFields:["service_site_id","service_site_name"],initParams:this.getQueryCondition(n[0],n[1])}):"employee_id"===t?(r=`restful/service/employee/Employee/EmployeeForServiceSite?service_site_id=${n}`,this.config={modalTitle:"\u670d\u52a1\u4eba\u5458",modalWidth:"50%",tableMultiSelect:!1,tableIdField:"employee_id",tableNameField:"employee_name",tablePageSize:10,tableColDefs:[{title:"\u7f16\u53f7",field:"employee_code",width:""},{title:"\u59d3\u540d",field:"employee_name",width:""}],tableCustomTag:e=>"("+e.employee_code+")"+e.employee_name,dataSource:new Nn(this.dwHttp,r)}):"customer_id"===t?(r="restful/service/customer/Customer/List",this.config={modalTitle:"\u5ba2\u6237",modalWidth:"50%",tableMultiSelect:!1,tableIdField:"customer_id",tableNameField:"customer_name",tablePageSize:10,tableColDefs:[{title:"\u5ba2\u6237\u7f16\u53f7",field:"customer_code",width:""},{title:"\u5ba2\u6237\u540d\u79f0",field:"customer_name",width:""},{title:"\u8054\u7cfb\u4eba",field:"contact",width:""},{title:"\u8054\u7cfb\u7535\u8bdd",field:"contact_number",width:""}],tableCustomTag:e=>"("+e.customer_code+")"+e.customer_name,dataSource:new jn.ApiServerPagingService(this.dwHttp,r,"customer",["customer_code","customer_name"])}):(r="restful/service/material/Material/MaterialForServerPaging?type=false",this.config={modalTitle:"\u4ea7\u54c1\u914d\u4ef6",modalWidth:"70%",tableMultiSelect:n,tableIdField:"material_id",tableNameField:"material_name",tablePageSize:10,tableColDefs:[{title:"\u7f16\u7801",field:"material_code",width:"110px"},{title:"\u540d\u79f0",field:"material_name",width:"140px"},{title:"\u914d\u4ef6\u5206\u7c7b",field:"item_group_name",width:"140px"},{title:"\u89c4\u683c",field:"specification",width:"150px"},{title:"\u578b\u53f7",field:"model",width:"130px"},{title:"\u56fe\u7247",field:"url",width:"80px",dataPipe:"custom:url",customPipe:this.customPipe,isSort:!1}],tableCustomTag:e=>"("+e.material_code+")"+e.material_name,dataSource:new jn.ApiServerPagingService(this.dwHttp,r,"material",["material_code","material_name"])}),"employee_id"===t?this.selectModalService.open(this.config,e).pipe((0,X.switchMap)(e=>this.dwHttp.get(`restful/service/employee/Employee/EmployeeById?id=${e[0]}`))):"customer_id"===t?this.selectModalService.open(this.config,e).pipe((0,X.switchMap)(e=>this.dwHttp.get(`restful/service/customer/Customer/CustomerByCustomerId?customerId=${e[0]}`))):"material_id"===t?this.selectModalService.open(this.config,e).pipe((0,X.switchMap)(e=>this.dwHttp.get(`restful/service/material/Material/MaterialByIds?material_id=${e}&delivery_date=${i}`))):this.selectModalService.open(this.config,e)}getQueryCondition(e,t){const n=new An.DwQueryCondition;return"1"!==t?(n.addCondition(new An.DwQueryConditionInfo("service_site_id",String(e),An.DwQueryConditionOperator.EQUAL)),n):null}}return e.\u0275fac=function(t){return new(t||e)(o.\u0275\u0275inject(jn.DwSelectModalService),o.\u0275\u0275inject(Y.DwDapHttpClient),o.\u0275\u0275inject(H.HttpClient),o.\u0275\u0275inject(zn.M),o.\u0275\u0275inject(Wn))},e.\u0275prov=o.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac}),e})();function Un(e,t){if(1&e){const e=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"em",24),o.\u0275\u0275listener("click",function(){return o.\u0275\u0275restoreView(e),o.\u0275\u0275nextContext(2).clear("material_")}),o.\u0275\u0275elementEnd()}}function Xn(e,t){if(1&e){const e=o.\u0275\u0275getCurrentView();o.\u0275\u0275template(0,Un,1,0,"em",21),o.\u0275\u0275elementStart(1,"button",22),o.\u0275\u0275listener("click",function(t){return o.\u0275\u0275restoreView(e),o.\u0275\u0275nextContext().openProductDataWin(t,"material_id")}),o.\u0275\u0275element(2,"em",23),o.\u0275\u0275elementEnd()}if(2&e){const e=o.\u0275\u0275nextContext();o.\u0275\u0275property("ngIf",e.form.value.material_code)}}function Gn(e,t){1&e&&(o.\u0275\u0275elementStart(0,"dw-form-item"),o.\u0275\u0275elementStart(1,"dw-form-label",1),o.\u0275\u0275text(2,"\u5230\u671f\u66f4\u6362\u65e5\u671f"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(3,"dw-form-control",2),o.\u0275\u0275element(4,"dw-date-picker",25),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()),2&e&&(o.\u0275\u0275advance(1),o.\u0275\u0275property("dwSm",6)("dwXs",24),o.\u0275\u0275advance(2),o.\u0275\u0275property("dwSm",16)("dwXs",24),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwDisabled",!0))}let Hn=(()=>{class e{constructor(e,t,n,i){this.fb=e,this.productFileSrv=t,this.productFileSelectService=n,this.modalSubject=i,this.sn_readonly=!0}set cmd(e){this._cmd=e}set expiryDate(e){this._expiryDate=e}set deliveryDate(e){this._deliveryDate=e||new Date}set orderDetail(e){this.detailEdit=e}ngOnInit(){String(this._deliveryDate).indexOf("/")>0&&(this._deliveryDate=new Date(this._deliveryDate)),console.log(this._deliveryDate,this._expiryDate||new Date),"add"===this._cmd?(this.detailEdit=new Ln({}),this.detailEdit.product_part_id="",this.sn_readonly=!1):this.sn_readonly="1"!==this.detailEdit.sn_management,this.form=this.fb.group({}),this.form.addControl("product_file_id",new d.FormControl(this.detailEdit.product_file_id)),this.form.addControl("material_id",new d.FormControl(this.detailEdit.material_id,d.Validators.required)),this.form.addControl("material_code",new d.FormControl(this.detailEdit.material_code,d.Validators.required)),this.form.addControl("material_name",new d.FormControl(this.detailEdit.material_name,d.Validators.required)),this.form.addControl("specification",new d.FormControl(this.detailEdit.specification)),this.form.addControl("model",new d.FormControl(this.detailEdit.model)),this.form.addControl("sn",new d.FormControl(this.detailEdit.sn)),this.form.addControl("unit",new d.FormControl(this.detailEdit.unit)),this.form.addControl("unit_qty",new d.FormControl(this.detailEdit.unit_qty||1)),this.form.addControl("item_group_name",new d.FormControl(this.detailEdit.item_group_name)),this.form.addControl("expiry_date",new d.FormControl(this.detailEdit.expiry_date)),this.form.addControl("sn_management",new d.FormControl(this.detailEdit.sn_management)),this.form.addControl("remark",new d.FormControl(this.detailEdit.remark)),this.form.addControl("quickwear_part",new d.FormControl(this.detailEdit.quickwear_part)),this.form.addControl("replacement_date",new d.FormControl(this.detailEdit.replacement_date))}onInput(e,t){console.log(e.target.value),e.target.value<=0&&this.form.get(t).setValue(1)}emitDataOutside(){Object.assign(this.detailEdit,this.form.value),this.detailEdit.$state="u",console.log(this.detailEdit),this.modalSubject.triggerOk()}handleCancel(e){this.modalSubject.triggerCancel()}openProductDataWin(e,t){e.preventDefault(),console.log(event.target);const n=this._deliveryDate.getFullYear()+"-"+(this._deliveryDate.getMonth()+1)+"-"+this._deliveryDate.getDate();this.productFileSelectService.open([],t,!1,n).subscribe(e=>{console.log(e),this.form.get(t).setValue(e[0][t]),this.form.get("material_code").setValue(e[0].material_code),this.form.get("material_name").setValue(e[0].material_name),this.form.get("specification").setValue(e[0].specification),this.form.get("model").setValue(e[0].model),this.form.get("sn").reset(""),this.form.get("unit").setValue(e[0].unit),this.form.get("item_group_name").setValue(e[0].item_group_name),this.form.get("material_name").setValue(e[0].material_name),this.form.get("expiry_date").setValue(this._expiryDate||new Date),this.form.get("sn_management").setValue(e[0].sn_management),this.sn_readonly="1"!==e[0].sn_management,this.form.get("replacement_date").setValue(e[0].replacement_date),this.form.get("quickwear_part").setValue(e[0].quickwear_part),console.log(this.form)})}clear(e){this.form.get(`${e}id`).setValue(0),this.form.get(`${e}code`).setValue(""),this.sn_readonly=!1}}return e.\u0275fac=function(t){return new(t||e)(o.\u0275\u0275directiveInject(d.FormBuilder),o.\u0275\u0275directiveInject(l.U),o.\u0275\u0275directiveInject(Bn),o.\u0275\u0275directiveInject(c.DwModalRef))},e.\u0275cmp=o.\u0275\u0275defineComponent({type:e,selectors:[["app-product-part-modify"]],inputs:{cmd:"cmd",expiryDate:"expiryDate",deliveryDate:"deliveryDate",orderDetail:"orderDetail"},features:[o.\u0275\u0275ProvidersFeature([Bn])],decls:63,vars:50,consts:[["dw-form","",3,"formGroup","ngSubmit"],["dwRequired","",3,"dwSm","dwXs"],[3,"dwSm","dwXs"],["dwSearch","",3,"dwSuffix"],["dw-input","","type","text","readonly","","dw-input","","formControlName","material_code"],["suffixMaterialData",""],["dw-input","","readonly","","required","","formControlName","material_name"],["dw-input","","readonly","","formControlName","specification"],["dw-input","","readonly","","formControlName","model"],[3,"dwSm","dwXs","dwRequired"],["dw-input","","formControlName","sn","maxlength","255",3,"readonly","required"],["dw-input","","readonly","","formControlName","unit"],["dw-input","","formControlName","unit_qty","type","number","maxlength","20",3,"readonly","change"],["dw-input","","readonly","","formControlName","item_group_name"],["formControlName","expiry_date","required",""],[4,"ngIf"],["dw-input","","maxlength","20","formControlName","remark"],[1,"customize-footer","ant-modal-footer",2,"padding-bottom","0"],["dw-button","",3,"dwType","disabled"],["translate",""],["dw-button","","type","button",3,"dwType","click"],["dw-icon","","class","ant-input-clear-icon","dwTheme","fill","dwType","close-circle",3,"click",4,"ngIf"],["dw-button","","dwType","primary","dwSearch","","type","button",3,"click"],["dw-icon","","dwType","search"],["dw-icon","","dwTheme","fill","dwType","close-circle",1,"ant-input-clear-icon",3,"click"],["formControlName","replacement_date","dwPlaceHolder","\u6613\u635f\u4ef6\u672a\u8bbe\u7f6e\u66f4\u6362\u5468\u671f",3,"dwDisabled"]],template:function(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"dw-content"),o.\u0275\u0275elementStart(1,"form",0),o.\u0275\u0275listener("ngSubmit",function(){return t.emitDataOutside()}),o.\u0275\u0275elementStart(2,"dw-form-item"),o.\u0275\u0275elementStart(3,"dw-form-label",1),o.\u0275\u0275text(4,"\u914d\u4ef6\u7f16\u53f7"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(5,"dw-form-control",2),o.\u0275\u0275elementStart(6,"dw-input-group",3),o.\u0275\u0275element(7,"input",4),o.\u0275\u0275elementEnd(),o.\u0275\u0275template(8,Xn,3,1,"ng-template",null,5,o.\u0275\u0275templateRefExtractor),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(10,"dw-form-item"),o.\u0275\u0275elementStart(11,"dw-form-label",1),o.\u0275\u0275text(12,"\u914d\u4ef6\u540d\u79f0"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(13,"dw-form-control",2),o.\u0275\u0275element(14,"input",6),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(15,"dw-form-item"),o.\u0275\u0275elementStart(16,"dw-form-label",2),o.\u0275\u0275text(17,"\u89c4\u683c"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(18,"dw-form-control",2),o.\u0275\u0275element(19,"input",7),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(20,"dw-form-item"),o.\u0275\u0275elementStart(21,"dw-form-label",2),o.\u0275\u0275text(22,"\u578b\u53f7"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(23,"dw-form-control",2),o.\u0275\u0275element(24,"input",8),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(25,"dw-form-item"),o.\u0275\u0275elementStart(26,"dw-form-label",9),o.\u0275\u0275text(27,"\u5e8f\u5217\u53f7"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(28,"dw-form-control",2),o.\u0275\u0275element(29,"input",10),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(30,"dw-form-item"),o.\u0275\u0275elementStart(31,"dw-form-label",2),o.\u0275\u0275text(32,"\u5355\u4f4d"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(33,"dw-form-control",2),o.\u0275\u0275element(34,"input",11),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(35,"dw-form-item"),o.\u0275\u0275elementStart(36,"dw-form-label",2),o.\u0275\u0275text(37,"\u5355\u4f4d\u6570\u91cf"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(38,"dw-form-control",2),o.\u0275\u0275elementStart(39,"input",12),o.\u0275\u0275listener("change",function(e){return t.onInput(e,"unit_qty")}),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(40,"dw-form-item"),o.\u0275\u0275elementStart(41,"dw-form-label",2),o.\u0275\u0275text(42,"\u7c7b\u578b"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(43,"dw-form-control",2),o.\u0275\u0275element(44,"input",13),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(45,"dw-form-item"),o.\u0275\u0275elementStart(46,"dw-form-label",1),o.\u0275\u0275text(47,"\u4fdd\u4fee\u622a\u6b62\u65e5\u671f"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(48,"dw-form-control",2),o.\u0275\u0275element(49,"dw-date-picker",14),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275template(50,Gn,5,5,"dw-form-item",15),o.\u0275\u0275elementStart(51,"dw-form-item"),o.\u0275\u0275elementStart(52,"dw-form-label",2),o.\u0275\u0275text(53,"\u5907\u6ce8"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(54,"dw-form-control",2),o.\u0275\u0275element(55,"input",16),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(56,"div",17),o.\u0275\u0275elementStart(57,"button",18),o.\u0275\u0275elementStart(58,"span",19),o.\u0275\u0275text(59,"\u786e\u5b9a"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(60,"button",20),o.\u0275\u0275listener("click",function(e){return t.handleCancel(e)}),o.\u0275\u0275elementStart(61,"span",19),o.\u0275\u0275text(62,"\u53d6\u6d88"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()),2&e){const e=o.\u0275\u0275reference(9);o.\u0275\u0275advance(1),o.\u0275\u0275property("formGroup",t.form),o.\u0275\u0275advance(2),o.\u0275\u0275property("dwSm",6)("dwXs",24),o.\u0275\u0275advance(2),o.\u0275\u0275property("dwSm",16)("dwXs",24),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwSuffix",e),o.\u0275\u0275advance(5),o.\u0275\u0275property("dwSm",6)("dwXs",24),o.\u0275\u0275advance(2),o.\u0275\u0275property("dwSm",16)("dwXs",24),o.\u0275\u0275advance(3),o.\u0275\u0275property("dwSm",6)("dwXs",24),o.\u0275\u0275advance(2),o.\u0275\u0275property("dwSm",16)("dwXs",24),o.\u0275\u0275advance(3),o.\u0275\u0275property("dwSm",6)("dwXs",24),o.\u0275\u0275advance(2),o.\u0275\u0275property("dwSm",16)("dwXs",24),o.\u0275\u0275advance(3),o.\u0275\u0275property("dwSm",6)("dwXs",24)("dwRequired",!t.sn_readonly),o.\u0275\u0275advance(2),o.\u0275\u0275property("dwSm",16)("dwXs",24),o.\u0275\u0275advance(1),o.\u0275\u0275property("readonly",t.sn_readonly)("required",!t.sn_readonly),o.\u0275\u0275advance(2),o.\u0275\u0275property("dwSm",6)("dwXs",24),o.\u0275\u0275advance(2),o.\u0275\u0275property("dwSm",16)("dwXs",24),o.\u0275\u0275advance(3),o.\u0275\u0275property("dwSm",6)("dwXs",24),o.\u0275\u0275advance(2),o.\u0275\u0275property("dwSm",16)("dwXs",24),o.\u0275\u0275advance(1),o.\u0275\u0275property("readonly",!t.sn_readonly),o.\u0275\u0275advance(2),o.\u0275\u0275property("dwSm",6)("dwXs",24),o.\u0275\u0275advance(2),o.\u0275\u0275property("dwSm",16)("dwXs",24),o.\u0275\u0275advance(3),o.\u0275\u0275property("dwSm",6)("dwXs",24),o.\u0275\u0275advance(2),o.\u0275\u0275property("dwSm",16)("dwXs",24),o.\u0275\u0275advance(2),o.\u0275\u0275property("ngIf",t.form.value.quickwear_part),o.\u0275\u0275advance(2),o.\u0275\u0275property("dwSm",6)("dwXs",24),o.\u0275\u0275advance(2),o.\u0275\u0275property("dwSm",16)("dwXs",24),o.\u0275\u0275advance(3),o.\u0275\u0275property("dwType","primary")("disabled",!t.form.valid),o.\u0275\u0275advance(3),o.\u0275\u0275property("dwType","default")}},directives:[K.DwContentComponent,d.\u0275NgNoValidate,d.NgControlStatusGroup,$.DwFormDirective,d.FormGroupDirective,L.DwRowDirective,$.DwFormItemComponent,L.DwColDirective,$.DwFormLabelComponent,$.DwFormControlComponent,Q.u,z.DwInputGroupComponent,z.DwInputGroupWhitSuffixOrPrefixDirective,z.DwInputDirective,d.DefaultValueAccessor,d.NgControlStatus,d.FormControlName,d.RequiredValidator,d.MaxLengthValidator,d.NumberValueAccessor,B.DwDatePickerComponent,i.NgIf,N.DwButtonComponent,Z.uG,b.TranslateDirective,q.DwIconDirective],styles:[""]}),e})();var Kn=n(14025),Qn=n(119),Zn=n(67733),Jn=n(41430);function Yn(e,t){if(1&e&&o.\u0275\u0275element(0,"dw-option",42),2&e){const e=t.$implicit;o.\u0275\u0275property("dwLabel",e.item_group_name)("dwValue",e.item_group_id)}}const ei=function(){return{width:"100%"}};function ti(e,t){if(1&e&&o.\u0275\u0275element(0,"img",43),2&e){const e=o.\u0275\u0275nextContext();o.\u0275\u0275property("src",e.previewImage,o.\u0275\u0275sanitizeUrl)("ngStyle",o.\u0275\u0275pureFunction0(2,ei))}}function ni(e,t){1&e&&(o.\u0275\u0275elementStart(0,"th",44),o.\u0275\u0275elementStart(1,"span",29),o.\u0275\u0275text(2,"\u914d\u4ef6\u7f16\u53f7"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd())}function ii(e,t){1&e&&(o.\u0275\u0275elementStart(0,"th",45),o.\u0275\u0275elementStart(1,"span",29),o.\u0275\u0275text(2,"\u914d\u4ef6\u540d\u79f0"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd())}function ri(e,t){1&e&&(o.\u0275\u0275elementStart(0,"th",45),o.\u0275\u0275elementStart(1,"span",29),o.\u0275\u0275text(2,"\u89c4\u683c"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd())}function oi(e,t){1&e&&(o.\u0275\u0275elementStart(0,"th",45),o.\u0275\u0275elementStart(1,"span",29),o.\u0275\u0275text(2,"\u578b\u53f7"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd())}function ai(e,t){1&e&&(o.\u0275\u0275elementStart(0,"th",46),o.\u0275\u0275elementStart(1,"span",29),o.\u0275\u0275text(2,"\u5e8f\u5217\u53f7"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd())}function di(e,t){1&e&&(o.\u0275\u0275elementStart(0,"th",47),o.\u0275\u0275elementStart(1,"span",29),o.\u0275\u0275text(2,"\u5355\u4f4d"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd())}function li(e,t){1&e&&(o.\u0275\u0275elementStart(0,"th",45),o.\u0275\u0275elementStart(1,"span",29),o.\u0275\u0275text(2,"\u5355\u4f4d\u6570\u91cf"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd())}function si(e,t){1&e&&(o.\u0275\u0275elementStart(0,"th",45),o.\u0275\u0275elementStart(1,"span",29),o.\u0275\u0275text(2,"\u7c7b\u578b"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd())}function ci(e,t){1&e&&(o.\u0275\u0275elementStart(0,"th",44),o.\u0275\u0275elementStart(1,"span",29),o.\u0275\u0275text(2,"\u4fdd\u4fee\u622a\u6b62\u65e5\u671f"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd())}function mi(e,t){1&e&&(o.\u0275\u0275elementStart(0,"th",44),o.\u0275\u0275elementStart(1,"span",29),o.\u0275\u0275text(2,"\u5230\u671f\u66f4\u6362\u65e5\u671f"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd())}function pi(e,t){1&e&&(o.\u0275\u0275elementStart(0,"th",48),o.\u0275\u0275elementStart(1,"span",29),o.\u0275\u0275text(2,"\u5907\u6ce8"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd())}function ui(e,t){1&e&&(o.\u0275\u0275elementStart(0,"th",49),o.\u0275\u0275elementStart(1,"span",29),o.\u0275\u0275text(2,"\u64cd\u4f5c"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd())}function fi(e,t){1&e&&(o.\u0275\u0275elementStart(0,"span",54),o.\u0275\u0275element(1,"em",55),o.\u0275\u0275elementEnd())}function wi(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"td"),o.\u0275\u0275template(1,fi,2,0,"span",53),o.\u0275\u0275text(2),o.\u0275\u0275elementEnd()),2&e){const e=o.\u0275\u0275nextContext().$implicit;o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",e.quickwear_part),o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",e.material_code," ")}}function hi(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"td"),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&e){const e=o.\u0275\u0275nextContext().$implicit;o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",e.material_name," ")}}function gi(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"td"),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&e){const e=o.\u0275\u0275nextContext().$implicit;o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",e.specification," ")}}function vi(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"td"),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&e){const e=o.\u0275\u0275nextContext().$implicit;o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",e.model," ")}}function Ci(e,t){if(1&e){const e=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"input",57),o.\u0275\u0275listener("ngModelChange",function(t){return o.\u0275\u0275restoreView(e),o.\u0275\u0275nextContext(2).$implicit.sn=t})("change",function(){o.\u0275\u0275restoreView(e);const t=o.\u0275\u0275nextContext(2).$implicit;return o.\u0275\u0275nextContext().partInputChange(t)}),o.\u0275\u0275elementEnd()}if(2&e){const e=o.\u0275\u0275nextContext(2).$implicit;o.\u0275\u0275property("ngModel",e.sn)}}function yi(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"td"),o.\u0275\u0275template(1,Ci,1,1,"input",56),o.\u0275\u0275elementEnd()),2&e){const e=o.\u0275\u0275nextContext().$implicit;o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf","1"===e.sn_management)}}function xi(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"td"),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&e){const e=o.\u0275\u0275nextContext().$implicit;o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",e.unit," ")}}function _i(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"span"),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&e){const e=o.\u0275\u0275nextContext(2).$implicit;o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate(e.unit_qty)}}function Si(e,t){if(1&e){const e=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"dw-input-number",60),o.\u0275\u0275listener("ngModelChange",function(t){return o.\u0275\u0275restoreView(e),o.\u0275\u0275nextContext(2).$implicit.unit_qty=t})("ngModelChange",function(){o.\u0275\u0275restoreView(e);const t=o.\u0275\u0275nextContext(2).$implicit;return o.\u0275\u0275nextContext().partInputChange(t)}),o.\u0275\u0275elementEnd()}if(2&e){const e=o.\u0275\u0275nextContext(2).$implicit;o.\u0275\u0275property("ngModel",e.unit_qty)("dwMin",0)}}function bi(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"td"),o.\u0275\u0275template(1,_i,2,1,"span",58),o.\u0275\u0275template(2,Si,1,2,"dw-input-number",59),o.\u0275\u0275elementEnd()),2&e){const e=o.\u0275\u0275nextContext().$implicit;o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf","1"===e.sn_management),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf","0"===e.sn_management)}}function Ei(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"td"),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&e){const e=o.\u0275\u0275nextContext().$implicit;o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",e.item_group_name," ")}}function Ii(e,t){if(1&e){const e=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"td"),o.\u0275\u0275elementStart(1,"dw-date-picker",61),o.\u0275\u0275listener("ngModelChange",function(t){return o.\u0275\u0275restoreView(e),o.\u0275\u0275nextContext().$implicit.expiry_date=t})("ngModelChange",function(){o.\u0275\u0275restoreView(e);const t=o.\u0275\u0275nextContext().$implicit;return o.\u0275\u0275nextContext().partInputChange(t)}),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()}if(2&e){const e=o.\u0275\u0275nextContext().$implicit;o.\u0275\u0275advance(1),o.\u0275\u0275property("ngModel",e.expiry_date)}}function Di(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"td"),o.\u0275\u0275text(1),o.\u0275\u0275pipe(2,"date"),o.\u0275\u0275elementEnd()),2&e){const e=o.\u0275\u0275nextContext().$implicit;o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",o.\u0275\u0275pipeBind2(2,1,e.replacement_date,"yyyy-MM-dd")," ")}}function Ti(e,t){if(1&e){const e=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"td"),o.\u0275\u0275elementStart(1,"input",62),o.\u0275\u0275listener("ngModelChange",function(t){return o.\u0275\u0275restoreView(e),o.\u0275\u0275nextContext().$implicit.remark=t})("change",function(){o.\u0275\u0275restoreView(e);const t=o.\u0275\u0275nextContext().$implicit;return o.\u0275\u0275nextContext().partInputChange(t)}),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()}if(2&e){const e=o.\u0275\u0275nextContext().$implicit;o.\u0275\u0275advance(1),o.\u0275\u0275property("ngModel",e.remark)}}function Oi(e,t){if(1&e){const e=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"td",63),o.\u0275\u0275elementStart(1,"div",64),o.\u0275\u0275elementStart(2,"div",65),o.\u0275\u0275elementStart(3,"a",66),o.\u0275\u0275listener("dwOnConfirm",function(){o.\u0275\u0275restoreView(e);const t=o.\u0275\u0275nextContext().$implicit;return o.\u0275\u0275nextContext().deletePart(t.index)}),o.\u0275\u0275pipe(4,"translate"),o.\u0275\u0275pipe(5,"translate"),o.\u0275\u0275elementStart(6,"a",67),o.\u0275\u0275element(7,"img",68),o.\u0275\u0275element(8,"img",69),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()}2&e&&(o.\u0275\u0275advance(3),o.\u0275\u0275property("dwPopconfirmTitle","\u662f\u5426\u5220\u9664")("dwOkText",o.\u0275\u0275pipeBind1(4,4,"dw-determine"))("dwCancelText",o.\u0275\u0275pipeBind1(5,6,"dw-cancel"))("dwPopconfirmPlacement","topRight"))}function Mi(e,t){1&e&&(o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275elementStart(1,"tr",50),o.\u0275\u0275template(2,wi,3,2,"td",51),o.\u0275\u0275template(3,hi,2,1,"td",51),o.\u0275\u0275template(4,gi,2,1,"td",51),o.\u0275\u0275template(5,vi,2,1,"td",51),o.\u0275\u0275template(6,yi,2,1,"td",51),o.\u0275\u0275template(7,xi,2,1,"td",51),o.\u0275\u0275template(8,bi,3,2,"td",51),o.\u0275\u0275template(9,Ei,2,1,"td",51),o.\u0275\u0275template(10,Ii,2,1,"td",51),o.\u0275\u0275template(11,Di,3,4,"td",51),o.\u0275\u0275template(12,Ti,2,1,"td",51),o.\u0275\u0275template(13,Oi,9,8,"td",52),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementContainerEnd()),2&e&&(o.\u0275\u0275advance(2),o.\u0275\u0275property("dwColumnId","material_code"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","material_name"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","specification"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","model"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","sn"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","unit"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","unit_qty"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","item_group_name"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","expiry_date"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","replacement_date"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","remark"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","operation"))}const Fi=function(){return{showPreviewIcon:!0,showRemoveIcon:!0}},Pi=function(){return{x:"1300px"}};let ki=(()=>{class e{constructor(e,t,n,i,r,o){this.fb=e,this.productFileSrv=t,this.productFileSelectService=n,this.message=i,this.datePipe=r,this.modalSubject=o,this.product_part=[],this.product_part_for_show=[],this.itemGroupList=[],this._isIntegrated=!1,this.picture_id="",this.fileList=[],this.previewImage="",this.previewVisible=!1,this.handlePreview=e=>(0,Rn.mG)(this,void 0,void 0,function*(){!e.url&&!e.preview&&(e.preview=yield this.getBase64(e.originFileObj)),this.previewImage=e.url||e.preview,this.previewVisible=!0}),this.handleChange=e=>(0,Rn.mG)(this,void 0,void 0,function*(){switch(e.file.status){case"done":this.fileList[0].url=this.fileList.length?yield this.getBase64(e.file.originFileObj):"",this.form.get("file_context").setValue(this.fileList.length?this.fileList[0].url:""),this.form.get("file_name").setValue(this.fileList.length?this.fileList[0].name:""),this.form.get("picture_id").setValue("");break;case"removed":this.fileList[0].url="",this.form.get("file_context").setValue(""),this.form.get("file_name").setValue(""),this.form.get("picture_id").setValue("");break;case"error":this.fileList[0].status="done",this.fileList[0].url=this.fileList.length?yield this.getBase64(e.file.originFileObj):"",this.form.get("file_context").setValue(this.fileList.length?this.fileList[0].url:""),this.form.get("file_name").setValue(this.fileList.length?this.fileList[0].name:""),this.form.get("picture_id").setValue("")}}),this.beforeUpload=(e,t)=>new h.Observable(t=>{const n="image/jpeg"===e.type||"image/png"===e.type;if(!n)return this.message.create("error","\u8bf7\u4e0a\u4f20jpg\u6216png\u683c\u5f0f\u56fe\u7247\uff01"),void t.complete();const i=e.size/1024/1024<=5;if(!i)return this.message.create("error","\u4e0a\u4f20\u6587\u4ef6\u5927\u5c0f\u8d85\u8fc75M\uff01"),void t.complete();t.next(n&&i),t.complete()})}set isIntegrated(e){this._isIntegrated=e}set cmd(e){this._cmd=e}set expiryDate(e){this._expiryDate=e}set deliveryDate(e){this._deliveryDate=e||new Date}set orderDetail(e){this.detailEdit=e}ngOnInit(){console.log(this._deliveryDate,this.datePipe.transform(this._expiryDate||new Date,"yyyy/MM/dd HH:mm:dd")),String(this._deliveryDate).indexOf("/")>0&&(this._deliveryDate=new Date(this._deliveryDate)),this.form=this.fb.group({}),"add"===this._cmd?(this.detailEdit=new $n({}),this.detailEdit.product_equipment_list_id=null,this.detailEdit.product_file_id=null,this.fileList=[],this.picture_id="",this.previewImage=""):(this.product_part=this.detailEdit.product_part?JSON.parse(JSON.stringify(this.detailEdit.product_part)):[],this.product_part.forEach(e=>{e.$state=e.$state||"u",e.expiry_date=this.datePipe.transform(e.expiry_date||new Date,"yyyy/MM/dd")}),this.getPartsForShow(),this.picture_id=this.detailEdit.picture_id||"",this.detailEdit.file_context?this.fileList=[{uid:this.picture_id,name:this.detailEdit.file_name,status:"done",url:this.detailEdit.file_context}]:(this.fileList=[],this.previewImage="")),this.form.addControl("product_file_id",new d.FormControl(this.detailEdit.product_file_id)),this.form.addControl("code",new d.FormControl(this.detailEdit.code,d.Validators.required)),this.form.addControl("name",new d.FormControl(this.detailEdit.name,d.Validators.required)),this.form.addControl("specification",new d.FormControl(this.detailEdit.specification)),this.form.addControl("model",new d.FormControl(this.detailEdit.model)),this.form.addControl("sn",new d.FormControl(this.detailEdit.sn)),this.form.addControl("picture_id",new d.FormControl(this.detailEdit.picture_id)),this.form.addControl("file_name",new d.FormControl(this.detailEdit.file_name)),this.form.addControl("file_context",new d.FormControl(this.detailEdit.file_context)),this.form.addControl("quantity",new d.FormControl(this.detailEdit.quantity||1,d.Validators.required)),this.form.addControl("item_group_id",new d.FormControl(this.detailEdit.item_group_id,d.Validators.required)),this.form.addControl("item_group_name",new d.FormControl(this.detailEdit.item_group_name,d.Validators.required)),this.form.addControl("remark",new d.FormControl(this.detailEdit.remark)),this.productFileSrv.getItemGroupList("","","1").subscribe(e=>{this.itemGroupList=e||[]})}onInput(e){""!==this.form.value.sn&&this.form.get("quantity").setValue(1)}itemGroupChange(e){if(this.itemGroupList.length)for(const t in this.itemGroupList)if(this.itemGroupList[t].item_group_id===e)return void this.form.get("item_group_name").setValue(this.itemGroupList[t].item_group_name)}emitDataOutside(){console.log(this.detailEdit),Object.assign(this.detailEdit,this.form.value),Object.assign(this.detailEdit,{product_part:this.product_part}),this.detailEdit.$state="u",console.log(this.detailEdit);let e=!0;this.product_part_for_show.forEach(t=>t.sn||"1"!==t.sn_management?t.unit_qty?t.expiry_date?void 0:(this.message.error("\u8bf7\u8f93\u5165\u914d\u4ef6\u4fdd\u4fee\u622a\u6b62\u65e5\u671f"),void(e=!1)):(this.message.error("\u8bf7\u8f93\u5165\u914d\u4ef6\u5355\u4f4d\u6570\u91cf"),void(e=!1)):(this.message.error("\u8bf7\u8f93\u5165\u914d\u4ef6\u5e8f\u5217\u53f7"),void(e=!1))),e&&this.modalSubject.triggerOk()}handleCancel(e){console.log(this.detailEdit),this.modalSubject.triggerCancel()}openProductDataWin(e,t){e.preventDefault(),console.log(event.target);const n=this._deliveryDate.getFullYear()+"-"+(this._deliveryDate.getMonth()+1)+"-"+this._deliveryDate.getDate();this.productFileSelectService.open([],t,!0,n).subscribe(e=>{let t=!1;e&&e.length&&e.forEach(e=>{const n=this.product_part?this.product_part.filter(t=>e.quickwear_part&&"1"!==e.sn_management&&t.material_id===e.material_id&&this.datePipe.transform(t.replacement_date,"yyyy/MM/dd")===this.datePipe.transform(e.replacement_date,"yyyy/MM/dd")&&"d"!==t.$state):[];if(console.log(n),n&&n.length)return console.log(t),void(t=!0);this.product_part.push(this.detailModelWinObjForProductPart({material_id:e.material_id,material_code:e.material_code,material_name:e.material_name,specification:e.specification,model:e.model,sn:"",unit:e.unit,unit_qty:1,item_group_name:e.item_group_name,expiry_date:this.datePipe.transform(this._expiryDate||new Date,"yyyy/MM/dd"),sn_management:e.sn_management,remark:"",quickwear_part:e.quickwear_part,replacement_date:e.replacement_date,$state:"c"})),this.getPartsForShow()}),t&&this.message.error("\u5df2\u5b58\u5728\u76f8\u540c\u5230\u671f\u66f4\u6362\u65e5\u671f\u7684\u6613\u635f\u914d\u4ef6\uff01")})}detailModelWinObjForProductPart(e){return Object.assign(Object.assign({},e),{product_file_id:this.detailEdit.product_file_id||null,product_equipment_list_id:this.detailEdit.product_equipment_list_id||null})}deletePart(e){console.log(JSON.parse(JSON.stringify(this.product_part)),e),"c"===this.product_part[e].$state?this.product_part.splice(e,1):this.product_part[e].$state="d",this.getPartsForShow()}getPartsForShow(){const e=[];console.log(JSON.parse(JSON.stringify(this.product_part))),this.product_part.forEach((t,n)=>{"d"!==t.$state&&(console.log("index",n),e.push(Object.assign(Object.assign({},t),{index:n})))}),console.log(e,"list"),this.product_part_for_show=e}partInputChange(e){this.product_part[e.index]=Object.assign({},e),console.log(this.product_part)}getBase64(e){return new Promise((t,n)=>{const i=new FileReader;i.readAsDataURL(e),i.onload=()=>t(i.result),i.onerror=e=>n(e)})}}return e.\u0275fac=function(t){return new(t||e)(o.\u0275\u0275directiveInject(d.FormBuilder),o.\u0275\u0275directiveInject(l.U),o.\u0275\u0275directiveInject(Bn),o.\u0275\u0275directiveInject(s.DwMessageService),o.\u0275\u0275directiveInject(i.DatePipe),o.\u0275\u0275directiveInject(c.DwModalRef))},e.\u0275cmp=o.\u0275\u0275defineComponent({type:e,selectors:[["app-product-equipment-modify"]],inputs:{isIntegrated:"isIntegrated",cmd:"cmd",expiryDate:"expiryDate",deliveryDate:"deliveryDate",orderDetail:"orderDetail"},features:[o.\u0275\u0275ProvidersFeature([Bn])],decls:95,vars:74,consts:[["dw-form","",3,"formGroup"],[1,"lessons-list"],[1,"sub-title",2,"margin-top","0","margin-left","0"],["dw-row","","dwGutter","8"],["dw-col","","dwSpan","10"],["dwRequired","",3,"dwSm","dwXs"],[3,"dwSm","dwXs"],["dw-input","","required","","formControlName","code","maxlength","40",3,"readonly"],["dw-input","","required","","formControlName","name","maxlength","60",3,"readonly"],["dw-input","","formControlName","sn","maxlength","255",3,"readonly","change"],["formControlName","quantity","required","",2,"width","100%",3,"dwMin","dwPrecision","dwDisabled"],["formControlName","item_group_id","required","",2,"width","100%",3,"ngModelChange"],[3,"dwLabel","dwValue",4,"ngFor","ngForOf"],["dw-input","","formControlName","remark","maxlength","100","placeholder","100\u5b57\u4ee5\u5185"],["dw-col","","dwSpan","12"],["rowspan","4"],[1,"clearfix",2,"min-height","117.5px"],["dwAction","https://www.mocky.io/v2/5cc8019d300000980a055e76","dwListType","picture-card",3,"dwFileList","dwShowButton","dwPreview","dwBeforeUpload","dwAccept","dwShowUploadList","dwFileListChange","dwChange"],["dw-icon","","dwType","plus"],[1,"ant-upload-text"],[3,"dwVisible","dwContent","dwFooter","dwOnCancel"],["modalContent",""],["dw-input","","formControlName","model","maxlength","255"],["dw-input","","formControlName","specification","maxlength","255"],[1,"sub-title",2,"margin-left","0"],[2,"padding-left","20px"],["dw-row","",1,"dw-f-btn-bar-action",2,"padding-bottom","16px"],["dw-col",""],["dw-button","","type","button",3,"dwType","click"],["translate",""],["dwTableId","crs-equipment-part-modify-list",3,"dwData","dwScroll"],["dwTablePart",""],["dw-tr","","dwDropColumns",""],["dw-th","","dwDragDrop","","dwWidth","140px",4,"dwColumnId"],["dw-th","","dwWidth","100px","dwDragDrop","",4,"dwColumnId"],["dw-th","","dwWidth","110px","dwDragDrop","",4,"dwColumnId"],["dw-th","","dwWidth","80px","dwDragDrop","",4,"dwColumnId"],["dw-th","","dwWidth","120px","dwDragDrop","",4,"dwColumnId"],["dw-th","","dwWidth","60px","dwRight","","class","align-center","dwDragDrop","",4,"dwColumnId"],[4,"ngFor","ngForOf"],[1,"customize-footer","ant-modal-footer",2,"padding-bottom","0","padding-right","0"],["dw-button","",3,"dwType","disabled","click"],[3,"dwLabel","dwValue"],["alt","\u7167\u7247",3,"src","ngStyle"],["dw-th","","dwDragDrop","","dwWidth","140px"],["dw-th","","dwWidth","100px","dwDragDrop",""],["dw-th","","dwWidth","110px","dwDragDrop",""],["dw-th","","dwWidth","80px","dwDragDrop",""],["dw-th","","dwWidth","120px","dwDragDrop",""],["dw-th","","dwWidth","60px","dwRight","","dwDragDrop","",1,"align-center"],["dw-tbody-tr","","dwReorderColumns",""],[4,"dwColumnId"],["dwRight","","class","align-center",4,"dwColumnId"],["dw-tooltip","","dwTooltipTitle","\u6613\u635f\u4ef6","class","quickPart",4,"ngIf"],["dw-tooltip","","dwTooltipTitle","\u6613\u635f\u4ef6",1,"quickPart"],[1,"point"],["dw-input","","maxlength","255",3,"ngModel","ngModelChange","change",4,"ngIf"],["dw-input","","maxlength","255",3,"ngModel","ngModelChange","change"],[4,"ngIf"],["style","width: 100%;",3,"ngModel","dwMin","ngModelChange",4,"ngIf"],[2,"width","100%",3,"ngModel","dwMin","ngModelChange"],[3,"ngModel","ngModelChange"],["dw-input","","maxlength","20",3,"ngModel","ngModelChange","change"],["dwRight","",1,"align-center"],[1,"action-grid"],["title","\u5220\u9664"],["dw-popconfirm","",3,"dwPopconfirmTitle","dwOkText","dwCancelText","dwPopconfirmPlacement","dwOnConfirm"],["dw-popconfirm","","translate",""],["src","../../../../../../assets/img/icon_delete.png","alt","\u5220\u9664",1,"action-icon"],["src","../../../../../../assets/img/icon_delete_hover.png","alt","\u5220\u9664",1,"action-icon"]],template:function(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"dw-content"),o.\u0275\u0275elementStart(1,"form",0),o.\u0275\u0275elementStart(2,"div",1),o.\u0275\u0275elementStart(3,"div",2),o.\u0275\u0275text(4,"\u8bbe\u5907\u4fe1\u606f"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(5,"div",3),o.\u0275\u0275elementStart(6,"div",4),o.\u0275\u0275elementStart(7,"dw-form-item"),o.\u0275\u0275elementStart(8,"dw-form-label",5),o.\u0275\u0275text(9,"\u8bbe\u5907\u7f16\u53f7"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(10,"dw-form-control",6),o.\u0275\u0275element(11,"input",7),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(12,"dw-form-item"),o.\u0275\u0275elementStart(13,"dw-form-label",5),o.\u0275\u0275text(14,"\u8bbe\u5907\u540d\u79f0"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(15,"dw-form-control",6),o.\u0275\u0275element(16,"input",8),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(17,"dw-form-item"),o.\u0275\u0275elementStart(18,"dw-form-label",6),o.\u0275\u0275text(19,"\u5e8f\u5217\u53f7"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(20,"dw-form-control",6),o.\u0275\u0275elementStart(21,"input",9),o.\u0275\u0275listener("change",function(e){return t.onInput(e)}),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(22,"dw-form-item"),o.\u0275\u0275elementStart(23,"dw-form-label",5),o.\u0275\u0275text(24,"\u6570\u91cf"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(25,"dw-form-control",6),o.\u0275\u0275element(26,"dw-input-number",10),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(27,"dw-form-item"),o.\u0275\u0275elementStart(28,"dw-form-label",5),o.\u0275\u0275text(29,"\u4ea7\u54c1\u5206\u7c7b"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(30,"dw-form-control",6),o.\u0275\u0275elementStart(31,"dw-select",11),o.\u0275\u0275listener("ngModelChange",function(e){return t.itemGroupChange(e)}),o.\u0275\u0275template(32,Yn,1,2,"dw-option",12),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(33,"dw-form-item"),o.\u0275\u0275elementStart(34,"dw-form-label",6),o.\u0275\u0275text(35,"\u5907\u6ce8"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(36,"dw-form-control",6),o.\u0275\u0275element(37,"input",13),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(38,"div",14),o.\u0275\u0275elementStart(39,"dw-form-item",15),o.\u0275\u0275elementStart(40,"dw-form-label",6),o.\u0275\u0275text(41,"\u7167\u7247"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(42,"dw-form-control",6),o.\u0275\u0275elementStart(43,"div",16),o.\u0275\u0275elementStart(44,"dw-upload",17),o.\u0275\u0275listener("dwFileListChange",function(e){return t.fileList=e})("dwChange",function(e){return t.handleChange(e)}),o.\u0275\u0275element(45,"em",18),o.\u0275\u0275elementStart(46,"div",19),o.\u0275\u0275text(47,"Upload"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(48,"dw-modal",20),o.\u0275\u0275listener("dwOnCancel",function(){return t.previewVisible=!1}),o.\u0275\u0275template(49,ti,1,3,"ng-template",null,21,o.\u0275\u0275templateRefExtractor),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(51,"dw-form-item"),o.\u0275\u0275elementStart(52,"dw-form-label",6),o.\u0275\u0275text(53,"\u578b\u53f7"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(54,"dw-form-control",6),o.\u0275\u0275element(55,"input",22),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(56,"dw-form-item"),o.\u0275\u0275elementStart(57,"dw-form-label",6),o.\u0275\u0275text(58,"\u89c4\u683c"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(59,"dw-form-control",6),o.\u0275\u0275element(60,"input",23),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(61,"div",24),o.\u0275\u0275text(62,"\u914d\u4ef6\u4fe1\u606f"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(63,"div",25),o.\u0275\u0275elementStart(64,"div",26),o.\u0275\u0275elementStart(65,"div",27),o.\u0275\u0275elementStart(66,"button",28),o.\u0275\u0275listener("click",function(e){return t.openProductDataWin(e,"material_id")}),o.\u0275\u0275element(67,"em",18),o.\u0275\u0275elementStart(68,"span",29),o.\u0275\u0275text(69,"\u6dfb\u52a0"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(70,"dw-table",30,31),o.\u0275\u0275elementStart(72,"thead"),o.\u0275\u0275elementStart(73,"tr",32),o.\u0275\u0275template(74,ni,3,0,"th",33),o.\u0275\u0275template(75,ii,3,0,"th",34),o.\u0275\u0275template(76,ri,3,0,"th",34),o.\u0275\u0275template(77,oi,3,0,"th",34),o.\u0275\u0275template(78,ai,3,0,"th",35),o.\u0275\u0275template(79,di,3,0,"th",36),o.\u0275\u0275template(80,li,3,0,"th",34),o.\u0275\u0275template(81,si,3,0,"th",34),o.\u0275\u0275template(82,ci,3,0,"th",33),o.\u0275\u0275template(83,mi,3,0,"th",33),o.\u0275\u0275template(84,pi,3,0,"th",37),o.\u0275\u0275template(85,ui,3,0,"th",38),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(86,"tbody"),o.\u0275\u0275template(87,Mi,14,12,"ng-container",39),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(88,"div",40),o.\u0275\u0275elementStart(89,"button",41),o.\u0275\u0275listener("click",function(){return t.emitDataOutside()}),o.\u0275\u0275elementStart(90,"span",29),o.\u0275\u0275text(91,"\u786e\u5b9a"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(92,"button",28),o.\u0275\u0275listener("click",function(e){return t.handleCancel(e)}),o.\u0275\u0275elementStart(93,"span",29),o.\u0275\u0275text(94,"\u53d6\u6d88"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()),2&e){const e=o.\u0275\u0275reference(50),n=o.\u0275\u0275reference(71);o.\u0275\u0275advance(1),o.\u0275\u0275property("formGroup",t.form),o.\u0275\u0275advance(7),o.\u0275\u0275property("dwSm",6)("dwXs",24),o.\u0275\u0275advance(2),o.\u0275\u0275property("dwSm",16)("dwXs",24),o.\u0275\u0275advance(1),o.\u0275\u0275property("readonly",!!t.detailEdit.product_equipment_list_id),o.\u0275\u0275advance(2),o.\u0275\u0275property("dwSm",6)("dwXs",24),o.\u0275\u0275advance(2),o.\u0275\u0275property("dwSm",16)("dwXs",24),o.\u0275\u0275advance(1),o.\u0275\u0275property("readonly",t._isIntegrated),o.\u0275\u0275advance(2),o.\u0275\u0275property("dwSm",6)("dwXs",24),o.\u0275\u0275advance(2),o.\u0275\u0275property("dwSm",16)("dwXs",24),o.\u0275\u0275advance(1),o.\u0275\u0275property("readonly",!!t.detailEdit.product_equipment_list_id),o.\u0275\u0275advance(2),o.\u0275\u0275property("dwSm",6)("dwXs",24),o.\u0275\u0275advance(2),o.\u0275\u0275property("dwSm",16)("dwXs",24),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwMin",1)("dwPrecision",0)("dwDisabled",!!t.form.get("sn").value),o.\u0275\u0275advance(2),o.\u0275\u0275property("dwSm",6)("dwXs",24),o.\u0275\u0275advance(2),o.\u0275\u0275property("dwSm",16)("dwXs",24),o.\u0275\u0275advance(2),o.\u0275\u0275property("ngForOf",t.itemGroupList),o.\u0275\u0275advance(2),o.\u0275\u0275property("dwSm",6)("dwXs",24),o.\u0275\u0275advance(2),o.\u0275\u0275property("dwSm",16)("dwXs",24),o.\u0275\u0275advance(4),o.\u0275\u0275property("dwSm",6)("dwXs",24),o.\u0275\u0275advance(2),o.\u0275\u0275property("dwSm",16)("dwXs",24),o.\u0275\u0275advance(2),o.\u0275\u0275property("dwFileList",t.fileList)("dwShowButton",t.fileList.length<1)("dwPreview",t.handlePreview)("dwBeforeUpload",t.beforeUpload)("dwAccept",".png,.jpg")("dwShowUploadList",o.\u0275\u0275pureFunction0(72,Fi)),o.\u0275\u0275advance(4),o.\u0275\u0275property("dwVisible",t.previewVisible)("dwContent",e)("dwFooter",null),o.\u0275\u0275advance(4),o.\u0275\u0275property("dwSm",6)("dwXs",24),o.\u0275\u0275advance(2),o.\u0275\u0275property("dwSm",16)("dwXs",24),o.\u0275\u0275advance(3),o.\u0275\u0275property("dwSm",6)("dwXs",24),o.\u0275\u0275advance(2),o.\u0275\u0275property("dwSm",16)("dwXs",24),o.\u0275\u0275advance(7),o.\u0275\u0275property("dwType","default"),o.\u0275\u0275advance(4),o.\u0275\u0275property("dwData",t.product_part_for_show)("dwScroll",o.\u0275\u0275pureFunction0(73,Pi)),o.\u0275\u0275advance(4),o.\u0275\u0275property("dwColumnId","material_code"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","material_name"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","specification"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","model"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","sn"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","unit"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","unit_qty"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","item_group_name"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","expiry_date"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","replacement_date"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","remark"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","operation"),o.\u0275\u0275advance(2),o.\u0275\u0275property("ngForOf",n.data),o.\u0275\u0275advance(2),o.\u0275\u0275property("dwType","primary")("disabled",!t.form.valid),o.\u0275\u0275advance(3),o.\u0275\u0275property("dwType","default")}},directives:[K.DwContentComponent,d.\u0275NgNoValidate,d.NgControlStatusGroup,$.DwFormDirective,d.FormGroupDirective,L.DwRowDirective,L.DwColDirective,$.DwFormItemComponent,$.DwFormLabelComponent,$.DwFormControlComponent,z.DwInputDirective,d.DefaultValueAccessor,d.RequiredValidator,d.NgControlStatus,d.FormControlName,d.MaxLengthValidator,Qn.DwInputNumberComponent,j.DwSelectComponent,i.NgForOf,Zn.DwUploadComponent,Q.u,q.DwIconDirective,c.DwModalComponent,N.DwButtonComponent,Z.uG,b.TranslateDirective,x.DwTableComponent,_.Ct,x.DwTheadComponent,x.DwTrDirective,_.Y9,_.b,x.DwTbodyComponent,j.DwOptionComponent,i.NgStyle,x.DwTableCellDirective,x.DwThMeasureDirective,_.BL,_.$2,x.DwCellFixedDirective,_.at,i.NgIf,Jn.DwTooltipDirective,d.NgModel,B.DwDatePickerComponent,Se.DwPopconfirmDirective],pipes:[i.DatePipe,b.TranslatePipe],styles:[".quickPart[_ngcontent-%COMP%]   .point[_ngcontent-%COMP%]{display:inline-block;width:6px;height:6px;border-radius:3px;background-color:#ffbe68;margin-bottom:3px}"]}),e})();var Vi=n(16511),Ri=n(80419),Ai=n(78169),Li=n(45907);function $i(e,t){1&e&&(o.\u0275\u0275elementStart(0,"span",10),o.\u0275\u0275text(1,"\u65b0\u5efa\u4ea7\u54c1\u6863\u6848"),o.\u0275\u0275elementEnd())}function ji(e,t){1&e&&(o.\u0275\u0275elementStart(0,"span",10),o.\u0275\u0275text(1,"\u4fee\u6539\u4ea7\u54c1\u6863\u6848"),o.\u0275\u0275elementEnd())}function Ni(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"dw-form-item"),o.\u0275\u0275elementStart(1,"dw-form-label",32),o.\u0275\u0275text(2,"\u7f16\u7801"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(3,"dw-form-control",33),o.\u0275\u0275element(4,"input",34),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()),2&e){const e=o.\u0275\u0275nextContext(2);o.\u0275\u0275advance(1),o.\u0275\u0275property("dwSm",6)("dwXs",24),o.\u0275\u0275advance(2),o.\u0275\u0275property("dwSm",16)("dwXs",24),o.\u0275\u0275advance(1),o.\u0275\u0275property("readonly",!!e.id)}}function zi(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"dw-form-item"),o.\u0275\u0275elementStart(1,"dw-form-label",32),o.\u0275\u0275text(2,"\u540d\u79f0"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(3,"dw-form-control",33),o.\u0275\u0275element(4,"input",35),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()),2&e){const e=o.\u0275\u0275nextContext(2);o.\u0275\u0275advance(1),o.\u0275\u0275property("dwSm",6)("dwXs",24),o.\u0275\u0275advance(2),o.\u0275\u0275property("dwSm",16)("dwXs",24),o.\u0275\u0275advance(1),o.\u0275\u0275property("readonly",e.isIntegrated)}}function qi(e,t){if(1&e&&o.\u0275\u0275element(0,"dw-option",38),2&e){const e=t.$implicit;o.\u0275\u0275property("dwLabel",e.item_group_name)("dwValue",e.item_group_id)}}function Wi(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"dw-form-item"),o.\u0275\u0275elementStart(1,"dw-form-label",32),o.\u0275\u0275text(2,"\u4ea7\u54c1\u5206\u7c7b"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(3,"dw-form-control",33),o.\u0275\u0275elementStart(4,"dw-select",36),o.\u0275\u0275template(5,qi,1,2,"dw-option",37),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()),2&e){const e=o.\u0275\u0275nextContext(2);o.\u0275\u0275advance(1),o.\u0275\u0275property("dwSm",6)("dwXs",24),o.\u0275\u0275advance(2),o.\u0275\u0275property("dwSm",16)("dwXs",24),o.\u0275\u0275advance(2),o.\u0275\u0275property("ngForOf",e.itemGroupList)}}function Bi(e,t){1&e&&(o.\u0275\u0275elementStart(0,"dw-form-item"),o.\u0275\u0275elementStart(1,"dw-form-label",33),o.\u0275\u0275text(2,"\u578b\u53f7"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(3,"dw-form-control",33),o.\u0275\u0275element(4,"input",39),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()),2&e&&(o.\u0275\u0275advance(1),o.\u0275\u0275property("dwSm",6)("dwXs",24),o.\u0275\u0275advance(2),o.\u0275\u0275property("dwSm",16)("dwXs",24))}function Ui(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"dw-form-item"),o.\u0275\u0275elementStart(1,"dw-form-label",33),o.\u0275\u0275text(2,"\u89c4\u683c"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(3,"dw-form-control",33),o.\u0275\u0275element(4,"input",40),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()),2&e){const e=o.\u0275\u0275nextContext(2);o.\u0275\u0275advance(1),o.\u0275\u0275property("dwSm",6)("dwXs",24),o.\u0275\u0275advance(2),o.\u0275\u0275property("dwSm",16)("dwXs",24),o.\u0275\u0275advance(1),o.\u0275\u0275property("readonly",e.isIntegrated)}}function Xi(e,t){1&e&&(o.\u0275\u0275elementStart(0,"dw-form-label",32),o.\u0275\u0275text(1,"\u5e8f\u5217\u53f7"),o.\u0275\u0275elementEnd()),2&e&&o.\u0275\u0275property("dwSm",6)("dwXs",24)}function Gi(e,t){1&e&&(o.\u0275\u0275elementStart(0,"dw-form-label",32),o.\u0275\u0275text(1,"\u9879\u76ee\u53f7"),o.\u0275\u0275elementEnd()),2&e&&o.\u0275\u0275property("dwSm",6)("dwXs",24)}function Hi(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"dw-form-item"),o.\u0275\u0275template(1,Xi,2,2,"dw-form-label",41),o.\u0275\u0275template(2,Gi,2,2,"dw-form-label",41),o.\u0275\u0275elementStart(3,"dw-form-control",33),o.\u0275\u0275element(4,"input",42),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()),2&e){const e=o.\u0275\u0275nextContext(2);o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf","1"===e.file_type),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf","2"===e.file_type),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwSm",16)("dwXs",24),o.\u0275\u0275advance(1),o.\u0275\u0275property("readonly",!!e.id)}}function Ki(e,t){if(1&e){const e=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"button",46),o.\u0275\u0275listener("click",function(t){return o.\u0275\u0275restoreView(e),o.\u0275\u0275nextContext(3).openProductDataWin(t,"customer_id")}),o.\u0275\u0275element(1,"em",47),o.\u0275\u0275elementEnd()}if(2&e){const e=o.\u0275\u0275nextContext(3);o.\u0275\u0275property("disabled",!!e.id)}}function Qi(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"dw-form-item"),o.\u0275\u0275elementStart(1,"dw-form-label",32),o.\u0275\u0275text(2,"\u5ba2\u6237"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(3,"dw-form-control",33),o.\u0275\u0275elementStart(4,"dw-input-group",43),o.\u0275\u0275element(5,"input",44),o.\u0275\u0275elementEnd(),o.\u0275\u0275template(6,Ki,2,1,"ng-template",null,45,o.\u0275\u0275templateRefExtractor),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()),2&e){const e=o.\u0275\u0275reference(7);o.\u0275\u0275advance(1),o.\u0275\u0275property("dwSm",6)("dwXs",24),o.\u0275\u0275advance(2),o.\u0275\u0275property("dwSm",16)("dwXs",24),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwSuffix",e)}}function Zi(e,t){1&e&&(o.\u0275\u0275elementStart(0,"dw-form-item"),o.\u0275\u0275elementStart(1,"dw-form-label",33),o.\u0275\u0275text(2,"\u51fa\u5382\u5ba2\u6237"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(3,"dw-form-control",33),o.\u0275\u0275element(4,"input",48),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()),2&e&&(o.\u0275\u0275advance(1),o.\u0275\u0275property("dwSm",6)("dwXs",24),o.\u0275\u0275advance(2),o.\u0275\u0275property("dwSm",16)("dwXs",24))}function Ji(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"dw-form-item"),o.\u0275\u0275elementStart(1,"dw-form-label",33),o.\u0275\u0275text(2,"\u4f7f\u7528\u5730\u70b9"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(3,"dw-form-control",33),o.\u0275\u0275element(4,"input",49),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()),2&e){const e=o.\u0275\u0275nextContext(2);o.\u0275\u0275advance(1),o.\u0275\u0275property("dwSm",6)("dwXs",24),o.\u0275\u0275advance(2),o.\u0275\u0275property("dwSm",16)("dwXs",24),o.\u0275\u0275advance(1),o.\u0275\u0275property("readonly",e.isIntegrated)}}function Yi(e,t){if(1&e){const e=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"em",54),o.\u0275\u0275listener("click",function(){return o.\u0275\u0275restoreView(e),o.\u0275\u0275nextContext(4).clear("service_site_")}),o.\u0275\u0275elementEnd()}}function er(e,t){if(1&e){const e=o.\u0275\u0275getCurrentView();o.\u0275\u0275template(0,Yi,1,0,"em",52),o.\u0275\u0275elementStart(1,"button",53),o.\u0275\u0275listener("click",function(t){return o.\u0275\u0275restoreView(e),o.\u0275\u0275nextContext(3).openProductDataWin(t,"service_site_name")}),o.\u0275\u0275element(2,"em",47),o.\u0275\u0275elementEnd()}if(2&e){const e=o.\u0275\u0275nextContext(3);o.\u0275\u0275property("ngIf",e.product_file.controls[0].controls.service_site_name.value)}}function tr(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"dw-form-item"),o.\u0275\u0275elementStart(1,"dw-form-label",33),o.\u0275\u0275text(2,"\u670d\u52a1\u7ad9\u70b9"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(3,"dw-form-control",33),o.\u0275\u0275elementStart(4,"dw-input-group",43),o.\u0275\u0275element(5,"input",50),o.\u0275\u0275elementEnd(),o.\u0275\u0275template(6,er,3,1,"ng-template",null,51,o.\u0275\u0275templateRefExtractor),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()),2&e){const e=o.\u0275\u0275reference(7);o.\u0275\u0275advance(1),o.\u0275\u0275property("dwSm",6)("dwXs",24),o.\u0275\u0275advance(2),o.\u0275\u0275property("dwSm",16)("dwXs",24),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwSuffix",e)}}function nr(e,t){if(1&e){const e=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"em",54),o.\u0275\u0275listener("click",function(){return o.\u0275\u0275restoreView(e),o.\u0275\u0275nextContext(4).clear("employee_")}),o.\u0275\u0275elementEnd()}}function ir(e,t){if(1&e){const e=o.\u0275\u0275getCurrentView();o.\u0275\u0275template(0,nr,1,0,"em",52),o.\u0275\u0275elementStart(1,"button",53),o.\u0275\u0275listener("click",function(t){return o.\u0275\u0275restoreView(e),o.\u0275\u0275nextContext(3).openProductDataWin(t,"employee_id")}),o.\u0275\u0275element(2,"em",47),o.\u0275\u0275elementEnd()}if(2&e){const e=o.\u0275\u0275nextContext(3);o.\u0275\u0275property("ngIf",e.product_file.controls[0].controls.employee_name.value)}}function rr(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"dw-form-item"),o.\u0275\u0275elementStart(1,"dw-form-label",33),o.\u0275\u0275text(2,"\u670d\u52a1\u4eba\u5458"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(3,"dw-form-control",33),o.\u0275\u0275elementStart(4,"dw-input-group",43),o.\u0275\u0275element(5,"input",55),o.\u0275\u0275elementEnd(),o.\u0275\u0275template(6,ir,3,1,"ng-template",null,56,o.\u0275\u0275templateRefExtractor),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()),2&e){const e=o.\u0275\u0275reference(7);o.\u0275\u0275advance(1),o.\u0275\u0275property("dwSm",6)("dwXs",24),o.\u0275\u0275advance(2),o.\u0275\u0275property("dwSm",16)("dwXs",24),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwSuffix",e)}}function or(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"dw-form-item"),o.\u0275\u0275elementStart(1,"dw-form-label",32),o.\u0275\u0275text(2,"\u51fa\u5e93\u65e5\u671f"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(3,"dw-form-control",33),o.\u0275\u0275element(4,"dw-date-picker",57),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()),2&e){const e=o.\u0275\u0275nextContext(2);o.\u0275\u0275advance(1),o.\u0275\u0275property("dwSm",6)("dwXs",24),o.\u0275\u0275advance(2),o.\u0275\u0275property("dwSm",16)("dwXs",24),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwDisabled",e.isIntegrated)}}function ar(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"dw-form-item"),o.\u0275\u0275elementStart(1,"dw-form-label",33),o.\u0275\u0275text(2,"\u5b89\u88c5\u65e5\u671f"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(3,"dw-form-control",33),o.\u0275\u0275element(4,"dw-range-picker",58),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()),2&e){const e=o.\u0275\u0275nextContext(2);o.\u0275\u0275advance(1),o.\u0275\u0275property("dwSm",6)("dwXs",24),o.\u0275\u0275advance(2),o.\u0275\u0275property("dwSm",16)("dwXs",24),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwDisabledDate",e.disabledDate)}}function dr(e,t){1&e&&(o.\u0275\u0275elementStart(0,"dw-form-item"),o.\u0275\u0275elementStart(1,"dw-form-label",33),o.\u0275\u0275text(2,"\u8c03\u8bd5\u4eba\u5458"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(3,"dw-form-control",33),o.\u0275\u0275element(4,"input",59),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()),2&e&&(o.\u0275\u0275advance(1),o.\u0275\u0275property("dwSm",6)("dwXs",24),o.\u0275\u0275advance(2),o.\u0275\u0275property("dwSm",16)("dwXs",24))}function lr(e,t){1&e&&(o.\u0275\u0275elementStart(0,"dw-form-item"),o.\u0275\u0275elementStart(1,"dw-form-label",33),o.\u0275\u0275text(2,"\u5907\u6ce8"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(3,"dw-form-control",33),o.\u0275\u0275element(4,"input",60),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()),2&e&&(o.\u0275\u0275advance(1),o.\u0275\u0275property("dwSm",6)("dwXs",24),o.\u0275\u0275advance(2),o.\u0275\u0275property("dwSm",16)("dwXs",24))}function sr(e,t){if(1&e&&(o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275template(1,lr,5,4,"dw-form-item",17),o.\u0275\u0275elementContainerEnd()),2&e){const e=o.\u0275\u0275nextContext(2);o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",e.formConfigList.indexOf("remark")>=0)}}function cr(e,t){if(1&e){const e=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"div",69),o.\u0275\u0275elementStart(1,"div",70),o.\u0275\u0275element(2,"em",71),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(3,"div",72),o.\u0275\u0275text(4),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(5,"div",73),o.\u0275\u0275listener("click",function(){o.\u0275\u0275restoreView(e);const t=o.\u0275\u0275nextContext().index;return o.\u0275\u0275nextContext(3).deleteFile(t)}),o.\u0275\u0275element(6,"em",74),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()}if(2&e){const e=o.\u0275\u0275nextContext().$implicit;o.\u0275\u0275advance(4),o.\u0275\u0275textInterpolate(e.name)}}function mr(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"div"),o.\u0275\u0275template(1,cr,7,1,"div",68),o.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf","D"!==e.state)}}function pr(e,t){if(1&e){const e=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"dw-form-item"),o.\u0275\u0275elementStart(1,"dw-form-label",33),o.\u0275\u0275text(2,"\u9644\u4ef6"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(3,"dw-form-control",33),o.\u0275\u0275elementStart(4,"div",61),o.\u0275\u0275elementStart(5,"div",62),o.\u0275\u0275elementStart(6,"dw-upload",63),o.\u0275\u0275listener("dwFileListChange",function(t){return o.\u0275\u0275restoreView(e),o.\u0275\u0275nextContext(2).attachmentsList=t})("dwChange",function(t){return o.\u0275\u0275restoreView(e),o.\u0275\u0275nextContext(2).handleFileChange(t)}),o.\u0275\u0275elementStart(7,"button",64),o.\u0275\u0275element(8,"em",65),o.\u0275\u0275text(9,"\u4e0a\u4f20\u6587\u4ef6"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275template(10,mr,2,1,"div",66),o.\u0275\u0275elementStart(11,"div",67),o.\u0275\u0275text(12,"\u652f\u6301\u6269\u5c55\u540d\uff1a.doc .docx .pdf .xlsx .xls .ppt .pptx .png .jpg"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()}if(2&e){const e=o.\u0275\u0275nextContext(2);o.\u0275\u0275advance(1),o.\u0275\u0275property("dwSm",6)("dwXs",24),o.\u0275\u0275advance(2),o.\u0275\u0275property("dwSm",16)("dwXs",24),o.\u0275\u0275advance(3),o.\u0275\u0275property("dwFileList",e.attachmentsList)("dwBeforeUpload",e.beforeUploadFiles)("dwShowUploadList",!1)("dwAccept",".doc,.docx,.pdf,.xls,.xlsx,.ppt,.png,.jpg"),o.\u0275\u0275advance(4),o.\u0275\u0275property("ngForOf",e.attachmentsList)}}const ur=function(){return{width:"100%"}};function fr(e,t){if(1&e&&o.\u0275\u0275element(0,"img",82),2&e){const e=o.\u0275\u0275nextContext(3);o.\u0275\u0275property("src",e.previewImage,o.\u0275\u0275sanitizeUrl)("ngStyle",o.\u0275\u0275pureFunction0(2,ur))}}const wr=function(){return{showPreviewIcon:!0}},hr=function(){return{showPreviewIcon:!0,showRemoveIcon:!0}};function gr(e,t){if(1&e){const e=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"dw-form-item",75),o.\u0275\u0275elementStart(1,"dw-form-label",33),o.\u0275\u0275text(2,"\u4ea7\u54c1\u6863\u6848\u7167\u7247"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(3,"dw-form-control",33),o.\u0275\u0275elementStart(4,"div",76),o.\u0275\u0275elementStart(5,"dw-upload",77),o.\u0275\u0275listener("dwFileListChange",function(t){return o.\u0275\u0275restoreView(e),o.\u0275\u0275nextContext(2).fileList=t})("dwChange",function(t){return o.\u0275\u0275restoreView(e),o.\u0275\u0275nextContext(2).handleChange(t)}),o.\u0275\u0275element(6,"em",78),o.\u0275\u0275elementStart(7,"div",79),o.\u0275\u0275text(8,"Upload"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(9,"dw-modal",80),o.\u0275\u0275listener("dwOnCancel",function(){return o.\u0275\u0275restoreView(e),o.\u0275\u0275nextContext(2).previewVisible=!1}),o.\u0275\u0275template(10,fr,1,3,"ng-template",null,81,o.\u0275\u0275templateRefExtractor),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()}if(2&e){const e=o.\u0275\u0275reference(11),t=o.\u0275\u0275nextContext(2);o.\u0275\u0275advance(1),o.\u0275\u0275property("dwSm",6)("dwXs",24),o.\u0275\u0275advance(2),o.\u0275\u0275property("dwSm",16)("dwXs",24),o.\u0275\u0275advance(2),o.\u0275\u0275property("dwFileList",t.fileList)("dwShowButton",t.fileList.length<1&&(!t.isIntegrated||!t.id))("dwPreview",t.handlePreview)("dwBeforeUpload",t.beforeUpload)("dwAccept",".png,.jpg")("dwShowUploadList",t.isIntegrated&&t.id?o.\u0275\u0275pureFunction0(13,wr):o.\u0275\u0275pureFunction0(14,hr)),o.\u0275\u0275advance(4),o.\u0275\u0275property("dwVisible",t.previewVisible)("dwContent",e)("dwFooter",null)}}function vr(e,t){1&e&&(o.\u0275\u0275elementStart(0,"dw-form-item",83),o.\u0275\u0275elementStart(1,"dw-form-label",33),o.\u0275\u0275text(2,"0"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(3,"dw-form-control",33),o.\u0275\u0275element(4,"input",84),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()),2&e&&(o.\u0275\u0275advance(1),o.\u0275\u0275property("dwSm",6)("dwXs",24),o.\u0275\u0275advance(2),o.\u0275\u0275property("dwSm",16)("dwXs",24))}function Cr(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"dw-form-item"),o.\u0275\u0275elementStart(1,"dw-form-label",33),o.\u0275\u0275text(2,"\u63cf\u8ff0"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(3,"dw-form-control",33),o.\u0275\u0275element(4,"textarea",85),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()),2&e){const e=o.\u0275\u0275nextContext(2);o.\u0275\u0275advance(1),o.\u0275\u0275property("dwSm",6)("dwXs",24),o.\u0275\u0275advance(2),o.\u0275\u0275property("dwSm",18)("dwXs",24),o.\u0275\u0275advance(1),o.\u0275\u0275property("readonly",e.isIntegrated)}}function yr(e,t){1&e&&(o.\u0275\u0275elementStart(0,"dw-form-item",83),o.\u0275\u0275elementStart(1,"dw-form-label",33),o.\u0275\u0275text(2,"0"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(3,"dw-form-control",33),o.\u0275\u0275element(4,"input",86),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()),2&e&&(o.\u0275\u0275advance(1),o.\u0275\u0275property("dwSm",6)("dwXs",24),o.\u0275\u0275advance(2),o.\u0275\u0275property("dwSm",14)("dwXs",24))}function xr(e,t){1&e&&(o.\u0275\u0275elementStart(0,"dw-form-item"),o.\u0275\u0275elementStart(1,"dw-form-label",32),o.\u0275\u0275text(2,"\u4fdd\u4fee\u622a\u6b62\u65e5\u671f"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(3,"dw-form-control",33),o.\u0275\u0275element(4,"dw-date-picker",87),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()),2&e&&(o.\u0275\u0275advance(1),o.\u0275\u0275property("dwSm",6)("dwXs",24),o.\u0275\u0275advance(2),o.\u0275\u0275property("dwSm",13)("dwXs",24))}function _r(e,t){1&e&&(o.\u0275\u0275elementStart(0,"dw-form-item"),o.\u0275\u0275elementStart(1,"dw-form-label",33),o.\u0275\u0275text(2,"\u9a8c\u6536\u65e5\u671f"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(3,"dw-form-control",33),o.\u0275\u0275element(4,"dw-date-picker",88),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()),2&e&&(o.\u0275\u0275advance(1),o.\u0275\u0275property("dwSm",6)("dwXs",24),o.\u0275\u0275advance(2),o.\u0275\u0275property("dwSm",13)("dwXs",24))}function Sr(e,t){1&e&&(o.\u0275\u0275elementStart(0,"dw-form-item"),o.\u0275\u0275elementStart(1,"dw-form-label",33),o.\u0275\u0275text(2,"\u9a8c\u6536\u4eba\u5458"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(3,"dw-form-control",33),o.\u0275\u0275element(4,"input",89),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()),2&e&&(o.\u0275\u0275advance(1),o.\u0275\u0275property("dwSm",6)("dwXs",24),o.\u0275\u0275advance(2),o.\u0275\u0275property("dwSm",13)("dwXs",24))}function br(e,t){1&e&&(o.\u0275\u0275elementStart(0,"dw-form-item"),o.\u0275\u0275elementStart(1,"dw-form-label",33),o.\u0275\u0275text(2,"\u7ef4\u4fee\u6b21\u6570"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(3,"dw-form-control",33),o.\u0275\u0275element(4,"input",90),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()),2&e&&(o.\u0275\u0275advance(1),o.\u0275\u0275property("dwSm",6)("dwXs",24),o.\u0275\u0275advance(2),o.\u0275\u0275property("dwSm",13)("dwXs",24))}function Er(e,t){if(1&e&&(o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275template(1,br,5,4,"dw-form-item",17),o.\u0275\u0275elementContainerEnd()),2&e){const e=o.\u0275\u0275nextContext(2);o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",e.formConfigList.indexOf("maintenance_count")>=0)}}function Ir(e,t){1&e&&(o.\u0275\u0275elementStart(0,"dw-form-item"),o.\u0275\u0275elementStart(1,"dw-form-label",33),o.\u0275\u0275text(2,"\u5907\u6ce8"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(3,"dw-form-control",33),o.\u0275\u0275element(4,"input",60),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()),2&e&&(o.\u0275\u0275advance(1),o.\u0275\u0275property("dwSm",6)("dwXs",24),o.\u0275\u0275advance(2),o.\u0275\u0275property("dwSm",13)("dwXs",24))}function Dr(e,t){if(1&e&&(o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275template(1,Ir,5,4,"dw-form-item",17),o.\u0275\u0275elementContainerEnd()),2&e){const e=o.\u0275\u0275nextContext(2);o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",e.formConfigList.indexOf("remark")>=0)}}function Tr(e,t){1&e&&(o.\u0275\u0275elementStart(0,"div",91),o.\u0275\u0275elementStart(1,"label",92),o.\u0275\u0275text(2," \u7ef4\u62a4\u4fdd\u517b "),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd())}function Or(e,t){1&e&&(o.\u0275\u0275elementStart(0,"div",16),o.\u0275\u0275element(1,"dw-form-item"),o.\u0275\u0275elementStart(2,"dw-form-item"),o.\u0275\u0275elementStart(3,"dw-form-label",97),o.\u0275\u0275text(4,"\u6700\u8fd1\u7ef4\u62a4\u65e5\u671f"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(5,"dw-form-control",97),o.\u0275\u0275element(6,"dw-date-picker",104),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(7,"dw-form-item"),o.\u0275\u0275elementStart(8,"dw-form-label",96),o.\u0275\u0275text(9,"\u4e0b\u6b21\u7ef4\u62a4\u65e5\u671f"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(10,"dw-form-control",97),o.\u0275\u0275element(11,"dw-date-picker",105),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()),2&e&&(o.\u0275\u0275advance(3),o.\u0275\u0275property("dwSpan",9),o.\u0275\u0275advance(2),o.\u0275\u0275property("dwSpan",14),o.\u0275\u0275advance(3),o.\u0275\u0275property("dwSpan",9),o.\u0275\u0275advance(2),o.\u0275\u0275property("dwSpan",14))}function Mr(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"div",95),o.\u0275\u0275elementStart(1,"div",16),o.\u0275\u0275element(2,"dw-form-item"),o.\u0275\u0275elementStart(3,"dw-form-item"),o.\u0275\u0275elementStart(4,"dw-form-label",96),o.\u0275\u0275text(5,"\u7ef4\u62a4\u5f00\u59cb\u65e5\u671f"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(6,"dw-form-control",97),o.\u0275\u0275element(7,"dw-date-picker",98),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(8,"dw-form-item"),o.\u0275\u0275elementStart(9,"dw-form-label",96),o.\u0275\u0275text(10,"\u7ef4\u62a4\u5468\u671f"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(11,"div",99),o.\u0275\u0275elementStart(12,"dw-form-control",97),o.\u0275\u0275elementStart(13,"div",100),o.\u0275\u0275element(14,"input",101),o.\u0275\u0275elementStart(15,"span",102),o.\u0275\u0275text(16,"\u6708"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275template(17,Or,12,4,"div",103),o.\u0275\u0275elementEnd()),2&e){const e=o.\u0275\u0275nextContext(3);o.\u0275\u0275advance(4),o.\u0275\u0275property("dwSpan",9),o.\u0275\u0275advance(2),o.\u0275\u0275property("dwSpan",14),o.\u0275\u0275advance(3),o.\u0275\u0275property("dwSpan",9),o.\u0275\u0275advance(2),o.\u0275\u0275property("dwSpan",14),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwSpan",22),o.\u0275\u0275advance(5),o.\u0275\u0275property("ngIf","1"===e.basis_of_maintain)}}function Fr(e,t){if(1&e){const e=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"div",95),o.\u0275\u0275elementStart(1,"div",16),o.\u0275\u0275element(2,"dw-form-item"),o.\u0275\u0275elementStart(3,"dw-form-item"),o.\u0275\u0275elementStart(4,"dw-form-label",96),o.\u0275\u0275text(5,"\u6bcf\u6284\u8868\u8fbe"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(6,"div",99),o.\u0275\u0275elementStart(7,"dw-form-control",97),o.\u0275\u0275elementStart(8,"div",100),o.\u0275\u0275element(9,"input",101),o.\u0275\u0275elementStart(10,"span",102),o.\u0275\u0275text(11,"\u9700\u4fdd\u517b"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(12,"dw-form-item"),o.\u0275\u0275elementStart(13,"dw-form-label",97),o.\u0275\u0275text(14,"\u6700\u8fd1\u4fdd\u517b\u6284\u8868\u6570"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(15,"dw-form-control",97),o.\u0275\u0275element(16,"input",106),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(17,"div",16),o.\u0275\u0275element(18,"dw-form-item"),o.\u0275\u0275elementStart(19,"dw-form-item"),o.\u0275\u0275element(20,"dw-form-label",97),o.\u0275\u0275element(21,"dw-form-control",97),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(22,"dw-form-item"),o.\u0275\u0275elementStart(23,"dw-form-label",97),o.\u0275\u0275text(24,"\u4e0b\u6b21\u4fdd\u517b\u6284\u8868\u6570"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(25,"dw-form-control",97),o.\u0275\u0275elementStart(26,"input",107),o.\u0275\u0275listener("change",function(){return o.\u0275\u0275restoreView(e),o.\u0275\u0275nextContext(3).nextMaintainReadingmeterChange()})("keyup",function(){return o.\u0275\u0275restoreView(e),o.\u0275\u0275nextContext(3).nextMaintainReadingmeterChange()}),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()}2&e&&(o.\u0275\u0275advance(4),o.\u0275\u0275property("dwSpan",9),o.\u0275\u0275advance(2),o.\u0275\u0275property("dwSpan",14),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwSpan",22),o.\u0275\u0275advance(6),o.\u0275\u0275property("dwSpan",9),o.\u0275\u0275advance(2),o.\u0275\u0275property("dwSpan",14),o.\u0275\u0275advance(5),o.\u0275\u0275property("dwSpan",9),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwSpan",14),o.\u0275\u0275advance(2),o.\u0275\u0275property("dwSpan",9),o.\u0275\u0275advance(2),o.\u0275\u0275property("dwSpan",14))}function Pr(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"div",93),o.\u0275\u0275elementStart(1,"div"),o.\u0275\u0275elementStart(2,"label",92),o.\u0275\u0275text(3," \u7ef4\u62a4\u4fdd\u517b "),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275template(4,Mr,18,6,"div",94),o.\u0275\u0275template(5,Fr,27,9,"div",94),o.\u0275\u0275elementEnd()),2&e){const e=o.\u0275\u0275nextContext(2);o.\u0275\u0275advance(4),o.\u0275\u0275property("ngIf","1"===e.basis_of_maintain),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf","2"===e.basis_of_maintain)}}function kr(e,t){1&e&&(o.\u0275\u0275elementStart(0,"th",119),o.\u0275\u0275elementStart(1,"span",6),o.\u0275\u0275text(2,"\u8bbe\u5907\u7f16\u53f7"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd())}function Vr(e,t){1&e&&(o.\u0275\u0275elementStart(0,"th",120),o.\u0275\u0275elementStart(1,"span",6),o.\u0275\u0275text(2,"\u8bbe\u5907\u540d\u79f0"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd())}function Rr(e,t){1&e&&(o.\u0275\u0275elementStart(0,"th",120),o.\u0275\u0275elementStart(1,"span",6),o.\u0275\u0275text(2,"\u89c4\u683c"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd())}function Ar(e,t){1&e&&(o.\u0275\u0275elementStart(0,"th",120),o.\u0275\u0275elementStart(1,"span",6),o.\u0275\u0275text(2,"\u578b\u53f7"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd())}function Lr(e,t){1&e&&(o.\u0275\u0275elementStart(0,"th",120),o.\u0275\u0275elementStart(1,"span",6),o.\u0275\u0275text(2,"\u5206\u7c7b"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd())}function $r(e,t){1&e&&(o.\u0275\u0275elementStart(0,"th",120),o.\u0275\u0275elementStart(1,"span",6),o.\u0275\u0275text(2,"\u5e8f\u5217\u53f7"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd())}function jr(e,t){1&e&&(o.\u0275\u0275elementStart(0,"th",120),o.\u0275\u0275elementStart(1,"span",6),o.\u0275\u0275text(2,"\u8bbe\u5907\u56fe\u7247"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd())}function Nr(e,t){1&e&&(o.\u0275\u0275elementStart(0,"th",121),o.\u0275\u0275elementStart(1,"span",6),o.\u0275\u0275text(2,"\u6570\u91cf"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd())}function zr(e,t){1&e&&(o.\u0275\u0275elementStart(0,"th",120),o.\u0275\u0275elementStart(1,"span",6),o.\u0275\u0275text(2,"\u5907\u6ce8"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd())}function qr(e,t){1&e&&(o.\u0275\u0275elementStart(0,"th",122),o.\u0275\u0275elementStart(1,"span",6),o.\u0275\u0275text(2,"\u64cd\u4f5c"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd())}function Wr(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"td"),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&e){const e=o.\u0275\u0275nextContext(2).$implicit;o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",e.controls.code.value," ")}}function Br(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"td"),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&e){const e=o.\u0275\u0275nextContext(2).$implicit;o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",e.controls.name.value," ")}}function Ur(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"td"),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&e){const e=o.\u0275\u0275nextContext(2).$implicit;o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",e.controls.specification.value," ")}}function Xr(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"td"),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&e){const e=o.\u0275\u0275nextContext(2).$implicit;o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",e.controls.model.value," ")}}function Gr(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"td"),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&e){const e=o.\u0275\u0275nextContext(2).$implicit;o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",e.controls.item_group_name.value," ")}}function Hr(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"td"),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&e){const e=o.\u0275\u0275nextContext(2).$implicit;o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",e.controls.sn.value," ")}}function Kr(e,t){if(1&e&&o.\u0275\u0275element(0,"img",130),2&e){const e=o.\u0275\u0275nextContext(3).$implicit;o.\u0275\u0275property("src",e.controls.file_context.value,o.\u0275\u0275sanitizeUrl)}}function Qr(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"td"),o.\u0275\u0275template(1,Kr,1,1,"img",129),o.\u0275\u0275elementEnd()),2&e){const e=o.\u0275\u0275nextContext(2).$implicit;o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",e.controls.file_context.value)}}function Zr(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"td",131),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&e){const e=o.\u0275\u0275nextContext(2).$implicit;o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",e.controls.quantity.value," ")}}function Jr(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"td"),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&e){const e=o.\u0275\u0275nextContext(2).$implicit;o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",e.controls.remark.value," ")}}function Yr(e,t){if(1&e){const e=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"td",132),o.\u0275\u0275elementStart(1,"div",133),o.\u0275\u0275elementStart(2,"div",134),o.\u0275\u0275listener("click",function(){o.\u0275\u0275restoreView(e);const t=o.\u0275\u0275nextContext(2),n=t.$implicit,i=t.index;return o.\u0275\u0275nextContext(3).modifyEquipment(n,i)}),o.\u0275\u0275element(3,"img",135),o.\u0275\u0275element(4,"img",136),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(5,"div",137),o.\u0275\u0275elementStart(6,"a",138),o.\u0275\u0275listener("dwOnConfirm",function(){o.\u0275\u0275restoreView(e);const t=o.\u0275\u0275nextContext(2),n=t.$implicit,i=t.index;return o.\u0275\u0275nextContext(3).deleteEquipment(n,i)}),o.\u0275\u0275pipe(7,"translate"),o.\u0275\u0275pipe(8,"translate"),o.\u0275\u0275elementStart(9,"a",139),o.\u0275\u0275element(10,"img",140),o.\u0275\u0275element(11,"img",141),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()}2&e&&(o.\u0275\u0275advance(6),o.\u0275\u0275property("dwPopconfirmTitle","\u662f\u5426\u5220\u9664")("dwOkText",o.\u0275\u0275pipeBind1(7,4,"dw-determine"))("dwCancelText",o.\u0275\u0275pipeBind1(8,6,"dw-cancel"))("dwPopconfirmPlacement","topRight"))}function eo(e,t){1&e&&(o.\u0275\u0275elementStart(0,"tr",125),o.\u0275\u0275template(1,Wr,2,1,"td",126),o.\u0275\u0275template(2,Br,2,1,"td",126),o.\u0275\u0275template(3,Ur,2,1,"td",126),o.\u0275\u0275template(4,Xr,2,1,"td",126),o.\u0275\u0275template(5,Gr,2,1,"td",126),o.\u0275\u0275template(6,Hr,2,1,"td",126),o.\u0275\u0275template(7,Qr,2,1,"td",126),o.\u0275\u0275template(8,Zr,2,1,"td",127),o.\u0275\u0275template(9,Jr,2,1,"td",126),o.\u0275\u0275template(10,Yr,12,8,"td",128),o.\u0275\u0275elementEnd()),2&e&&(o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","code"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","name"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","specification"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","model"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","item_group_name"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","sn"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","file_context"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","quantity"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","remark"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","operation"))}function to(e,t){if(1&e&&(o.\u0275\u0275elementContainerStart(0,123),o.\u0275\u0275template(1,eo,11,10,"tr",124),o.\u0275\u0275elementContainerEnd()),2&e){const e=t.$implicit;o.\u0275\u0275property("formGroup",e),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf","d"!==e.$state)}}const no=function(){return{x:"1100px"}};function io(e,t){if(1&e){const e=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"dw-tab",108),o.\u0275\u0275elementStart(1,"div",109),o.\u0275\u0275elementStart(2,"div",110),o.\u0275\u0275elementStart(3,"button",7),o.\u0275\u0275listener("click",function(){return o.\u0275\u0275restoreView(e),o.\u0275\u0275nextContext(2).equipmentAdd()}),o.\u0275\u0275element(4,"em",78),o.\u0275\u0275elementStart(5,"span",6),o.\u0275\u0275text(6,"\u65b0\u5efa"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(7,"dw-table",111,112),o.\u0275\u0275listener("dwPageSizeChange",function(t){return o.\u0275\u0275restoreView(e),o.\u0275\u0275nextContext(2).search.pageSize=t})("dwPageSizeOptionsChange",function(t){return o.\u0275\u0275restoreView(e),o.\u0275\u0275nextContext(2).search.pageSizeOptions=t}),o.\u0275\u0275elementStart(9,"thead"),o.\u0275\u0275elementStart(10,"tr",113),o.\u0275\u0275template(11,kr,3,0,"th",114),o.\u0275\u0275template(12,Vr,3,0,"th",115),o.\u0275\u0275template(13,Rr,3,0,"th",115),o.\u0275\u0275template(14,Ar,3,0,"th",115),o.\u0275\u0275template(15,Lr,3,0,"th",115),o.\u0275\u0275template(16,$r,3,0,"th",115),o.\u0275\u0275template(17,jr,3,0,"th",115),o.\u0275\u0275template(18,Nr,3,0,"th",116),o.\u0275\u0275template(19,zr,3,0,"th",115),o.\u0275\u0275template(20,qr,3,0,"th",117),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(21,"tbody"),o.\u0275\u0275template(22,to,2,2,"ng-container",118),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()}if(2&e){const e=o.\u0275\u0275reference(8),t=o.\u0275\u0275nextContext(2);o.\u0275\u0275property("id",t.id?"modify-product-equipment-tab":"create-product-equipment-tab"),o.\u0275\u0275advance(3),o.\u0275\u0275property("dwType","primary"),o.\u0275\u0275advance(4),o.\u0275\u0275property("dwData",t.product_equipment_list.activeRows)("dwPageIndex",t.search.pageIndex)("dwPageSize",t.search.pageSize)("dwPageSizeOptions",t.search.pageSizeOptions)("dwScroll",o.\u0275\u0275pureFunction0(18,no)),o.\u0275\u0275advance(4),o.\u0275\u0275property("dwColumnId","code"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","name"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","specification"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","model"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","item_group_name"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","sn"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","file_context"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","quantity"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","remark"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","operation"),o.\u0275\u0275advance(2),o.\u0275\u0275property("ngForOf",e.data)}}function ro(e,t){if(1&e){const e=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"div",109),o.\u0275\u0275elementStart(1,"div",110),o.\u0275\u0275elementStart(2,"button",142),o.\u0275\u0275listener("dwClick",function(){return o.\u0275\u0275restoreView(e),o.\u0275\u0275nextContext(2).productPartAdd()}),o.\u0275\u0275element(3,"em",78),o.\u0275\u0275elementStart(4,"span",6),o.\u0275\u0275text(5,"\u6dfb\u52a0"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()}2&e&&(o.\u0275\u0275advance(2),o.\u0275\u0275property("dwType","primary")("dwActionId","add")("dwDefaultAuthorized","disabled"))}function oo(e,t){1&e&&(o.\u0275\u0275elementStart(0,"th",152),o.\u0275\u0275elementStart(1,"span",6),o.\u0275\u0275text(2,"\u914d\u4ef6\u7f16\u53f7"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd())}function ao(e,t){1&e&&(o.\u0275\u0275elementStart(0,"th",153),o.\u0275\u0275elementStart(1,"span",6),o.\u0275\u0275text(2,"\u914d\u4ef6\u540d\u79f0"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd())}function lo(e,t){1&e&&(o.\u0275\u0275elementStart(0,"th",153),o.\u0275\u0275elementStart(1,"span",6),o.\u0275\u0275text(2,"\u89c4\u683c"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd())}function so(e,t){1&e&&(o.\u0275\u0275elementStart(0,"th",153),o.\u0275\u0275elementStart(1,"span",6),o.\u0275\u0275text(2,"\u578b\u53f7"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd())}function co(e,t){1&e&&(o.\u0275\u0275elementStart(0,"th",154),o.\u0275\u0275elementStart(1,"span",6),o.\u0275\u0275text(2,"\u5e8f\u5217\u53f7"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd())}function mo(e,t){1&e&&(o.\u0275\u0275elementStart(0,"th",155),o.\u0275\u0275elementStart(1,"span",6),o.\u0275\u0275text(2,"\u5355\u4f4d"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd())}function po(e,t){1&e&&(o.\u0275\u0275elementStart(0,"th",156),o.\u0275\u0275elementStart(1,"span",6),o.\u0275\u0275text(2,"\u5355\u4f4d\u6570\u91cf"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd())}function uo(e,t){1&e&&(o.\u0275\u0275elementStart(0,"th",153),o.\u0275\u0275elementStart(1,"span",6),o.\u0275\u0275text(2,"\u7c7b\u578b"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd())}function fo(e,t){1&e&&(o.\u0275\u0275elementStart(0,"th",157),o.\u0275\u0275elementStart(1,"span",6),o.\u0275\u0275text(2,"\u4fdd\u4fee\u622a\u6b62\u65e5\u671f"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd())}function wo(e,t){1&e&&(o.\u0275\u0275elementStart(0,"th",157),o.\u0275\u0275elementStart(1,"span",6),o.\u0275\u0275text(2,"\u5230\u671f\u66f4\u6362\u65e5\u671f"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd())}function ho(e,t){1&e&&(o.\u0275\u0275elementStart(0,"th",152),o.\u0275\u0275elementStart(1,"span",6),o.\u0275\u0275text(2,"\u5907\u6ce8"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd())}function go(e,t){1&e&&(o.\u0275\u0275elementStart(0,"th",158),o.\u0275\u0275elementStart(1,"span",6),o.\u0275\u0275text(2,"\u64cd\u4f5c"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd())}function vo(e,t){1&e&&(o.\u0275\u0275elementStart(0,"span",160),o.\u0275\u0275element(1,"em",161),o.\u0275\u0275elementEnd())}function Co(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"td"),o.\u0275\u0275template(1,vo,2,0,"span",159),o.\u0275\u0275text(2),o.\u0275\u0275elementEnd()),2&e){const e=o.\u0275\u0275nextContext(2).$implicit;o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",e.controls.quickwear_part.value),o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",e.controls.material_code.value," ")}}function yo(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"td"),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&e){const e=o.\u0275\u0275nextContext(2).$implicit;o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",e.controls.material_name.value," ")}}function xo(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"td"),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&e){const e=o.\u0275\u0275nextContext(2).$implicit;o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",e.controls.specification.value," ")}}function _o(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"td"),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&e){const e=o.\u0275\u0275nextContext(2).$implicit;o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",e.controls.model.value," ")}}function So(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"td"),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&e){const e=o.\u0275\u0275nextContext(2).$implicit;o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",e.controls.sn.value," ")}}function bo(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"td"),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&e){const e=o.\u0275\u0275nextContext(2).$implicit;o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",e.controls.unit.value," ")}}function Eo(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"td",131),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&e){const e=o.\u0275\u0275nextContext(2).$implicit;o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",e.controls.unit_qty.value," ")}}function Io(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"td"),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&e){const e=o.\u0275\u0275nextContext(2).$implicit;o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",e.controls.item_group_name.value," ")}}function Do(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"td"),o.\u0275\u0275text(1),o.\u0275\u0275pipe(2,"date"),o.\u0275\u0275elementEnd()),2&e){const e=o.\u0275\u0275nextContext(2).$implicit;o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",o.\u0275\u0275pipeBind2(2,1,e.controls.expiry_date.value,"yyyy/MM/dd")," ")}}function To(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"td"),o.\u0275\u0275text(1),o.\u0275\u0275pipe(2,"date"),o.\u0275\u0275elementEnd()),2&e){const e=o.\u0275\u0275nextContext(2).$implicit;o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",e.controls.replacement_date?o.\u0275\u0275pipeBind2(2,1,e.controls.replacement_date.value,"yyyy/MM/dd"):""," ")}}function Oo(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"td"),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&e){const e=o.\u0275\u0275nextContext(2).$implicit;o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",e.controls.remark.value," ")}}function Mo(e,t){if(1&e){const e=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"td",132),o.\u0275\u0275elementStart(1,"div",133),o.\u0275\u0275elementStart(2,"div",134),o.\u0275\u0275listener("click",function(){o.\u0275\u0275restoreView(e);const t=o.\u0275\u0275nextContext(2),n=t.$implicit,i=t.index;return o.\u0275\u0275nextContext(3).modifyPart(n,i)}),o.\u0275\u0275element(3,"img",135),o.\u0275\u0275element(4,"img",136),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(5,"div",137),o.\u0275\u0275elementStart(6,"a",138),o.\u0275\u0275listener("dwOnConfirm",function(){o.\u0275\u0275restoreView(e);const t=o.\u0275\u0275nextContext(2),n=t.$implicit,i=t.index;return o.\u0275\u0275nextContext(3).deletePart(n,i)}),o.\u0275\u0275pipe(7,"translate"),o.\u0275\u0275pipe(8,"translate"),o.\u0275\u0275elementStart(9,"a",139),o.\u0275\u0275element(10,"img",140),o.\u0275\u0275element(11,"img",141),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()}2&e&&(o.\u0275\u0275advance(6),o.\u0275\u0275property("dwPopconfirmTitle","\u662f\u5426\u5220\u9664")("dwOkText",o.\u0275\u0275pipeBind1(7,4,"dw-determine"))("dwCancelText",o.\u0275\u0275pipeBind1(8,6,"dw-cancel"))("dwPopconfirmPlacement","topRight"))}function Fo(e,t){1&e&&(o.\u0275\u0275elementStart(0,"tr",125),o.\u0275\u0275template(1,Co,3,2,"td",126),o.\u0275\u0275template(2,yo,2,1,"td",126),o.\u0275\u0275template(3,xo,2,1,"td",126),o.\u0275\u0275template(4,_o,2,1,"td",126),o.\u0275\u0275template(5,So,2,1,"td",126),o.\u0275\u0275template(6,bo,2,1,"td",126),o.\u0275\u0275template(7,Eo,2,1,"td",127),o.\u0275\u0275template(8,Io,2,1,"td",126),o.\u0275\u0275template(9,Do,3,4,"td",126),o.\u0275\u0275template(10,To,3,4,"td",126),o.\u0275\u0275template(11,Oo,2,1,"td",126),o.\u0275\u0275template(12,Mo,12,8,"td",128),o.\u0275\u0275elementEnd()),2&e&&(o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","material_code"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","material_name"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","specification"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","model"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","sn"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","unit"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","unit_qty"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","item_group_name"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","expiry_date"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","replacement_date"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","remark"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","operation"))}function Po(e,t){if(1&e&&(o.\u0275\u0275elementContainerStart(0,123),o.\u0275\u0275template(1,Fo,13,12,"tr",124),o.\u0275\u0275elementContainerEnd()),2&e){const e=t.$implicit;o.\u0275\u0275property("formGroup",e),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf","d"!==e.$state)}}function ko(e,t){if(1&e){const e=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"dw-table",143,144),o.\u0275\u0275listener("dwPageSizeChange",function(t){return o.\u0275\u0275restoreView(e),o.\u0275\u0275nextContext(2).search.pageSize=t})("dwPageSizeOptionsChange",function(t){return o.\u0275\u0275restoreView(e),o.\u0275\u0275nextContext(2).search.pageSizeOptions=t}),o.\u0275\u0275elementStart(2,"thead"),o.\u0275\u0275elementStart(3,"tr",113),o.\u0275\u0275template(4,oo,3,0,"th",145),o.\u0275\u0275template(5,ao,3,0,"th",146),o.\u0275\u0275template(6,lo,3,0,"th",146),o.\u0275\u0275template(7,so,3,0,"th",146),o.\u0275\u0275template(8,co,3,0,"th",147),o.\u0275\u0275template(9,mo,3,0,"th",148),o.\u0275\u0275template(10,po,3,0,"th",149),o.\u0275\u0275template(11,uo,3,0,"th",146),o.\u0275\u0275template(12,fo,3,0,"th",150),o.\u0275\u0275template(13,wo,3,0,"th",150),o.\u0275\u0275template(14,ho,3,0,"th",145),o.\u0275\u0275template(15,go,3,0,"th",151),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(16,"tbody"),o.\u0275\u0275template(17,Po,2,2,"ng-container",118),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()}if(2&e){const e=o.\u0275\u0275reference(1),t=o.\u0275\u0275nextContext(2);o.\u0275\u0275property("dwData",t.product_part.activeRows)("dwPageIndex",t.search.pageIndex)("dwPageSize",t.search.pageSize)("dwPageSizeOptions",t.search.pageSizeOptions)("dwScroll",o.\u0275\u0275pureFunction0(18,no)),o.\u0275\u0275advance(4),o.\u0275\u0275property("dwColumnId","material_code"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","material_name"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","specification"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","model"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","sn"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","unit"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","unit_qty"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","item_group_name"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","expiry_date"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","replacement_date"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","remark"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","operation"),o.\u0275\u0275advance(2),o.\u0275\u0275property("ngForOf",e.data)}}function Vo(e,t){1&e&&(o.\u0275\u0275elementStart(0,"th",167),o.\u0275\u0275elementStart(1,"span",6),o.\u0275\u0275text(2,"\u8bbe\u5907"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd())}function Ro(e,t){1&e&&(o.\u0275\u0275elementStart(0,"th",167),o.\u0275\u0275elementStart(1,"span",6),o.\u0275\u0275text(2,"\u8bbe\u5907\u5e8f\u5217\u53f7"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd())}function Ao(e,t){1&e&&(o.\u0275\u0275elementStart(0,"th",152),o.\u0275\u0275elementStart(1,"span",6),o.\u0275\u0275text(2,"\u914d\u4ef6\u7f16\u53f7"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd())}function Lo(e,t){1&e&&(o.\u0275\u0275elementStart(0,"th",154),o.\u0275\u0275elementStart(1,"span",6),o.\u0275\u0275text(2,"\u914d\u4ef6\u540d\u79f0"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd())}function $o(e,t){1&e&&(o.\u0275\u0275elementStart(0,"th",153),o.\u0275\u0275elementStart(1,"span",6),o.\u0275\u0275text(2,"\u89c4\u683c"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd())}function jo(e,t){1&e&&(o.\u0275\u0275elementStart(0,"th",153),o.\u0275\u0275elementStart(1,"span",6),o.\u0275\u0275text(2,"\u578b\u53f7"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd())}function No(e,t){1&e&&(o.\u0275\u0275elementStart(0,"th",157),o.\u0275\u0275elementStart(1,"span",6),o.\u0275\u0275text(2,"\u5e8f\u5217\u53f7"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd())}function zo(e,t){1&e&&(o.\u0275\u0275elementStart(0,"th",168),o.\u0275\u0275elementStart(1,"span",6),o.\u0275\u0275text(2,"\u5355\u4f4d"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd())}function qo(e,t){1&e&&(o.\u0275\u0275elementStart(0,"th",156),o.\u0275\u0275elementStart(1,"span",6),o.\u0275\u0275text(2,"\u5355\u4f4d\u6570\u91cf"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd())}function Wo(e,t){1&e&&(o.\u0275\u0275elementStart(0,"th",153),o.\u0275\u0275elementStart(1,"span",6),o.\u0275\u0275text(2,"\u7c7b\u578b"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd())}function Bo(e,t){1&e&&(o.\u0275\u0275elementStart(0,"th",157),o.\u0275\u0275elementStart(1,"span",6),o.\u0275\u0275text(2,"\u4fdd\u4fee\u622a\u6b62\u65e5\u671f"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd())}function Uo(e,t){1&e&&(o.\u0275\u0275elementStart(0,"th",157),o.\u0275\u0275elementStart(1,"span",6),o.\u0275\u0275text(2,"\u5230\u671f\u66f4\u6362\u65e5\u671f"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd())}function Xo(e,t){1&e&&(o.\u0275\u0275elementStart(0,"th",152),o.\u0275\u0275elementStart(1,"span",6),o.\u0275\u0275text(2,"\u5907\u6ce8"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd())}const Go=function(e){return{display:e}};function Ho(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"td",170),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&e){const e=o.\u0275\u0275nextContext().index,t=o.\u0275\u0275nextContext().$implicit;o.\u0275\u0275property("ngStyle",o.\u0275\u0275pureFunction1(3,Go,0===e?"":"none")),o.\u0275\u0275attribute("rowspan",t.product_part.length),o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",t.code," ")}}function Ko(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"td",170),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&e){const e=o.\u0275\u0275nextContext().index,t=o.\u0275\u0275nextContext().$implicit;o.\u0275\u0275property("ngStyle",o.\u0275\u0275pureFunction1(3,Go,0===e?"":"none")),o.\u0275\u0275attribute("rowspan",t.product_part.length),o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",t.sn," ")}}function Qo(e,t){1&e&&(o.\u0275\u0275elementStart(0,"span",160),o.\u0275\u0275element(1,"em",161),o.\u0275\u0275elementEnd())}function Zo(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"td"),o.\u0275\u0275template(1,Qo,2,0,"span",159),o.\u0275\u0275text(2),o.\u0275\u0275elementEnd()),2&e){const e=o.\u0275\u0275nextContext().$implicit;o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",e.quickwear_part),o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",e.material_code," ")}}function Jo(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"td"),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&e){const e=o.\u0275\u0275nextContext().$implicit;o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",e.material_name," ")}}function Yo(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"td"),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&e){const e=o.\u0275\u0275nextContext().$implicit;o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",e.specification," ")}}function ea(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"td"),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&e){const e=o.\u0275\u0275nextContext().$implicit;o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",e.model," ")}}function ta(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"td"),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&e){const e=o.\u0275\u0275nextContext().$implicit;o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",e.sn," ")}}function na(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"td"),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&e){const e=o.\u0275\u0275nextContext().$implicit;o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",e.unit," ")}}function ia(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"td",131),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&e){const e=o.\u0275\u0275nextContext().$implicit;o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",e.unit_qty," ")}}function ra(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"td"),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&e){const e=o.\u0275\u0275nextContext().$implicit;o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",e.item_group_name," ")}}function oa(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"td"),o.\u0275\u0275text(1),o.\u0275\u0275pipe(2,"date"),o.\u0275\u0275elementEnd()),2&e){const e=o.\u0275\u0275nextContext().$implicit;o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",o.\u0275\u0275pipeBind2(2,1,e.expiry_date,"yyyy/MM/dd")," ")}}function aa(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"td"),o.\u0275\u0275text(1),o.\u0275\u0275pipe(2,"date"),o.\u0275\u0275elementEnd()),2&e){const e=o.\u0275\u0275nextContext().$implicit;o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",e.replacement_date?o.\u0275\u0275pipeBind2(2,1,e.replacement_date,"yyyy/MM/dd"):""," ")}}function da(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"td"),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&e){const e=o.\u0275\u0275nextContext().$implicit;o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",e.remark," ")}}function la(e,t){1&e&&(o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275elementStart(1,"tr",125),o.\u0275\u0275template(2,Ho,2,5,"td",169),o.\u0275\u0275template(3,Ko,2,5,"td",169),o.\u0275\u0275template(4,Zo,3,2,"td",126),o.\u0275\u0275template(5,Jo,2,1,"td",126),o.\u0275\u0275template(6,Yo,2,1,"td",126),o.\u0275\u0275template(7,ea,2,1,"td",126),o.\u0275\u0275template(8,ta,2,1,"td",126),o.\u0275\u0275template(9,na,2,1,"td",126),o.\u0275\u0275template(10,ia,2,1,"td",127),o.\u0275\u0275template(11,ra,2,1,"td",126),o.\u0275\u0275template(12,oa,3,4,"td",126),o.\u0275\u0275template(13,aa,3,4,"td",126),o.\u0275\u0275template(14,da,2,1,"td",126),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementContainerEnd()),2&e&&(o.\u0275\u0275advance(2),o.\u0275\u0275property("dwColumnId","equipment_name"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","equipment_sn"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","material_code"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","material_name"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","specification"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","model"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","sn"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","unit"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","unit_qty"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","item_group_name"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","expiry_date"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","replacement_date"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","remark"))}function sa(e,t){if(1&e&&(o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275template(1,la,15,13,"ng-container",66),o.\u0275\u0275elementContainerEnd()),2&e){const e=t.$implicit;o.\u0275\u0275advance(1),o.\u0275\u0275property("ngForOf",e.product_part)}}const ca=function(){return{x:"1200px"}};function ma(e,t){if(1&e){const e=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"dw-table",162,163),o.\u0275\u0275listener("dwPageSizeChange",function(t){return o.\u0275\u0275restoreView(e),o.\u0275\u0275nextContext(2).search.pageSize=t})("dwPageSizeOptionsChange",function(t){return o.\u0275\u0275restoreView(e),o.\u0275\u0275nextContext(2).search.pageSizeOptions=t}),o.\u0275\u0275elementStart(2,"thead"),o.\u0275\u0275elementStart(3,"tr",113),o.\u0275\u0275template(4,Vo,3,0,"th",164),o.\u0275\u0275template(5,Ro,3,0,"th",164),o.\u0275\u0275template(6,Ao,3,0,"th",145),o.\u0275\u0275template(7,Lo,3,0,"th",147),o.\u0275\u0275template(8,$o,3,0,"th",146),o.\u0275\u0275template(9,jo,3,0,"th",146),o.\u0275\u0275template(10,No,3,0,"th",150),o.\u0275\u0275template(11,zo,3,0,"th",165),o.\u0275\u0275template(12,qo,3,0,"th",166),o.\u0275\u0275template(13,Wo,3,0,"th",146),o.\u0275\u0275template(14,Bo,3,0,"th",150),o.\u0275\u0275template(15,Uo,3,0,"th",150),o.\u0275\u0275template(16,Xo,3,0,"th",145),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(17,"tbody"),o.\u0275\u0275template(18,sa,2,1,"ng-container",66),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()}if(2&e){const e=o.\u0275\u0275reference(1),t=o.\u0275\u0275nextContext(2);o.\u0275\u0275property("dwData",t.equipment_parts)("dwPageIndex",t.search.pageIndex)("dwPageSize",t.search.pageSize)("dwPageSizeOptions",t.search.pageSizeOptions)("dwScroll",o.\u0275\u0275pureFunction0(19,ca)),o.\u0275\u0275advance(4),o.\u0275\u0275property("dwColumnId","equipment_name"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","equipment_sn"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","material_code"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","material_name"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","specification"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","model"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","sn"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","unit"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","unit_qty"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","item_group_name"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","expiry_date"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","replacement_date"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","remark"),o.\u0275\u0275advance(2),o.\u0275\u0275property("ngForOf",e.data)}}function pa(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"dw-tab",171),o.\u0275\u0275elementStart(1,"div",15),o.\u0275\u0275elementStart(2,"div",172),o.\u0275\u0275element(3,"dw-extra-fields",173),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()),2&e){const e=o.\u0275\u0275nextContext(2);o.\u0275\u0275property("id",e.id?"modify-extra-tab":"create-extra-tab"),o.\u0275\u0275advance(2),o.\u0275\u0275property("dwSpan",24),o.\u0275\u0275advance(1),o.\u0275\u0275property("group",e.product_file.controls[0])("dwDocument",e.doc)}}function ua(e,t){if(1&e){const e=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"form",11),o.\u0275\u0275elementStart(1,"dw-tabset",12),o.\u0275\u0275listener("dwSelectChange",function(t){return o.\u0275\u0275restoreView(e),o.\u0275\u0275nextContext().onTabChange(t)}),o.\u0275\u0275elementStart(2,"dw-tab",13),o.\u0275\u0275elementStart(3,"div",14),o.\u0275\u0275elementStart(4,"div",15),o.\u0275\u0275elementStart(5,"div",16),o.\u0275\u0275template(6,Ni,5,5,"dw-form-item",17),o.\u0275\u0275template(7,zi,5,5,"dw-form-item",17),o.\u0275\u0275template(8,Wi,6,5,"dw-form-item",17),o.\u0275\u0275template(9,Bi,5,4,"dw-form-item",17),o.\u0275\u0275template(10,Ui,5,5,"dw-form-item",17),o.\u0275\u0275template(11,Hi,5,5,"dw-form-item",17),o.\u0275\u0275template(12,Qi,8,5,"dw-form-item",17),o.\u0275\u0275template(13,Zi,5,4,"dw-form-item",17),o.\u0275\u0275template(14,Ji,5,5,"dw-form-item",17),o.\u0275\u0275template(15,tr,8,5,"dw-form-item",17),o.\u0275\u0275template(16,rr,8,5,"dw-form-item",17),o.\u0275\u0275template(17,or,5,5,"dw-form-item",17),o.\u0275\u0275template(18,ar,5,5,"dw-form-item",17),o.\u0275\u0275template(19,dr,5,4,"dw-form-item",17),o.\u0275\u0275template(20,sr,2,1,"ng-container",17),o.\u0275\u0275template(21,pr,13,9,"dw-form-item",17),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(22,"div",18),o.\u0275\u0275template(23,gr,12,15,"dw-form-item",19),o.\u0275\u0275template(24,vr,5,4,"dw-form-item",20),o.\u0275\u0275template(25,Cr,5,5,"dw-form-item",17),o.\u0275\u0275template(26,yr,5,4,"dw-form-item",20),o.\u0275\u0275template(27,xr,5,4,"dw-form-item",17),o.\u0275\u0275template(28,_r,5,4,"dw-form-item",17),o.\u0275\u0275template(29,Sr,5,4,"dw-form-item",17),o.\u0275\u0275template(30,Er,2,1,"ng-container",17),o.\u0275\u0275template(31,Dr,2,1,"ng-container",17),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(32,"div",21),o.\u0275\u0275elementStart(33,"div",22),o.\u0275\u0275element(34,"div",23),o.\u0275\u0275template(35,Tr,3,0,"div",24),o.\u0275\u0275template(36,Pr,6,2,"div",25),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275template(37,io,23,19,"dw-tab",26),o.\u0275\u0275elementStart(38,"dw-tab",27),o.\u0275\u0275template(39,ro,6,3,"div",28),o.\u0275\u0275template(40,ko,18,19,"dw-table",29),o.\u0275\u0275template(41,ma,19,20,"dw-table",30),o.\u0275\u0275elementEnd(),o.\u0275\u0275template(42,pa,4,4,"dw-tab",31),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()}if(2&e){const e=o.\u0275\u0275nextContext();o.\u0275\u0275property("formGroup",e.product_file.controls[0]),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwTabPosition","top")("dwType","line")("dwAnimated",!1),o.\u0275\u0275advance(1),o.\u0275\u0275property("id",e.id?"modify-product-file-tab":"create-product-file-tab"),o.\u0275\u0275advance(4),o.\u0275\u0275property("ngIf",e.formConfigList.indexOf("product_file_code")>=0),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",e.formConfigList.indexOf("product_file_name")>=0),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",e.formConfigList.indexOf("item_group")>=0),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",e.formConfigList.indexOf("model")>=0),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",e.formConfigList.indexOf("specification")>=0),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",e.formConfigList.indexOf("sn")>=0),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",e.formConfigList.indexOf("customer")>=0),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",e.formConfigList.indexOf("customer")>=0),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",e.formConfigList.indexOf("location")>=0),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",e.formConfigList.indexOf("service_site")>=0),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",e.formConfigList.indexOf("employee")>=0),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",e.formConfigList.indexOf("delivery_date")>=0),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",e.formConfigList.indexOf("installation_date_range")>=0),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",e.formConfigList.indexOf("commissioning_person")>=0),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",e.id),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",e.formConfigList.indexOf("attachment")>=0),o.\u0275\u0275advance(2),o.\u0275\u0275property("ngIf",e.formConfigList.indexOf("file")>=0),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",e.formConfigList.indexOf("file")>=0),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",e.formConfigList.indexOf("product_description")>=0),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",e.formConfigList.indexOf("product_description")>=0),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",e.formConfigList.indexOf("expiry_date")>=0),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",e.formConfigList.indexOf("acceptance_date")>=0),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",e.formConfigList.indexOf("acceptance_person")>=0),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",e.id),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",!e.id),o.\u0275\u0275advance(4),o.\u0275\u0275property("ngIf",!e.product_file.controls[0].controls.enable_maintain.value),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",e.product_file.controls[0].controls.enable_maintain.value),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf","2"===e.file_type),o.\u0275\u0275advance(1),o.\u0275\u0275property("id",e.id?"modify-product-part-tab":"create-product-part-tab"),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf","1"===e.file_type),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf","1"===e.file_type),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf","2"===e.file_type),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",e.productFileHasCustomizeField)}}let fa=(()=>{class e{constructor(e,t,n,i,r,o,a,d,l,s,c,m,p){this.router=e,this.activeRoute=t,this.doc=n,this.dwModalService=i,this.message=r,this.productFileSrv=o,this.customerSrv=a,this.productFileSelectService=d,this.analytics=l,this.userService=s,this.fb=c,this.commonHttpService=m,this.datePipe=p,this.file_type="1",this.formConfigList=[],this.product_equipment_list=new An.DwDataTable([]),this.equipment_parts=[],this.id="",this.type="",this.search={pageIndex:1,pageSize:10,pageSizeOptions:[10,20,30]},this.itemGroupList=[],this.isIntegrated=!1,this.attachmentsList=[],this.attachmentsListTemp=[],this.attachmentIds=[],this.disabledDate=e=>(0,Kn.differenceInCalendarDays)(this.product_file.controls[0].value.delivery_date,e)>0,this.basis_of_maintain="1",this.userInfo={tenantId:"",userId:""},this.productFileHasCustomizeField=!1,this.product_picture="",this.fileList=[],this.previewImage="",this.previewVisible=!1,this.handlePreview=e=>(0,Rn.mG)(this,void 0,void 0,function*(){!e.url&&!e.preview&&(e.preview=yield this.getBase64(e.originFileObj)),this.previewImage=e.url||e.preview,this.previewVisible=!0}),this.disabledDeliveryDate=e=>!(!e||!this.product_file.controls[0].value.installation_date)&&this.changeZero(e)>this.changeZero(this.product_file.controls[0].value.installation_date),this.disabledInstallationDate=e=>!(!e||!this.product_file.controls[0].value.delivery_date)&&(this.changeZero(e)<this.changeZero(this.product_file.controls[0].value.delivery_date)||this.changeZero(e)>this.changeZero(this.product_file.controls[0].value.acceptance_date)),this.disabledAcceptanceDate=e=>!(!e||!this.product_file.controls[0].value.installation_date)&&(this.changeZero(e)<this.changeZero(this.product_file.controls[0].value.installation_date)||this.changeZero(e)>=this.changeZero(this.product_file.controls[0].value.expiry_date)),this.disabledExpiryDate=e=>!(!e||!this.product_file.controls[0].value.acceptance_date)&&this.changeZero(e)<=this.changeZero(this.product_file.controls[0].value.acceptance_date),this.handleChange=e=>(0,Rn.mG)(this,void 0,void 0,function*(){switch(e.file.status){case"done":this.fileList[0].url=this.fileList.length?yield this.getBase64(e.file.originFileObj):"",this.product_file.controls[0].get("file_context").setValue(this.fileList.length?this.fileList[0].url:""),this.product_file.controls[0].get("file_name").setValue(this.fileList.length?this.fileList[0].name:""),this.product_file.controls[0].get("product_picture").setValue(""),this.product_file.controls[0].modifyState="u";break;case"removed":this.fileList[0].url="",this.product_file.controls[0].get("file_context").setValue(""),this.product_file.controls[0].get("file_name").setValue(""),this.product_file.controls[0].get("product_picture").setValue(""),this.product_file.controls[0].modifyState="u";break;case"error":this.fileList[0].status="done",this.fileList[0].url=this.fileList.length?yield this.getBase64(e.file.originFileObj):"",this.product_file.controls[0].get("file_context").setValue(this.fileList.length?this.fileList[0].url:""),this.product_file.controls[0].get("file_name").setValue(this.fileList.length?this.fileList[0].name:""),this.product_file.controls[0].get("product_picture").setValue(""),this.product_file.controls[0].modifyState="u"}}),this.beforeUpload=(e,t)=>new h.Observable(t=>{const n="image/jpeg"===e.type||"image/png"===e.type;if(!n)return this.message.create("error","\u8bf7\u4e0a\u4f20jpg\u6216png\u683c\u5f0f\u56fe\u7247\uff01"),void t.complete();const i=e.size/1024/1024<=5;if(!i)return this.message.create("error","\u4e0a\u4f20\u6587\u4ef6\u5927\u5c0f\u8d85\u8fc75M\uff01"),void t.complete();t.next(n&&i),t.complete()}),this.beforeUploadFiles=(e,t)=>new h.Observable(t=>{console.log(e);const n=e.name.split("."),i=n[n.length-1].indexOf("xls")>=0||n[n.length-1].indexOf("doc")>=0||n[n.length-1].indexOf("ppt")>=0||n[n.length-1].indexOf("pdf")>=0||n[n.length-1].indexOf("png")>=0||n[n.length-1].indexOf("jpg")>=0;if(!i)return this.message.create("error","\u8bf7\u4e0a\u4f20\u6b63\u786e\u683c\u5f0f\u6587\u4ef6\uff01"),void t.complete();const r=e.size/1024/1024<=10;if(!r)return this.message.create("error","\u4e0a\u4f20\u6587\u4ef6\u5927\u5c0f\u8d85\u8fc710M\uff01"),void t.complete();t.next(i&&r),t.complete()}),this.doc.registerEvent(this),this.activeRoute.paramMap.subscribe(e=>{this.id=e.get("id")||""}),this.activeRoute.queryParams.subscribe(e=>{this.file_type=e.file_type||"1"})}maintainValueChanges(){this.enableMaintainChange();const e=this.product_file.activeRows[0];e.get("item_group_id").valueChanges.subscribe(e=>{this.itemGroupChange()}),e.get("enable_maintain").valueChanges.subscribe(e=>{this.enableMaintainChange()}),e.get("maintain_begin_date").valueChanges.subscribe(e=>{this.dateOrPeriodChange()}),e.get("recently_maintain_date").valueChanges.subscribe(e=>{this.dateOrPeriodChange()}),e.get("recently_maintain_readingmeter").valueChanges.subscribe(e=>{this.dateOrPeriodChange()}),e.get("maintain_period").valueChanges.subscribe(e=>{this.dateOrPeriodChange()}),e.get("next_maintain_date").valueChanges.subscribe(t=>{console.log(t),console.log(e.get("next_maintain_date").value)})}ngOnInit(){this.commonHttpService.get("restful/service/autoSettings/CustomView/CustomView?viewId=product_file").subscribe(e=>{let t=[];e.data.config&&e.data.config.formConfig&&e.data.config.formConfig.length?(t=e.data.config.formConfig,Vi.R.product_file.length!==e.data.config.formConfig.length&&(t=Vi.R.product_file,t.forEach(t=>{e.data.config.formConfig.forEach(e=>{e.fieldKey===t.fieldKey&&(t.isTurnOn=e.isTurnOn)})}))):t=Vi.R.product_file;const n=[];t.forEach(e=>{e.isTurnOn&&n.push(e.fieldKey)}),this.formConfigList=n},e=>{e.hasOwnProperty("error")&&e.error.hasOwnProperty("errorMessage")&&e.error.errorMessage&&this.message.error(e.error.errorMessage)}),this.commonHttpService.get("restful/service/serviceSite/ServiceSite/UserSite").subscribe(e=>{this.user_service_site_id=e.service_site_id,this.user_service_site_type=e.service_site_type}),this.userInfo=this.userService.getUserInfo(),""===this.id?(this.product_file=new An.DwDataTable([{file_type:this.file_type,product_file_code:"",product_file_name:"",item_group_id:"",item_group_name:"",specification:"",model:"",sn:"",location:"",service_site_id:"",service_site_name:"",employee_id:"",employee_name:"",customer_id:"",customer_name:"",exfactory_customer_name:"",exfactory_customer_id:0,delivery_date:new Date,installation_date:new Date,acceptance_date:new Date,expiry_date:new Date,replacement_date:new Date,quickwear_part:!1,product_description:"",product_picture:"",file_context:"",file_name:"",commissioning_person:"",acceptance_person:"",remark:"",source:"1",installation_date_end:new Date,attachment:"",installation_date_range:"",enable_maintain:!1,maintain_begin_date:null,maintain_period:null,recently_maintain_date:null,next_maintain_date:null,recently_maintain_readingmeter:0,next_maintain_readingmeter:0,basis_of_maintain:"1"}]),this.fileList=[],this.product_picture="",this.previewImage=""):this.product_file=new An.DwDataTable([]),this.product_part=new An.DwDataTable([]),this.product_equipment_list=new An.DwDataTable([]),this.id?this.doc.read({id:this.id,fileType:this.file_type}).subscribe(e=>{console.log(e),this.product_file=e.product_file;const t=this.product_file.activeRows[0];t.get("item_group_id").value||t.get("item_group_id").setValue(""),"1"===t.getRawValue().enable_maintain?t.get("enable_maintain").setValue(!0):t.get("enable_maintain").setValue(!1),this.isIntegrated="0"===this.product_file.controls[0].value.source,this.product_part=e.product_part||new An.DwDataTable([]),this.product_part.rows.forEach(e=>{e.markAsUpdate()}),"2"===e.product_file.controls[0].value.file_type&&(e.product_equipment_list.rows.forEach((e,t)=>{const n=e.value;this.product_part.value.forEach(e=>{e.$state="u"}),Object.assign(n,{product_part:this.product_part.value.filter(e=>e.product_equipment_list_id===n.product_equipment_list_id)}),this.product_equipment_list.insertRow(0,this.detailModelWinObjForProductEquipment({detailEdit:n})),e.markAsUpdate()}),this.product_equipment_list.rows.forEach(e=>{e.modifyState="u",e.markAsUpdate()}),this.getEquipmentParts()),this.product_picture=e.product_file.controls[0].value.product_picture,e.product_file.controls[0].value.product_picture?this.fileList=[{uid:this.product_picture,name:e.product_file.controls[0].value.file_name,status:"done",url:e.product_file.controls[0].value.file_context}]:(this.fileList=[],this.previewImage=""),e.attachments.controls.forEach(e=>{this.attachmentsList.push(e.value)}),this.attachmentsList.forEach(e=>{e.name=e.attachment_name,e.uid=e.attachment_id,e.state="",this.attachmentIds.push(e.attachment_id)}),this.product_file.controls[0].get("installation_date").value?this.product_file.controls[0].get("installation_date_range").setValue([this.product_file.controls[0].get("installation_date").value,this.product_file.controls[0].get("installation_date_end").value]):this.product_file.controls[0].get("installation_date_range").setValue(""),this.productFileSrv.getItemGroupList("","","1").subscribe(e=>{this.itemGroupList=e||[];const t=this.itemGroupList.filter(e=>e.item_group_id===this.product_file.controls[0].value.item_group_id);this.basis_of_maintain=t.length&&t[0].basis_of_maintain||"1"}),this.maintainValueChanges()}):(this.doc.setControl("product_file",this.product_file),this.doc.addControl("product_part",this.product_part),this.doc.addControl("product_equipment_list",this.product_equipment_list),this.productFileSrv.getItemGroupList("","","1").subscribe(e=>{this.itemGroupList=e||[]}),this.maintainValueChanges()),this.productFileSrv.getProductFileHasCustomizeField("product_file").subscribe(e=>{this.productFileHasCustomizeField="true"===e.data})}getEquipmentParts(){const e=[],t=JSON.parse(JSON.stringify(this.product_equipment_list.value));console.log("this.product_equipment_list",this.product_equipment_list,t),this.product_equipment_list.value.forEach((n,i)=>{n.product_part&&n.product_part.forEach((n,r)=>{e.push(Object.assign({},n)),"d"===n.$state&&(console.log(i,r),t[i].product_part.splice(r,1))})}),this.equipment_parts=e.length?t:new An.DwDataTable([]),console.log(this.equipment_parts)}onTabChange(e){console.log(e.index)}getBase64(e){return new Promise((t,n)=>{const i=new FileReader;i.readAsDataURL(e),i.onload=()=>t(i.result),i.onerror=e=>n(e)})}changeZero(e){return new Date(e).setHours(0,0,0,0)}setInstallationDate(){let e=this.product_file.controls[0].value.installation_date_range;""!==e&&e.length&&""!==e[0]?(this.product_file.controls[0].get("installation_date").setValue(this.datePipe.transform(e[0],"yyyy-MM-dd")),this.product_file.controls[0].get("installation_date_end").setValue(this.datePipe.transform(e[1],"yyyy-MM-dd"))):(e=["",""],this.product_file.controls[0].get("installation_date").setValue(""),this.product_file.controls[0].get("installation_date_end").setValue(""))}detailModelWinObjForProductPart(e){const t=e.detailEdit;return""===this.id?{material_id:t.material_id,material_code:t.material_code,material_name:t.material_name,specification:t.specification,model:t.model,sn:t.sn,sn_management:t.sn_management,unit:t.unit,unit_qty:t.unit_qty,item_group_name:t.item_group_name,expiry_date:t.expiry_date,remark:t.remark,quickwear_part:t.quickwear_part,replacement_date:t.replacement_date}:{product_file_id:this.id,product_part_id:t.product_part_id,material_id:t.material_id,material_code:t.material_code,material_name:t.material_name,specification:t.specification,model:t.model,sn:t.sn,sn_management:t.sn_management,unit:t.unit,unit_qty:t.unit_qty,item_group_name:t.item_group_name,expiry_date:t.expiry_date,remark:t.remark,quickwear_part:t.quickwear_part,replacement_date:t.replacement_date}}productPartAdd(){this.dwModalService.create({dwTitle:"\u6dfb\u52a0\u4ea7\u54c1\u914d\u4ef6",dwContent:Hn,dwOnOk:e=>{console.log("data===>",e,this.product_part.controls);const t=this.product_part.controls?this.product_part.controls.filter(t=>e.detailEdit.quickwear_part&&(!e.detailEdit.sn||e.detailEdit.sn===t.value.sn)&&t.value.material_id===e.detailEdit.material_id&&this.datePipe.transform(t.value.replacement_date,"yyyy/MM/dd")===this.datePipe.transform(e.detailEdit.replacement_date,"yyyy/MM/dd")&&"d"!==t.$state):[];console.log(t),t&&t.length?this.message.error("\u5df2\u5b58\u5728\u76f8\u540c\u5230\u671f\u66f4\u6362\u65e5\u671f\u7684\u6613\u635f\u914d\u4ef6\uff01"):this.product_part.insertRow(0,this.detailModelWinObjForProductPart(e))},dwOnCancel(){},dwFooter:null,dwComponentParams:{cmd:"add",expiryDate:this.product_file.controls[0].value.expiry_date,deliveryDate:this.product_file.controls[0].value.delivery_date}})}modifyPart(e,t){console.log(this.product_part);const n=e.controls.product_part_id?this.product_part.controls.findIndex(t=>t.get("product_part_id").value===e.controls.product_part_id.value):t,i=this.product_part.controls[n].getRawValue();this.dwModalService.create({dwTitle:"\u4fee\u6539\u4ea7\u54c1\u914d\u4ef6",dwContent:Hn,dwOnOk:e=>{console.log(this.detailModelWinObjForProductPart(e)),this.product_part.updateRow(n,this.detailModelWinObjForProductPart(e))},dwOnCancel(){},dwFooter:null,dwComponentParams:{cmd:"modify",expiryDate:this.product_file.controls[0].value.expiry_date,orderDetail:new Ln(i),deliveryDate:this.product_file.controls[0].value.delivery_date}})}deletePart(e,t){const n=e.controls.product_part_id?this.product_part.controls.findIndex(t=>t.get("product_part_id").value===e.controls.product_part_id.value):t;this.product_part.deleteRow(n)}equipmentAdd(){this.dwModalService.create({dwTitle:"\u6dfb\u52a0\u4ea7\u7ebf/\u9879\u76ee\u8bbe\u5907",dwWidth:"1000px",dwContent:ki,dwOnOk:e=>{let t=!1;if(e.detailEdit.product_part){const n=[];e.detailEdit.product_part.forEach(e=>{"d"!==e.$state&&e.sn&&(n.indexOf(e.code+e.sn)<0?n.push(e.code+e.sn):t=!0)})}if(t)this.message.error("\u5df2\u5b58\u5728\u5e8f\u5217\u53f7\u76f8\u540c\u7684\u914d\u4ef6\uff01");else{const t=[];this.product_equipment_list.value.forEach(e=>{e.sn&&t.push(e.code+e.sn)}),console.log(e,t),(!e.detailEdit.sn||t.indexOf(e.detailEdit.code+e.detailEdit.sn)<0)&&(this.product_equipment_list.insertRow(0,this.detailModelWinObjForProductEquipment(e)),this.getEquipmentParts())}},dwOnCancel(){},dwFooter:null,dwComponentParams:{cmd:"add",expiryDate:this.product_file.controls[0].value.expiry_date,isIntegrated:this.isIntegrated,deliveryDate:this.product_file.controls[0].value.delivery_date}})}modifyEquipment(e,t){console.log(this.product_equipment_list);const n=e.value.product_equipment_list_id?this.product_equipment_list.controls.findIndex(t=>t.get("product_equipment_list_id").value===e.value.product_equipment_list_id):t,i=this.product_equipment_list.controls[n].getRawValue();this.dwModalService.create({dwTitle:"\u4fee\u6539\u4ea7\u7ebf/\u9879\u76ee\u8bbe\u5907",dwWidth:"1000px",dwContent:ki,dwOnOk:e=>{console.log(e);let t=!1;if(e.detailEdit.product_part){const n=[];e.detailEdit.product_part.forEach(e=>{"d"!==e.$state&&e.sn&&(n.indexOf(e.code+e.sn)<0?n.push(e.code+e.sn):t=!0)})}t?this.message.error("\u5df2\u5b58\u5728\u5e8f\u5217\u53f7\u76f8\u540c\u7684\u914d\u4ef6\uff01"):(this.product_equipment_list.updateRow(n,this.detailModelWinObjForProductEquipment(e)),this.doc.controls.product_equipment_list=this.product_equipment_list,this.getEquipmentParts())},dwOnCancel(){},dwFooter:null,dwComponentParams:{cmd:"modify",expiryDate:this.product_file.controls[0].value.expiry_date,isIntegrated:this.isIntegrated,orderDetail:new $n(i),deliveryDate:this.product_file.controls[0].value.delivery_date}})}deleteEquipment(e,t){const n=e.value.product_equipment_list_id?this.product_equipment_list.controls.findIndex(t=>t.get("product_equipment_list_id").value===e.value.product_equipment_list_id):t;if(e.controls.product_part){const t=e.value.product_part.filter(e=>"c"!==e.$state);t.forEach(e=>{"d"!==e.$state&&(e.$state="d")}),this.product_equipment_list.controls[n].get("product_part").setValue(t)}this.product_equipment_list.deleteRow(n),this.getEquipmentParts()}detailModelWinObjForProductEquipment(e){const t=e.detailEdit,n={code:t.code,name:t.name,specification:t.specification,model:t.model,sn:t.sn,picture_id:t.picture_id,file_name:t.file_name,file_context:t.file_context,quantity:t.quantity,item_group_id:t.item_group_id,item_group_name:t.item_group_name,remark:t.remark,product_part:t.product_part};return Object.assign(n,{product_file_id:this.id||null}),Object.assign(n,{product_equipment_list_id:t.product_equipment_list_id||null}),n}handleCancel(){console.log("Button cancel clicked!"),this.returnProductList()}returnProductList(){this.router.navigate(this.id?["../../"]:["../"],{relativeTo:this.activeRoute})}openProductDataWin(e,t){e.preventDefault(),console.log(event.target),this.productFileSelectService.open([],t,"employee_id"===t?this.product_file.controls[0].value.service_site_id:"customer_id"===t?[this.product_file.controls[0].value.service_site_id,this.product_file.controls[0].value.employee_id]:"service_site_name"===t?[this.user_service_site_id,this.user_service_site_type]:"","").subscribe(e=>{if(console.log(e),"employee_id"===t?this.product_file.controls[0].get(t).setValue(e.data.employee[0][t]):"service_site_name"===t?this.product_file.controls[0].get(t).setValue(e[0].service_site_name):this.product_file.controls[0].get(t).setValue(e[0][t]),"service_site_name"===t){if(!e.length)return;this.product_file.controls[0].value.service_site_id!==e[0].service_site_id&&(this.product_file.controls[0].get("service_site_id").setValue(e[0].service_site_id),this.product_file.controls[0].get("employee_id").setValue(0),this.product_file.controls[0].get("employee_name").setValue(""))}else"employee_id"===t?this.product_file.controls[0].get("employee_name").setValue(e.data.employee[0].employee_name):"customer_id"===t&&(this.product_file.controls[0].get("customer_name").setValue(e[0].customer_name),this.product_file.controls[0].get("service_site_id").setValue(e[0].service_site_id),this.product_file.controls[0].get("service_site_name").setValue(e[0].service_site_name),this.product_file.controls[0].get("employee_id").setValue(e[0].employee_id),this.product_file.controls[0].get("employee_name").setValue(e[0].employee_name),this.product_file.controls[0].get("exfactory_customer_id").setValue(e[0].customer_id),this.product_file.controls[0].get("exfactory_customer_name").setValue(e[0].customer_name));this.product_file.controls[0].modifyState="u"})}clear(e){this.product_file.controls[0].get(`${e}id`).setValue(0),this.product_file.controls[0].get(`${e}name`).setValue(""),"customer_"===e&&(this.product_file.controls[0].get("service_site_id").setValue(0),this.product_file.controls[0].get("service_site_name").setValue(""),this.product_file.controls[0].get("employee_id").setValue(0),this.product_file.controls[0].get("employee_name").setValue("")),"service_site_"===e&&(this.product_file.controls[0].get("employee_id").setValue(0),this.product_file.controls[0].get("employee_name").setValue("")),this.product_file.controls[0].modifyState="u"}compare(){const e=this.product_part.rows;let t=!0;for(let n=0;n<e.length;n++){for(let i=n+1;i<e.length;i++)if(e[n].value.material_code===e[i].value.material_code&&e[n].value.sn&&e[n].value.sn===e[i].value.sn){this.message.create("error","d"===e[n].modifyState||"d"===e[i].modifyState?"\u76f8\u540c\u914d\u4ef6\u5e8f\u5217\u53f7(\u5305\u542b\u5220\u9664\u7684\u914d\u4ef6)\u8bf7\u52ff\u91cd\u590d\uff01":"\u76f8\u540c\u914d\u4ef6\u5e8f\u5217\u53f7\u8bf7\u52ff\u91cd\u590d\uff01"),t=!1;break}if(!t)break}return t}validDate(){this.setInstallationDate();const e=this.product_file.controls[0].value.delivery_date,t=this.product_file.controls[0].value.installation_date,n=this.product_file.controls[0].value.installation_date_end,i=this.product_file.controls[0].value.acceptance_date,r=this.product_file.controls[0].value.expiry_date;return e&&t&&this.changeZero(e)>this.changeZero(t)?(this.message.create("error","\u5b89\u88c5\u65e5\u671f\u4e0d\u5f97\u65e9\u4e8e\u51fa\u5e93\u65e5\u671f\uff01"),!1):n&&i&&this.changeZero(n)>this.changeZero(i)?(this.message.create("error","\u9a8c\u6536\u65e5\u671f\u4e0d\u5f97\u65e9\u4e8e\u5b89\u88c5\u622a\u6b62\u65e5\u671f\uff01"),!1):i&&r&&this.changeZero(i)>this.changeZero(r)?(this.message.create("error","\u4fdd\u4fee\u622a\u6b62\u65e5\u671f\u4e0d\u5f97\u65e9\u4e8e\u9a8c\u6536\u65e5\u671f\uff01"),!1):!i&&n&&r&&this.changeZero(n)>this.changeZero(r)?(this.message.create("error","\u4fdd\u4fee\u622a\u6b62\u65e5\u671f\u4e0d\u5f97\u65e9\u4e8e\u5b89\u88c5\u622a\u6b62\u65e5\u671f\uff01"),!1):!i&&!t&&e&&r&&this.changeZero(e)>this.changeZero(r)?(this.message.create("error","\u4fdd\u4fee\u622a\u6b62\u65e5\u671f\u4e0d\u5f97\u65e9\u4e8e\u51fa\u5e93\u65e5\u671f\uff01"),!1):!(!t&&e&&i&&this.changeZero(e)>this.changeZero(i)&&(this.message.create("error","\u9a8c\u6536\u65e5\u671f\u4e0d\u5f97\u65e9\u4e8e\u51fa\u5e93\u65e5\u671f\uff01"),1))}validForm(){const e=this.product_file.activeRows[0].getRawValue();if(e.next_maintain_date=e.next_maintain_date?new Date(e.next_maintain_date):null,console.log(e.next_maintain_date),e.enable_maintain){if(!e.maintain_begin_date&&"1"===this.basis_of_maintain)return void this.message.error("\u7ef4\u62a4\u5f00\u59cb\u65e5\u671f\u4e0d\u80fd\u4e3a\u7a7a");if(!e.maintain_period)return void this.message.error("\u7ef4\u62a4\u5468\u671f\u4e0d\u80fd\u4e3a\u7a7a");if("1"===this.basis_of_maintain){if(!e.next_maintain_date)return void this.message.error("\u4e0b\u6b21\u7ef4\u62a4\u65e5\u671f\u4e0d\u80fd\u4e3a\u7a7a");if(e.next_maintain_date<=e.maintain_begin_date)return void this.message.error("\u4e0b\u6b21\u7ef4\u62a4\u65e5\u671f\u5fc5\u987b\u5927\u4e8e\u7ef4\u62a4\u5f00\u59cb\u65e5\u671f");if(e.recently_maintain_date&&e.next_maintain_date<=e.recently_maintain_date)return void this.message.error("\u4e0b\u6b21\u7ef4\u62a4\u65e5\u671f\u5fc5\u987b\u5927\u4e8e\u6700\u8fd1\u7ef4\u62a4\u65e5\u671f")}else if(e.next_maintain_readingmeter<e.recently_maintain_readingmeter)return void this.message.error("\u4e0b\u6b21\u4fdd\u517b\u6284\u8868\u6570\u4e0d\u53ef\u5c0f\u4e8e\u6700\u8fd1\u4fdd\u517b\u6284\u8868\u6570")}if(!this.product_equipment_list.activeRows.length&&"2"===this.file_type)return void this.message.error("\u8bf7\u6dfb\u52a0\u8bbe\u5907\u4fe1\u606f");if(!this.validDate()||!this.compare())return;this.product_file.controls[0].get("basis_of_maintain").setValue(this.basis_of_maintain);let t=!0;t=!this.id,this.saveProductFile(t)}saveProductFile(e){const t=[];this.attachmentsList.forEach(n=>(0,Rn.mG)(this,void 0,void 0,function*(){let i=!0;if(i=e?"D"!==n.state&&"d"!==n.state:("C"===n.state||"c"===n.state)&&n.name!==n.attachment_name,i){const e=new FormData;e.append("file",n.originFileObj),t.push(new Promise((t,n)=>{this.productFileSrv.saveAttachments(e).subscribe(e=>{e.success?(this.attachmentIds.push(e.data),t()):(this.message.create("error","\u9644\u4ef6\u4fdd\u5b58\u5931\u8d25\uff01"),n())},e=>{e.hasOwnProperty("error")&&e.error.hasOwnProperty("errorMessage")&&e.error.errorMessage&&this.message.error(e.error.errorMessage)})}))}})),Promise.all(t).then(e=>{this.product_file.controls[0].get("attachment").setValue(this.attachmentIds.length?this.attachmentIds.join(","):""),this.product_file.controls[0].get("installation_date_range").setValue("");const t=this.product_file.activeRows[0];t.getRawValue().enable_maintain?t.get("enable_maintain").setValue("1",{emitEvent:!1}):t.get("enable_maintain").setValue("0",{emitEvent:!1}),console.log("product_equipment_list",this.product_equipment_list),console.log("product_part",this.product_part),this.id&&"2"===this.file_type&&(this.product_equipment_list.value.forEach(e=>{e.product_part.forEach(t=>{t.product_file_id=t.product_file_id||e.product_file_id||null})}),this.doc.controls.product_equipment_list=this.product_equipment_list),this.doc.save().subscribe(e=>{},e=>{e.hasOwnProperty("error")&&e.error.hasOwnProperty("errorMessage")&&e.error.errorMessage&&this.message.error(e.error.errorMessage),"1"===t.getRawValue().enable_maintain?t.get("enable_maintain").setValue(!0):"0"===t.getRawValue().enable_maintain&&t.get("enable_maintain").setValue(!1)},()=>{console.log("\u8bf7\u6c42\u7ed3\u675f"),"1"===t.getRawValue().enable_maintain?t.get("enable_maintain").setValue(!0):"0"===t.getRawValue().enable_maintain&&t.get("enable_maintain").setValue(!1)})})}saving(){return this.id&&this.product_file.rows.forEach(e=>{e.markAsUpdate()}),!0}saved(e){this.message.success("\u64cd\u4f5c\u6210\u529f\uff01"),this.returnProductList()}handleFileChange(e){for(const t in this.attachmentsList)this.attachmentsList[t].state||(this.attachmentsList[t].state="C");console.log("change:",this.attachmentsList)}deleteFile(e){let t=0,n=!1;this.attachmentIds.forEach(i=>{n||i===this.attachmentsList[e].uid&&(this.attachmentIds.splice(t,1),n=!0),t++}),"C"===this.attachmentsList[e].state?this.attachmentsList.splice(e,1):this.attachmentsList[e].state="D"}downloadFile(){this.productFileSrv.download({attachment_id:"4b7eade3-c83f-4c5c-aeea-0c3434d54b1c"}).subscribe(e=>{if(e)switch(e.type){case H.HttpEventType.Response:const t=URL.createObjectURL(e.body),n=document.createElement("a");n.href=t,n.style="visibility:hidden",n.download=e.headers.get("Content-disposition").split("filename=")[1],document.body.appendChild(n),n.click(),document.body.removeChild(n)}},e=>{e.hasOwnProperty("error")&&e.error.hasOwnProperty("errorMessage")&&e.error.errorMessage&&this.message.error(e.error.errorMessage)})}enableMaintainChange(){const e=this.product_file.activeRows[0];e.getRawValue().enable_maintain?(e.get("maintain_begin_date").enable(),e.get("maintain_period").enable(),e.get("recently_maintain_date").enable(),e.get("next_maintain_date").enable(),e.get("recently_maintain_readingmeter").enable(),e.get("next_maintain_readingmeter").enable()):(e.get("maintain_begin_date").disable(),e.get("maintain_period").disable(),e.get("recently_maintain_date").disable(),e.get("next_maintain_date").disable(),e.get("recently_maintain_readingmeter").disable(),e.get("next_maintain_readingmeter").disable())}dateOrPeriodChange(){this.maintainPeriodChange(),this.recentlyMaintainReadingmeterChange();const e=this.product_file.activeRows[0],t=e.getRawValue().maintain_period;if(t&&"1"===this.basis_of_maintain){let n;const i=e.get("next_maintain_date"),r=e.getRawValue().maintain_begin_date,o=e.getRawValue().recently_maintain_date;if(o)n=new Date(o);else{if(!r)return;n=new Date(r)}i.setValue(new Date(this.addMonths(n,t)),{emitEvent:!1})}else if(t&&"2"===this.basis_of_maintain){let n;const i=e.get("next_maintain_readingmeter");n=e.getRawValue().recently_maintain_readingmeter,i.setValue(Number(n)+Number(t),{emitEvent:!1})}}itemGroupChange(){const e=this.product_file.activeRows[0];if(!e.getRawValue().item_group_id)return;const t=this.itemGroupList.find(t=>t.item_group_id===e.getRawValue().item_group_id),n=t.enable_maintain,i=t.maintain_period;this.basis_of_maintain=t.basis_of_maintain||"1","1"===n?(e.get("enable_maintain").setValue(!0),e.get("maintain_begin_date").enable(),e.get("maintain_period").enable(),e.get("recently_maintain_date").enable(),e.get("next_maintain_date").enable(),e.get("maintain_period").setValue(i),e.get("recently_maintain_readingmeter").enable(),e.get("next_maintain_readingmeter").enable()):(e.get("enable_maintain").setValue(!1,{emitEvent:!1}),e.get("maintain_begin_date").disable(),e.get("maintain_period").disable(),e.get("maintain_period").setValue(i),e.get("recently_maintain_date").disable(),e.get("next_maintain_date").disable(),e.get("recently_maintain_readingmeter").disable(),e.get("next_maintain_readingmeter").disable())}maintainPeriodChange(){const e=this.product_file.activeRows[0],t=e.getRawValue().maintain_period;!t||t<0?e.get("maintain_period").setValue(1,{emitEvent:!1}):t>120&&"1"===this.basis_of_maintain?e.get("maintain_period").setValue(120,{emitEvent:!1}):t>99999&&"2"===this.basis_of_maintain?e.get("maintain_period").setValue(99999,{emitEvent:!1}):e.get("maintain_period").setValue(Math.round(t),{emitEvent:!1})}recentlyMaintainReadingmeterChange(){const e=this.product_file.activeRows[0],t=e.getRawValue().recently_maintain_readingmeter;!t||t<0?e.get("recently_maintain_readingmeter").setValue(0,{emitEvent:!1}):e.get("recently_maintain_readingmeter").setValue(Math.round(t),{emitEvent:!1})}nextMaintainReadingmeterChange(){const e=this.product_file.activeRows[0],t=e.getRawValue().recently_maintain_readingmeter,n=e.getRawValue().next_maintain_readingmeter;!n||n<t?e.get("next_maintain_readingmeter").setValue(t,{emitEvent:!1}):e.get("next_maintain_readingmeter").setValue(Math.round(n),{emitEvent:!1})}addDays(e,t){return e.setDate(e.getDate()+t),e}addMonths(e,t){return e.setMonth(e.getMonth()+t),e}}return e.\u0275fac=function(t){return new(t||e)(o.\u0275\u0275directiveInject(r.Router),o.\u0275\u0275directiveInject(r.ActivatedRoute),o.\u0275\u0275directiveInject(An.DwDocument),o.\u0275\u0275directiveInject(c.DwModalService),o.\u0275\u0275directiveInject(s.DwMessageService),o.\u0275\u0275directiveInject(l.U),o.\u0275\u0275directiveInject(p.v),o.\u0275\u0275directiveInject(Bn),o.\u0275\u0275directiveInject(u.DwAnalytics),o.\u0275\u0275directiveInject(f.DwUserService),o.\u0275\u0275directiveInject(d.FormBuilder),o.\u0275\u0275directiveInject(g.$),o.\u0275\u0275directiveInject(i.DatePipe))},e.\u0275cmp=o.\u0275\u0275defineComponent({type:e,selectors:[["app-product-file-modify"]],features:[o.\u0275\u0275ProvidersFeature([An.DwDocument,Bn])],decls:15,vars:10,consts:[[1,"dw-f-content-list","layoutClass","sales_layout"],[1,"issue_layout_head"],[1,"issue_layout_title"],["style","margin-left: 3px;",4,"ngIf"],[2,"float","right"],["dw-button","","dw-analyticsOn","click",3,"dwType","disabled","angularticsCategory","id","angularticsAction","angularticsLabel","click"],["translate",""],["dw-button","","type","button",3,"dwType","click"],[1,"content-box",2,"padding-bottom","24px"],["dw-form","",3,"formGroup",4,"ngIf"],[2,"margin-left","3px"],["dw-form","",3,"formGroup"],[1,"my-tab",3,"dwTabPosition","dwType","dwAnimated","dwSelectChange"],["dwTitle","\u57fa\u672c\u4fe1\u606f",3,"id"],[1,"lessons-list"],["dw-row","","dwGutter","8"],["dw-col","","dwSpan","10"],[4,"ngIf"],["dw-col","","dwSpan","12"],["rowspan","4",4,"ngIf"],["style","opacity: 0;",4,"ngIf"],["dw-row","","dwGutter","8",2,"margin-top","8px"],["dw-col","","dwSpan","22",2,"display","flex"],[1,"temp"],["class","checkbox_label",4,"ngIf"],["class","maintain_box",4,"ngIf"],["dwTitle","\u8bbe\u5907\u4fe1\u606f",3,"id",4,"ngIf"],["dwTitle","\u914d\u4ef6\u4fe1\u606f",3,"id"],["dw-row","","class","dw-f-btn-bar-action",4,"ngIf"],["dwTableId","crs-product-part-modify-list",3,"dwData","dwPageIndex","dwPageSize","dwPageSizeOptions","dwScroll","dwPageSizeChange","dwPageSizeOptionsChange",4,"ngIf"],["dwTableId","crs-equipment-part-modify-list",3,"dwData","dwPageIndex","dwPageSize","dwPageSizeOptions","dwScroll","dwPageSizeChange","dwPageSizeOptionsChange",4,"ngIf"],["dwTitle","\u9644\u52a0\u4fe1\u606f",3,"id",4,"ngIf"],["dwRequired","",3,"dwSm","dwXs"],[3,"dwSm","dwXs"],["dw-input","","required","","formControlName","product_file_code","maxlength","40",3,"readonly"],["dw-input","","required","","formControlName","product_file_name","maxlength","60",3,"readonly"],["formControlName","item_group_id","required","",2,"width","100%"],[3,"dwLabel","dwValue",4,"ngFor","ngForOf"],[3,"dwLabel","dwValue"],["dw-input","","formControlName","model","maxlength","255"],["dw-input","","formControlName","specification","maxlength","255",3,"readonly"],["dwRequired","",3,"dwSm","dwXs",4,"ngIf"],["dw-input","","formControlName","sn","required","","maxlength","255",3,"readonly"],["dwSearch","",3,"dwSuffix"],["dw-input","","required","","type","text","readonly","","formControlName","customer_name"],["suffixCustomerData",""],["dw-button","","dwType","primary","dwSearch","","type","button",3,"disabled","click"],["dw-icon","","dwType","search"],["dw-input","","readonly","","formControlName","exfactory_customer_name"],["dw-input","","formControlName","location","maxlength","255",3,"readonly"],["dw-input","","type","text","readonly","","dw-input","","formControlName","service_site_name"],["suffixServiceSiteData",""],["dw-icon","","class","ant-input-clear-icon","dwTheme","fill","dwType","close-circle",3,"click",4,"ngIf"],["dw-button","","dwType","primary","dwSearch","","type","button",3,"click"],["dw-icon","","dwTheme","fill","dwType","close-circle",1,"ant-input-clear-icon",3,"click"],["dw-input","","type","text","readonly","","dw-input","","formControlName","employee_name"],["suffixEmployeeData",""],["required","","formControlName","delivery_date",3,"dwDisabled"],["formControlName","installation_date_range",2,"width","100%",3,"dwDisabledDate"],["dw-input","","formControlName","commissioning_person","maxlength","20"],["dw-input","","formControlName","remark","maxlength","20"],[1,"upFiles"],[1,"upload"],[2,"margin-bottom","8px",3,"dwFileList","dwBeforeUpload","dwShowUploadList","dwAccept","dwFileListChange","dwChange"],["dw-button",""],["dw-icon","","dwType","upload"],[4,"ngFor","ngForOf"],[1,"tip"],["class","chosen-file","dw-row","",4,"ngIf"],["dw-row","",1,"chosen-file"],["dw-col","",1,"type-icon"],["dw-icon","","dwType","paper-clip","dwTheme","outline"],["dw-col","",1,"file-name"],["dw-col","",1,"del",3,"click"],["dw-icon","","dwType","delete","dwTheme","outline"],["rowspan","4"],[1,"clearfix",2,"min-height","117.5px"],["dwAction","https://www.mocky.io/v2/5cc8019d300000980a055e76","dwListType","picture-card",3,"dwFileList","dwShowButton","dwPreview","dwBeforeUpload","dwAccept","dwShowUploadList","dwFileListChange","dwChange"],["dw-icon","","dwType","plus"],[1,"ant-upload-text"],[3,"dwVisible","dwContent","dwFooter","dwOnCancel"],["modalContent",""],["alt","\u4ea7\u54c1\u6863\u6848",3,"src","ngStyle"],[2,"opacity","0"],["dw-input","","readonly","","formControlName","file_context"],["dw-input","","maxlength","400","placeholder","200\u5b57\u4ee5\u5185","formControlName","product_description",2,"height","211px",3,"readonly"],["dw-input","","readonly",""],["formControlName","expiry_date","required",""],["formControlName","acceptance_date"],["dw-input","","formControlName","acceptance_person","maxlength","20"],["dw-input","","readonly","","formControlName","maintenance_count","maxlength","20"],[1,"checkbox_label"],["dw-checkbox","","formControlName","enable_maintain",2,"color","rgba(0,0,0,0.85)"],[1,"maintain_box"],["dw-row","",4,"ngIf"],["dw-row",""],["dwRequired","",3,"dwSpan"],[3,"dwSpan"],["formControlName","maintain_begin_date"],["dw-row","",3,"dwSpan"],[2,"display","flex"],["type","number","dw-input","","formControlName","maintain_period","maxlength","5",2,"flex","1"],[2,"margin-left","10px","line-height","32px","color","rgba(0,0,0,0.85)"],["dw-col","","dwSpan","10",4,"ngIf"],["formControlName","recently_maintain_date"],["formControlName","next_maintain_date"],["type","number","dw-input","","formControlName","recently_maintain_readingmeter"],["type","number","dw-input","","formControlName","next_maintain_readingmeter",3,"change","keyup"],["dwTitle","\u8bbe\u5907\u4fe1\u606f",3,"id"],["dw-row","",1,"dw-f-btn-bar-action"],["dw-col",""],["dwTableId","crs-product-equipment-modify-list",3,"dwData","dwPageIndex","dwPageSize","dwPageSizeOptions","dwScroll","dwPageSizeChange","dwPageSizeOptionsChange"],["dwTable",""],["dw-tr","","dwDropColumns",""],["dw-th","","dwDragDrop","","dwColumnKey","contact",4,"dwColumnId"],["dw-th","","dwDragDrop","",4,"dwColumnId"],["dw-th","","dwDragDrop","","class","align-right",4,"dwColumnId"],["dw-th","","dwRight","","dwDragDropdwRight","","class","align-center","width","92",4,"dwColumnId"],[3,"formGroup",4,"ngFor","ngForOf"],["dw-th","","dwDragDrop","","dwColumnKey","contact"],["dw-th","","dwDragDrop",""],["dw-th","","dwDragDrop","",1,"align-right"],["dw-th","","dwRight","","dwDragDropdwRight","","width","92",1,"align-center"],[3,"formGroup"],["dw-tbody-tr","","dwReorderColumns","",4,"ngIf"],["dw-tbody-tr","","dwReorderColumns",""],[4,"dwColumnId"],["class","align-right",4,"dwColumnId"],["dwRight","","class","align-center",4,"dwColumnId"],["style","width: 56px;height: 56px;","alt","\u8bbe\u5907\u56fe\u7247",3,"src",4,"ngIf"],["alt","\u8bbe\u5907\u56fe\u7247",2,"width","56px","height","56px",3,"src"],[1,"align-right"],["dwRight","",1,"align-center"],[1,"action-grid"],["title","\u7f16\u8f91",3,"click"],["src","../../../../../../assets/img/icon_edit.png","alt","\u7f16\u8f91",1,"action-icon"],["src","../../../../../../assets/img/icon_edit_hover.png","alt","\u7f16\u8f91",1,"action-icon"],["title","\u5220\u9664"],["dw-popconfirm","",3,"dwPopconfirmTitle","dwOkText","dwCancelText","dwPopconfirmPlacement","dwOnConfirm"],["dw-popconfirm","","translate",""],["src","../../../../../../assets/img/icon_delete.png","alt","\u5220\u9664",1,"action-icon"],["src","../../../../../../assets/img/icon_delete_hover.png","alt","\u5220\u9664",1,"action-icon"],["dw-button","","type","button","dwActionAuthorized","",3,"dwType","dwActionId","dwDefaultAuthorized","dwClick"],["dwTableId","crs-product-part-modify-list",3,"dwData","dwPageIndex","dwPageSize","dwPageSizeOptions","dwScroll","dwPageSizeChange","dwPageSizeOptionsChange"],["dwTablePart",""],["dw-th","","dwDragDrop","","dwWidth","140px",4,"dwColumnId"],["dw-th","","dwDragDrop","","dwWidth","100px",4,"dwColumnId"],["dw-th","","dwDragDrop","","dwWidth","120px",4,"dwColumnId"],["dw-th","","dwDragDrop","","dwWidth","70px",4,"dwColumnId"],["dw-th","","dwDragDrop","","class","align-right","dwWidth","100px",4,"dwColumnId"],["dw-th","","dwDragDrop","","dwWidth","110px",4,"dwColumnId"],["dw-th","","dwRight","","class","align-center","dwWidth","92px",4,"dwColumnId"],["dw-th","","dwDragDrop","","dwWidth","140px"],["dw-th","","dwDragDrop","","dwWidth","100px"],["dw-th","","dwDragDrop","","dwWidth","120px"],["dw-th","","dwDragDrop","","dwWidth","70px"],["dw-th","","dwDragDrop","","dwWidth","100px",1,"align-right"],["dw-th","","dwDragDrop","","dwWidth","110px"],["dw-th","","dwRight","","dwWidth","92px",1,"align-center"],["dw-tooltip","","dwTooltipTitle","\u6613\u635f\u4ef6","class","quickPart",4,"ngIf"],["dw-tooltip","","dwTooltipTitle","\u6613\u635f\u4ef6",1,"quickPart"],[1,"point"],["dwTableId","crs-equipment-part-modify-list",3,"dwData","dwPageIndex","dwPageSize","dwPageSizeOptions","dwScroll","dwPageSizeChange","dwPageSizeOptionsChange"],["dwTablePart2",""],["dw-th","","dwWidth","120px",4,"dwColumnId"],["dw-th","","dwDragDrop","","dwWidth","80px",4,"dwColumnId"],["dw-th","","class","align-right","dwDragDrop","","dwWidth","100px",4,"dwColumnId"],["dw-th","","dwWidth","120px"],["dw-th","","dwDragDrop","","dwWidth","80px"],[3,"ngStyle",4,"dwColumnId"],[3,"ngStyle"],["dwTitle","\u9644\u52a0\u4fe1\u606f",3,"id"],["dw-col","",1,"cust-field",3,"dwSpan"],["cols","1","labelSpan","3","inputSpan","7","tableName","product_file",3,"group","dwDocument"]],template:function(e,t){1&e&&(o.\u0275\u0275elementStart(0,"dw-content",0),o.\u0275\u0275elementStart(1,"div",1),o.\u0275\u0275elementStart(2,"h2",2),o.\u0275\u0275template(3,$i,2,0,"span",3),o.\u0275\u0275template(4,ji,2,0,"span",3),o.\u0275\u0275elementStart(5,"div",4),o.\u0275\u0275elementStart(6,"button",5),o.\u0275\u0275listener("click",function(){return t.validForm()}),o.\u0275\u0275elementStart(7,"span",6),o.\u0275\u0275text(8,"\u786e\u5b9a"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(9,"button",7),o.\u0275\u0275listener("click",function(){return t.handleCancel()}),o.\u0275\u0275elementStart(10,"span",6),o.\u0275\u0275text(11,"\u53d6\u6d88"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275element(12,"dw-divider"),o.\u0275\u0275elementStart(13,"div",8),o.\u0275\u0275template(14,ua,43,38,"form",9),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()),2&e&&(o.\u0275\u0275advance(3),o.\u0275\u0275property("ngIf",!t.id),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",t.id),o.\u0275\u0275advance(2),o.\u0275\u0275propertyInterpolate("angularticsLabel",t.userInfo.tenantId+","+t.userInfo.userId),o.\u0275\u0275property("dwType","primary")("disabled",!t.doc.valid)("angularticsCategory","\u4ea7\u54c1\u6863\u6848")("id",t.id?"sure-modify-product-file":"sure-create-product-file")("angularticsAction",t.id?"\u4fee\u6539-\u70b9\u51fb\u786e\u5b9a\u4fee\u6539":"\u65b0\u5efa-\u70b9\u51fb\u786e\u5b9a\u65b0\u5efa"),o.\u0275\u0275advance(3),o.\u0275\u0275property("dwType","default"),o.\u0275\u0275advance(5),o.\u0275\u0275property("ngIf",t.product_file.controls[0]))},directives:[K.DwContentComponent,i.NgIf,N.DwButtonComponent,Z.uG,Q.u,u.DwAnalyticsOn,b.TranslateDirective,Ri.DwDividerComponent,d.\u0275NgNoValidate,d.NgControlStatusGroup,$.DwFormDirective,d.FormGroupDirective,Ai.DwTabSetComponent,Ai.DwTabComponent,L.DwRowDirective,L.DwColDirective,$.DwFormItemComponent,$.DwFormLabelComponent,$.DwFormControlComponent,z.DwInputDirective,d.DefaultValueAccessor,d.RequiredValidator,d.NgControlStatus,d.FormControlName,d.MaxLengthValidator,j.DwSelectComponent,i.NgForOf,j.DwOptionComponent,z.DwInputGroupComponent,z.DwInputGroupWhitSuffixOrPrefixDirective,q.DwIconDirective,B.DwDatePickerComponent,B.DwRangePickerComponent,Zn.DwUploadComponent,c.DwModalComponent,i.NgStyle,S.DwCheckboxComponent,d.NumberValueAccessor,x.DwTableComponent,_.Ct,x.DwTheadComponent,x.DwTrDirective,_.Y9,_.b,x.DwTbodyComponent,x.DwTableCellDirective,x.DwThMeasureDirective,_.BL,_.$2,x.DwThAddOnComponent,x.DwCellFixedDirective,_.at,Se.DwPopconfirmDirective,J.DwActionAuthorizedDirective,Jn.DwTooltipDirective,Li.DwExtraFieldsComponent],pipes:[b.TranslatePipe,i.DatePipe],styles:[".ant-calendar-picker{width:100%}.content-box[_ngcontent-%COMP%]{padding-top:8px}.upFiles[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:#000000d9;font-size:18px;margin-bottom:12px}.upFiles[_ngcontent-%COMP%]   .chosen-file[_ngcontent-%COMP%]{margin:8px 0}.upFiles[_ngcontent-%COMP%]   .tip[_ngcontent-%COMP%]{color:#00000073;font-size:14px;margin-top:8px;white-space:nowrap}.upFiles[_ngcontent-%COMP%]   .file-name[_ngcontent-%COMP%]{width:200px;margin-left:5px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.upFiles[_ngcontent-%COMP%]   .del[_ngcontent-%COMP%]{display:none}.upFiles[_ngcontent-%COMP%]   .chosen-file[_ngcontent-%COMP%]:hover   .del[_ngcontent-%COMP%]{display:block}.upFiles[_ngcontent-%COMP%]   .chosen-file[_ngcontent-%COMP%]:hover   .del[_ngcontent-%COMP%]:hover   em[_ngcontent-%COMP%]{color:#40a9ff;cursor:pointer}.temp[_ngcontent-%COMP%]{width:calc((10 / 24 * (6 / 24)) * 100% + 8px);height:100%}.maintain_box[_ngcontent-%COMP%]{flex:1;background:#f7f7f7;padding:8px 0 4px 16px}.quickPart[_ngcontent-%COMP%]   .point[_ngcontent-%COMP%]{display:inline-block;width:6px;height:6px;border-radius:3px;background-color:#ffbe68;margin-bottom:3px}"]}),e})();var wa=n(74913);function ha(e,t){1&e&&(o.\u0275\u0275elementStart(0,"span",41),o.\u0275\u0275text(1,"\u6b63\u5e38"),o.\u0275\u0275elementEnd())}function ga(e,t){1&e&&(o.\u0275\u0275elementStart(0,"span",42),o.\u0275\u0275text(1,"\u62a5\u4fee\u4e2d"),o.\u0275\u0275elementEnd())}function va(e,t){1&e&&(o.\u0275\u0275elementStart(0,"span",43),o.\u0275\u0275text(1,"\u5df2\u56de\u6536"),o.\u0275\u0275elementEnd())}function Ca(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"div",44),o.\u0275\u0275element(1,"img",45),o.\u0275\u0275elementStart(2,"div",46),o.\u0275\u0275text(3),o.\u0275\u0275pipe(4,"date"),o.\u0275\u0275elementStart(5,"div"),o.\u0275\u0275text(6),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()),2&e){const e=o.\u0275\u0275nextContext();o.\u0275\u0275advance(3),o.\u0275\u0275textInterpolate2(" ",o.\u0275\u0275pipeBind2(4,4,e.SNHistoryInfo.end_time,"yyyy-MM-dd"),"\xa0\xa0\xa0",e.SNHistoryInfo.original_sn," \u2014> "),o.\u0275\u0275advance(3),o.\u0275\u0275textInterpolate2("",e.SNHistoryInfo.current_sn,"\xa0\xa0\xa0",e.SNHistoryInfo.employee_name,"")}}function ya(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"div"),o.\u0275\u0275text(1),o.\u0275\u0275pipe(2,"date"),o.\u0275\u0275pipe(3,"date"),o.\u0275\u0275elementEnd()),2&e){const e=o.\u0275\u0275nextContext();o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate2(" \u5b89\u88c5\u65e5\u671f:\xa0\xa0",o.\u0275\u0275pipeBind2(2,2,e.resumeInfo.installation_date,"yyyy-MM-dd"),"~",o.\u0275\u0275pipeBind2(3,5,e.resumeInfo.installation_date_end,"yyyy-MM-dd")," ")}}function xa(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"div"),o.\u0275\u0275text(1),o.\u0275\u0275pipe(2,"date"),o.\u0275\u0275elementEnd()),2&e){const e=o.\u0275\u0275nextContext();o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" \u5b89\u88c5\u65e5\u671f:\xa0\xa0",o.\u0275\u0275pipeBind2(2,1,e.resumeInfo.installation_date,"yyyy-MM-dd")," ")}}function _a(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"tr"),o.\u0275\u0275elementStart(1,"td"),o.\u0275\u0275text(2),o.\u0275\u0275pipe(3,"date"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(4,"td"),o.\u0275\u0275text(5),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(6,"td"),o.\u0275\u0275text(7),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(8,"td"),o.\u0275\u0275text(9),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(10,"td"),o.\u0275\u0275text(11),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;o.\u0275\u0275advance(2),o.\u0275\u0275textInterpolate1(" ",o.\u0275\u0275pipeBind2(3,5,e.doc_date,"yyyy-MM-dd")," "),o.\u0275\u0275advance(3),o.\u0275\u0275textInterpolate1(" ",e.breakdown_code," "),o.\u0275\u0275advance(2),o.\u0275\u0275textInterpolate1(" ",e.breakdown_name," "),o.\u0275\u0275advance(2),o.\u0275\u0275textInterpolate1(" ",e.employee_name," "),o.\u0275\u0275advance(2),o.\u0275\u0275textInterpolate1(" ",e.processing_description," ")}}function Sa(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"tr"),o.\u0275\u0275elementStart(1,"td"),o.\u0275\u0275text(2),o.\u0275\u0275pipe(3,"date"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(4,"td"),o.\u0275\u0275text(5),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(6,"td"),o.\u0275\u0275text(7),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(8,"td"),o.\u0275\u0275text(9),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(10,"td"),o.\u0275\u0275text(11),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(12,"td"),o.\u0275\u0275text(13),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(14,"td",47),o.\u0275\u0275text(15),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(16,"td"),o.\u0275\u0275text(17),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(18,"td"),o.\u0275\u0275text(19),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(20,"td"),o.\u0275\u0275text(21),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(22,"td"),o.\u0275\u0275text(23),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(24,"td"),o.\u0275\u0275text(25),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(26,"td",47),o.\u0275\u0275text(27),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;o.\u0275\u0275advance(2),o.\u0275\u0275textInterpolate1(" ",o.\u0275\u0275pipeBind2(3,13,e.doc_date,"yyyy-MM-dd")," "),o.\u0275\u0275advance(3),o.\u0275\u0275textInterpolate1(" ",e.orig_material_code," "),o.\u0275\u0275advance(2),o.\u0275\u0275textInterpolate1(" ",e.orig_material_name," "),o.\u0275\u0275advance(2),o.\u0275\u0275textInterpolate1(" ",e.orig_specification," "),o.\u0275\u0275advance(2),o.\u0275\u0275textInterpolate1(" ",e.orig_model," "),o.\u0275\u0275advance(2),o.\u0275\u0275textInterpolate1(" ",e.orig_sn," "),o.\u0275\u0275advance(2),o.\u0275\u0275textInterpolate1(" ",e.orig_qty," "),o.\u0275\u0275advance(2),o.\u0275\u0275textInterpolate1(" ",e.new_material_code," "),o.\u0275\u0275advance(2),o.\u0275\u0275textInterpolate1(" ",e.new_material_name," "),o.\u0275\u0275advance(2),o.\u0275\u0275textInterpolate1(" ",e.new_specification," "),o.\u0275\u0275advance(2),o.\u0275\u0275textInterpolate1(" ",e.sn," "),o.\u0275\u0275advance(2),o.\u0275\u0275textInterpolate1(" ",e.employee_name," "),o.\u0275\u0275advance(2),o.\u0275\u0275textInterpolate1(" ",e.qty," ")}}function ba(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"tr"),o.\u0275\u0275elementStart(1,"td"),o.\u0275\u0275text(2),o.\u0275\u0275pipe(3,"date"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(4,"td"),o.\u0275\u0275text(5),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(6,"td"),o.\u0275\u0275text(7),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(8,"td"),o.\u0275\u0275text(9),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;o.\u0275\u0275advance(2),o.\u0275\u0275textInterpolate1(" ",o.\u0275\u0275pipeBind2(3,4,e.doc_date,"yyyy-MM-dd")," "),o.\u0275\u0275advance(3),o.\u0275\u0275textInterpolate1(" ",e.service_item_name," "),o.\u0275\u0275advance(2),o.\u0275\u0275textInterpolate1(" ",e.process_description," "),o.\u0275\u0275advance(2),o.\u0275\u0275textInterpolate1(" ",e.employee_name," ")}}function Ea(e,t){if(1&e){const e=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"div"),o.\u0275\u0275elementStart(1,"a",48),o.\u0275\u0275listener("click",function(){o.\u0275\u0275restoreView(e);const t=o.\u0275\u0275nextContext().$implicit;return o.\u0275\u0275nextContext().goOldProductResume(t)}),o.\u0275\u0275text(2,"\u67e5\u770b\u539f\u4ea7\u54c1\u5c65\u5386"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()}}function Ia(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"tr"),o.\u0275\u0275elementStart(1,"td"),o.\u0275\u0275text(2),o.\u0275\u0275pipe(3,"date"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(4,"td"),o.\u0275\u0275text(5),o.\u0275\u0275template(6,Ea,3,0,"div",19),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(7,"td"),o.\u0275\u0275text(8),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(9,"td"),o.\u0275\u0275text(10),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;o.\u0275\u0275advance(2),o.\u0275\u0275textInterpolate1(" ",o.\u0275\u0275pipeBind2(3,5,e.doc_date,"yyyy-MM-dd")," "),o.\u0275\u0275advance(3),o.\u0275\u0275textInterpolate1(" ",e.type," "),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf","\u65b0\u673a\u53d1\u51fa"===e.type),o.\u0275\u0275advance(2),o.\u0275\u0275textInterpolate1(" ",e.employee_name," "),o.\u0275\u0275advance(2),o.\u0275\u0275textInterpolate1(" ",e.remark," ")}}function Da(e,t){if(1&e&&o.\u0275\u0275element(0,"img",59),2&e){const e=o.\u0275\u0275nextContext().$implicit;o.\u0275\u0275property("title",e.remark)}}function Ta(e,t){if(1&e&&o.\u0275\u0275element(0,"img",60),2&e){const e=o.\u0275\u0275nextContext().$implicit;o.\u0275\u0275property("title",e.remark)}}function Oa(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"dw-timeline-item",53),o.\u0275\u0275elementStart(1,"div",54),o.\u0275\u0275elementStart(2,"div",55),o.\u0275\u0275text(3),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(4,"div"),o.\u0275\u0275elementStart(5,"div",56),o.\u0275\u0275text(6," \u5ba2\u6237\u7f16\u53f7\uff1a"),o.\u0275\u0275elementStart(7,"span"),o.\u0275\u0275text(8),o.\u0275\u0275elementEnd(),o.\u0275\u0275template(9,Da,1,1,"img",57),o.\u0275\u0275template(10,Ta,1,1,"img",58),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(11,"div",56),o.\u0275\u0275text(12," \u5ba2\u6237\u540d\u79f0\uff1a"),o.\u0275\u0275elementStart(13,"span"),o.\u0275\u0275text(14),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()),2&e){const e=t.$implicit,n=t.index;o.\u0275\u0275property("dwColor",0===n?"#0d9def":"#d8d8d8"),o.\u0275\u0275advance(3),o.\u0275\u0275textInterpolate2("",e.startDate,"~",e.endDate,""),o.\u0275\u0275advance(1),o.\u0275\u0275classMap(0===n?"info-box blue":"info-box"),o.\u0275\u0275advance(4),o.\u0275\u0275textInterpolate(e.new_customer_code),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",0===n&&e.remark),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",0!==n&&e.remark),o.\u0275\u0275advance(4),o.\u0275\u0275textInterpolate(e.new_customer_name)}}function Ma(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"dw-tab",49),o.\u0275\u0275elementStart(1,"div",50),o.\u0275\u0275elementStart(2,"dw-timeline",51),o.\u0275\u0275template(3,Oa,15,9,"dw-timeline-item",52),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()),2&e){const e=o.\u0275\u0275nextContext();o.\u0275\u0275advance(3),o.\u0275\u0275property("ngForOf",e.transferList)}}const Fa=function(){return{x:"900px"}},Pa=function(){return{x:"1400px"}},ka=function(){return{x:"800px"}};let Va=(()=>{class e{constructor(e,t,n,i,r,o,a){this.router=e,this.fb=t,this.activeRoute=n,this.productFileSrv=i,this.analytics=r,this.userService=o,this.message=a,this.DW_IN_MFA=C.ns,this.resumeInfo={product_file_code:"",product_file_name:"",item_group_name:"",specification:"",model:"",sn:"",service_site_name:"",location:"",customer_name:"",delivery_date:"",installation_date:"",acceptance_date:"",expiry_date:"",acceptance_person:"",commissioning_person:"",remark:""},this.machineList=[],this.transferList=[],this.SNHistoryInfo={employee_name:"",current_sn:"",original_sn:"",end_time:""},this.userInfo={tenantId:"",userId:""}}ngOnInit(){this.userInfo=this.userService.getUserInfo(),this.activeRoute.queryParams.subscribe(e=>{console.log(e),this.paramId=e.id,this.fromPage=e.fromPage||"1",this.productFileSrv.getProductFileResume(this.paramId).subscribe(e=>{console.log(e),this.resumeInfo=e.data.product_file[0],this.breakdownList=e.data.service_doc_breakdown||[],this.partList=e.data.service_doc_partchange||[],this.serviceList=e.data.service_doc_serviceitem||[],this.machineList=e.data.machine_receive_doc||[],this.productFileSrv.getProductTransfersByFileId(this.paramId).subscribe(e=>{if(e.data.product_transfer.length){const t=e.data.product_transfer.concat([{new_customer_code:e.data.product_transfer[e.data.product_transfer.length-1].original_customer_code,new_customer_name:e.data.product_transfer[e.data.product_transfer.length-1].original_customer_name,transfer_date:this.resumeInfo.delivery_date||"- -",remark:""}]);t.forEach((e,n)=>{t[n].startDate=t[n].transfer_date?t[n].transfer_date.split(" ")[0]:"- -",t[n].endDate=0===n?"\u81f3\u4eca":t[n-1].transfer_date?t[n-1].transfer_date.split(" ")[0]:"- -"}),this.transferList=t}},e=>{e.hasOwnProperty("error")&&e.error.hasOwnProperty("errorMessage")&&e.error.errorMessage&&this.message.error(e.error.errorMessage)})},e=>{e.hasOwnProperty("error")&&e.error.hasOwnProperty("errorMessage")&&e.error.errorMessage&&this.message.error(e.error.errorMessage)}),this.productFileSrv.getSNChangeHistory(this.paramId).subscribe(e=>{this.SNHistoryInfo=e.data[0]},e=>{e.hasOwnProperty("error")&&e.error.hasOwnProperty("errorMessage")&&e.error.errorMessage&&this.message.error(e.error.errorMessage)})})}onTabChange(e){console.log(e.index);const t=e.index;this.analytics.eventTrack.next({action:0===t?"\u5c65\u5386-\u70b9\u51fb\u6545\u969c\u60c5\u51b5\u9875\u7b7e":1===t?"\u5c65\u5386-\u70b9\u51fb\u96f6\u914d\u4ef6\u66f4\u6362\u9875\u7b7e":2===t?"\u5c65\u5386-\u70b9\u51fb\u670d\u52a1\u8bb0\u5f55\u9875\u7b7e":3===t?"\u5c65\u5386-\u70b9\u51fb\u6574\u673a\u8fd4\u4fee\u8bb0\u5f55\u9875\u7b7e":"\u5c65\u5386-\u70b9\u51fb\u8fc7\u6237\u8bb0\u5f55\u9875\u7b7e",properties:{category:"\u4ea7\u54c1\u6863\u6848",label:this.userInfo.tenantId+","+this.userInfo.userId,value:0}})}goOldProductResume(e){this.router.navigateByUrl(`${this.DW_IN_MFA?"/assc_crs":""}/bases/product-file/product-resume?id=${e.product_file_id}`)}goBack(){const e={relativeTo:this.activeRoute};console.log(this.fromPage),1===Number(this.fromPage)?this.router.navigate(["../"],e):this.router.navigate(["../recycled-list"],e)}}return e.\u0275fac=function(t){return new(t||e)(o.\u0275\u0275directiveInject(r.Router),o.\u0275\u0275directiveInject(d.FormBuilder),o.\u0275\u0275directiveInject(r.ActivatedRoute),o.\u0275\u0275directiveInject(l.U),o.\u0275\u0275directiveInject(u.DwAnalytics),o.\u0275\u0275directiveInject(f.DwUserService),o.\u0275\u0275directiveInject(s.DwMessageService))},e.\u0275cmp=o.\u0275\u0275defineComponent({type:e,selectors:[["app-product-resume"]],decls:189,vars:86,consts:[[1,"dw-f-content-list","layoutClass","sales_layout"],[1,"issue_layout_head"],["translate","",2,"float","left","margin-right","6px","margin-left","-5px",3,"click"],["src","../../../../../../assets/img/arrow-left.svg","alt","\u8fd4\u56de"],[1,"issue_layout_title"],[2,"margin-left","3px"],["color","#e5e5e5"],[1,"content-box"],["dw-form","","dw-row","",1,"sa-form"],["dw-col","","dwSpan","10",1,"box"],[1,"sub-title"],[1,"item-wrap"],[3,"dwSm","dwXs"],["class","state_tip",4,"ngIf"],["class","state_tip zise",4,"ngIf"],["class","state_tip gray",4,"ngIf"],[2,"display","flex"],[2,"flex","1"],["class","timeItem-remark",4,"ngIf"],[4,"ngIf"],["dw-col","","dwSpan","14",1,"box2"],[1,"my-tab",2,"padding","8px 0 20px 20px",3,"dwTabPosition","dwType","dwAnimated","dwSelectChange"],["dwTitle","\u6545\u969c\u60c5\u51b5","id","product-resume-breakdown-tab"],[3,"dwData","dwScroll"],["dwBreakdownTable",""],["dw-tr",""],["dw-th",""],["translate",""],[4,"ngFor","ngForOf"],["dwTitle","\u96f6\u914d\u4ef6\u66f4\u6362","id","product-resume-material-tab"],["dwPartTable",""],["dw-th","","dwWidth","100px"],["dw-th","","dwWidth","120px"],["dw-th","","dwAlign","right","dwWidth","100px"],["dwTitle","\u670d\u52a1\u8bb0\u5f55","id","product-resume-record-tab"],["dwServiceTable",""],["dwTitle","\u6574\u673a\u8fd4\u4fee\u8bb0\u5f55","id","product-resume-machine-tab"],[3,"dwData"],["dwMachineTable",""],["dw-th","","dwWidth","160px"],["dwTitle","\u8fc7\u6237\u8bb0\u5f55","id","product-resume-transfer-record-tab",4,"ngIf"],[1,"state_tip"],[1,"state_tip","zise"],[1,"state_tip","gray"],[1,"timeItem-remark"],["src","../../../../../../assets/img/icon_information_web.png","alt","remark"],[1,"distribute-remark"],["dwAlign","right"],[3,"click"],["dwTitle","\u8fc7\u6237\u8bb0\u5f55","id","product-resume-transfer-record-tab"],[1,"record"],[1,"timeline"],["class","timeItem",3,"dwColor",4,"ngFor","ngForOf"],[1,"timeItem",3,"dwColor"],[1,"card"],[1,"date"],[1,"item"],["src","../../../../../../assets/img/remark_white.png","alt","remark",3,"title",4,"ngIf"],["src","../../../../../../assets/img/remark_gray.png","alt","remark",3,"title",4,"ngIf"],["src","../../../../../../assets/img/remark_white.png","alt","remark",3,"title"],["src","../../../../../../assets/img/remark_gray.png","alt","remark",3,"title"]],template:function(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"dw-content",0),o.\u0275\u0275elementStart(1,"div",1),o.\u0275\u0275elementStart(2,"a",2),o.\u0275\u0275listener("click",function(){return t.goBack()}),o.\u0275\u0275element(3,"img",3),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(4,"h2",4),o.\u0275\u0275elementStart(5,"span",5),o.\u0275\u0275text(6,"\u4ea7\u54c1\u5c65\u5386"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275element(7,"hr",6),o.\u0275\u0275elementStart(8,"div",7),o.\u0275\u0275elementStart(9,"form",8),o.\u0275\u0275elementStart(10,"div",9),o.\u0275\u0275elementStart(11,"div",10),o.\u0275\u0275text(12,"\u57fa\u672c\u4fe1\u606f"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(13,"div",11),o.\u0275\u0275elementStart(14,"dw-form-item"),o.\u0275\u0275elementStart(15,"dw-form-control",12),o.\u0275\u0275text(16),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(17,"dw-form-item"),o.\u0275\u0275elementStart(18,"dw-form-control",12),o.\u0275\u0275text(19),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(20,"dw-form-item"),o.\u0275\u0275elementStart(21,"dw-form-control",12),o.\u0275\u0275text(22," \u552e\u540e\u72b6\u6001:\xa0\xa0 "),o.\u0275\u0275template(23,ha,2,0,"span",13),o.\u0275\u0275template(24,ga,2,0,"span",14),o.\u0275\u0275template(25,va,2,0,"span",15),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(26,"dw-form-item"),o.\u0275\u0275elementStart(27,"dw-form-control",12),o.\u0275\u0275text(28),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(29,"dw-form-item"),o.\u0275\u0275elementStart(30,"dw-form-control",12),o.\u0275\u0275elementStart(31,"div",16),o.\u0275\u0275elementStart(32,"span"),o.\u0275\u0275text(33," \u89c4\u683c:\xa0\xa0 "),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(34,"span",17),o.\u0275\u0275text(35),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(36,"dw-form-item"),o.\u0275\u0275elementStart(37,"dw-form-control",12),o.\u0275\u0275text(38),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(39,"dw-form-item"),o.\u0275\u0275elementStart(40,"dw-form-control",12),o.\u0275\u0275text(41),o.\u0275\u0275template(42,Ca,7,7,"div",18),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(43,"dw-form-item"),o.\u0275\u0275elementStart(44,"dw-form-control",12),o.\u0275\u0275text(45),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(46,"dw-form-item"),o.\u0275\u0275elementStart(47,"dw-form-control",12),o.\u0275\u0275text(48),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(49,"dw-form-item"),o.\u0275\u0275elementStart(50,"dw-form-control",12),o.\u0275\u0275text(51),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(52,"dw-form-item"),o.\u0275\u0275elementStart(53,"dw-form-control",12),o.\u0275\u0275text(54),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(55,"dw-form-item"),o.\u0275\u0275elementStart(56,"dw-form-control",12),o.\u0275\u0275text(57),o.\u0275\u0275pipe(58,"date"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(59,"dw-form-item"),o.\u0275\u0275elementStart(60,"dw-form-control",12),o.\u0275\u0275template(61,ya,4,8,"div",19),o.\u0275\u0275template(62,xa,3,4,"div",19),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(63,"dw-form-item"),o.\u0275\u0275elementStart(64,"dw-form-control",12),o.\u0275\u0275text(65),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(66,"dw-form-item"),o.\u0275\u0275elementStart(67,"dw-form-control",12),o.\u0275\u0275text(68),o.\u0275\u0275pipe(69,"date"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(70,"dw-form-item"),o.\u0275\u0275elementStart(71,"dw-form-control",12),o.\u0275\u0275text(72),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(73,"dw-form-item"),o.\u0275\u0275elementStart(74,"dw-form-control",12),o.\u0275\u0275text(75),o.\u0275\u0275pipe(76,"date"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(77,"dw-form-item"),o.\u0275\u0275elementStart(78,"dw-form-control",12),o.\u0275\u0275text(79),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(80,"div",20),o.\u0275\u0275elementStart(81,"dw-tabset",21),o.\u0275\u0275listener("dwSelectChange",function(e){return t.onTabChange(e)}),o.\u0275\u0275elementStart(82,"dw-tab",22),o.\u0275\u0275elementStart(83,"dw-table",23,24),o.\u0275\u0275elementStart(85,"thead"),o.\u0275\u0275elementStart(86,"tr",25),o.\u0275\u0275elementStart(87,"th",26),o.\u0275\u0275elementStart(88,"span",27),o.\u0275\u0275text(89,"\u65e5\u671f"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(90,"th",26),o.\u0275\u0275elementStart(91,"span",27),o.\u0275\u0275text(92,"\u6545\u969c\u7f16\u53f7"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(93,"th",26),o.\u0275\u0275elementStart(94,"span",27),o.\u0275\u0275text(95,"\u6545\u969c\u540d\u79f0"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(96,"th",26),o.\u0275\u0275elementStart(97,"span",27),o.\u0275\u0275text(98,"\u5de5\u7a0b\u5e08"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(99,"th",26),o.\u0275\u0275elementStart(100,"span",27),o.\u0275\u0275text(101,"\u5904\u7406\u65b9\u6848"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(102,"tbody"),o.\u0275\u0275template(103,_a,12,8,"tr",28),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(104,"dw-tab",29),o.\u0275\u0275elementStart(105,"dw-table",23,30),o.\u0275\u0275elementStart(107,"thead"),o.\u0275\u0275elementStart(108,"tr",25),o.\u0275\u0275elementStart(109,"th",31),o.\u0275\u0275elementStart(110,"span",27),o.\u0275\u0275text(111,"\u65e5\u671f"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(112,"th",31),o.\u0275\u0275elementStart(113,"span",27),o.\u0275\u0275text(114,"\u539f\u96f6\u914d\u4ef6\u7f16\u53f7"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(115,"th",31),o.\u0275\u0275elementStart(116,"span",27),o.\u0275\u0275text(117,"\u539f\u96f6\u914d\u4ef6\u540d\u79f0"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(118,"th",31),o.\u0275\u0275elementStart(119,"span",27),o.\u0275\u0275text(120,"\u539f\u96f6\u914d\u4ef6\u89c4\u683c"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(121,"th",31),o.\u0275\u0275elementStart(122,"span",27),o.\u0275\u0275text(123,"\u539f\u96f6\u914d\u4ef6\u578b\u53f7"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(124,"th",32),o.\u0275\u0275elementStart(125,"span",27),o.\u0275\u0275text(126,"\u539f\u96f6\u914d\u4ef6\u5e8f\u5217\u53f7"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(127,"th",33),o.\u0275\u0275elementStart(128,"span",27),o.\u0275\u0275text(129,"\u539f\u96f6\u914d\u4ef6\u6570\u91cf"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(130,"th",31),o.\u0275\u0275elementStart(131,"span",27),o.\u0275\u0275text(132,"\u65b0\u96f6\u914d\u4ef6\u7f16\u53f7"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(133,"th",31),o.\u0275\u0275elementStart(134,"span",27),o.\u0275\u0275text(135,"\u65b0\u96f6\u914d\u4ef6\u540d\u79f0"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(136,"th",31),o.\u0275\u0275elementStart(137,"span",27),o.\u0275\u0275text(138,"\u65b0\u96f6\u914d\u4ef6\u89c4\u683c"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(139,"th",32),o.\u0275\u0275elementStart(140,"span",27),o.\u0275\u0275text(141,"\u65b0\u96f6\u914d\u4ef6\u5e8f\u5217\u53f7"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(142,"th",31),o.\u0275\u0275elementStart(143,"span",27),o.\u0275\u0275text(144,"\u5de5\u7a0b\u5e08"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(145,"th",33),o.\u0275\u0275elementStart(146,"span",27),o.\u0275\u0275text(147,"\u66f4\u6362\u6570\u91cf"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(148,"tbody"),o.\u0275\u0275template(149,Sa,28,16,"tr",28),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(150,"dw-tab",34),o.\u0275\u0275elementStart(151,"dw-table",23,35),o.\u0275\u0275elementStart(153,"thead"),o.\u0275\u0275elementStart(154,"tr",25),o.\u0275\u0275elementStart(155,"th",26),o.\u0275\u0275elementStart(156,"span",27),o.\u0275\u0275text(157,"\u65e5\u671f"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(158,"th",26),o.\u0275\u0275elementStart(159,"span",27),o.\u0275\u0275text(160,"\u670d\u52a1\u9879\u76ee"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(161,"th",26),o.\u0275\u0275elementStart(162,"span",27),o.\u0275\u0275text(163,"\u670d\u52a1\u7ed3\u679c"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(164,"th",26),o.\u0275\u0275elementStart(165,"span",27),o.\u0275\u0275text(166,"\u5de5\u7a0b\u5e08"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(167,"tbody"),o.\u0275\u0275template(168,ba,10,7,"tr",28),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(169,"dw-tab",36),o.\u0275\u0275elementStart(170,"dw-table",37,38),o.\u0275\u0275elementStart(172,"thead"),o.\u0275\u0275elementStart(173,"tr",25),o.\u0275\u0275elementStart(174,"th",32),o.\u0275\u0275elementStart(175,"span",27),o.\u0275\u0275text(176,"\u65e5\u671f"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(177,"th",32),o.\u0275\u0275elementStart(178,"span",27),o.\u0275\u0275text(179,"\u8fd4\u5382/\u53d1\u51fa"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(180,"th",32),o.\u0275\u0275elementStart(181,"span",27),o.\u0275\u0275text(182,"\u6536\u53d1\u4eba\u5458"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(183,"th",39),o.\u0275\u0275elementStart(184,"span",27),o.\u0275\u0275text(185,"\u5907\u6ce8"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(186,"tbody"),o.\u0275\u0275template(187,Ia,11,8,"tr",28),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275template(188,Ma,4,1,"dw-tab",40),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()),2&e){const e=o.\u0275\u0275reference(84),n=o.\u0275\u0275reference(106),i=o.\u0275\u0275reference(152),r=o.\u0275\u0275reference(171);o.\u0275\u0275advance(15),o.\u0275\u0275property("dwSm",17)("dwXs",24),o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" \u54c1\u53f7:\xa0\xa0",t.resumeInfo.product_file_code," "),o.\u0275\u0275advance(2),o.\u0275\u0275property("dwSm",17)("dwXs",24),o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" \u54c1\u540d:\xa0\xa0",t.resumeInfo.product_file_name," "),o.\u0275\u0275advance(2),o.\u0275\u0275property("dwSm",17)("dwXs",24),o.\u0275\u0275advance(2),o.\u0275\u0275property("ngIf","1"===t.resumeInfo.service_status),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf","2"===t.resumeInfo.service_status),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf","3"===t.resumeInfo.service_status),o.\u0275\u0275advance(2),o.\u0275\u0275property("dwSm",17)("dwXs",24),o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" \u4ea7\u54c1\u5206\u7c7b:\xa0\xa0",t.resumeInfo.item_group_name," "),o.\u0275\u0275advance(2),o.\u0275\u0275property("dwSm",17)("dwXs",24),o.\u0275\u0275advance(5),o.\u0275\u0275textInterpolate1(" ",t.resumeInfo.specification," "),o.\u0275\u0275advance(2),o.\u0275\u0275property("dwSm",17)("dwXs",24),o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" \u578b\u53f7:\xa0\xa0",t.resumeInfo.model," "),o.\u0275\u0275advance(2),o.\u0275\u0275property("dwSm",17)("dwXs",24),o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate2(" ","1"===t.resumeInfo.file_type?"\u5e8f\u5217\u53f7:":"\u9879\u76ee\u53f7:","\xa0\xa0",t.resumeInfo.sn," "),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",t.SNHistoryInfo),o.\u0275\u0275advance(2),o.\u0275\u0275property("dwSm",17)("dwXs",24),o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" \u670d\u52a1\u7ad9\u70b9:\xa0\xa0",t.resumeInfo.service_site_name," "),o.\u0275\u0275advance(2),o.\u0275\u0275property("dwSm",17)("dwXs",24),o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" \u4f7f\u7528\u5730\u70b9:\xa0\xa0",t.resumeInfo.location," "),o.\u0275\u0275advance(2),o.\u0275\u0275property("dwSm",17)("dwXs",24),o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" \u51fa\u5382\u5ba2\u6237:\xa0\xa0",t.resumeInfo.exfactory_customer_name," "),o.\u0275\u0275advance(2),o.\u0275\u0275property("dwSm",17)("dwXs",24),o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" \u5ba2\u6237:\xa0\xa0",t.resumeInfo.customer_name," "),o.\u0275\u0275advance(2),o.\u0275\u0275property("dwSm",17)("dwXs",24),o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" \u51fa\u5e93\u65e5\u671f:\xa0\xa0",o.\u0275\u0275pipeBind2(58,74,t.resumeInfo.delivery_date,"yyyy-MM-dd")," "),o.\u0275\u0275advance(3),o.\u0275\u0275property("dwSm",17)("dwXs",24),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",t.resumeInfo.installation_date&&t.resumeInfo.installation_date_end),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",!t.resumeInfo.installation_date_end),o.\u0275\u0275advance(2),o.\u0275\u0275property("dwSm",17)("dwXs",24),o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" \u8c03\u8bd5\u4eba\u5458:\xa0\xa0",t.resumeInfo.commissioning_person," "),o.\u0275\u0275advance(2),o.\u0275\u0275property("dwSm",17)("dwXs",24),o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" \u9a8c\u6536\u65e5\u671f:\xa0\xa0",o.\u0275\u0275pipeBind2(69,77,t.resumeInfo.acceptance_date,"yyyy-MM-dd")," "),o.\u0275\u0275advance(3),o.\u0275\u0275property("dwSm",17)("dwXs",24),o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" \u9a8c\u6536\u4eba\u5458:\xa0\xa0",t.resumeInfo.acceptance_person," "),o.\u0275\u0275advance(2),o.\u0275\u0275property("dwSm",17)("dwXs",24),o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" \u4fdd\u4fee\u622a\u6b62\u65e5\u671f:\xa0\xa0",o.\u0275\u0275pipeBind2(76,80,t.resumeInfo.expiry_date,"yyyy-MM-dd")," "),o.\u0275\u0275advance(3),o.\u0275\u0275property("dwSm",17)("dwXs",24),o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" \u5907\u6ce8:\xa0\xa0",t.resumeInfo.remark," "),o.\u0275\u0275advance(2),o.\u0275\u0275property("dwTabPosition","top")("dwType","line")("dwAnimated",!1),o.\u0275\u0275advance(2),o.\u0275\u0275property("dwData",t.breakdownList)("dwScroll",o.\u0275\u0275pureFunction0(83,Fa)),o.\u0275\u0275advance(20),o.\u0275\u0275property("ngForOf",e.data),o.\u0275\u0275advance(2),o.\u0275\u0275property("dwData",t.partList)("dwScroll",o.\u0275\u0275pureFunction0(84,Pa)),o.\u0275\u0275advance(44),o.\u0275\u0275property("ngForOf",n.data),o.\u0275\u0275advance(2),o.\u0275\u0275property("dwData",t.serviceList)("dwScroll",o.\u0275\u0275pureFunction0(85,ka)),o.\u0275\u0275advance(17),o.\u0275\u0275property("ngForOf",i.data),o.\u0275\u0275advance(2),o.\u0275\u0275property("dwData",t.machineList),o.\u0275\u0275advance(17),o.\u0275\u0275property("ngForOf",r.data),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",t.transferList.length)}},directives:[K.DwContentComponent,b.TranslateDirective,d.\u0275NgNoValidate,d.NgControlStatusGroup,d.NgForm,$.DwFormDirective,L.DwRowDirective,L.DwColDirective,$.DwFormItemComponent,$.DwFormControlComponent,i.NgIf,Ai.DwTabSetComponent,Ai.DwTabComponent,x.DwTableComponent,_.Ct,x.DwTheadComponent,x.DwTrDirective,x.DwTableCellDirective,x.DwThMeasureDirective,_.BL,x.DwTbodyComponent,i.NgForOf,x.DwCellAlignDirective,wa.DwTimelineComponent,wa.DwTimelineItemComponent],pipes:[i.DatePipe],styles:[".content-box[_ngcontent-%COMP%]{padding-top:0}.sa-form[_ngcontent-%COMP%]{height:100%;overflow-y:auto}.box[_ngcontent-%COMP%]{border-right:1px solid #e5e5e5;min-height:100%}.item-wrap[_ngcontent-%COMP%]{width:100%;padding-left:20px}.sub-title[_ngcontent-%COMP%]:first-of-type{margin-top:24px}.state_tip[_ngcontent-%COMP%]{display:inline-block;width:64px;height:26px;line-height:26px;text-align:center;border-radius:15px;color:#fff;font-size:13px;background:#29cc8d}.state_tip.zise[_ngcontent-%COMP%]{background:#5c64d1}.state_tip.gray[_ngcontent-%COMP%]{background:#5c5c5c}.record[_ngcontent-%COMP%]{padding:4px 12px}.record[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{color:#000000d9;font-size:14px;font-weight:bold;margin-bottom:8px}.record[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]{width:260px;background:#e6e6e6;padding:8px 8px 8px 16px}.record[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{color:#000000d9;font-size:14px;line-height:26px}.record[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#000000d9;font-weight:bold}.record[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{float:right;width:14px}.record[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .blue[_ngcontent-%COMP%]{background:#0d9def}.record[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .blue[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{color:#ffffffd9}.record[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .blue[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff}.record[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]{margin:20px 0}.timeItem-remark[_ngcontent-%COMP%]{display:inline-block;margin-left:8px;cursor:pointer;position:relative}.timeItem-remark[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:16px;height:16px;margin-top:-3px}.distribute-remark[_ngcontent-%COMP%]{display:none;position:absolute;top:28px;left:50%;transform:translate(-50%);padding:8px 14px;color:#fff;font-size:12px;z-index:4;white-space:nowrap;background:rgba(0,0,0,.75);border-radius:4px}.distribute-remark.word-wrap[_ngcontent-%COMP%]{width:210px;white-space:normal}.timeItem-remark[_ngcontent-%COMP%]:hover   .distribute-remark[_ngcontent-%COMP%]{display:block}"]}),e})();var Ra=n(32276);const Aa=["child"];function La(e,t){1&e&&(o.\u0275\u0275elementStart(0,"div",15),o.\u0275\u0275text(1,"\u5e8f\u5217\u53f7"),o.\u0275\u0275elementEnd())}function $a(e,t){1&e&&(o.\u0275\u0275elementStart(0,"div",15),o.\u0275\u0275text(1,"\u9879\u76ee\u53f7"),o.\u0275\u0275elementEnd())}function ja(e,t){1&e&&(o.\u0275\u0275elementStart(0,"div",15),o.\u0275\u0275text(1,"\u5e8f\u5217\u53f7/\u9879\u76ee\u53f7"),o.\u0275\u0275elementEnd())}function Na(e,t){if(1&e){const e=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"em",42),o.\u0275\u0275listener("click",function(){return o.\u0275\u0275restoreView(e),o.\u0275\u0275nextContext(2).clear()}),o.\u0275\u0275elementEnd()}}function za(e,t){if(1&e&&o.\u0275\u0275template(0,Na,1,0,"em",41),2&e){const e=o.\u0275\u0275nextContext();o.\u0275\u0275property("ngIf",e.searchForm.value.sn)}}function qa(e,t){1&e&&(o.\u0275\u0275elementStart(0,"th",43),o.\u0275\u0275elementStart(1,"span",44),o.\u0275\u0275text(2,"\u56de\u6536\u65e5\u671f"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd())}function Wa(e,t){1&e&&(o.\u0275\u0275elementStart(0,"th",45),o.\u0275\u0275elementStart(1,"span",44),o.\u0275\u0275text(2,"\u7f16\u7801"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd())}function Ba(e,t){1&e&&(o.\u0275\u0275elementStart(0,"th",46),o.\u0275\u0275elementStart(1,"span",44),o.\u0275\u0275text(2,"\u540d\u79f0"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd())}function Ua(e,t){1&e&&(o.\u0275\u0275elementStart(0,"span",44),o.\u0275\u0275text(1,"\u5e8f\u5217\u53f7"),o.\u0275\u0275elementEnd())}function Xa(e,t){1&e&&(o.\u0275\u0275elementStart(0,"span",44),o.\u0275\u0275text(1,"\u9879\u76ee\u53f7"),o.\u0275\u0275elementEnd())}function Ga(e,t){1&e&&(o.\u0275\u0275elementStart(0,"span",44),o.\u0275\u0275text(1,"\u5e8f\u5217\u53f7/\u9879\u76ee\u53f7"),o.\u0275\u0275elementEnd())}function Ha(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"th",47),o.\u0275\u0275template(1,Ua,2,0,"span",48),o.\u0275\u0275template(2,Xa,2,0,"span",48),o.\u0275\u0275template(3,Ga,2,0,"span",48),o.\u0275\u0275elementEnd()),2&e){const e=o.\u0275\u0275nextContext();o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf","1"===e.fileType),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf","2"===e.fileType),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf","0"===e.fileType)}}const Ka=function(e){return{display:e}};function Qa(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"th",49),o.\u0275\u0275elementStart(1,"span",44),o.\u0275\u0275text(2,"\u7c7b\u578b"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()),2&e){const e=o.\u0275\u0275nextContext();o.\u0275\u0275property("ngStyle",o.\u0275\u0275pureFunction1(1,Ka,"0"===e.fileType?"":"none"))}}function Za(e,t){1&e&&(o.\u0275\u0275elementStart(0,"th",50),o.\u0275\u0275elementStart(1,"span",44),o.\u0275\u0275text(2,"\u4ea7\u54c1\u5206\u7c7b"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd())}function Ja(e,t){1&e&&(o.\u0275\u0275elementStart(0,"th",51),o.\u0275\u0275elementStart(1,"span",44),o.\u0275\u0275text(2,"\u89c4\u683c"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd())}function Ya(e,t){1&e&&(o.\u0275\u0275elementStart(0,"th",52),o.\u0275\u0275elementStart(1,"span",44),o.\u0275\u0275text(2,"\u578b\u53f7"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd())}function ed(e,t){1&e&&(o.\u0275\u0275elementStart(0,"th",53),o.\u0275\u0275elementStart(1,"span",44),o.\u0275\u0275text(2,"\u4f7f\u7528\u5730\u70b9"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd())}function td(e,t){1&e&&(o.\u0275\u0275elementStart(0,"th",54),o.\u0275\u0275elementStart(1,"span",44),o.\u0275\u0275text(2,"\u51fa\u5e93\u65e5\u671f"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd())}function nd(e,t){1&e&&(o.\u0275\u0275elementStart(0,"th",55),o.\u0275\u0275elementStart(1,"span",44),o.\u0275\u0275text(2,"\u5b89\u88c5\u65e5\u671f"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd())}function id(e,t){1&e&&(o.\u0275\u0275elementStart(0,"th",54),o.\u0275\u0275elementStart(1,"span",44),o.\u0275\u0275text(2,"\u9a8c\u6536\u65e5\u671f"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd())}function rd(e,t){1&e&&(o.\u0275\u0275elementStart(0,"th",56),o.\u0275\u0275elementStart(1,"span",44),o.\u0275\u0275text(2,"\u4fdd\u4fee\u622a\u81f3\u65e5\u671f"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd())}function od(e,t){1&e&&(o.\u0275\u0275elementStart(0,"th",57),o.\u0275\u0275elementStart(1,"span",44),o.\u0275\u0275text(2,"\u63cf\u8ff0"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd())}function ad(e,t){1&e&&(o.\u0275\u0275elementStart(0,"th",58),o.\u0275\u0275elementStart(1,"span",44),o.\u0275\u0275text(2,"\u552e\u540e\u72b6\u6001"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()),2&e&&o.\u0275\u0275property("dwAlign","center")}function dd(e,t){1&e&&(o.\u0275\u0275elementStart(0,"th",58),o.\u0275\u0275elementStart(1,"span",44),o.\u0275\u0275text(2,"\u4ea7\u54c1\u5c65\u5386"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()),2&e&&o.\u0275\u0275property("dwAlign","center")}function ld(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"td",65),o.\u0275\u0275text(1),o.\u0275\u0275pipe(2,"date"),o.\u0275\u0275elementEnd()),2&e){const e=o.\u0275\u0275nextContext().$implicit;o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",o.\u0275\u0275pipeBind2(2,1,e.recycled_date,"yyyy-MM-dd HH:mm:ss")," ")}}function sd(e,t){if(1&e){const e=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"td",65),o.\u0275\u0275elementStart(1,"a",66),o.\u0275\u0275listener("click",function(){o.\u0275\u0275restoreView(e);const t=o.\u0275\u0275nextContext().$implicit;return o.\u0275\u0275nextContext().detail(t)}),o.\u0275\u0275text(2),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()}if(2&e){const e=o.\u0275\u0275nextContext().$implicit,t=o.\u0275\u0275nextContext();o.\u0275\u0275advance(1),o.\u0275\u0275propertyInterpolate("angularticsLabel",t.userInfo.tenantId+","+t.userInfo.userId),o.\u0275\u0275property("angularticsCategory","\u4ea7\u54c1\u6863\u6848"),o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate(e.product_file_code)}}function cd(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"td",65),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&e){const e=o.\u0275\u0275nextContext().$implicit;o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",e.product_file_name," ")}}function md(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"td",65),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&e){const e=o.\u0275\u0275nextContext().$implicit;o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",e.sn," ")}}function pd(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"td",67),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&e){const e=o.\u0275\u0275nextContext().$implicit,t=o.\u0275\u0275nextContext();o.\u0275\u0275property("ngStyle",o.\u0275\u0275pureFunction1(2,Ka,"0"===t.fileType?"":"none")),o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ","1"===e.file_type?"\u5355\u673a":"\u4ea7\u7ebf/\u9879\u76ee"," ")}}function ud(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"td",65),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&e){const e=o.\u0275\u0275nextContext().$implicit;o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",e.item_group_name," ")}}function fd(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"td",65),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&e){const e=o.\u0275\u0275nextContext().$implicit;o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",e.specification," ")}}function wd(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"td",65),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&e){const e=o.\u0275\u0275nextContext().$implicit;o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",e.model," ")}}function hd(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"td",65),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&e){const e=o.\u0275\u0275nextContext().$implicit;o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",e.location," ")}}function gd(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"td",65),o.\u0275\u0275text(1),o.\u0275\u0275pipe(2,"date"),o.\u0275\u0275elementEnd()),2&e){const e=o.\u0275\u0275nextContext().$implicit;o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",o.\u0275\u0275pipeBind2(2,1,e.delivery_date,"yyyy/MM/dd")," ")}}function vd(e,t){if(1&e&&(o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275text(1),o.\u0275\u0275pipe(2,"date"),o.\u0275\u0275pipe(3,"date"),o.\u0275\u0275elementContainerEnd()),2&e){const e=o.\u0275\u0275nextContext(2).$implicit;o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate2(" ",o.\u0275\u0275pipeBind2(2,2,e.installation_date,"yyyy/MM/dd"),"~",o.\u0275\u0275pipeBind2(3,5,e.installation_date_end,"yyyy/MM/dd")," ")}}function Cd(e,t){if(1&e&&(o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275text(1),o.\u0275\u0275pipe(2,"date"),o.\u0275\u0275elementContainerEnd()),2&e){const e=o.\u0275\u0275nextContext(2).$implicit;o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",o.\u0275\u0275pipeBind2(2,1,e.installation_date,"yyyy/MM/dd")," ")}}function yd(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"td",65),o.\u0275\u0275template(1,vd,4,8,"ng-container",68),o.\u0275\u0275template(2,Cd,3,4,"ng-container",68),o.\u0275\u0275elementEnd()),2&e){const e=o.\u0275\u0275nextContext().$implicit;o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",e.installation_date&&e.installation_date_end),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",!e.installation_date_end)}}function xd(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"td",65),o.\u0275\u0275text(1),o.\u0275\u0275pipe(2,"date"),o.\u0275\u0275elementEnd()),2&e){const e=o.\u0275\u0275nextContext().$implicit;o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",o.\u0275\u0275pipeBind2(2,1,e.acceptance_date,"yyyy/MM/dd")," ")}}function _d(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"td",65),o.\u0275\u0275text(1),o.\u0275\u0275pipe(2,"date"),o.\u0275\u0275elementEnd()),2&e){const e=o.\u0275\u0275nextContext().$implicit;o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",o.\u0275\u0275pipeBind2(2,1,e.expiry_date,"yyyy/MM/dd")," ")}}function Sd(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"td",69),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&e){const e=o.\u0275\u0275nextContext().$implicit;o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",e.product_description," ")}}function bd(e,t){1&e&&(o.\u0275\u0275elementStart(0,"span",74),o.\u0275\u0275text(1,"\u6b63\u5e38"),o.\u0275\u0275elementEnd())}function Ed(e,t){1&e&&(o.\u0275\u0275elementStart(0,"span",75),o.\u0275\u0275text(1,"\u62a5\u4fee\u4e2d"),o.\u0275\u0275elementEnd())}function Id(e,t){1&e&&(o.\u0275\u0275elementStart(0,"span",76),o.\u0275\u0275text(1,"\u5df2\u56de\u6536"),o.\u0275\u0275elementEnd())}function Dd(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"td",70),o.\u0275\u0275template(1,bd,2,0,"span",71),o.\u0275\u0275template(2,Ed,2,0,"span",72),o.\u0275\u0275template(3,Id,2,0,"span",73),o.\u0275\u0275elementEnd()),2&e){const e=o.\u0275\u0275nextContext().$implicit;o.\u0275\u0275property("dwAlign","center"),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf","1"===e.service_status),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf","2"===e.service_status),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf","3"===e.service_status)}}function Td(e,t){if(1&e){const e=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"td",77),o.\u0275\u0275elementStart(1,"a",78),o.\u0275\u0275listener("dwClick",function(){o.\u0275\u0275restoreView(e);const t=o.\u0275\u0275nextContext().$implicit;return o.\u0275\u0275nextContext().goProductResume(t)}),o.\u0275\u0275text(2," \u67e5\u770b "),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()}if(2&e){const e=o.\u0275\u0275nextContext(2);o.\u0275\u0275property("dwAlign","center"),o.\u0275\u0275advance(1),o.\u0275\u0275propertyInterpolate("angularticsLabel",e.userInfo.tenantId+","+e.userInfo.userId),o.\u0275\u0275property("dwActionId","resume")("dwDefaultAuthorized","disabled")("angularticsCategory","\u4ea7\u54c1\u6863\u6848")}}function Od(e,t){1&e&&(o.\u0275\u0275elementStart(0,"tr",59),o.\u0275\u0275template(1,ld,3,4,"td",60),o.\u0275\u0275template(2,sd,3,3,"td",60),o.\u0275\u0275template(3,cd,2,1,"td",60),o.\u0275\u0275template(4,md,2,1,"td",60),o.\u0275\u0275template(5,pd,2,4,"td",61),o.\u0275\u0275template(6,ud,2,1,"td",60),o.\u0275\u0275template(7,fd,2,1,"td",60),o.\u0275\u0275template(8,wd,2,1,"td",60),o.\u0275\u0275template(9,hd,2,1,"td",60),o.\u0275\u0275template(10,gd,3,4,"td",60),o.\u0275\u0275template(11,yd,3,2,"td",60),o.\u0275\u0275template(12,xd,3,4,"td",60),o.\u0275\u0275template(13,_d,3,4,"td",60),o.\u0275\u0275template(14,Sd,2,1,"td",62),o.\u0275\u0275template(15,Dd,4,4,"td",63),o.\u0275\u0275template(16,Td,3,5,"td",64),o.\u0275\u0275elementEnd()),2&e&&(o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","recycled_date"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","product_file_code"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","product_file_name"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","sn"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","file_type_name"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","item_group_name"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","specification"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","model"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","location"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","delivery_date"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","installation_date"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","acceptance_date"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","expiry_date"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","product_description"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","service_status"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","product_resume"))}function Md(e,t){if(1&e){const e=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"app-product-file-detail",79,80),o.\u0275\u0275listener("visibleChanged",function(t){return o.\u0275\u0275restoreView(e),o.\u0275\u0275nextContext().changeRecycleVisible(t)}),o.\u0275\u0275elementEnd()}}function Fd(e,t){if(1&e){const e=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"div",81),o.\u0275\u0275text(1," \u4ea7\u54c1\u6863\u6848 "),o.\u0275\u0275elementStart(2,"img",82),o.\u0275\u0275listener("click",function(){return o.\u0275\u0275restoreView(e),o.\u0275\u0275nextContext().child.showQrcode()}),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()}}function Pd(e,t){if(1&e&&o.\u0275\u0275text(0),2&e){const e=o.\u0275\u0275nextContext();o.\u0275\u0275textInterpolate1("\u5171 ",e.dataList.length," \u6761")}}const kd=function(){return{x:"2000px",y:"calc(100vh - 171px - 130px)"}},Vd=function(){return{overflow:"auto"}};let Rd=(()=>{class e{constructor(t,n,i,r,o,a,d,l,s){if(this.commonHttpService=t,this.router=n,this.activeRoute=i,this.productFileSrv=r,this.message=o,this.modalService=a,this.analytics=d,this.userService=l,this.fb=s,this.DW_IN_MFA=C.ns,this.search={pageIndex:1,pageSize:10},this.dataList=[],this.displayData=[],this.indeterminate=!1,this.isCollapsed=!1,this.param="",this.fileType="0",this.isIntegrated=!1,this.userInfo={tenantId:"",userId:""},e.useKeeper&&e.keeper)return e.keeper}ngOnInit(){this.subscription=this.router.events.subscribe(t=>{if(t instanceof r.NavigationStart){const n=this.router.parseUrl(this.router.url).root.children[r.PRIMARY_OUTLET].segments,i=this.router.parseUrl(t.url).root.children[r.PRIMARY_OUTLET].segments,o=n[n.length-1].path,a=i[i.length-1].path;"recycled-list"===o&&"product-resume"===a||"product-resume"===o&&"recycled-list"===a?(e.useKeeper=!0,e.keeper=this):(e.useKeeper=!1,e.keeper=this)}}),this.userInfo=this.userService.getUserInfo(),this.commonHttpService.get("restful/service/serviceOrder/ServiceOrder/IsShowTypeOption").subscribe(e=>{this.fileType=e.data},e=>{e.hasOwnProperty("error")&&e.error.hasOwnProperty("errorMessage")&&e.error.errorMessage&&this.message.error(e.error.errorMessage)}),(!e.useKeeper||!e.keeper)&&this.init()}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}init(){this.searchForm=this.fb.group({}),this.searchForm.addControl("date_range",new d.FormControl("")),this.searchForm.addControl("sn",new d.FormControl("")),this.loadData()}loadData(){this.search={pageIndex:1,pageSize:10},this.productFileSrv.getRecycledList(this.searchForm.value).subscribe(e=>{this.dataList=e||[],this.dataList.filter(e=>"1"===e.file_type)})}changeRecycleVisible(e){this.isCollapsed=!1,e&&this.loadData()}clear(){this.searchForm.get("sn").setValue("")}goProductResume(e){this.router.navigateByUrl(`${this.DW_IN_MFA?"/assc_crs":""}/bases/product-file/product-resume?id=${e.product_file_id}&fromPage=2`)}detail(e){this.isCollapsed=!0,setTimeout(()=>{this.child.initData(e.product_file_id,e.file_type)})}goBack(){console.log("goback",this.activeRoute),this.router.navigateByUrl((this.DW_IN_MFA?"/assc_crs":"")+"/bases/product-file")}order(e){const t=e.key,n=e.value;if("maintenance_count"===t)switch(n){case"ascend":const e=[...this.dataList].sort((e,t)=>e.maintenance_count<t.maintenance_count?1:-1);this.dataList=e;break;case"descend":const t=[...this.dataList].sort((e,t)=>e.maintenance_count>=t.maintenance_count?1:-1);this.dataList=t}else switch(n){case"ascend":this.dataList=m.l.order(this.dataList,[t]);break;case"descend":this.dataList=m.l.order(this.dataList,[t,-1])}}onOpenRange(e){console.log(e),e&&this.analytics.eventTrack.next({action:"\u67e5\u8be2\u6761\u4ef6-\u70b9\u51fb\u9009\u62e9\u56de\u6536\u65e5\u671f",properties:{category:"\u4ea7\u54c1\u6863\u6848",label:this.userInfo.tenantId+","+this.userInfo.userId,value:0}})}}return e.\u0275fac=function(t){return new(t||e)(o.\u0275\u0275directiveInject(g.$),o.\u0275\u0275directiveInject(r.Router),o.\u0275\u0275directiveInject(r.ActivatedRoute),o.\u0275\u0275directiveInject(l.U),o.\u0275\u0275directiveInject(s.DwMessageService),o.\u0275\u0275directiveInject(c.DwModalService),o.\u0275\u0275directiveInject(u.DwAnalytics),o.\u0275\u0275directiveInject(f.DwUserService),o.\u0275\u0275directiveInject(d.FormBuilder))},e.\u0275cmp=o.\u0275\u0275defineComponent({type:e,selectors:[["app-recycled-list"]],viewQuery:function(e,t){if(1&e&&o.\u0275\u0275viewQuery(Aa,5),2&e){let e;o.\u0275\u0275queryRefresh(e=o.\u0275\u0275loadQuery())&&(t.child=e.first)}},features:[o.\u0275\u0275ProvidersFeature([w.N])],decls:59,vars:40,consts:[[1,"dw-f-content-list","layoutClass","sales_layout"],[1,"issue_layout_head"],["translate","",2,"float","left","margin-right","6px","margin-left","-5px",3,"click"],["src","../../../../../../assets/img/arrow-left.svg","alt","\u8fd4\u56de"],[1,"issue_layout_title"],["color","#e5e5e5"],[1,"dw-f-table","content-box"],[1,"sales_issue_form","sales_form","sales_shadow",3,"formGroup"],["dw-row","",1,"search-form-box"],[1,"search-input"],["class","label",4,"ngIf"],[1,"form-input"],[3,"dwSuffix"],["type","text","dw-input","","formControlName","sn",2,"width","100%"],["SNSeachData",""],[1,"label"],["formControlName","date_range",2,"width","100%",3,"dwOnOpenChange"],["dw-button","","dwActionAuthorized","","angularticsAction","\u67e5\u8be2\u6761\u4ef6-\u70b9\u51fb\u67e5\u8be2\u6309\u94ae","dw-analyticsOn","click",3,"dwType","dwActionId","angularticsCategory","angularticsLabel","dwClick"],["dwTableId","crs-product-file-recycled-list","dwShowSizeChanger","",3,"dwData","dwPageIndex","dwPageSize","dwScroll","dwShowTotal","dwPageIndexChange","dwPageSizeChange"],["dwTable",""],[3,"dwSortOrderChange"],["dw-tr","","dwDropColumns",""],["dw-th","","dwShowSort","","dwColumnKey","recycled_date","dwWidth","160px","dwDragDrop","",4,"dwColumnId"],["dw-th","","dwShowSort","","dwColumnKey","product_file_code","dwWidth","144px","dwDragDrop","",4,"dwColumnId"],["dw-th","","dwShowSort","","dwColumnKey","product_file_name","dwWidth","160px","dwDragDrop","",4,"dwColumnId"],["dw-th","","dwWidth","144px","dwDragDrop","",4,"dwColumnId"],["dw-th","","dwDragDrop","","dwWidth","120px",3,"ngStyle",4,"dwColumnId"],["dw-th","","dwShowSort","","dwColumnKey","item_group_name","dwWidth","120px","dwDragDrop","",4,"dwColumnId"],["dw-th","","dwDragDrop","","dwWidth","160px",4,"dwColumnId"],["dw-th","","dwDragDrop","","dwWidth","120px",4,"dwColumnId"],["dw-th","","dwDragDrop","","dwWidth","136px",4,"dwColumnId"],["dw-th","","dwDragDrop","","dwWidth","112px",4,"dwColumnId"],["dw-th","","dwWidth","210px","dwDragDrop","","dwWidth","112px",4,"dwColumnId"],["dw-th","","dwWidth","120px","dwDragDrop","",4,"dwColumnId"],["dw-th","","dwDragDrop","","dwWidth","140px",4,"dwColumnId"],["dw-th","","dwRight","","dwWidth","96px",3,"dwAlign",4,"dwColumnId"],["dwReorderColumns","",4,"ngFor","ngForOf"],[3,"dwVisible","dwTitle","dwWidth","dwBodyStyle","dwOnClose"],["dwDrawerContent",""],["detailTitle",""],["totalTemplate",""],["dw-icon","","class","ant-input-clear-icon","dwTheme","fill","dwType","close-circle",3,"click",4,"ngIf"],["dw-icon","","dwTheme","fill","dwType","close-circle",1,"ant-input-clear-icon",3,"click"],["dw-th","","dwShowSort","","dwColumnKey","recycled_date","dwWidth","160px","dwDragDrop",""],["translate",""],["dw-th","","dwShowSort","","dwColumnKey","product_file_code","dwWidth","144px","dwDragDrop",""],["dw-th","","dwShowSort","","dwColumnKey","product_file_name","dwWidth","160px","dwDragDrop",""],["dw-th","","dwWidth","144px","dwDragDrop",""],["translate","",4,"ngIf"],["dw-th","","dwDragDrop","","dwWidth","120px",3,"ngStyle"],["dw-th","","dwShowSort","","dwColumnKey","item_group_name","dwWidth","120px","dwDragDrop",""],["dw-th","","dwDragDrop","","dwWidth","160px"],["dw-th","","dwDragDrop","","dwWidth","120px"],["dw-th","","dwDragDrop","","dwWidth","136px"],["dw-th","","dwDragDrop","","dwWidth","112px"],["dw-th","","dwWidth","210px","dwDragDrop","","dwWidth","112px"],["dw-th","","dwWidth","120px","dwDragDrop",""],["dw-th","","dwDragDrop","","dwWidth","140px"],["dw-th","","dwRight","","dwWidth","96px",3,"dwAlign"],["dwReorderColumns",""],["dwEllipsis","",4,"dwColumnId"],["dwEllipsis","",3,"ngStyle",4,"dwColumnId"],["style","min-width: 72px;max-width: 240px;","dwEllipsis","",4,"dwColumnId"],["dwRight","",3,"dwAlign",4,"dwColumnId"],["dwRight","","dwEllipsis","",3,"dwAlign",4,"dwColumnId"],["dwEllipsis",""],["dw-analyticsOn","click","id","product-file-detail","angularticsAction","\u8be6\u60c5-\u70b9\u51fb\u67e5\u770b\u8be6\u60c5",3,"angularticsCategory","angularticsLabel","click"],["dwEllipsis","",3,"ngStyle"],[4,"ngIf"],["dwEllipsis","",2,"min-width","72px","max-width","240px"],["dwRight","",3,"dwAlign"],["class","state_tip",4,"ngIf"],["class","state_tip zise",4,"ngIf"],["class","state_tip gray",4,"ngIf"],[1,"state_tip"],[1,"state_tip","zise"],[1,"state_tip","gray"],["dwRight","","dwEllipsis","",3,"dwAlign"],["dwActionAuthorized","","translate","","id","product-resume","dw-analyticsOn","click","angularticsAction","\u5c65\u5386-\u70b9\u51fb\u67e5\u770b\u5c65\u5386",3,"dwActionId","dwDefaultAuthorized","angularticsCategory","angularticsLabel","dwClick"],[3,"visibleChanged"],["child",""],[1,"detail-title"],["src","../../../../../../assets/img/qrcode.png","alt","\u4e8c\u7ef4\u7801",1,"qrcode",3,"click"]],template:function(e,t){if(1&e&&(o.\u0275\u0275elementStart(0,"dw-content",0),o.\u0275\u0275elementStart(1,"div",1),o.\u0275\u0275elementStart(2,"a",2),o.\u0275\u0275listener("click",function(){return t.goBack()}),o.\u0275\u0275element(3,"img",3),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(4,"h2",4),o.\u0275\u0275elementStart(5,"span"),o.\u0275\u0275text(6,"\u5df2\u56de\u6536\u4ea7\u54c1"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275element(7,"hr",5),o.\u0275\u0275elementStart(8,"div",6),o.\u0275\u0275elementStart(9,"form",7),o.\u0275\u0275elementStart(10,"div",8),o.\u0275\u0275elementStart(11,"div",9),o.\u0275\u0275template(12,La,2,0,"div",10),o.\u0275\u0275template(13,$a,2,0,"div",10),o.\u0275\u0275template(14,ja,2,0,"div",10),o.\u0275\u0275elementStart(15,"dw-form-item",11),o.\u0275\u0275elementStart(16,"dw-form-control"),o.\u0275\u0275elementStart(17,"dw-input-group",12),o.\u0275\u0275element(18,"input",13),o.\u0275\u0275elementEnd(),o.\u0275\u0275template(19,za,1,1,"ng-template",null,14,o.\u0275\u0275templateRefExtractor),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(21,"div",9),o.\u0275\u0275elementStart(22,"div",15),o.\u0275\u0275text(23,"\u56de\u6536\u65e5\u671f"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(24,"dw-form-item",11),o.\u0275\u0275elementStart(25,"dw-form-control"),o.\u0275\u0275elementStart(26,"dw-range-picker",16),o.\u0275\u0275listener("dwOnOpenChange",function(e){return t.onOpenRange(e)}),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(27,"div",9),o.\u0275\u0275elementStart(28,"button",17),o.\u0275\u0275listener("dwClick",function(){return t.loadData()}),o.\u0275\u0275text(29),o.\u0275\u0275pipe(30,"translate"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(31,"dw-table",18,19),o.\u0275\u0275listener("dwPageIndexChange",function(e){return t.search.pageIndex=e})("dwPageSizeChange",function(e){return t.search.pageSize=e}),o.\u0275\u0275elementStart(33,"thead",20),o.\u0275\u0275listener("dwSortOrderChange",function(e){return t.order(e)}),o.\u0275\u0275elementStart(34,"tr",21),o.\u0275\u0275template(35,qa,3,0,"th",22),o.\u0275\u0275template(36,Wa,3,0,"th",23),o.\u0275\u0275template(37,Ba,3,0,"th",24),o.\u0275\u0275template(38,Ha,4,3,"th",25),o.\u0275\u0275template(39,Qa,3,3,"th",26),o.\u0275\u0275template(40,Za,3,0,"th",27),o.\u0275\u0275template(41,Ja,3,0,"th",28),o.\u0275\u0275template(42,Ya,3,0,"th",29),o.\u0275\u0275template(43,ed,3,0,"th",30),o.\u0275\u0275template(44,td,3,0,"th",31),o.\u0275\u0275template(45,nd,3,0,"th",32),o.\u0275\u0275template(46,id,3,0,"th",31),o.\u0275\u0275template(47,rd,3,0,"th",33),o.\u0275\u0275template(48,od,3,0,"th",34),o.\u0275\u0275template(49,ad,3,1,"th",35),o.\u0275\u0275template(50,dd,3,1,"th",35),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(51,"tbody"),o.\u0275\u0275template(52,Od,17,16,"tr",36),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(53,"dw-drawer",37),o.\u0275\u0275listener("dwOnClose",function(){return t.isCollapsed=!1}),o.\u0275\u0275template(54,Md,2,0,"ng-template",38),o.\u0275\u0275elementEnd(),o.\u0275\u0275template(55,Fd,3,0,"ng-template",null,39,o.\u0275\u0275templateRefExtractor),o.\u0275\u0275template(57,Pd,1,1,"ng-template",null,40,o.\u0275\u0275templateRefExtractor)),2&e){const e=o.\u0275\u0275reference(20),n=o.\u0275\u0275reference(32),i=o.\u0275\u0275reference(56),r=o.\u0275\u0275reference(58);o.\u0275\u0275advance(9),o.\u0275\u0275property("formGroup",t.searchForm),o.\u0275\u0275advance(3),o.\u0275\u0275property("ngIf","1"===t.fileType),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf","2"===t.fileType),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf","0"===t.fileType),o.\u0275\u0275advance(3),o.\u0275\u0275property("dwSuffix",e),o.\u0275\u0275advance(11),o.\u0275\u0275propertyInterpolate("angularticsLabel",t.userInfo.tenantId+","+t.userInfo.userId),o.\u0275\u0275property("dwType","primary")("dwActionId","query")("angularticsCategory","\u4ea7\u54c1\u6863\u6848"),o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",o.\u0275\u0275pipeBind1(30,36,"\u67e5\u8be2")," "),o.\u0275\u0275advance(2),o.\u0275\u0275property("dwData",t.dataList)("dwPageIndex",t.search.pageIndex)("dwPageSize",t.search.pageSize)("dwScroll",o.\u0275\u0275pureFunction0(38,kd))("dwShowTotal",r),o.\u0275\u0275advance(4),o.\u0275\u0275property("dwColumnId","recycled_date"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","product_file_code"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","product_file_name"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","sn"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","file_type_name"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","item_group_name"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","specification"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","model"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","location"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","delivery_date"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","installation_date"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","acceptance_date"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","expiry_date"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","product_description"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","service_status"),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwColumnId","product_resume"),o.\u0275\u0275advance(2),o.\u0275\u0275property("ngForOf",n.data),o.\u0275\u0275advance(1),o.\u0275\u0275property("dwVisible",t.isCollapsed)("dwTitle",i)("dwWidth","80%")("dwBodyStyle",o.\u0275\u0275pureFunction0(39,Vd))}},directives:[K.DwContentComponent,b.TranslateDirective,d.\u0275NgNoValidate,d.NgControlStatusGroup,d.FormGroupDirective,L.DwRowDirective,i.NgIf,$.DwFormItemComponent,L.DwColDirective,$.DwFormControlComponent,Q.u,z.DwInputGroupComponent,z.DwInputGroupWhitSuffixOrPrefixDirective,z.DwInputDirective,d.DefaultValueAccessor,d.NgControlStatus,d.FormControlName,B.DwDatePickerComponent,B.DwRangePickerComponent,N.DwButtonComponent,Z.uG,J.DwActionAuthorizedDirective,u.DwAnalyticsOn,x.DwTableComponent,_.Ct,x.DwTheadComponent,x.DwTrDirective,_.Y9,_.b,x.DwTbodyComponent,i.NgForOf,xe.DwDrawerComponent,xe.DwDrawerContentDirective,q.DwIconDirective,x.DwTableCellDirective,x.DwThMeasureDirective,_.BL,x.DwThAddOnComponent,_.$2,i.NgStyle,x.DwCellFixedDirective,x.DwCellAlignDirective,_.at,x.DwCellEllipsisDirective,v.w],pipes:[b.TranslatePipe,i.DatePipe],styles:[".state_tip[_ngcontent-%COMP%]{display:inline-block;width:64px;height:28px;line-height:28px;text-align:center;border-radius:15px;color:#fff;font-size:13px;background:#29cc8d}.state_tip.zise[_ngcontent-%COMP%]{background:#5c64d1}.state_tip.gray[_ngcontent-%COMP%]{background:#5c5c5c}"]}),e})();var Ad=n(51033);const Ld=[{path:"",pathMatch:"prefix",canActivate:[Ra.DwAuthGuardService,Ad.L],component:a,children:[{path:"",component:Vn,canActivate:[Ra.DwAuthGuardService,Ad.L],data:{dwRouteData:{programId:"product-file",dwAuthId:"product-file"},reload:!0}},{path:"product-file-modify/:id",component:fa,canActivate:[Ra.DwAuthGuardService,Ad.L],data:{dwRouteData:{programId:"product-file",dwAuthId:"product-file"},reload:!0}},{path:"product-file-create",component:fa,canActivate:[Ra.DwAuthGuardService,Ad.L],data:{dwRouteData:{programId:"product-file",dwAuthId:"product-file"},reload:!0}},{path:"product-part-modify",component:Hn,canActivate:[Ra.DwAuthGuardService,Ad.L],data:{dwRouteData:{programId:"product-file",dwAuthId:"product-file"},reload:!0}},{path:"product-resume",component:Va,canActivate:[Ra.DwAuthGuardService,Ad.L],data:{dwRouteData:{programId:"product-file",dwAuthId:"product-file"},reload:!0}},{path:"recycled-list",component:Rd,canActivate:[Ra.DwAuthGuardService,Ad.L],data:{dwRouteData:{programId:"product-file",dwAuthId:"product-file"},reload:!0}}]}];let $d=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=o.\u0275\u0275defineInjector({imports:[[r.RouterModule.forChild(Ld)],r.RouterModule]}),e})();var jd=n(23938);let Nd=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=o.\u0275\u0275defineInjector({providers:[{provide:"DocumentResource",useValue:"restful/service/productFile/productFile/ProductFile"},G,{provide:_.hb,useExisting:G},Wn],imports:[[i.CommonModule,jd.m,$d,An.DwDocumentModule,Li.DwExtraFieldsModule,s.DwMessageModule,c.DwModalModule,N.DwButtonModule,K.DwLayoutModule,B.DwDatePickerModule,xe.DwDrawerModule,$.DwFormModule,z.DwInputModule,Qn.DwInputNumberModule,_e.DwRadioModule,j.DwSelectModule,x.DwTableModule,L.DwGridModule,q.DwIconModule,Se.DwPopconfirmModule,S.DwCheckboxModule,J.DwActionModule,d.ReactiveFormsModule,b.TranslateModule,Ri.DwDividerModule,Ai.DwTabsModule,Zn.DwUploadModule,wa.DwTimelineModule,_.f1,Jn.DwToolTipModule]]}),e})()},9201:function(e,t,n){n.d(t,{N:function(){return d}});var i=n(51156),r=n(53524),o=n(9682),a=n(42746);let d=(()=>{class e{constructor(e,t){this.selectModalService=e,this.dwHttp=t}setConfig(e,t){this.config={modalTitle:"\u9009\u62e9\u65b0\u5ba2\u6237",modalWidth:"50%",tableMultiSelect:t,tableIdField:"customer_id",tableNameField:"customer_name",returnFields:["customer_id","customer_code","customer_name"],tablePageSize:10,tableColDefs:[{title:"\u5ba2\u6237\u7f16\u53f7",field:"customer_code",width:""},{title:"\u5ba2\u6237\u540d\u79f0",field:"customer_name",width:""}],tableCustomTag:e=>"("+e.customer_code+")"+e.customer_name,dataSource:new o.ApiServerPagingService(this.dwHttp,"restful/service/customer/Customer/List","customer",["customer_code","customer_name"]),initParams:this.getQueryCondition(e)}}open(e){return this.selectModalService.open(this.config,e)}getQueryCondition(e){const t=new r.DwQueryCondition;return t.addCondition(new r.DwQueryConditionInfo("customer_id",e,r.DwQueryConditionOperator.NOTEQUALS)),t}}return e.\u0275fac=function(t){return new(t||e)(a.\u0275\u0275inject(o.DwSelectModalService),a.\u0275\u0275inject(i.DwDapHttpClient))},e.\u0275prov=a.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac}),e})()},33795:function(e,t,n){n.d(t,{U:function(){return c}});var i=n(51156),r=n(66800),o=n(65134),a=n(47372),d=n(99487),l=n(55245),s=n(42746);let c=(()=>{class e{constructor(e,t,n,i){this.http=e,this.pctHttp=t,this.userService=n,this.datePipe=i}getProductFileList(e,t,n){""!==e.date_range&&e.date_range.length&&""!==e.date_range[0]?(e.date_range[0]=this.datePipe.transform(e.date_range[0],"yyyy-MM-dd"),e.date_range[1]=this.datePipe.transform(e.date_range[1],"yyyy-MM-dd")):e.date_range=["",""],e.next_maintain_date=e.next_maintain_date?this.datePipe.transform(e.next_maintain_date,"yyyy-MM-dd"):"";const i=encodeURIComponent(JSON.stringify({customerIds:e.customer_id,beginDate:e.date_range[0],endDate:e.date_range[1],nextMaintainDate:e.next_maintain_date,serviceStatus:e.serviceStatus,checkExpiryDate:e.checkExpiryDate,fileType:e.file_type,dataSource:n,paramLike:t,SN:e.SN}));return this.http.get(`restful/service/productFile/ProductFile/ProductFile?params=${i}`).pipe((0,a.map)(e=>e))}getProductFileDetail(e,t){const n=encodeURIComponent(JSON.stringify([{id:e,fileType:t}]));return this.http.get(`restful/service/productFile/productFile/ProductFile?oids=${n}`).pipe((0,a.map)(e=>e))}getProductFileResume(e){return this.http.get(`restful/service/productFile/ProductFile/ProductFileResume?product_file_id=${e}`).pipe((0,a.map)(e=>e))}getSNChangeHistory(e){return this.http.get(`restful/service/productFile/ProductFile/SNChangeHistory?product_file_id=${e}`)}getItemGroupList(e,t,n){return this.http.get(`restful/service/itemGroup/ItemGroup/ItemGroup?code=${e}&name=${t}&type=${n}`).pipe((0,a.map)(e=>e))}getFileById(e){return this.http.get(`restful/service/employee/Employee/File?file_id=${e}`).pipe((0,a.map)(e=>e))}createProductFile(e){return console.log(e),this.http.post("restful/service/productFile/ProductFile/ProductFile",{params:e})}modifyProductFile(e,t){const n=this.createDwDataSet(e,t,"U");return this.http.put("restful/service/productFile/ProductFile/ProductFile",n)}deleteProductFile(e){return this.http.delete("restful/service/productFile/ProductFile/BathRemove",{body:{ids:e.join(",")}})}getUserSite(){return this.pctHttp.get("restful/service/warehouse/Warehouse/UserSite")}getProductInfo(e){return this.http.get("restful/service/productFile/ProductFile/TransferInitialInfoByFileId?productFileId="+e)}transfer(e){const t={};return Object.assign(t,e),t.$state="C",this.http.post("restful/service/productFile/ProductFile/ProductTransfer",{dataset:{product_transfer:t}})}getProductTransfersByFileId(e){return this.http.get(`restful/service/productFile/ProductFile/ProductTransfersByFileId?productFileId=${e}`).pipe((0,a.map)(e=>e))}recycle(e){return this.http.post("restful/service/productFile/ProductFile/ProductRecycled",{param:e})}createDwDataSet(e,t,n){const i={};return Object.assign(i,e),i.$state=n,i.product_file_id=t,{dataSet:{product_file:i}}}getQuery(e){return this.http.get(`restful/service/productFile/ProductFile/ProductFileSearch?param=${e}`).pipe((0,a.map)(e=>e))}getRecycledList(e){return""!==e.date_range&&e.date_range.length&&""!==e.date_range[0]?(e.date_range[0]=this.datePipe.transform(e.date_range[0],"yyyy-MM-dd"),e.date_range[1]=this.datePipe.transform(e.date_range[1],"yyyy-MM-dd")):e.date_range=["",""],this.http.get(`restful/service/productFile/ProductFile/ProductRecycledList?sn=${e.sn}&beginDate=${e.date_range[0]}&endDate=${e.date_range[1]}`).pipe((0,a.map)(e=>e))}saveAttachments(e){return this.http.post("restful/service/productFile/ProductFile/Attachments",e,{})}download(e){return this.http.get("restful/service/productFile/ProductFile/downloadFile",{params:e=e||{},headers:this.getHeader(),observe:"events",responseType:"blob",reportProgress:!0})}getProductFileHasCustomizeField(e){return this.http.get("restful/service/productFile/ProductFile/ProductFileHasCustomizeField?tableName="+e)}getHeader(){return new d.HttpHeaders({token:this.userService.getUser("token")})}export(e,t,n){""!==e.date_range&&e.date_range.length&&""!==e.date_range[0]?(e.date_range[0]=this.datePipe.transform(e.date_range[0],"yyyy-MM-dd"),e.date_range[1]=this.datePipe.transform(e.date_range[1],"yyyy-MM-dd")):e.date_range=["",""],e.next_maintain_date=e.next_maintain_date?this.datePipe.transform(e.next_maintain_date,"yyyy-MM-dd"):"";const i=encodeURIComponent(JSON.stringify({customerIds:e.customer_id,beginDate:e.date_range[0],endDate:e.date_range[1],nextMaintainDate:e.next_maintain_date,serviceStatus:e.serviceStatus,checkExpiryDate:e.checkExpiryDate,fileType:e.file_type,dataSource:n,paramLike:t,SN:e.SN}));return this.http.get(`restful/service/productFile/ProductFile/ProductFileExcel?params=${i}`,{headers:this.getHeader(),observe:"events",responseType:"blob",reportProgress:!0})}}return e.\u0275fac=function(t){return new(t||e)(s.\u0275\u0275inject(i.DwDapHttpClient),s.\u0275\u0275inject(o.k),s.\u0275\u0275inject(r.DwUserService),s.\u0275\u0275inject(l.DatePipe))},e.\u0275prov=s.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},39288:function(e,t,n){n.d(t,{R:function(){return m}});var i=n(42746),r=n(45890),o=n(83237),a=n(51156),d=n(9682),l=n(47372);class s extends d.DwClientPagingDataSource{constructor(e,t){super(),this.dwHttp=e,this.url=t}getDataList(e,t){return this.dwHttp.get(this.url).pipe((0,l.map)(n=>{const i=n.data||n;return this._result={currentPage:e,datas:Object.assign([],i),pageCount:Math.ceil(i.length/t),pageSize:t,rowCount:i.length},this._result}))}}let c=(()=>{class e{constructor(e,t){this.dwHttp=e,this.selectModalService=t}setConfig(e){this.config={modalTitle:e.modalTitle,modalWidth:e.modalWidth,tableMultiSelect:e.multiSelect,tableIdField:e.tableIdField,tableNameField:e.tableNameField,returnFields:e.returnFields,tablePageSize:e.tablePageSize,tableColDefs:e.tableColDefs,tableCustomTag:e.tableCustomTag,dataSource:new s(e.dwHttp,e.dataSourceUrl)}}open(e){return this.selectModalService.open(this.config,e)}}return e.\u0275fac=function(t){return new(t||e)(i.\u0275\u0275inject(a.DwDapHttpClient),i.\u0275\u0275inject(d.DwSelectModalService))},e.\u0275prov=i.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),m=(()=>{class e{constructor(e,t,n){this.commonHttpService=e,this.message=t,this.openerService=n,this.selectedChanged=new i.EventEmitter}initData(e){this.openerService.setConfig(e),this.openerService.open([]).subscribe(e=>{null==e||0===e.length||this.selectedChanged.emit(e)})}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)(i.\u0275\u0275directiveInject(r.$),i.\u0275\u0275directiveInject(o.DwMessageService),i.\u0275\u0275directiveInject(c))},e.\u0275cmp=i.\u0275\u0275defineComponent({type:e,selectors:[["app-opener-frontend"]],outputs:{selectedChanged:"selectedChanged"},decls:0,vars:0,template:function(e,t){},styles:[""]}),e})()},45890:function(e,t,n){n.d(t,{$:function(){return a}});var i=n(51156),r=n(99487),o=n(42746);let a=(()=>{class e{constructor(e){this.dwDapHttpClient=e}get(e,t){const n=new r.HttpParams({fromObject:t});return this.dwDapHttpClient.get(e,{params:n})}post(e,t){return this.dwDapHttpClient.post(e,t)}put(e,t){return this.dwDapHttpClient.put(e,t)}delete(e,t){return this.dwDapHttpClient.request("DELETE",e,{body:t})}}return e.\u0275fac=function(t){return new(t||e)(o.\u0275\u0275inject(i.DwDapHttpClient))},e.\u0275prov=o.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},51033:function(e,t,n){n.d(t,{L:function(){return c}}),n(87974);var i=n(32276),r=n(51156),o=n(66800),a=n(83237),d=n(31441),l=n(71049),s=n(42746);let c=(()=>{class e{constructor(e,t,n,i,r){this.http=e,this.authService=t,this.userService=n,this.message=i,this.modalService=r,this.uerId=""}canLoad(e){return!0}canActivateChild(e,t){return!0}canActivate(e,t){return new l.Observable(e=>{this.uerId=this.userService.getUser("userId"),this.uerId?this.http.get(`restful/service/employee/Employee/ValidateIamUser?userId=${this.uerId}`).subscribe(t=>{t.success?(sessionStorage.setItem("employeeInfo",JSON.stringify(t.data?t.data.data:{})),e.next(!0)):(this.modalService.warning({dwTitle:"\u63d0\u793a",dwContent:t.data,dwWidth:"400px",dwOnOk:()=>{this.authService.logout(),window.location.reload()}}),e.next(!1))},t=>{console.log(t),t.hasOwnProperty("error")&&t.error.hasOwnProperty("errorMessage")&&t.error.errorMessage&&this.message.error(t.error.errorMessage),e.next(!1)}):e.next(!0)})}}return e.\u0275fac=function(t){return new(t||e)(s.\u0275\u0275inject(r.DwDapHttpClient),s.\u0275\u0275inject(i.DwAuthService),s.\u0275\u0275inject(o.DwUserService),s.\u0275\u0275inject(a.DwMessageService),s.\u0275\u0275inject(d.DwModalService))},e.\u0275prov=s.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},61937:function(e,t,n){n.d(t,{l:function(){return i}});class i{static order(e,...t){return e?[...e].sort((e,n)=>{let i=0,r=0;const o=t.length;for(let a=0;a<o;a++){const d=t[a][0],l=t[a][1]||1,s=Math.pow(2,o-a)*l;let c,m;d instanceof Function?(c=String(d(e)||""),m=String(d(n)||"")):(c=String(e[d]||""),m=String(n[d]||"")),1===c.localeCompare(m)?i+=s:-1===c.localeCompare(m)&&(r+=s)}return i-r}):[]}static crossPageCache(e,t,n,i){const r=e[i];if(r){const e=r[n];r.checked?t.includes(e)||t.push(e):t.includes(e)&&t.splice(t.indexOf(e),1)}}static crossPageCheck(e,t,n){for(const i of e)t.includes(i[n])?i.checked||(i.checked=!0):i.checked&&(i.checked=!1)}static parseJson(e){try{return JSON.parse(e)}catch(t){return null}}}},64762:function(e,t,n){n.d(t,{ZT:function(){return r},pi:function(){return o},_T:function(){return a},gn:function(){return d},fM:function(){return l},w6:function(){return s},mG:function(){return c},ev:function(){return m}});var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function a(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}function d(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var d=e.length-1;d>=0;d--)(r=e[d])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function l(e,t){return function(n,i){t(n,i,e)}}function s(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function c(e,t,n,i){return new(n||(n=Promise))(function(r,o){function a(e){try{l(i.next(e))}catch(t){o(t)}}function d(e){try{l(i.throw(e))}catch(t){o(t)}}function l(e){e.done?r(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(a,d)}l((i=i.apply(e,t||[])).next())})}function m(e,t,n){if(n||2===arguments.length)for(var i,r=0,o=t.length;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}}}]);