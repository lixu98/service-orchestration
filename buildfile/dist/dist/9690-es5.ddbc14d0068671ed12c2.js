!function(){"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function i(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(self.webpackChunkassc_crs=self.webpackChunkassc_crs||[]).push([[9690,4477],{69690:function(e,n,c){c.r(n),c.d(n,{DwActionAuthorizedDirective:function(){return h},DwActionModule:function(){return A}});var o,r=c(42746),u=c(55245),s=c(71049),d=c(47372),l=c(87974),a=c(32276),h=((o=function(){function e(i,n,c,o){t(this,e),this.el=i,this.renderer=n,this.actionAuthorizedService=c,this.activatedRoute=o,this.dwClick=new r.EventEmitter,this.clicks=new s.Subject}return i(e,[{key:"ngAfterViewInit",value:function(){var t=this;this.clickAllow=!0,this.clicksSubscription=this.clicks.pipe((0,d.debounceTime)(500)).subscribe(function(e){return t.dwClick.emit(e)}),this.dwDefaultAuthorized&&this.seAttribute(this.dwDefaultAuthorized),this.dwAuthorizedId?this.actionAuthorizedInit(this.dwAuthorizedId,this.dwActionId):this.activatedRoute.data.subscribe(function(e){e.dwRouteData&&e.dwRouteData.hasOwnProperty("dwAuthId")&&(t.dwAuthorizedId=e.dwRouteData.dwAuthId),t.actionAuthorizedInit(t.dwAuthorizedId,t.dwActionId)},function(t){console.log(t)})}},{key:"ngOnDestroy",value:function(){this.clicksSubscription&&this.clicksSubscription.unsubscribe()}},{key:"clickEvent",value:function(t,e){t.preventDefault(),t.stopPropagation(),this.clickAllow&&!e.disabled&&this.clicks.next(t)}},{key:"actionAuthorizedInit",value:function(t,e){var i=this;t&&e&&this.actionAuthorizedService.getActionAuth(t,e).pipe((0,d.switchMap)(function(t){return i.dwActionAuthorizedCallback?i.dwActionAuthorizedCallback(t,i.dwAuthorizedId,i.dwActionId):s.Observable.create(function(e){e.next(t),e.complete()})})).subscribe(function(t){i.seAttribute(t)},function(t){console.log(e+":"+t)})}},{key:"seAttribute",value:function(t){switch(t){case"allow":this.seAttributeAllow(),this.clickAllow=!0;break;case"hidden":this.seAttributeHidden(!0),this.clickAllow=!1;break;case"disabled":this.seAttributeDisabled(!0),this.seAttributeHidden(!1),this.clickAllow=!1}}},{key:"seAttributeAllow",value:function(){this.seAttributeHidden(!1),this.seAttributeDisabled(!1)}},{key:"seAttributeHidden",value:function(t){var e="";t&&(e="none"),this.renderer.setStyle(this.el.nativeElement,"display",e)}},{key:"seAttributeDisabled",value:function(t){this.el.nativeElement.disabled=t,"BUTTON"!==this.el.nativeElement.tagName&&(t?this.renderer.addClass(this.el.nativeElement,"dw-f-action-disable"):this.renderer.removeClass(this.el.nativeElement,"dw-f-action-disable"))}}]),e}()).\u0275fac=function(t){return new(t||o)(r.\u0275\u0275directiveInject(r.ElementRef),r.\u0275\u0275directiveInject(r.Renderer2),r.\u0275\u0275directiveInject(a.DwActionAuthorizedService),r.\u0275\u0275directiveInject(l.ActivatedRoute))},o.\u0275dir=r.\u0275\u0275defineDirective({type:o,selectors:[["","dwActionAuthorized",""]],hostBindings:function(t,e){1&t&&r.\u0275\u0275listener("click",function(t){return e.clickEvent(t,t.target)})},inputs:{dwAuthorizedId:"dwAuthorizedId",dwActionId:"dwActionId",dwDefaultAuthorized:"dwDefaultAuthorized",dwActionAuthorizedCallback:"dwActionAuthorizedCallback"},outputs:{dwClick:"dwClick"}}),o),A=function(){var e=i(function e(){t(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=r.\u0275\u0275defineInjector({imports:[[u.CommonModule]]}),e}()}}])}();